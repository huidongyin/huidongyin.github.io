(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[]]);!function(n){function e(e){for(var r,a,s=e[0],c=e[1],l=e[2],u=0,d=[];u<s.length;u++)a=s[u],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&d.push(o[a][0]),o[a]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(n[r]=c[r]);for(p&&p(e);d.length;)d.shift()();return i.push.apply(i,l||[]),t()}function t(){for(var n,e=0;e<i.length;e++){for(var t=i[e],r=!0,s=1;s<t.length;s++){var c=t[s];0!==o[c]&&(r=!1)}r&&(i.splice(e--,1),n=a(a.s=t[0]))}return n}var r={},o={8:0},i=[];function a(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,a),t.l=!0,t.exports}a.e=function(n){var e=[],t=o[n];if(0!==t)if(t)e.push(t[2]);else{var r=new Promise((function(e,r){t=o[n]=[e,r]}));e.push(t[2]=r);var i,s=document.createElement("script");s.charset="utf-8",s.timeout=120,a.nc&&s.setAttribute("nonce",a.nc),s.src=function(n){return a.p+"assets/js/"+({9:"vendors~docsearch"}[n]||n)+"."+{1:"b082846a",2:"35a98e22",3:"fe526cea",4:"030d6107",5:"03731fd0",6:"57334820",7:"58037876",9:"c5803104",10:"127dd8b7",11:"febab2cf",12:"3d1d22b1",13:"0ccaf0ba",14:"8034294b",15:"11f4dc6d",16:"96fd44ee",17:"7fce6d6a",18:"868aac91",19:"7f3a1613",20:"a60b3e2c",21:"d3bf577d",22:"1293318b",23:"3049023c",24:"163d8ece",25:"35403ab4",26:"66625813",27:"59b36eb3",28:"5062e054",29:"5a6db58b",30:"96cc883a",31:"021ce3b6",32:"5d607fb8",33:"76cc5e43",34:"bce34f02",35:"ea32a5a2",36:"264845b1",37:"26953601",38:"0d3ab892",39:"61619d74",40:"dd25f8a4",41:"c1b06cb3",42:"9bd3fa8a",43:"035f8c98",44:"9fb02b8a",45:"0717ab57",46:"f6ce981e",47:"c7593769",48:"a2ea3bea",49:"3fe55807",50:"31d60483",51:"fca46a13",52:"4188fd9d",53:"ce8cea49",54:"3ce3ab2f",55:"cc2400ce",56:"ea30dd6f",57:"f90fbd39",58:"65ba472c",59:"64cfd6f4",60:"b87d7e71",61:"7e76595c",62:"63913359",63:"1c58eb8b",64:"34acb1fe",65:"2b713cfd",66:"e612971b",67:"a85f50fa",68:"f24b8ee6",69:"a387a76a",70:"b5d92790",71:"73912c6a",72:"d1495374",73:"a6a61975",74:"421f5d99",75:"c209038d",76:"f5be4120",77:"33906931",78:"1303fe53",79:"230d5814",80:"f48aeb13",81:"dfad09b6",82:"fc9b7010",83:"d1e1a8c6",84:"cd0262ed",85:"a497e6ed",86:"7349d259",87:"0a3729cf",88:"5816307c",89:"64e96c37",90:"a9e0cd67",91:"779952b9",92:"02167158"}[n]+".js"}(n);var c=new Error;i=function(e){s.onerror=s.onload=null,clearTimeout(l);var t=o[n];if(0!==t){if(t){var r=e&&("load"===e.type?"missing":e.type),i=e&&e.target&&e.target.src;c.message="Loading chunk "+n+" failed.\n("+r+": "+i+")",c.name="ChunkLoadError",c.type=r,c.request=i,t[1](c)}o[n]=void 0}};var l=setTimeout((function(){i({type:"timeout",target:s})}),12e4);s.onerror=s.onload=i,document.head.appendChild(s)}return Promise.all(e)},a.m=n,a.c=r,a.d=function(n,e,t){a.o(n,e)||Object.defineProperty(n,e,{enumerable:!0,get:t})},a.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},a.t=function(n,e){if(1&e&&(n=a(n)),8&e)return n;if(4&e&&"object"==typeof n&&n&&n.__esModule)return n;var t=Object.create(null);if(a.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:n}),2&e&&"string"!=typeof n)for(var r in n)a.d(t,r,function(e){return n[e]}.bind(null,r));return t},a.n=function(n){var e=n&&n.__esModule?function(){return n.default}:function(){return n};return a.d(e,"a",e),e},a.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},a.p="/",a.oe=function(n){throw console.error(n),n};var s=window.webpackJsonp=window.webpackJsonp||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var l=0;l<s.length;l++)e(s[l]);var p=c;i.push([108,0]),t()}([function(n,e,t){"use strict";var r=function(n){return n&&n.Math===Math&&n};n.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof global&&global)||function(){return this}()||this||Function("return this")()},function(n,e,t){"use strict";var r=t(56),o=r.all;n.exports=r.IS_HTMLDDA?function(n){return"function"==typeof n||n===o}:function(n){return"function"==typeof n}},function(n,e,t){"use strict";var r=t(29),o=Function.prototype,i=o.call,a=r&&o.bind.bind(i,i);n.exports=r?a:function(n){return function(){return i.apply(n,arguments)}}},function(n,e,t){"use strict";n.exports=function(n){try{return!!n()}catch(n){return!0}}},function(n,e,t){"use strict";function r(n,e,t,r,o,i,a,s){var c,l="function"==typeof n?n.options:n;if(e&&(l.render=e,l.staticRenderFns=t,l._compiled=!0),r&&(l.functional=!0),i&&(l._scopeId="data-v-"+i),a?(c=function(n){(n=n||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(n=__VUE_SSR_CONTEXT__),o&&o.call(this,n),n&&n._registeredComponents&&n._registeredComponents.add(a)},l._ssrRegister=c):o&&(c=s?function(){o.call(this,(l.functional?this.parent:this).$root.$options.shadowRoot)}:o),c)if(l.functional){l._injectStyles=c;var p=l.render;l.render=function(n,e){return c.call(e),p(n,e)}}else{var u=l.beforeCreate;l.beforeCreate=u?[].concat(u,c):[c]}return{exports:n,options:l}}t.d(e,"a",(function(){return r}))},function(n,e,t){"use strict";var r=t(3);n.exports=!r((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(n,e){var t=Array.isArray;n.exports=t},function(n,e,t){"use strict";var r=t(2),o=t(33),i=r({}.hasOwnProperty);n.exports=Object.hasOwn||function(n,e){return i(o(n),e)}},function(n,e,t){var r=t(70),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();n.exports=i},function(n,e,t){"use strict";var r=t(1),o=t(56),i=o.all;n.exports=o.IS_HTMLDDA?function(n){return"object"==typeof n?null!==n:r(n)||n===i}:function(n){return"object"==typeof n?null!==n:r(n)}},function(n,e,t){var r=t(166),o=t(169);n.exports=function(n,e){var t=o(n,e);return r(t)?t:void 0}},function(n,e,t){"use strict";t.d(e,"e",(function(){return r})),t.d(e,"b",(function(){return i})),t.d(e,"j",(function(){return a})),t.d(e,"g",(function(){return c})),t.d(e,"h",(function(){return l})),t.d(e,"i",(function(){return p})),t.d(e,"c",(function(){return u})),t.d(e,"f",(function(){return d})),t.d(e,"l",(function(){return f})),t.d(e,"m",(function(){return m})),t.d(e,"d",(function(){return g})),t.d(e,"k",(function(){return k})),t.d(e,"n",(function(){return b})),t.d(e,"a",(function(){return y}));t(17);const r=/#.*$/,o=/\.(md|html)$/,i=/\/$/,a=/^[a-z]+:/i;function s(n){return decodeURI(n).replace(r,"").replace(o,"")}function c(n){return a.test(n)}function l(n){return/^mailto:/.test(n)}function p(n){return/^tel:/.test(n)}function u(n){if(c(n))return n;if(!n)return"404";const e=n.match(r),t=e?e[0]:"",o=s(n);return i.test(o)?n:o+".html"+t}function d(n,e){const t=n.hash,o=function(n){const e=n&&n.match(r);if(e)return e[0]}(e);if(o&&t!==o)return!1;return s(n.path)===s(e)}function f(n,e,t){if(c(e))return{type:"external",path:e};t&&(e=function(n,e,t){const r=n.charAt(0);if("/"===r)return n;if("?"===r||"#"===r)return e+n;const o=e.split("/");t&&o[o.length-1]||o.pop();const i=n.replace(/^\//,"").split("/");for(let n=0;n<i.length;n++){const e=i[n];".."===e?o.pop():"."!==e&&o.push(e)}""!==o[0]&&o.unshift("");return o.join("/")}(e,t));const r=s(e);for(let e=0;e<n.length;e++)if(s(n[e].regularPath)===r)return Object.assign({},n[e],{type:"page",path:u(n[e].path)});return console.error(`[vuepress] No matching page found for sidebar item "${e}"`),{}}function m(n,e,t,r){const{pages:o,themeConfig:i}=t,a=r&&i.locales&&i.locales[r]||i;if("auto"===(n.frontmatter.sidebar||a.sidebar||i.sidebar))return h(n);const s=a.sidebar||i.sidebar;if(s){const{base:t,config:r}=function(n,e){if(Array.isArray(e))return{base:"/",config:e};for(const r in e)if(0===(t=n,/(\.html|\/)$/.test(t)?t:t+"/").indexOf(encodeURI(r)))return{base:r,config:e[r]};var t;return{}}(e,s);return"auto"===r?h(n):r?r.map(n=>function n(e,t,r,o=1){if("string"==typeof e)return f(t,e,r);if(Array.isArray(e))return Object.assign(f(t,e[0],r),{title:e[1]});{o>3&&console.error("[vuepress] detected a too deep nested sidebar group.");const i=e.children||[];return 0===i.length&&e.path?Object.assign(f(t,e.path,r),{title:e.title}):{type:"group",path:e.path,title:e.title,sidebarDepth:e.sidebarDepth,initialOpenGroupIndex:e.initialOpenGroupIndex,children:i.map(e=>n(e,t,r,o+1)),collapsable:!1!==e.collapsable}}}(n,o,t)):[]}return[]}function h(n){const e=g(n.headers||[]);return[{type:"group",collapsable:!1,title:n.title,path:null,children:e.map(e=>({type:"auto",title:e.title,basePath:n.path,path:n.path+"#"+e.slug,children:e.children||[]}))}]}function g(n){let e;return(n=n.map(n=>Object.assign({},n))).forEach(n=>{2===n.level?e=n:e&&(e.children||(e.children=[])).push(n)}),n.filter(n=>2===n.level)}function k(n){return Object.assign(n,{type:n.items&&n.items.length?"links":"link"})}function b(n){return Object.prototype.toString.call(n).match(/\[object (.*?)\]/)[1].toLowerCase()}function v(n){let e=n.frontmatter.date||n.lastUpdated||new Date,t=new Date(e);return"Invalid Date"==t&&e&&(t=new Date(e.replace(/-/g,"/"))),t.getTime()}function y(n,e){return v(e)-v(n)}},function(n,e){n.exports=function(n){return null!=n&&"object"==typeof n}},function(n,e,t){"use strict";var r=t(5),o=t(65),i=t(105),a=t(28),s=t(55),c=TypeError,l=Object.defineProperty,p=Object.getOwnPropertyDescriptor;e.f=r?i?function(n,e,t){if(a(n),e=s(e),a(t),"function"==typeof n&&"prototype"===e&&"value"in t&&"writable"in t&&!t.writable){var r=p(n,e);r&&r.writable&&(n[e]=t.value,t={configurable:"configurable"in t?t.configurable:r.configurable,enumerable:"enumerable"in t?t.enumerable:r.enumerable,writable:!1})}return l(n,e,t)}:l:function(n,e,t){if(a(n),e=s(e),a(t),o)try{return l(n,e,t)}catch(n){}if("get"in t||"set"in t)throw new c("Accessors not supported");return"value"in t&&(n[e]=t.value),n}},function(n,e,t){var r=t(16),o=t(151),i=t(152),a=r?r.toStringTag:void 0;n.exports=function(n){return null==n?void 0===n?"[object Undefined]":"[object Null]":a&&a in Object(n)?o(n):i(n)}},function(n,e,t){"use strict";var r=t(5),o=t(13),i=t(36);n.exports=r?function(n,e,t){return o.f(n,e,i(1,t))}:function(n,e,t){return n[e]=t,n}},function(n,e,t){var r=t(8).Symbol;n.exports=r},function(n,e,t){"use strict";var r=t(18),o=t(33),i=t(34),a=t(131),s=t(133);r({target:"Array",proto:!0,arity:1,forced:t(3)((function(){return 4294967297!==[].push.call({length:4294967296},1)}))||!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(n){return n instanceof TypeError}}()},{push:function(n){var e=o(this),t=i(e),r=arguments.length;s(t+r);for(var c=0;c<r;c++)e[t]=arguments[c],t++;return a(e,t),t}})},function(n,e,t){"use strict";var r=t(0),o=t(52).f,i=t(15),a=t(99),s=t(38),c=t(66),l=t(127);n.exports=function(n,e){var t,p,u,d,f,m=n.target,h=n.global,g=n.stat;if(t=h?r:g?r[m]||s(m,{}):(r[m]||{}).prototype)for(p in e){if(d=e[p],u=n.dontCallGetSet?(f=o(t,p))&&f.value:t[p],!l(h?p:m+(g?".":"#")+p,n.forced)&&void 0!==u){if(typeof d==typeof u)continue;c(d,u)}(n.sham||u&&u.sham)&&i(d,"sham",!0),a(t,p,d,n)}}},function(n,e,t){"use strict";var r=t(2),o=r({}.toString),i=r("".slice);n.exports=function(n){return i(o(n),8,-1)}},function(n,e,t){"use strict";var r=t(0),o=t(62),i=t(7),a=t(64),s=t(60),c=t(59),l=r.Symbol,p=o("wks"),u=c?l.for||l:l&&l.withoutSetter||a;n.exports=function(n){return i(p,n)||(p[n]=s&&i(l,n)?l[n]:u("Symbol."+n)),p[n]}},function(n,e,t){var r=t(156),o=t(157),i=t(158),a=t(159),s=t(160);function c(n){var e=-1,t=null==n?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=a,c.prototype.set=s,n.exports=c},function(n,e,t){var r=t(72);n.exports=function(n,e){for(var t=n.length;t--;)if(r(n[t][0],e))return t;return-1}},function(n,e,t){var r=t(10)(Object,"create");n.exports=r},function(n,e,t){var r=t(178);n.exports=function(n,e){var t=n.__data__;return r(e)?t["string"==typeof e?"string":"hash"]:t.map}},function(n,e,t){var r=t(46);n.exports=function(n){if("string"==typeof n||r(n))return n;var e=n+"";return"0"==e&&1/n==-1/0?"-0":e}},function(n,e,t){var r,o;
/* NProgress, (c) 2013, 2014 Rico Sta. Cruz - http://ricostacruz.com/nprogress
 * @license MIT */void 0===(o="function"==typeof(r=function(){var n,e,t={version:"0.2.0"},r=t.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};function o(n,e,t){return n<e?e:n>t?t:n}function i(n){return 100*(-1+n)}t.configure=function(n){var e,t;for(e in n)void 0!==(t=n[e])&&n.hasOwnProperty(e)&&(r[e]=t);return this},t.status=null,t.set=function(n){var e=t.isStarted();n=o(n,r.minimum,1),t.status=1===n?null:n;var c=t.render(!e),l=c.querySelector(r.barSelector),p=r.speed,u=r.easing;return c.offsetWidth,a((function(e){""===r.positionUsing&&(r.positionUsing=t.getPositioningCSS()),s(l,function(n,e,t){var o;return(o="translate3d"===r.positionUsing?{transform:"translate3d("+i(n)+"%,0,0)"}:"translate"===r.positionUsing?{transform:"translate("+i(n)+"%,0)"}:{"margin-left":i(n)+"%"}).transition="all "+e+"ms "+t,o}(n,p,u)),1===n?(s(c,{transition:"none",opacity:1}),c.offsetWidth,setTimeout((function(){s(c,{transition:"all "+p+"ms linear",opacity:0}),setTimeout((function(){t.remove(),e()}),p)}),p)):setTimeout(e,p)})),this},t.isStarted=function(){return"number"==typeof t.status},t.start=function(){t.status||t.set(0);var n=function(){setTimeout((function(){t.status&&(t.trickle(),n())}),r.trickleSpeed)};return r.trickle&&n(),this},t.done=function(n){return n||t.status?t.inc(.3+.5*Math.random()).set(1):this},t.inc=function(n){var e=t.status;return e?("number"!=typeof n&&(n=(1-e)*o(Math.random()*e,.1,.95)),e=o(e+n,0,.994),t.set(e)):t.start()},t.trickle=function(){return t.inc(Math.random()*r.trickleRate)},n=0,e=0,t.promise=function(r){return r&&"resolved"!==r.state()?(0===e&&t.start(),n++,e++,r.always((function(){0==--e?(n=0,t.done()):t.set((n-e)/n)})),this):this},t.render=function(n){if(t.isRendered())return document.getElementById("nprogress");l(document.documentElement,"nprogress-busy");var e=document.createElement("div");e.id="nprogress",e.innerHTML=r.template;var o,a=e.querySelector(r.barSelector),c=n?"-100":i(t.status||0),p=document.querySelector(r.parent);return s(a,{transition:"all 0 linear",transform:"translate3d("+c+"%,0,0)"}),r.showSpinner||(o=e.querySelector(r.spinnerSelector))&&d(o),p!=document.body&&l(p,"nprogress-custom-parent"),p.appendChild(e),e},t.remove=function(){p(document.documentElement,"nprogress-busy"),p(document.querySelector(r.parent),"nprogress-custom-parent");var n=document.getElementById("nprogress");n&&d(n)},t.isRendered=function(){return!!document.getElementById("nprogress")},t.getPositioningCSS=function(){var n=document.body.style,e="WebkitTransform"in n?"Webkit":"MozTransform"in n?"Moz":"msTransform"in n?"ms":"OTransform"in n?"O":"";return e+"Perspective"in n?"translate3d":e+"Transform"in n?"translate":"margin"};var a=function(){var n=[];function e(){var t=n.shift();t&&t(e)}return function(t){n.push(t),1==n.length&&e()}}(),s=function(){var n=["Webkit","O","Moz","ms"],e={};function t(t){return t=t.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,(function(n,e){return e.toUpperCase()})),e[t]||(e[t]=function(e){var t=document.body.style;if(e in t)return e;for(var r,o=n.length,i=e.charAt(0).toUpperCase()+e.slice(1);o--;)if((r=n[o]+i)in t)return r;return e}(t))}function r(n,e,r){e=t(e),n.style[e]=r}return function(n,e){var t,o,i=arguments;if(2==i.length)for(t in e)void 0!==(o=e[t])&&e.hasOwnProperty(t)&&r(n,t,o);else r(n,i[1],i[2])}}();function c(n,e){return("string"==typeof n?n:u(n)).indexOf(" "+e+" ")>=0}function l(n,e){var t=u(n),r=t+e;c(t,e)||(n.className=r.substring(1))}function p(n,e){var t,r=u(n);c(n,e)&&(t=r.replace(" "+e+" "," "),n.className=t.substring(1,t.length-1))}function u(n){return(" "+(n.className||"")+" ").replace(/\s+/gi," ")}function d(n){n&&n.parentNode&&n.parentNode.removeChild(n)}return t})?r.call(e,t,e,n):r)||(n.exports=o)},function(n){n.exports=JSON.parse('{"name":"vuepress-plugin-comment","version":"0.7.3","description":"Comment plugin in vuepress, such as Gitalk, Valine...","main":"index.js","scripts":{"test":"echo \\"Error: no test specified\\" && exit 1"},"repository":{"type":"git","url":"git+ssh://git@github.com/dongyuanxin/vuepress-plugin-comment.git"},"keywords":["vuepress","comment","plugin","vue","gitalk","valine"],"author":"dongyuanxin","license":"MIT","bugs":{"url":"https://github.com/dongyuanxin/vuepress-plugin-comment/issues"},"homepage":"https://github.com/dongyuanxin/vuepress-plugin-comment#readme","dependencies":{"ejs":"^2.6.1","gitalk":"^1.5.0","gitalk-fix":"^1.5.2","i":"^0.3.6","npm":"^6.9.0","valine":"^1.3.9"}}')},function(n,e,t){"use strict";var r=t(9),o=String,i=TypeError;n.exports=function(n){if(r(n))return n;throw new i(o(n)+" is not an object")}},function(n,e,t){"use strict";var r=t(3);n.exports=!r((function(){var n=function(){}.bind();return"function"!=typeof n||n.hasOwnProperty("prototype")}))},function(n,e,t){"use strict";var r=t(49),o=t(53);n.exports=function(n){return r(o(n))}},function(n,e,t){"use strict";var r=t(0),o=t(1),i=function(n){return o(n)?n:void 0};n.exports=function(n,e){return arguments.length<2?i(r[n]):r[n]&&r[n][e]}},function(n,e,t){"use strict";var r=t(1),o=t(114),i=TypeError;n.exports=function(n){if(r(n))return n;throw new i(o(n)+" is not a function")}},function(n,e,t){"use strict";var r=t(53),o=Object;n.exports=function(n){return o(r(n))}},function(n,e,t){"use strict";var r=t(125);n.exports=function(n){return r(n.length)}},function(n,e,t){"use strict";var r=t(29),o=Function.prototype.call;n.exports=r?o.bind(o):function(){return o.apply(o,arguments)}},function(n,e,t){"use strict";n.exports=function(n,e){return{enumerable:!(1&n),configurable:!(2&n),writable:!(4&n),value:e}}},function(n,e,t){"use strict";var r=t(0),o=t(38),i=r["__core-js_shared__"]||o("__core-js_shared__",{});n.exports=i},function(n,e,t){"use strict";var r=t(0),o=Object.defineProperty;n.exports=function(n,e){try{o(r,n,{value:e,configurable:!0,writable:!0})}catch(t){r[n]=e}return e}},function(n,e,t){var r=t(150),o=t(12),i=Object.prototype,a=i.hasOwnProperty,s=i.propertyIsEnumerable,c=r(function(){return arguments}())?r:function(n){return o(n)&&a.call(n,"callee")&&!s.call(n,"callee")};n.exports=c},function(n,e,t){var r=t(10)(t(8),"Map");n.exports=r},function(n,e){n.exports=function(n){var e=typeof n;return null!=n&&("object"==e||"function"==e)}},function(n,e,t){var r=t(170),o=t(177),i=t(179),a=t(180),s=t(181);function c(n){var e=-1,t=null==n?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=a,c.prototype.set=s,n.exports=c},function(n,e){n.exports=function(n){var e=-1,t=Array(n.size);return n.forEach((function(n){t[++e]=n})),t}},function(n,e){n.exports=function(n){return"number"==typeof n&&n>-1&&n%1==0&&n<=9007199254740991}},function(n,e,t){var r=t(6),o=t(46),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;n.exports=function(n,e){if(r(n))return!1;var t=typeof n;return!("number"!=t&&"symbol"!=t&&"boolean"!=t&&null!=n&&!o(n))||(a.test(n)||!i.test(n)||null!=e&&n in Object(e))}},function(n,e,t){var r=t(14),o=t(12);n.exports=function(n){return"symbol"==typeof n||o(n)&&"[object Symbol]"==r(n)}},function(n,e){n.exports=function(n){return n}},function(n,e){var t=/^\s+|\s+$/g,r=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,i=/^0o[0-7]+$/i,a=parseInt,s="object"==typeof global&&global&&global.Object===Object&&global,c="object"==typeof self&&self&&self.Object===Object&&self,l=s||c||Function("return this")(),p=Object.prototype.toString,u=Math.max,d=Math.min,f=function(){return l.Date.now()};function m(n){var e=typeof n;return!!n&&("object"==e||"function"==e)}function h(n){if("number"==typeof n)return n;if(function(n){return"symbol"==typeof n||function(n){return!!n&&"object"==typeof n}(n)&&"[object Symbol]"==p.call(n)}(n))return NaN;if(m(n)){var e="function"==typeof n.valueOf?n.valueOf():n;n=m(e)?e+"":e}if("string"!=typeof n)return 0===n?n:+n;n=n.replace(t,"");var s=o.test(n);return s||i.test(n)?a(n.slice(2),s?2:8):r.test(n)?NaN:+n}n.exports=function(n,e,t){var r,o,i,a,s,c,l=0,p=!1,g=!1,k=!0;if("function"!=typeof n)throw new TypeError("Expected a function");function b(e){var t=r,i=o;return r=o=void 0,l=e,a=n.apply(i,t)}function v(n){return l=n,s=setTimeout(x,e),p?b(n):a}function y(n){var t=n-c;return void 0===c||t>=e||t<0||g&&n-l>=i}function x(){var n=f();if(y(n))return _(n);s=setTimeout(x,function(n){var t=e-(n-c);return g?d(t,i-(n-l)):t}(n))}function _(n){return s=void 0,k&&r?b(n):(r=o=void 0,a)}function S(){var n=f(),t=y(n);if(r=arguments,o=this,c=n,t){if(void 0===s)return v(c);if(g)return s=setTimeout(x,e),b(c)}return void 0===s&&(s=setTimeout(x,e)),a}return e=h(e)||0,m(t)&&(p=!!t.leading,i=(g="maxWait"in t)?u(h(t.maxWait)||0,e):i,k="trailing"in t?!!t.trailing:k),S.cancel=function(){void 0!==s&&clearTimeout(s),l=0,r=c=o=s=void 0},S.flush=function(){return void 0===s?a:_(f())},S}},function(n,e,t){"use strict";var r=t(2),o=t(3),i=t(19),a=Object,s=r("".split);n.exports=o((function(){return!a("z").propertyIsEnumerable(0)}))?function(n){return"String"===i(n)?s(n,""):a(n)}:a},function(n,e,t){"use strict";n.exports={}},function(n,e){n.exports=function(n){return n.webpackPolyfill||(n.deprecate=function(){},n.paths=[],n.children||(n.children=[]),Object.defineProperty(n,"loaded",{enumerable:!0,get:function(){return n.l}}),Object.defineProperty(n,"id",{enumerable:!0,get:function(){return n.i}}),n.webpackPolyfill=1),n}},function(n,e,t){"use strict";var r=t(5),o=t(35),i=t(110),a=t(36),s=t(30),c=t(55),l=t(7),p=t(65),u=Object.getOwnPropertyDescriptor;e.f=r?u:function(n,e){if(n=s(n),e=c(e),p)try{return u(n,e)}catch(n){}if(l(n,e))return a(!o(i.f,n,e),n[e])}},function(n,e,t){"use strict";var r=t(54),o=TypeError;n.exports=function(n){if(r(n))throw new o("Can't call method on "+n);return n}},function(n,e,t){"use strict";n.exports=function(n){return null==n}},function(n,e,t){"use strict";var r=t(111),o=t(57);n.exports=function(n){var e=r(n,"string");return o(e)?e:e+""}},function(n,e,t){"use strict";var r="object"==typeof document&&document.all,o=void 0===r&&void 0!==r;n.exports={all:r,IS_HTMLDDA:o}},function(n,e,t){"use strict";var r=t(31),o=t(1),i=t(58),a=t(59),s=Object;n.exports=a?function(n){return"symbol"==typeof n}:function(n){var e=r("Symbol");return o(e)&&i(e.prototype,s(n))}},function(n,e,t){"use strict";var r=t(2);n.exports=r({}.isPrototypeOf)},function(n,e,t){"use strict";var r=t(60);n.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(n,e,t){"use strict";var r=t(61),o=t(3),i=t(0).String;n.exports=!!Object.getOwnPropertySymbols&&!o((function(){var n=Symbol("symbol detection");return!i(n)||!(Object(n)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},function(n,e,t){"use strict";var r,o,i=t(0),a=t(112),s=i.process,c=i.Deno,l=s&&s.versions||c&&c.version,p=l&&l.v8;p&&(o=(r=p.split("."))[0]>0&&r[0]<4?1:+(r[0]+r[1])),!o&&a&&(!(r=a.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=a.match(/Chrome\/(\d+)/))&&(o=+r[1]),n.exports=o},function(n,e,t){"use strict";var r=t(63),o=t(37);(n.exports=function(n,e){return o[n]||(o[n]=void 0!==e?e:{})})("versions",[]).push({version:"3.33.2",mode:r?"pure":"global",copyright:"Â© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.2/LICENSE",source:"https://github.com/zloirock/core-js"})},function(n,e,t){"use strict";n.exports=!1},function(n,e,t){"use strict";var r=t(2),o=0,i=Math.random(),a=r(1..toString);n.exports=function(n){return"Symbol("+(void 0===n?"":n)+")_"+a(++o+i,36)}},function(n,e,t){"use strict";var r=t(5),o=t(3),i=t(104);n.exports=!r&&!o((function(){return 7!==Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},function(n,e,t){"use strict";var r=t(7),o=t(120),i=t(52),a=t(13);n.exports=function(n,e,t){for(var s=o(e),c=a.f,l=i.f,p=0;p<s.length;p++){var u=s[p];r(n,u)||t&&r(t,u)||c(n,u,l(e,u))}}},function(n,e,t){"use strict";var r=t(124);n.exports=function(n){var e=+n;return e!=e||0===e?0:r(e)}},function(n,e,t){"use strict";var r=t(137),o=t(28),i=t(138);n.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var n,e=!1,t={};try{(n=r(Object.prototype,"__proto__","set"))(t,[]),e=t instanceof Array}catch(n){}return function(t,r){return o(t),i(r),e?n(t,r):t.__proto__=r,t}}():void 0)},function(n,e){n.exports=function(n,e){for(var t=-1,r=e.length,o=n.length;++t<r;)n[o+t]=e[t];return n}},function(n,e){var t="object"==typeof global&&global&&global.Object===Object&&global;n.exports=t},function(n,e,t){var r=t(21),o=t(161),i=t(162),a=t(163),s=t(164),c=t(165);function l(n){var e=this.__data__=new r(n);this.size=e.size}l.prototype.clear=o,l.prototype.delete=i,l.prototype.get=a,l.prototype.has=s,l.prototype.set=c,n.exports=l},function(n,e){n.exports=function(n,e){return n===e||n!=n&&e!=e}},function(n,e,t){var r=t(14),o=t(41);n.exports=function(n){if(!o(n))return!1;var e=r(n);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},function(n,e){var t=Function.prototype.toString;n.exports=function(n){if(null!=n){try{return t.call(n)}catch(n){}try{return n+""}catch(n){}}return""}},function(n,e,t){var r=t(182),o=t(12);n.exports=function n(e,t,i,a,s){return e===t||(null==e||null==t||!o(e)&&!o(t)?e!=e&&t!=t:r(e,t,i,a,n,s))}},function(n,e,t){var r=t(77),o=t(185),i=t(78);n.exports=function(n,e,t,a,s,c){var l=1&t,p=n.length,u=e.length;if(p!=u&&!(l&&u>p))return!1;var d=c.get(n),f=c.get(e);if(d&&f)return d==e&&f==n;var m=-1,h=!0,g=2&t?new r:void 0;for(c.set(n,e),c.set(e,n);++m<p;){var k=n[m],b=e[m];if(a)var v=l?a(b,k,m,e,n,c):a(k,b,m,n,e,c);if(void 0!==v){if(v)continue;h=!1;break}if(g){if(!o(e,(function(n,e){if(!i(g,e)&&(k===n||s(k,n,t,a,c)))return g.push(e)}))){h=!1;break}}else if(k!==b&&!s(k,b,t,a,c)){h=!1;break}}return c.delete(n),c.delete(e),h}},function(n,e,t){var r=t(42),o=t(183),i=t(184);function a(n){var e=-1,t=null==n?0:n.length;for(this.__data__=new r;++e<t;)this.add(n[e])}a.prototype.add=a.prototype.push=o,a.prototype.has=i,n.exports=a},function(n,e){n.exports=function(n,e){return n.has(e)}},function(n,e,t){var r=t(195),o=t(201),i=t(83);n.exports=function(n){return i(n)?r(n):o(n)}},function(n,e,t){(function(n){var r=t(8),o=t(197),i=e&&!e.nodeType&&e,a=i&&"object"==typeof n&&n&&!n.nodeType&&n,s=a&&a.exports===i?r.Buffer:void 0,c=(s?s.isBuffer:void 0)||o;n.exports=c}).call(this,t(51)(n))},function(n,e){var t=/^(?:0|[1-9]\d*)$/;n.exports=function(n,e){var r=typeof n;return!!(e=null==e?9007199254740991:e)&&("number"==r||"symbol"!=r&&t.test(n))&&n>-1&&n%1==0&&n<e}},function(n,e,t){var r=t(198),o=t(199),i=t(200),a=i&&i.isTypedArray,s=a?o(a):r;n.exports=s},function(n,e,t){var r=t(73),o=t(44);n.exports=function(n){return null!=n&&o(n.length)&&!r(n)}},function(n,e,t){var r=t(10)(t(8),"Set");n.exports=r},function(n,e,t){var r=t(41);n.exports=function(n){return n==n&&!r(n)}},function(n,e){n.exports=function(n,e){return function(t){return null!=t&&(t[n]===e&&(void 0!==e||n in Object(t)))}}},function(n,e,t){var r=t(88),o=t(25);n.exports=function(n,e){for(var t=0,i=(e=r(e,n)).length;null!=n&&t<i;)n=n[o(e[t++])];return t&&t==i?n:void 0}},function(n,e,t){var r=t(6),o=t(45),i=t(212),a=t(215);n.exports=function(n,e){return r(n)?n:o(n,e)?[n]:i(a(n))}},function(n,e,t){},function(n,e,t){},function(n,e,t){},function(n,e,t){},function(n,e,t){var r=t(148),o=t(153),i=t(224),a=t(232),s=t(241),c=t(101),l=i((function(n){var e=c(n);return s(e)&&(e=void 0),a(r(n,1,s,!0),o(e,2))}));n.exports=l},function(n,e,t){"use strict";
/*!
 * escape-html
 * Copyright(c) 2012-2013 TJ Holowaychuk
 * Copyright(c) 2015 Andreas Lubbe
 * Copyright(c) 2015 Tiancheng "Timothy" Gu
 * MIT Licensed
 */var r=/["'&<>]/;n.exports=function(n){var e,t=""+n,o=r.exec(t);if(!o)return t;var i="",a=0,s=0;for(a=o.index;a<t.length;a++){switch(t.charCodeAt(a)){case 34:e="&quot;";break;case 38:e="&amp;";break;case 39:e="&#39;";break;case 60:e="&lt;";break;case 62:e="&gt;";break;default:continue}s!==a&&(i+=t.substring(s,a)),s=a+1,i+=e}return s!==a?i+t.substring(s,a):i}},function(n,e,t){!function(){"use strict";n.exports={polyfill:function(){var n=window,e=document;if(!("scrollBehavior"in e.documentElement.style)||!0===n.__forceSmoothScrollPolyfill__){var t,r=n.HTMLElement||n.Element,o={scroll:n.scroll||n.scrollTo,scrollBy:n.scrollBy,elementScroll:r.prototype.scroll||s,scrollIntoView:r.prototype.scrollIntoView},i=n.performance&&n.performance.now?n.performance.now.bind(n.performance):Date.now,a=(t=n.navigator.userAgent,new RegExp(["MSIE ","Trident/","Edge/"].join("|")).test(t)?1:0);n.scroll=n.scrollTo=function(){void 0!==arguments[0]&&(!0!==c(arguments[0])?m.call(n,e.body,void 0!==arguments[0].left?~~arguments[0].left:n.scrollX||n.pageXOffset,void 0!==arguments[0].top?~~arguments[0].top:n.scrollY||n.pageYOffset):o.scroll.call(n,void 0!==arguments[0].left?arguments[0].left:"object"!=typeof arguments[0]?arguments[0]:n.scrollX||n.pageXOffset,void 0!==arguments[0].top?arguments[0].top:void 0!==arguments[1]?arguments[1]:n.scrollY||n.pageYOffset))},n.scrollBy=function(){void 0!==arguments[0]&&(c(arguments[0])?o.scrollBy.call(n,void 0!==arguments[0].left?arguments[0].left:"object"!=typeof arguments[0]?arguments[0]:0,void 0!==arguments[0].top?arguments[0].top:void 0!==arguments[1]?arguments[1]:0):m.call(n,e.body,~~arguments[0].left+(n.scrollX||n.pageXOffset),~~arguments[0].top+(n.scrollY||n.pageYOffset)))},r.prototype.scroll=r.prototype.scrollTo=function(){if(void 0!==arguments[0])if(!0!==c(arguments[0])){var n=arguments[0].left,e=arguments[0].top;m.call(this,this,void 0===n?this.scrollLeft:~~n,void 0===e?this.scrollTop:~~e)}else{if("number"==typeof arguments[0]&&void 0===arguments[1])throw new SyntaxError("Value could not be converted");o.elementScroll.call(this,void 0!==arguments[0].left?~~arguments[0].left:"object"!=typeof arguments[0]?~~arguments[0]:this.scrollLeft,void 0!==arguments[0].top?~~arguments[0].top:void 0!==arguments[1]?~~arguments[1]:this.scrollTop)}},r.prototype.scrollBy=function(){void 0!==arguments[0]&&(!0!==c(arguments[0])?this.scroll({left:~~arguments[0].left+this.scrollLeft,top:~~arguments[0].top+this.scrollTop,behavior:arguments[0].behavior}):o.elementScroll.call(this,void 0!==arguments[0].left?~~arguments[0].left+this.scrollLeft:~~arguments[0]+this.scrollLeft,void 0!==arguments[0].top?~~arguments[0].top+this.scrollTop:~~arguments[1]+this.scrollTop))},r.prototype.scrollIntoView=function(){if(!0!==c(arguments[0])){var t=d(this),r=t.getBoundingClientRect(),i=this.getBoundingClientRect();t!==e.body?(m.call(this,t,t.scrollLeft+i.left-r.left,t.scrollTop+i.top-r.top),"fixed"!==n.getComputedStyle(t).position&&n.scrollBy({left:r.left,top:r.top,behavior:"smooth"})):n.scrollBy({left:i.left,top:i.top,behavior:"smooth"})}else o.scrollIntoView.call(this,void 0===arguments[0]||arguments[0])}}function s(n,e){this.scrollLeft=n,this.scrollTop=e}function c(n){if(null===n||"object"!=typeof n||void 0===n.behavior||"auto"===n.behavior||"instant"===n.behavior)return!0;if("object"==typeof n&&"smooth"===n.behavior)return!1;throw new TypeError("behavior member of ScrollOptions "+n.behavior+" is not a valid value for enumeration ScrollBehavior.")}function l(n,e){return"Y"===e?n.clientHeight+a<n.scrollHeight:"X"===e?n.clientWidth+a<n.scrollWidth:void 0}function p(e,t){var r=n.getComputedStyle(e,null)["overflow"+t];return"auto"===r||"scroll"===r}function u(n){var e=l(n,"Y")&&p(n,"Y"),t=l(n,"X")&&p(n,"X");return e||t}function d(n){for(;n!==e.body&&!1===u(n);)n=n.parentNode||n.host;return n}function f(e){var t,r,o,a,s=(i()-e.startTime)/468;a=s=s>1?1:s,t=.5*(1-Math.cos(Math.PI*a)),r=e.startX+(e.x-e.startX)*t,o=e.startY+(e.y-e.startY)*t,e.method.call(e.scrollable,r,o),r===e.x&&o===e.y||n.requestAnimationFrame(f.bind(n,e))}function m(t,r,a){var c,l,p,u,d=i();t===e.body?(c=n,l=n.scrollX||n.pageXOffset,p=n.scrollY||n.pageYOffset,u=o.scroll):(c=t,l=t.scrollLeft,p=t.scrollTop,u=s),f({scrollable:c,method:u,startTime:d,startX:l,startY:p,x:r,y:a})}}}}()},function(n,e,t){"use strict";
/**
 * @file Embedded JavaScript templating engine. {@link http://ejs.co}
 * @author Matthew Eernisse <mde@fleegix.org>
 * @author Tiancheng "Timothy" Gu <timothygu99@gmail.com>
 * @project EJS
 * @license {@link http://www.apache.org/licenses/LICENSE-2.0 Apache License, Version 2.0}
 */var r=t(251),o=t(252),i=t(253),a=!1,s=t(254).version,c=["delimiter","scope","context","debug","compileDebug","client","_with","rmWhitespace","strict","filename","async"],l=c.concat("cache"),p=/^\uFEFF/,u=/^[a-zA-Z_$][0-9a-zA-Z_$]*$/;function d(n,t){var o;if(t.some((function(t){return o=e.resolveInclude(n,t,!0),r.existsSync(o)})))return o}function f(n,t){var r,o=n.filename,i=arguments.length>1;if(n.cache){if(!o)throw new Error("cache option requires a filename");if(r=e.cache.get(o))return r;i||(t=h(o).toString().replace(p,""))}else if(!i){if(!o)throw new Error("Internal EJS error: no file name or template provided");t=h(o).toString().replace(p,"")}return r=e.compile(t,n),n.cache&&e.cache.set(o,r),r}function m(n,t,r){var o;if(!r){if("function"==typeof e.promiseImpl)return new e.promiseImpl((function(e,r){try{e(o=f(n)(t))}catch(n){r(n)}}));throw new Error("Please provide a callback function")}try{o=f(n)(t)}catch(n){return r(n)}r(null,o)}function h(n){return e.fileLoader(n)}function g(n,t){var o=i.shallowCopy(i.createNullProtoObjWherePossible(),t);if(o.filename=function(n,t){var o,i,a=t.views,s=/^[A-Za-z]+:\\|^\//.exec(n);if(s&&s.length)n=n.replace(/^\/*/,""),o=Array.isArray(t.root)?d(n,t.root):e.resolveInclude(n,t.root||"/",!0);else if(t.filename&&(i=e.resolveInclude(n,t.filename),r.existsSync(i)&&(o=i)),!o&&Array.isArray(a)&&(o=d(n,a)),!o&&"function"!=typeof t.includer)throw new Error('Could not find the include file "'+t.escapeFunction(n)+'"');return o}(n,o),"function"==typeof t.includer){var a=t.includer(n,o.filename);if(a&&(a.filename&&(o.filename=a.filename),a.template))return f(o,a.template)}return f(o)}function k(n,e,t,r,o){var i=e.split("\n"),a=Math.max(r-3,0),s=Math.min(i.length,r+3),c=o(t),l=i.slice(a,s).map((function(n,e){var t=e+a+1;return(t==r?" >> ":"    ")+t+"| "+n})).join("\n");throw n.path=c,n.message=(c||"ejs")+":"+r+"\n"+l+"\n\n"+n.message,n}function b(n){return n.replace(/;(\s*$)/,"$1")}function v(n,t){t=t||i.createNullProtoObjWherePossible();var r=i.createNullProtoObjWherePossible();this.templateText=n,this.mode=null,this.truncate=!1,this.currentLine=1,this.source="",r.client=t.client||!1,r.escapeFunction=t.escape||t.escapeFunction||i.escapeXML,r.compileDebug=!1!==t.compileDebug,r.debug=!!t.debug,r.filename=t.filename,r.openDelimiter=t.openDelimiter||e.openDelimiter||"<",r.closeDelimiter=t.closeDelimiter||e.closeDelimiter||">",r.delimiter=t.delimiter||e.delimiter||"%",r.strict=t.strict||!1,r.context=t.context,r.cache=t.cache||!1,r.rmWhitespace=t.rmWhitespace,r.root=t.root,r.includer=t.includer,r.outputFunctionName=t.outputFunctionName,r.localsName=t.localsName||e.localsName||"locals",r.views=t.views,r.async=t.async,r.destructuredLocals=t.destructuredLocals,r.legacyInclude=void 0===t.legacyInclude||!!t.legacyInclude,r.strict?r._with=!1:r._with=void 0===t._with||t._with,this.opts=r,this.regex=this.createRegex()}e.cache=i.cache,e.fileLoader=r.readFileSync,e.localsName="locals",e.promiseImpl=new Function("return this;")().Promise,e.resolveInclude=function(n,e,t){var r=o.dirname,i=o.extname,a=(0,o.resolve)(t?e:r(e),n);return i(n)||(a+=".ejs"),a},e.compile=function(n,e){return e&&e.scope&&(a||(console.warn("`scope` option is deprecated and will be removed in EJS 3"),a=!0),e.context||(e.context=e.scope),delete e.scope),new v(n,e).compile()},e.render=function(n,e,t){var r=e||i.createNullProtoObjWherePossible(),o=t||i.createNullProtoObjWherePossible();return 2==arguments.length&&i.shallowCopyFromList(o,r,c),f(o,n)(r)},e.renderFile=function(){var n,e,t,r=Array.prototype.slice.call(arguments),o=r.shift(),a={filename:o};return"function"==typeof arguments[arguments.length-1]&&(n=r.pop()),r.length?(e=r.shift(),r.length?i.shallowCopy(a,r.pop()):(e.settings&&(e.settings.views&&(a.views=e.settings.views),e.settings["view cache"]&&(a.cache=!0),(t=e.settings["view options"])&&i.shallowCopy(a,t)),i.shallowCopyFromList(a,e,l)),a.filename=o):e=i.createNullProtoObjWherePossible(),m(a,e,n)},e.Template=v,e.clearCache=function(){e.cache.reset()},v.modes={EVAL:"eval",ESCAPED:"escaped",RAW:"raw",COMMENT:"comment",LITERAL:"literal"},v.prototype={createRegex:function(){var n="(<%%|%%>|<%=|<%-|<%_|<%#|<%|%>|-%>|_%>)",e=i.escapeRegExpChars(this.opts.delimiter),t=i.escapeRegExpChars(this.opts.openDelimiter),r=i.escapeRegExpChars(this.opts.closeDelimiter);return n=n.replace(/%/g,e).replace(/</g,t).replace(/>/g,r),new RegExp(n)},compile:function(){var n,e,t,r=this.opts,a="",s="",c=r.escapeFunction,l=r.filename?JSON.stringify(r.filename):"undefined";if(!this.source){if(this.generateSource(),a+='  var __output = "";\n  function __append(s) { if (s !== undefined && s !== null) __output += s }\n',r.outputFunctionName){if(!u.test(r.outputFunctionName))throw new Error("outputFunctionName is not a valid JS identifier.");a+="  var "+r.outputFunctionName+" = __append;\n"}if(r.localsName&&!u.test(r.localsName))throw new Error("localsName is not a valid JS identifier.");if(r.destructuredLocals&&r.destructuredLocals.length){for(var p="  var __locals = ("+r.localsName+" || {}),\n",d=0;d<r.destructuredLocals.length;d++){var f=r.destructuredLocals[d];if(!u.test(f))throw new Error("destructuredLocals["+d+"] is not a valid JS identifier.");d>0&&(p+=",\n  "),p+=f+" = __locals."+f}a+=p+";\n"}!1!==r._with&&(a+="  with ("+r.localsName+" || {}) {\n",s+="  }\n"),s+="  return __output;\n",this.source=a+this.source+s}n=r.compileDebug?"var __line = 1\n  , __lines = "+JSON.stringify(this.templateText)+"\n  , __filename = "+l+";\ntry {\n"+this.source+"} catch (e) {\n  rethrow(e, __lines, __filename, __line, escapeFn);\n}\n":this.source,r.client&&(n="escapeFn = escapeFn || "+c.toString()+";\n"+n,r.compileDebug&&(n="rethrow = rethrow || "+k.toString()+";\n"+n)),r.strict&&(n='"use strict";\n'+n),r.debug&&console.log(n),r.compileDebug&&r.filename&&(n=n+"\n//# sourceURL="+l+"\n");try{if(r.async)try{t=new Function("return (async function(){}).constructor;")()}catch(n){throw n instanceof SyntaxError?new Error("This environment does not support async/await"):n}else t=Function;e=new t(r.localsName+", escapeFn, include, rethrow",n)}catch(n){throw n instanceof SyntaxError&&(r.filename&&(n.message+=" in "+r.filename),n.message+=" while compiling ejs\n\n",n.message+="If the above error is not helpful, you may want to try EJS-Lint:\n",n.message+="https://github.com/RyanZim/EJS-Lint",r.async||(n.message+="\n",n.message+="Or, if you meant to create an async function, pass `async: true` as an option.")),n}var m=r.client?e:function(n){return e.apply(r.context,[n||i.createNullProtoObjWherePossible(),c,function(e,t){var o=i.shallowCopy(i.createNullProtoObjWherePossible(),n);return t&&(o=i.shallowCopy(o,t)),g(e,r)(o)},k])};if(r.filename&&"function"==typeof Object.defineProperty){var h=r.filename,b=o.basename(h,o.extname(h));try{Object.defineProperty(m,"name",{value:b,writable:!1,enumerable:!1,configurable:!0})}catch(n){}}return m},generateSource:function(){this.opts.rmWhitespace&&(this.templateText=this.templateText.replace(/[\r\n]+/g,"\n").replace(/^\s+|\s+$/gm,"")),this.templateText=this.templateText.replace(/[ \t]*<%_/gm,"<%_").replace(/_%>[ \t]*/gm,"_%>");var n=this,e=this.parseTemplateText(),t=this.opts.delimiter,r=this.opts.openDelimiter,o=this.opts.closeDelimiter;e&&e.length&&e.forEach((function(i,a){var s;if(0===i.indexOf(r+t)&&0!==i.indexOf(r+t+t)&&(s=e[a+2])!=t+o&&s!="-"+t+o&&s!="_"+t+o)throw new Error('Could not find matching close tag for "'+i+'".');n.scanLine(i)}))},parseTemplateText:function(){for(var n,e=this.templateText,t=this.regex,r=t.exec(e),o=[];r;)0!==(n=r.index)&&(o.push(e.substring(0,n)),e=e.slice(n)),o.push(r[0]),e=e.slice(r[0].length),r=t.exec(e);return e&&o.push(e),o},_addOutput:function(n){if(this.truncate&&(n=n.replace(/^(?:\r\n|\r|\n)/,""),this.truncate=!1),!n)return n;n=(n=(n=(n=n.replace(/\\/g,"\\\\")).replace(/\n/g,"\\n")).replace(/\r/g,"\\r")).replace(/"/g,'\\"'),this.source+='    ; __append("'+n+'")\n'},scanLine:function(n){var e,t=this.opts.delimiter,r=this.opts.openDelimiter,o=this.opts.closeDelimiter;switch(e=n.split("\n").length-1,n){case r+t:case r+t+"_":this.mode=v.modes.EVAL;break;case r+t+"=":this.mode=v.modes.ESCAPED;break;case r+t+"-":this.mode=v.modes.RAW;break;case r+t+"#":this.mode=v.modes.COMMENT;break;case r+t+t:this.mode=v.modes.LITERAL,this.source+='    ; __append("'+n.replace(r+t+t,r+t)+'")\n';break;case t+t+o:this.mode=v.modes.LITERAL,this.source+='    ; __append("'+n.replace(t+t+o,t+o)+'")\n';break;case t+o:case"-"+t+o:case"_"+t+o:this.mode==v.modes.LITERAL&&this._addOutput(n),this.mode=null,this.truncate=0===n.indexOf("-")||0===n.indexOf("_");break;default:if(this.mode){switch(this.mode){case v.modes.EVAL:case v.modes.ESCAPED:case v.modes.RAW:n.lastIndexOf("//")>n.lastIndexOf("\n")&&(n+="\n")}switch(this.mode){case v.modes.EVAL:this.source+="    ; "+n+"\n";break;case v.modes.ESCAPED:this.source+="    ; __append(escapeFn("+b(n)+"))\n";break;case v.modes.RAW:this.source+="    ; __append("+b(n)+")\n";break;case v.modes.COMMENT:break;case v.modes.LITERAL:this._addOutput(n)}}else this._addOutput(n)}this.opts.compileDebug&&e&&(this.currentLine+=e,this.source+="    ; __line = "+this.currentLine+"\n")}},e.escapeXML=i.escapeXML,e.__express=e.renderFile,e.VERSION=s,e.name="ejs","undefined"!=typeof window&&(window.ejs=e)},function(n,e,t){"use strict";t.r(e);var r={name:"CodeBlock",props:{title:{type:String,required:!0},active:{type:Boolean,default:!1}}},o=(t(244),t(4)),i=Object(o.a)(r,(function(){return(0,this._self._c)("div",{staticClass:"theme-code-block",class:{"theme-code-block__active":this.active}},[this._t("default")],2)}),[],!1,null,"4f1e9d0c",null);e.default=i.exports},function(n,e,t){"use strict";t.r(e);var r={name:"CodeGroup",data:()=>({codeTabs:[],activeCodeTabIndex:-1}),watch:{activeCodeTabIndex(n){this.codeTabs.forEach(n=>{n.elm.classList.remove("theme-code-block__active")}),this.codeTabs[n].elm.classList.add("theme-code-block__active")}},mounted(){this.codeTabs=(this.$slots.default||[]).filter(n=>Boolean(n.componentOptions)).map((n,e)=>(""===n.componentOptions.propsData.active&&(this.activeCodeTabIndex=e),{title:n.componentOptions.propsData.title,elm:n.elm})),-1===this.activeCodeTabIndex&&this.codeTabs.length>0&&(this.activeCodeTabIndex=0)},methods:{changeCodeTab(n){this.activeCodeTabIndex=n}}},o=(t(245),t(4)),i=Object(o.a)(r,(function(){var n=this,e=n._self._c;return e("div",{staticClass:"theme-code-group"},[e("div",{staticClass:"theme-code-group__nav"},[e("ul",{staticClass:"theme-code-group__ul"},n._l(n.codeTabs,(function(t,r){return e("li",{key:t.title,staticClass:"theme-code-group__li"},[e("button",{staticClass:"theme-code-group__nav-tab",class:{"theme-code-group__nav-tab-active":r===n.activeCodeTabIndex},on:{click:function(e){return n.changeCodeTab(r)}}},[n._v("\n            "+n._s(t.title)+"\n          ")])])})),0)]),n._v(" "),n._t("default"),n._v(" "),n.codeTabs.length<1?e("pre",{staticClass:"pre-blank"},[n._v("// Make sure to add code blocks to your code group")]):n._e()],2)}),[],!1,null,"2f5f1757",null);e.default=i.exports},function(n,e,t){"use strict";var r=t(1),o=t(13),i=t(102),a=t(38);n.exports=function(n,e,t,s){s||(s={});var c=s.enumerable,l=void 0!==s.name?s.name:e;if(r(t)&&i(t,l,s),s.global)c?n[e]=t:a(e,t);else{try{s.unsafe?n[e]&&(c=!0):delete n[e]}catch(n){}c?n[e]=t:o.f(n,e,{value:t,enumerable:!1,configurable:!s.nonConfigurable,writable:!s.nonWritable})}return n}},function(n,e,t){"use strict";var r=t(142),o=String;n.exports=function(n){if("Symbol"===r(n))throw new TypeError("Cannot convert a Symbol value to a string");return o(n)}},function(n,e){n.exports=function(n){var e=null==n?0:n.length;return e?n[e-1]:void 0}},function(n,e,t){"use strict";var r=t(2),o=t(3),i=t(1),a=t(7),s=t(5),c=t(116).CONFIGURABLE,l=t(117),p=t(118),u=p.enforce,d=p.get,f=String,m=Object.defineProperty,h=r("".slice),g=r("".replace),k=r([].join),b=s&&!o((function(){return 8!==m((function(){}),"length",{value:8}).length})),v=String(String).split("String"),y=n.exports=function(n,e,t){"Symbol("===h(f(e),0,7)&&(e="["+g(f(e),/^Symbol\(([^)]*)\)/,"$1")+"]"),t&&t.getter&&(e="get "+e),t&&t.setter&&(e="set "+e),(!a(n,"name")||c&&n.name!==e)&&(s?m(n,"name",{value:e,configurable:!0}):n.name=e),b&&t&&a(t,"arity")&&n.length!==t.arity&&m(n,"length",{value:t.arity});try{t&&a(t,"constructor")&&t.constructor?s&&m(n,"prototype",{writable:!1}):n.prototype&&(n.prototype=void 0)}catch(n){}var r=u(n);return a(r,"source")||(r.source=k(v,"string"==typeof e?e:"")),n};Function.prototype.toString=y((function(){return i(this)&&d(this).source||l(this)}),"toString")},function(n,e,t){"use strict";n.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(n,e,t){"use strict";var r=t(0),o=t(9),i=r.document,a=o(i)&&o(i.createElement);n.exports=function(n){return a?i.createElement(n):{}}},function(n,e,t){"use strict";var r=t(5),o=t(3);n.exports=r&&o((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},function(n,e,t){"use strict";var r=t(62),o=t(64),i=r("keys");n.exports=function(n){return i[n]||(i[n]=o(n))}},function(n,e,t){"use strict";var r=t(2),o=t(7),i=t(30),a=t(122).indexOf,s=t(50),c=r([].push);n.exports=function(n,e){var t,r=i(n),l=0,p=[];for(t in r)!o(s,t)&&o(r,t)&&c(p,t);for(;e.length>l;)o(r,t=e[l++])&&(~a(p,t)||c(p,t));return p}},function(n,e,t){n.exports=t(257)},function(n,e,t){"use strict";var r=t(18),o=t(128).left,i=t(129),a=t(61);r({target:"Array",proto:!0,forced:!t(130)&&a>79&&a<83||!i("reduce")},{reduce:function(n){var e=arguments.length;return o(this,n,e,e>1?arguments[1]:void 0)}})},function(n,e,t){"use strict";var r={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,i=o&&!r.call({1:2},1);e.f=i?function(n){var e=o(this,n);return!!e&&e.enumerable}:r},function(n,e,t){"use strict";var r=t(35),o=t(9),i=t(57),a=t(113),s=t(115),c=t(20),l=TypeError,p=c("toPrimitive");n.exports=function(n,e){if(!o(n)||i(n))return n;var t,c=a(n,p);if(c){if(void 0===e&&(e="default"),t=r(c,n,e),!o(t)||i(t))return t;throw new l("Can't convert object to primitive value")}return void 0===e&&(e="number"),s(n,e)}},function(n,e,t){"use strict";n.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""},function(n,e,t){"use strict";var r=t(32),o=t(54);n.exports=function(n,e){var t=n[e];return o(t)?void 0:r(t)}},function(n,e,t){"use strict";var r=String;n.exports=function(n){try{return r(n)}catch(n){return"Object"}}},function(n,e,t){"use strict";var r=t(35),o=t(1),i=t(9),a=TypeError;n.exports=function(n,e){var t,s;if("string"===e&&o(t=n.toString)&&!i(s=r(t,n)))return s;if(o(t=n.valueOf)&&!i(s=r(t,n)))return s;if("string"!==e&&o(t=n.toString)&&!i(s=r(t,n)))return s;throw new a("Can't convert object to primitive value")}},function(n,e,t){"use strict";var r=t(5),o=t(7),i=Function.prototype,a=r&&Object.getOwnPropertyDescriptor,s=o(i,"name"),c=s&&"something"===function(){}.name,l=s&&(!r||r&&a(i,"name").configurable);n.exports={EXISTS:s,PROPER:c,CONFIGURABLE:l}},function(n,e,t){"use strict";var r=t(2),o=t(1),i=t(37),a=r(Function.toString);o(i.inspectSource)||(i.inspectSource=function(n){return a(n)}),n.exports=i.inspectSource},function(n,e,t){"use strict";var r,o,i,a=t(119),s=t(0),c=t(9),l=t(15),p=t(7),u=t(37),d=t(106),f=t(50),m=s.TypeError,h=s.WeakMap;if(a||u.state){var g=u.state||(u.state=new h);g.get=g.get,g.has=g.has,g.set=g.set,r=function(n,e){if(g.has(n))throw new m("Object already initialized");return e.facade=n,g.set(n,e),e},o=function(n){return g.get(n)||{}},i=function(n){return g.has(n)}}else{var k=d("state");f[k]=!0,r=function(n,e){if(p(n,k))throw new m("Object already initialized");return e.facade=n,l(n,k,e),e},o=function(n){return p(n,k)?n[k]:{}},i=function(n){return p(n,k)}}n.exports={set:r,get:o,has:i,enforce:function(n){return i(n)?o(n):r(n,{})},getterFor:function(n){return function(e){var t;if(!c(e)||(t=o(e)).type!==n)throw new m("Incompatible receiver, "+n+" required");return t}}}},function(n,e,t){"use strict";var r=t(0),o=t(1),i=r.WeakMap;n.exports=o(i)&&/native code/.test(String(i))},function(n,e,t){"use strict";var r=t(31),o=t(2),i=t(121),a=t(126),s=t(28),c=o([].concat);n.exports=r("Reflect","ownKeys")||function(n){var e=i.f(s(n)),t=a.f;return t?c(e,t(n)):e}},function(n,e,t){"use strict";var r=t(107),o=t(103).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(n){return r(n,o)}},function(n,e,t){"use strict";var r=t(30),o=t(123),i=t(34),a=function(n){return function(e,t,a){var s,c=r(e),l=i(c),p=o(a,l);if(n&&t!=t){for(;l>p;)if((s=c[p++])!=s)return!0}else for(;l>p;p++)if((n||p in c)&&c[p]===t)return n||p||0;return!n&&-1}};n.exports={includes:a(!0),indexOf:a(!1)}},function(n,e,t){"use strict";var r=t(67),o=Math.max,i=Math.min;n.exports=function(n,e){var t=r(n);return t<0?o(t+e,0):i(t,e)}},function(n,e,t){"use strict";var r=Math.ceil,o=Math.floor;n.exports=Math.trunc||function(n){var e=+n;return(e>0?o:r)(e)}},function(n,e,t){"use strict";var r=t(67),o=Math.min;n.exports=function(n){return n>0?o(r(n),9007199254740991):0}},function(n,e,t){"use strict";e.f=Object.getOwnPropertySymbols},function(n,e,t){"use strict";var r=t(3),o=t(1),i=/#|\.prototype\./,a=function(n,e){var t=c[s(n)];return t===p||t!==l&&(o(e)?r(e):!!e)},s=a.normalize=function(n){return String(n).replace(i,".").toLowerCase()},c=a.data={},l=a.NATIVE="N",p=a.POLYFILL="P";n.exports=a},function(n,e,t){"use strict";var r=t(32),o=t(33),i=t(49),a=t(34),s=TypeError,c=function(n){return function(e,t,c,l){r(t);var p=o(e),u=i(p),d=a(p),f=n?d-1:0,m=n?-1:1;if(c<2)for(;;){if(f in u){l=u[f],f+=m;break}if(f+=m,n?f<0:d<=f)throw new s("Reduce of empty array with no initial value")}for(;n?f>=0:d>f;f+=m)f in u&&(l=t(l,u[f],f,p));return l}};n.exports={left:c(!1),right:c(!0)}},function(n,e,t){"use strict";var r=t(3);n.exports=function(n,e){var t=[][n];return!!t&&r((function(){t.call(null,e||function(){return 1},1)}))}},function(n,e,t){"use strict";var r=t(0),o=t(19);n.exports="process"===o(r.process)},function(n,e,t){"use strict";var r=t(5),o=t(132),i=TypeError,a=Object.getOwnPropertyDescriptor,s=r&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(n){return n instanceof TypeError}}();n.exports=s?function(n,e){if(o(n)&&!a(n,"length").writable)throw new i("Cannot set read only .length");return n.length=e}:function(n,e){return n.length=e}},function(n,e,t){"use strict";var r=t(19);n.exports=Array.isArray||function(n){return"Array"===r(n)}},function(n,e,t){"use strict";var r=TypeError;n.exports=function(n){if(n>9007199254740991)throw r("Maximum allowed index exceeded");return n}},function(n,e,t){"use strict";var r=t(18),o=t(0),i=t(135),a=t(136),s=o.WebAssembly,c=7!==new Error("e",{cause:7}).cause,l=function(n,e){var t={};t[n]=a(n,e,c),r({global:!0,constructor:!0,arity:1,forced:c},t)},p=function(n,e){if(s&&s[n]){var t={};t[n]=a("WebAssembly."+n,e,c),r({target:"WebAssembly",stat:!0,constructor:!0,arity:1,forced:c},t)}};l("Error",(function(n){return function(e){return i(n,this,arguments)}})),l("EvalError",(function(n){return function(e){return i(n,this,arguments)}})),l("RangeError",(function(n){return function(e){return i(n,this,arguments)}})),l("ReferenceError",(function(n){return function(e){return i(n,this,arguments)}})),l("SyntaxError",(function(n){return function(e){return i(n,this,arguments)}})),l("TypeError",(function(n){return function(e){return i(n,this,arguments)}})),l("URIError",(function(n){return function(e){return i(n,this,arguments)}})),p("CompileError",(function(n){return function(e){return i(n,this,arguments)}})),p("LinkError",(function(n){return function(e){return i(n,this,arguments)}})),p("RuntimeError",(function(n){return function(e){return i(n,this,arguments)}}))},function(n,e,t){"use strict";var r=t(29),o=Function.prototype,i=o.apply,a=o.call;n.exports="object"==typeof Reflect&&Reflect.apply||(r?a.bind(i):function(){return a.apply(i,arguments)})},function(n,e,t){"use strict";var r=t(31),o=t(7),i=t(15),a=t(58),s=t(68),c=t(66),l=t(139),p=t(140),u=t(141),d=t(144),f=t(145),m=t(5),h=t(63);n.exports=function(n,e,t,g){var k=g?2:1,b=n.split("."),v=b[b.length-1],y=r.apply(null,b);if(y){var x=y.prototype;if(!h&&o(x,"cause")&&delete x.cause,!t)return y;var _=r("Error"),S=e((function(n,e){var t=u(g?e:n,void 0),r=g?new y(n):new y;return void 0!==t&&i(r,"message",t),f(r,S,r.stack,2),this&&a(x,this)&&p(r,this,S),arguments.length>k&&d(r,arguments[k]),r}));if(S.prototype=x,"Error"!==v?s?s(S,_):c(S,_,{name:!0}):m&&"stackTraceLimit"in y&&(l(S,y,"stackTraceLimit"),l(S,y,"prepareStackTrace")),c(S,y),!h)try{x.name!==v&&i(x,"name",v),x.constructor=S}catch(n){}return S}}},function(n,e,t){"use strict";var r=t(2),o=t(32);n.exports=function(n,e,t){try{return r(o(Object.getOwnPropertyDescriptor(n,e)[t]))}catch(n){}}},function(n,e,t){"use strict";var r=t(1),o=String,i=TypeError;n.exports=function(n){if("object"==typeof n||r(n))return n;throw new i("Can't set "+o(n)+" as a prototype")}},function(n,e,t){"use strict";var r=t(13).f;n.exports=function(n,e,t){t in n||r(n,t,{configurable:!0,get:function(){return e[t]},set:function(n){e[t]=n}})}},function(n,e,t){"use strict";var r=t(1),o=t(9),i=t(68);n.exports=function(n,e,t){var a,s;return i&&r(a=e.constructor)&&a!==t&&o(s=a.prototype)&&s!==t.prototype&&i(n,s),n}},function(n,e,t){"use strict";var r=t(100);n.exports=function(n,e){return void 0===n?arguments.length<2?"":e:r(n)}},function(n,e,t){"use strict";var r=t(143),o=t(1),i=t(19),a=t(20)("toStringTag"),s=Object,c="Arguments"===i(function(){return arguments}());n.exports=r?i:function(n){var e,t,r;return void 0===n?"Undefined":null===n?"Null":"string"==typeof(t=function(n,e){try{return n[e]}catch(n){}}(e=s(n),a))?t:c?i(e):"Object"===(r=i(e))&&o(e.callee)?"Arguments":r}},function(n,e,t){"use strict";var r={};r[t(20)("toStringTag")]="z",n.exports="[object z]"===String(r)},function(n,e,t){"use strict";var r=t(9),o=t(15);n.exports=function(n,e){r(e)&&"cause"in e&&o(n,"cause",e.cause)}},function(n,e,t){"use strict";var r=t(15),o=t(146),i=t(147),a=Error.captureStackTrace;n.exports=function(n,e,t,s){i&&(a?a(n,e):r(n,"stack",o(t,s)))}},function(n,e,t){"use strict";var r=t(2),o=Error,i=r("".replace),a=String(new o("zxcasd").stack),s=/\n\s*at [^:]*:[^\n]*/,c=s.test(a);n.exports=function(n,e){if(c&&"string"==typeof n&&!o.prepareStackTrace)for(;e--;)n=i(n,s,"");return n}},function(n,e,t){"use strict";var r=t(3),o=t(36);n.exports=!r((function(){var n=new Error("a");return!("stack"in n)||(Object.defineProperty(n,"stack",o(1,7)),7!==n.stack)}))},function(n,e,t){var r=t(69),o=t(149);n.exports=function n(e,t,i,a,s){var c=-1,l=e.length;for(i||(i=o),s||(s=[]);++c<l;){var p=e[c];t>0&&i(p)?t>1?n(p,t-1,i,a,s):r(s,p):a||(s[s.length]=p)}return s}},function(n,e,t){var r=t(16),o=t(39),i=t(6),a=r?r.isConcatSpreadable:void 0;n.exports=function(n){return i(n)||o(n)||!!(a&&n&&n[a])}},function(n,e,t){var r=t(14),o=t(12);n.exports=function(n){return o(n)&&"[object Arguments]"==r(n)}},function(n,e,t){var r=t(16),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,s=r?r.toStringTag:void 0;n.exports=function(n){var e=i.call(n,s),t=n[s];try{n[s]=void 0;var r=!0}catch(n){}var o=a.call(n);return r&&(e?n[s]=t:delete n[s]),o}},function(n,e){var t=Object.prototype.toString;n.exports=function(n){return t.call(n)}},function(n,e,t){var r=t(154),o=t(210),i=t(47),a=t(6),s=t(221);n.exports=function(n){return"function"==typeof n?n:null==n?i:"object"==typeof n?a(n)?o(n[0],n[1]):r(n):s(n)}},function(n,e,t){var r=t(155),o=t(209),i=t(86);n.exports=function(n){var e=o(n);return 1==e.length&&e[0][2]?i(e[0][0],e[0][1]):function(t){return t===n||r(t,n,e)}}},function(n,e,t){var r=t(71),o=t(75);n.exports=function(n,e,t,i){var a=t.length,s=a,c=!i;if(null==n)return!s;for(n=Object(n);a--;){var l=t[a];if(c&&l[2]?l[1]!==n[l[0]]:!(l[0]in n))return!1}for(;++a<s;){var p=(l=t[a])[0],u=n[p],d=l[1];if(c&&l[2]){if(void 0===u&&!(p in n))return!1}else{var f=new r;if(i)var m=i(u,d,p,n,e,f);if(!(void 0===m?o(d,u,3,i,f):m))return!1}}return!0}},function(n,e){n.exports=function(){this.__data__=[],this.size=0}},function(n,e,t){var r=t(22),o=Array.prototype.splice;n.exports=function(n){var e=this.__data__,t=r(e,n);return!(t<0)&&(t==e.length-1?e.pop():o.call(e,t,1),--this.size,!0)}},function(n,e,t){var r=t(22);n.exports=function(n){var e=this.__data__,t=r(e,n);return t<0?void 0:e[t][1]}},function(n,e,t){var r=t(22);n.exports=function(n){return r(this.__data__,n)>-1}},function(n,e,t){var r=t(22);n.exports=function(n,e){var t=this.__data__,o=r(t,n);return o<0?(++this.size,t.push([n,e])):t[o][1]=e,this}},function(n,e,t){var r=t(21);n.exports=function(){this.__data__=new r,this.size=0}},function(n,e){n.exports=function(n){var e=this.__data__,t=e.delete(n);return this.size=e.size,t}},function(n,e){n.exports=function(n){return this.__data__.get(n)}},function(n,e){n.exports=function(n){return this.__data__.has(n)}},function(n,e,t){var r=t(21),o=t(40),i=t(42);n.exports=function(n,e){var t=this.__data__;if(t instanceof r){var a=t.__data__;if(!o||a.length<199)return a.push([n,e]),this.size=++t.size,this;t=this.__data__=new i(a)}return t.set(n,e),this.size=t.size,this}},function(n,e,t){var r=t(73),o=t(167),i=t(41),a=t(74),s=/^\[object .+?Constructor\]$/,c=Function.prototype,l=Object.prototype,p=c.toString,u=l.hasOwnProperty,d=RegExp("^"+p.call(u).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");n.exports=function(n){return!(!i(n)||o(n))&&(r(n)?d:s).test(a(n))}},function(n,e,t){var r,o=t(168),i=(r=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";n.exports=function(n){return!!i&&i in n}},function(n,e,t){var r=t(8)["__core-js_shared__"];n.exports=r},function(n,e){n.exports=function(n,e){return null==n?void 0:n[e]}},function(n,e,t){var r=t(171),o=t(21),i=t(40);n.exports=function(){this.size=0,this.__data__={hash:new r,map:new(i||o),string:new r}}},function(n,e,t){var r=t(172),o=t(173),i=t(174),a=t(175),s=t(176);function c(n){var e=-1,t=null==n?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=a,c.prototype.set=s,n.exports=c},function(n,e,t){var r=t(23);n.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(n,e){n.exports=function(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e}},function(n,e,t){var r=t(23),o=Object.prototype.hasOwnProperty;n.exports=function(n){var e=this.__data__;if(r){var t=e[n];return"__lodash_hash_undefined__"===t?void 0:t}return o.call(e,n)?e[n]:void 0}},function(n,e,t){var r=t(23),o=Object.prototype.hasOwnProperty;n.exports=function(n){var e=this.__data__;return r?void 0!==e[n]:o.call(e,n)}},function(n,e,t){var r=t(23);n.exports=function(n,e){var t=this.__data__;return this.size+=this.has(n)?0:1,t[n]=r&&void 0===e?"__lodash_hash_undefined__":e,this}},function(n,e,t){var r=t(24);n.exports=function(n){var e=r(this,n).delete(n);return this.size-=e?1:0,e}},function(n,e){n.exports=function(n){var e=typeof n;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==n:null===n}},function(n,e,t){var r=t(24);n.exports=function(n){return r(this,n).get(n)}},function(n,e,t){var r=t(24);n.exports=function(n){return r(this,n).has(n)}},function(n,e,t){var r=t(24);n.exports=function(n,e){var t=r(this,n),o=t.size;return t.set(n,e),this.size+=t.size==o?0:1,this}},function(n,e,t){var r=t(71),o=t(76),i=t(186),a=t(189),s=t(205),c=t(6),l=t(80),p=t(82),u="[object Object]",d=Object.prototype.hasOwnProperty;n.exports=function(n,e,t,f,m,h){var g=c(n),k=c(e),b=g?"[object Array]":s(n),v=k?"[object Array]":s(e),y=(b="[object Arguments]"==b?u:b)==u,x=(v="[object Arguments]"==v?u:v)==u,_=b==v;if(_&&l(n)){if(!l(e))return!1;g=!0,y=!1}if(_&&!y)return h||(h=new r),g||p(n)?o(n,e,t,f,m,h):i(n,e,b,t,f,m,h);if(!(1&t)){var S=y&&d.call(n,"__wrapped__"),E=x&&d.call(e,"__wrapped__");if(S||E){var w=S?n.value():n,C=E?e.value():e;return h||(h=new r),m(w,C,t,f,h)}}return!!_&&(h||(h=new r),a(n,e,t,f,m,h))}},function(n,e){n.exports=function(n){return this.__data__.set(n,"__lodash_hash_undefined__"),this}},function(n,e){n.exports=function(n){return this.__data__.has(n)}},function(n,e){n.exports=function(n,e){for(var t=-1,r=null==n?0:n.length;++t<r;)if(e(n[t],t,n))return!0;return!1}},function(n,e,t){var r=t(16),o=t(187),i=t(72),a=t(76),s=t(188),c=t(43),l=r?r.prototype:void 0,p=l?l.valueOf:void 0;n.exports=function(n,e,t,r,l,u,d){switch(t){case"[object DataView]":if(n.byteLength!=e.byteLength||n.byteOffset!=e.byteOffset)return!1;n=n.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(n.byteLength!=e.byteLength||!u(new o(n),new o(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return i(+n,+e);case"[object Error]":return n.name==e.name&&n.message==e.message;case"[object RegExp]":case"[object String]":return n==e+"";case"[object Map]":var f=s;case"[object Set]":var m=1&r;if(f||(f=c),n.size!=e.size&&!m)return!1;var h=d.get(n);if(h)return h==e;r|=2,d.set(n,e);var g=a(f(n),f(e),r,l,u,d);return d.delete(n),g;case"[object Symbol]":if(p)return p.call(n)==p.call(e)}return!1}},function(n,e,t){var r=t(8).Uint8Array;n.exports=r},function(n,e){n.exports=function(n){var e=-1,t=Array(n.size);return n.forEach((function(n,r){t[++e]=[r,n]})),t}},function(n,e,t){var r=t(190),o=Object.prototype.hasOwnProperty;n.exports=function(n,e,t,i,a,s){var c=1&t,l=r(n),p=l.length;if(p!=r(e).length&&!c)return!1;for(var u=p;u--;){var d=l[u];if(!(c?d in e:o.call(e,d)))return!1}var f=s.get(n),m=s.get(e);if(f&&m)return f==e&&m==n;var h=!0;s.set(n,e),s.set(e,n);for(var g=c;++u<p;){var k=n[d=l[u]],b=e[d];if(i)var v=c?i(b,k,d,e,n,s):i(k,b,d,n,e,s);if(!(void 0===v?k===b||a(k,b,t,i,s):v)){h=!1;break}g||(g="constructor"==d)}if(h&&!g){var y=n.constructor,x=e.constructor;y==x||!("constructor"in n)||!("constructor"in e)||"function"==typeof y&&y instanceof y&&"function"==typeof x&&x instanceof x||(h=!1)}return s.delete(n),s.delete(e),h}},function(n,e,t){var r=t(191),o=t(192),i=t(79);n.exports=function(n){return r(n,i,o)}},function(n,e,t){var r=t(69),o=t(6);n.exports=function(n,e,t){var i=e(n);return o(n)?i:r(i,t(n))}},function(n,e,t){var r=t(193),o=t(194),i=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(n){return null==n?[]:(n=Object(n),r(a(n),(function(e){return i.call(n,e)})))}:o;n.exports=s},function(n,e){n.exports=function(n,e){for(var t=-1,r=null==n?0:n.length,o=0,i=[];++t<r;){var a=n[t];e(a,t,n)&&(i[o++]=a)}return i}},function(n,e){n.exports=function(){return[]}},function(n,e,t){var r=t(196),o=t(39),i=t(6),a=t(80),s=t(81),c=t(82),l=Object.prototype.hasOwnProperty;n.exports=function(n,e){var t=i(n),p=!t&&o(n),u=!t&&!p&&a(n),d=!t&&!p&&!u&&c(n),f=t||p||u||d,m=f?r(n.length,String):[],h=m.length;for(var g in n)!e&&!l.call(n,g)||f&&("length"==g||u&&("offset"==g||"parent"==g)||d&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||s(g,h))||m.push(g);return m}},function(n,e){n.exports=function(n,e){for(var t=-1,r=Array(n);++t<n;)r[t]=e(t);return r}},function(n,e){n.exports=function(){return!1}},function(n,e,t){var r=t(14),o=t(44),i=t(12),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,n.exports=function(n){return i(n)&&o(n.length)&&!!a[r(n)]}},function(n,e){n.exports=function(n){return function(e){return n(e)}}},function(n,e,t){(function(n){var r=t(70),o=e&&!e.nodeType&&e,i=o&&"object"==typeof n&&n&&!n.nodeType&&n,a=i&&i.exports===o&&r.process,s=function(){try{var n=i&&i.require&&i.require("util").types;return n||a&&a.binding&&a.binding("util")}catch(n){}}();n.exports=s}).call(this,t(51)(n))},function(n,e,t){var r=t(202),o=t(203),i=Object.prototype.hasOwnProperty;n.exports=function(n){if(!r(n))return o(n);var e=[];for(var t in Object(n))i.call(n,t)&&"constructor"!=t&&e.push(t);return e}},function(n,e){var t=Object.prototype;n.exports=function(n){var e=n&&n.constructor;return n===("function"==typeof e&&e.prototype||t)}},function(n,e,t){var r=t(204)(Object.keys,Object);n.exports=r},function(n,e){n.exports=function(n,e){return function(t){return n(e(t))}}},function(n,e,t){var r=t(206),o=t(40),i=t(207),a=t(84),s=t(208),c=t(14),l=t(74),p=l(r),u=l(o),d=l(i),f=l(a),m=l(s),h=c;(r&&"[object DataView]"!=h(new r(new ArrayBuffer(1)))||o&&"[object Map]"!=h(new o)||i&&"[object Promise]"!=h(i.resolve())||a&&"[object Set]"!=h(new a)||s&&"[object WeakMap]"!=h(new s))&&(h=function(n){var e=c(n),t="[object Object]"==e?n.constructor:void 0,r=t?l(t):"";if(r)switch(r){case p:return"[object DataView]";case u:return"[object Map]";case d:return"[object Promise]";case f:return"[object Set]";case m:return"[object WeakMap]"}return e}),n.exports=h},function(n,e,t){var r=t(10)(t(8),"DataView");n.exports=r},function(n,e,t){var r=t(10)(t(8),"Promise");n.exports=r},function(n,e,t){var r=t(10)(t(8),"WeakMap");n.exports=r},function(n,e,t){var r=t(85),o=t(79);n.exports=function(n){for(var e=o(n),t=e.length;t--;){var i=e[t],a=n[i];e[t]=[i,a,r(a)]}return e}},function(n,e,t){var r=t(75),o=t(211),i=t(218),a=t(45),s=t(85),c=t(86),l=t(25);n.exports=function(n,e){return a(n)&&s(e)?c(l(n),e):function(t){var a=o(t,n);return void 0===a&&a===e?i(t,n):r(e,a,3)}}},function(n,e,t){var r=t(87);n.exports=function(n,e,t){var o=null==n?void 0:r(n,e);return void 0===o?t:o}},function(n,e,t){var r=t(213),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,a=r((function(n){var e=[];return 46===n.charCodeAt(0)&&e.push(""),n.replace(o,(function(n,t,r,o){e.push(r?o.replace(i,"$1"):t||n)})),e}));n.exports=a},function(n,e,t){var r=t(214);n.exports=function(n){var e=r(n,(function(n){return 500===t.size&&t.clear(),n})),t=e.cache;return e}},function(n,e,t){var r=t(42);function o(n,e){if("function"!=typeof n||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var t=function(){var r=arguments,o=e?e.apply(this,r):r[0],i=t.cache;if(i.has(o))return i.get(o);var a=n.apply(this,r);return t.cache=i.set(o,a)||i,a};return t.cache=new(o.Cache||r),t}o.Cache=r,n.exports=o},function(n,e,t){var r=t(216);n.exports=function(n){return null==n?"":r(n)}},function(n,e,t){var r=t(16),o=t(217),i=t(6),a=t(46),s=r?r.prototype:void 0,c=s?s.toString:void 0;n.exports=function n(e){if("string"==typeof e)return e;if(i(e))return o(e,n)+"";if(a(e))return c?c.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},function(n,e){n.exports=function(n,e){for(var t=-1,r=null==n?0:n.length,o=Array(r);++t<r;)o[t]=e(n[t],t,n);return o}},function(n,e,t){var r=t(219),o=t(220);n.exports=function(n,e){return null!=n&&o(n,e,r)}},function(n,e){n.exports=function(n,e){return null!=n&&e in Object(n)}},function(n,e,t){var r=t(88),o=t(39),i=t(6),a=t(81),s=t(44),c=t(25);n.exports=function(n,e,t){for(var l=-1,p=(e=r(e,n)).length,u=!1;++l<p;){var d=c(e[l]);if(!(u=null!=n&&t(n,d)))break;n=n[d]}return u||++l!=p?u:!!(p=null==n?0:n.length)&&s(p)&&a(d,p)&&(i(n)||o(n))}},function(n,e,t){var r=t(222),o=t(223),i=t(45),a=t(25);n.exports=function(n){return i(n)?r(a(n)):o(n)}},function(n,e){n.exports=function(n){return function(e){return null==e?void 0:e[n]}}},function(n,e,t){var r=t(87);n.exports=function(n){return function(e){return r(e,n)}}},function(n,e,t){var r=t(47),o=t(225),i=t(227);n.exports=function(n,e){return i(o(n,e,r),n+"")}},function(n,e,t){var r=t(226),o=Math.max;n.exports=function(n,e,t){return e=o(void 0===e?n.length-1:e,0),function(){for(var i=arguments,a=-1,s=o(i.length-e,0),c=Array(s);++a<s;)c[a]=i[e+a];a=-1;for(var l=Array(e+1);++a<e;)l[a]=i[a];return l[e]=t(c),r(n,this,l)}}},function(n,e){n.exports=function(n,e,t){switch(t.length){case 0:return n.call(e);case 1:return n.call(e,t[0]);case 2:return n.call(e,t[0],t[1]);case 3:return n.call(e,t[0],t[1],t[2])}return n.apply(e,t)}},function(n,e,t){var r=t(228),o=t(231)(r);n.exports=o},function(n,e,t){var r=t(229),o=t(230),i=t(47),a=o?function(n,e){return o(n,"toString",{configurable:!0,enumerable:!1,value:r(e),writable:!0})}:i;n.exports=a},function(n,e){n.exports=function(n){return function(){return n}}},function(n,e,t){var r=t(10),o=function(){try{var n=r(Object,"defineProperty");return n({},"",{}),n}catch(n){}}();n.exports=o},function(n,e){var t=Date.now;n.exports=function(n){var e=0,r=0;return function(){var o=t(),i=16-(o-r);if(r=o,i>0){if(++e>=800)return arguments[0]}else e=0;return n.apply(void 0,arguments)}}},function(n,e,t){var r=t(77),o=t(233),i=t(238),a=t(78),s=t(239),c=t(43);n.exports=function(n,e,t){var l=-1,p=o,u=n.length,d=!0,f=[],m=f;if(t)d=!1,p=i;else if(u>=200){var h=e?null:s(n);if(h)return c(h);d=!1,p=a,m=new r}else m=e?[]:f;n:for(;++l<u;){var g=n[l],k=e?e(g):g;if(g=t||0!==g?g:0,d&&k==k){for(var b=m.length;b--;)if(m[b]===k)continue n;e&&m.push(k),f.push(g)}else p(m,k,t)||(m!==f&&m.push(k),f.push(g))}return f}},function(n,e,t){var r=t(234);n.exports=function(n,e){return!!(null==n?0:n.length)&&r(n,e,0)>-1}},function(n,e,t){var r=t(235),o=t(236),i=t(237);n.exports=function(n,e,t){return e==e?i(n,e,t):r(n,o,t)}},function(n,e){n.exports=function(n,e,t,r){for(var o=n.length,i=t+(r?1:-1);r?i--:++i<o;)if(e(n[i],i,n))return i;return-1}},function(n,e){n.exports=function(n){return n!=n}},function(n,e){n.exports=function(n,e,t){for(var r=t-1,o=n.length;++r<o;)if(n[r]===e)return r;return-1}},function(n,e){n.exports=function(n,e,t){for(var r=-1,o=null==n?0:n.length;++r<o;)if(t(e,n[r]))return!0;return!1}},function(n,e,t){var r=t(84),o=t(240),i=t(43),a=r&&1/i(new r([,-0]))[1]==1/0?function(n){return new r(n)}:o;n.exports=a},function(n,e){n.exports=function(){}},function(n,e,t){var r=t(83),o=t(12);n.exports=function(n){return o(n)&&r(n)}},function(n,e,t){},function(n,e,t){},function(n,e,t){"use strict";t(89)},function(n,e,t){"use strict";t(90)},function(n,e,t){},function(n,e,t){},function(n,e,t){},function(n,e,t){"use strict";var r=t(18),o=t(0),i=t(250);r({global:!0},{Reflect:{}}),i(o.Reflect,"Reflect",!0)},function(n,e,t){"use strict";var r=t(13).f,o=t(7),i=t(20)("toStringTag");n.exports=function(n,e,t){n&&!t&&(n=n.prototype),n&&!o(n,i)&&r(n,i,{configurable:!0,value:e})}},function(n,e){},function(n,e){function t(n,e){for(var t=0,r=n.length-1;r>=0;r--){var o=n[r];"."===o?n.splice(r,1):".."===o?(n.splice(r,1),t++):t&&(n.splice(r,1),t--)}if(e)for(;t--;t)n.unshift("..");return n}function r(n,e){if(n.filter)return n.filter(e);for(var t=[],r=0;r<n.length;r++)e(n[r],r,n)&&t.push(n[r]);return t}e.resolve=function(){for(var n="",e=!1,o=arguments.length-1;o>=-1&&!e;o--){var i=o>=0?arguments[o]:process.cwd();if("string"!=typeof i)throw new TypeError("Arguments to path.resolve must be strings");i&&(n=i+"/"+n,e="/"===i.charAt(0))}return(e?"/":"")+(n=t(r(n.split("/"),(function(n){return!!n})),!e).join("/"))||"."},e.normalize=function(n){var i=e.isAbsolute(n),a="/"===o(n,-1);return(n=t(r(n.split("/"),(function(n){return!!n})),!i).join("/"))||i||(n="."),n&&a&&(n+="/"),(i?"/":"")+n},e.isAbsolute=function(n){return"/"===n.charAt(0)},e.join=function(){var n=Array.prototype.slice.call(arguments,0);return e.normalize(r(n,(function(n,e){if("string"!=typeof n)throw new TypeError("Arguments to path.join must be strings");return n})).join("/"))},e.relative=function(n,t){function r(n){for(var e=0;e<n.length&&""===n[e];e++);for(var t=n.length-1;t>=0&&""===n[t];t--);return e>t?[]:n.slice(e,t-e+1)}n=e.resolve(n).substr(1),t=e.resolve(t).substr(1);for(var o=r(n.split("/")),i=r(t.split("/")),a=Math.min(o.length,i.length),s=a,c=0;c<a;c++)if(o[c]!==i[c]){s=c;break}var l=[];for(c=s;c<o.length;c++)l.push("..");return(l=l.concat(i.slice(s))).join("/")},e.sep="/",e.delimiter=":",e.dirname=function(n){if("string"!=typeof n&&(n+=""),0===n.length)return".";for(var e=n.charCodeAt(0),t=47===e,r=-1,o=!0,i=n.length-1;i>=1;--i)if(47===(e=n.charCodeAt(i))){if(!o){r=i;break}}else o=!1;return-1===r?t?"/":".":t&&1===r?"/":n.slice(0,r)},e.basename=function(n,e){var t=function(n){"string"!=typeof n&&(n+="");var e,t=0,r=-1,o=!0;for(e=n.length-1;e>=0;--e)if(47===n.charCodeAt(e)){if(!o){t=e+1;break}}else-1===r&&(o=!1,r=e+1);return-1===r?"":n.slice(t,r)}(n);return e&&t.substr(-1*e.length)===e&&(t=t.substr(0,t.length-e.length)),t},e.extname=function(n){"string"!=typeof n&&(n+="");for(var e=-1,t=0,r=-1,o=!0,i=0,a=n.length-1;a>=0;--a){var s=n.charCodeAt(a);if(47!==s)-1===r&&(o=!1,r=a+1),46===s?-1===e?e=a:1!==i&&(i=1):-1!==e&&(i=-1);else if(!o){t=a+1;break}}return-1===e||-1===r||0===i||1===i&&e===r-1&&e===t+1?"":n.slice(e,r)};var o="b"==="ab".substr(-1)?function(n,e,t){return n.substr(e,t)}:function(n,e,t){return e<0&&(e=n.length+e),n.substr(e,t)}},function(n,e,t){"use strict";var r=/[|\\{}()[\]^$+*?.]/g,o=Object.prototype.hasOwnProperty,i=function(n,e){return o.apply(n,[e])};e.escapeRegExpChars=function(n){return n?String(n).replace(r,"\\$&"):""};var a={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},s=/[&<>'"]/g;function c(n){return a[n]||n}function l(){return Function.prototype.toString.call(this)+';\nvar _ENCODE_HTML_RULES = {\n      "&": "&amp;"\n    , "<": "&lt;"\n    , ">": "&gt;"\n    , \'"\': "&#34;"\n    , "\'": "&#39;"\n    }\n  , _MATCH_HTML = /[&<>\'"]/g;\nfunction encode_char(c) {\n  return _ENCODE_HTML_RULES[c] || c;\n};\n'}e.escapeXML=function(n){return null==n?"":String(n).replace(s,c)};try{"function"==typeof Object.defineProperty?Object.defineProperty(e.escapeXML,"toString",{value:l}):e.escapeXML.toString=l}catch(n){console.warn("Unable to set escapeXML.toString (is the Function prototype frozen?)")}e.shallowCopy=function(n,e){if(e=e||{},null!=n)for(var t in e)i(e,t)&&"__proto__"!==t&&"constructor"!==t&&(n[t]=e[t]);return n},e.shallowCopyFromList=function(n,e,t){if(t=t||[],e=e||{},null!=n)for(var r=0;r<t.length;r++){var o=t[r];if(void 0!==e[o]){if(!i(e,o))continue;if("__proto__"===o||"constructor"===o)continue;n[o]=e[o]}}return n},e.cache={_data:{},set:function(n,e){this._data[n]=e},get:function(n){return this._data[n]},remove:function(n){delete this._data[n]},reset:function(){this._data={}}},e.hyphenToCamel=function(n){return n.replace(/-[a-z]/g,(function(n){return n[1].toUpperCase()}))},e.createNullProtoObjWherePossible="function"==typeof Object.create?function(){return Object.create(null)}:{__proto__:null}instanceof Object?function(){return{}}:function(){return{__proto__:null}}},function(n){n.exports=JSON.parse('{"name":"ejs","description":"Embedded JavaScript templates","keywords":["template","engine","ejs"],"version":"3.1.9","author":"Matthew Eernisse <mde@fleegix.org> (http://fleegix.org)","license":"Apache-2.0","bin":{"ejs":"./bin/cli.js"},"main":"./lib/ejs.js","jsdelivr":"ejs.min.js","unpkg":"ejs.min.js","repository":{"type":"git","url":"git://github.com/mde/ejs.git"},"bugs":"https://github.com/mde/ejs/issues","homepage":"https://github.com/mde/ejs","dependencies":{"jake":"^10.8.5"},"devDependencies":{"browserify":"^16.5.1","eslint":"^6.8.0","git-directory-deploy":"^1.5.1","jsdoc":"^4.0.2","lru-cache":"^4.0.1","mocha":"^10.2.0","uglify-js":"^3.3.16"},"engines":{"node":">=0.10.0"},"scripts":{"test":"mocha -u tdd"}}')},function(n,e,t){"use strict";t(91)},function(n,e,t){"use strict";t(92)},function(n,e,t){"use strict";t.r(e);
/*!
 * Vue.js v2.7.15
 * (c) 2014-2023 Evan You
 * Released under the MIT License.
 */
var r=Object.freeze({}),o=Array.isArray;function i(n){return null==n}function a(n){return null!=n}function s(n){return!0===n}function c(n){return"string"==typeof n||"number"==typeof n||"symbol"==typeof n||"boolean"==typeof n}function l(n){return"function"==typeof n}function p(n){return null!==n&&"object"==typeof n}var u=Object.prototype.toString;function d(n){return"[object Object]"===u.call(n)}function f(n){return"[object RegExp]"===u.call(n)}function m(n){var e=parseFloat(String(n));return e>=0&&Math.floor(e)===e&&isFinite(n)}function h(n){return a(n)&&"function"==typeof n.then&&"function"==typeof n.catch}function g(n){return null==n?"":Array.isArray(n)||d(n)&&n.toString===u?JSON.stringify(n,null,2):String(n)}function k(n){var e=parseFloat(n);return isNaN(e)?n:e}function b(n,e){for(var t=Object.create(null),r=n.split(","),o=0;o<r.length;o++)t[r[o]]=!0;return e?function(n){return t[n.toLowerCase()]}:function(n){return t[n]}}b("slot,component",!0);var v=b("key,ref,slot,slot-scope,is");function y(n,e){var t=n.length;if(t){if(e===n[t-1])return void(n.length=t-1);var r=n.indexOf(e);if(r>-1)return n.splice(r,1)}}var x=Object.prototype.hasOwnProperty;function _(n,e){return x.call(n,e)}function S(n){var e=Object.create(null);return function(t){return e[t]||(e[t]=n(t))}}var E=/-(\w)/g,w=S((function(n){return n.replace(E,(function(n,e){return e?e.toUpperCase():""}))})),C=S((function(n){return n.charAt(0).toUpperCase()+n.slice(1)})),T=/\B([A-Z])/g,z=S((function(n){return n.replace(T,"-$1").toLowerCase()}));var A=Function.prototype.bind?function(n,e){return n.bind(e)}:function(n,e){function t(t){var r=arguments.length;return r?r>1?n.apply(e,arguments):n.call(e,t):n.call(e)}return t._length=n.length,t};function P(n,e){e=e||0;for(var t=n.length-e,r=new Array(t);t--;)r[t]=n[t+e];return r}function O(n,e){for(var t in e)n[t]=e[t];return n}function I(n){for(var e={},t=0;t<n.length;t++)n[t]&&O(e,n[t]);return e}function R(n,e,t){}var M=function(n,e,t){return!1},j=function(n){return n};function L(n,e){if(n===e)return!0;var t=p(n),r=p(e);if(!t||!r)return!t&&!r&&String(n)===String(e);try{var o=Array.isArray(n),i=Array.isArray(e);if(o&&i)return n.length===e.length&&n.every((function(n,t){return L(n,e[t])}));if(n instanceof Date&&e instanceof Date)return n.getTime()===e.getTime();if(o||i)return!1;var a=Object.keys(n),s=Object.keys(e);return a.length===s.length&&a.every((function(t){return L(n[t],e[t])}))}catch(n){return!1}}function B(n,e){for(var t=0;t<n.length;t++)if(L(n[t],e))return t;return-1}function K(n){var e=!1;return function(){e||(e=!0,n.apply(this,arguments))}}function N(n,e){return n===e?0===n&&1/n!=1/e:n==n||e==e}var D=["component","directive","filter"],$=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch","renderTracked","renderTriggered"],F={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:M,isReservedAttr:M,isUnknownElement:M,getTagNamespace:R,parsePlatformTagName:j,mustUseProp:M,async:!0,_lifecycleHooks:$},q=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/;function U(n){var e=(n+"").charCodeAt(0);return 36===e||95===e}function Q(n,e,t,r){Object.defineProperty(n,e,{value:t,enumerable:!!r,writable:!0,configurable:!0})}var J=new RegExp("[^".concat(q.source,".$_\\d]"));var V="__proto__"in{},Z="undefined"!=typeof window,H=Z&&window.navigator.userAgent.toLowerCase(),G=H&&/msie|trident/.test(H),W=H&&H.indexOf("msie 9.0")>0,X=H&&H.indexOf("edge/")>0;H&&H.indexOf("android");var Y=H&&/iphone|ipad|ipod|ios/.test(H);H&&/chrome\/\d+/.test(H),H&&/phantomjs/.test(H);var nn,en=H&&H.match(/firefox\/(\d+)/),tn={}.watch,rn=!1;if(Z)try{var on={};Object.defineProperty(on,"passive",{get:function(){rn=!0}}),window.addEventListener("test-passive",null,on)}catch(n){}var an=function(){return void 0===nn&&(nn=!Z&&"undefined"!=typeof global&&(global.process&&"server"===global.process.env.VUE_ENV)),nn},sn=Z&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function cn(n){return"function"==typeof n&&/native code/.test(n.toString())}var ln,pn="undefined"!=typeof Symbol&&cn(Symbol)&&"undefined"!=typeof Reflect&&cn(Reflect.ownKeys);ln="undefined"!=typeof Set&&cn(Set)?Set:function(){function n(){this.set=Object.create(null)}return n.prototype.has=function(n){return!0===this.set[n]},n.prototype.add=function(n){this.set[n]=!0},n.prototype.clear=function(){this.set=Object.create(null)},n}();var un=null;function dn(n){void 0===n&&(n=null),n||un&&un._scope.off(),un=n,n&&n._scope.on()}var fn=function(){function n(n,e,t,r,o,i,a,s){this.tag=n,this.data=e,this.children=t,this.text=r,this.elm=o,this.ns=void 0,this.context=i,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=e&&e.key,this.componentOptions=a,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=s,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1}return Object.defineProperty(n.prototype,"child",{get:function(){return this.componentInstance},enumerable:!1,configurable:!0}),n}(),mn=function(n){void 0===n&&(n="");var e=new fn;return e.text=n,e.isComment=!0,e};function hn(n){return new fn(void 0,void 0,void 0,String(n))}function gn(n){var e=new fn(n.tag,n.data,n.children&&n.children.slice(),n.text,n.elm,n.context,n.componentOptions,n.asyncFactory);return e.ns=n.ns,e.isStatic=n.isStatic,e.key=n.key,e.isComment=n.isComment,e.fnContext=n.fnContext,e.fnOptions=n.fnOptions,e.fnScopeId=n.fnScopeId,e.asyncMeta=n.asyncMeta,e.isCloned=!0,e}var kn=0,bn=[],vn=function(){function n(){this._pending=!1,this.id=kn++,this.subs=[]}return n.prototype.addSub=function(n){this.subs.push(n)},n.prototype.removeSub=function(n){this.subs[this.subs.indexOf(n)]=null,this._pending||(this._pending=!0,bn.push(this))},n.prototype.depend=function(e){n.target&&n.target.addDep(this)},n.prototype.notify=function(n){var e=this.subs.filter((function(n){return n}));for(var t=0,r=e.length;t<r;t++){0,e[t].update()}},n}();vn.target=null;var yn=[];function xn(n){yn.push(n),vn.target=n}function _n(){yn.pop(),vn.target=yn[yn.length-1]}var Sn=Array.prototype,En=Object.create(Sn);["push","pop","shift","unshift","splice","sort","reverse"].forEach((function(n){var e=Sn[n];Q(En,n,(function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var o,i=e.apply(this,t),a=this.__ob__;switch(n){case"push":case"unshift":o=t;break;case"splice":o=t.slice(2)}return o&&a.observeArray(o),a.dep.notify(),i}))}));var wn=Object.getOwnPropertyNames(En),Cn={},Tn=!0;function zn(n){Tn=n}var An={notify:R,depend:R,addSub:R,removeSub:R},Pn=function(){function n(n,e,t){if(void 0===e&&(e=!1),void 0===t&&(t=!1),this.value=n,this.shallow=e,this.mock=t,this.dep=t?An:new vn,this.vmCount=0,Q(n,"__ob__",this),o(n)){if(!t)if(V)n.__proto__=En;else for(var r=0,i=wn.length;r<i;r++){Q(n,s=wn[r],En[s])}e||this.observeArray(n)}else{var a=Object.keys(n);for(r=0;r<a.length;r++){var s;In(n,s=a[r],Cn,void 0,e,t)}}}return n.prototype.observeArray=function(n){for(var e=0,t=n.length;e<t;e++)On(n[e],!1,this.mock)},n}();function On(n,e,t){return n&&_(n,"__ob__")&&n.__ob__ instanceof Pn?n.__ob__:!Tn||!t&&an()||!o(n)&&!d(n)||!Object.isExtensible(n)||n.__v_skip||Nn(n)||n instanceof fn?void 0:new Pn(n,e,t)}function In(n,e,t,r,i,a){var s=new vn,c=Object.getOwnPropertyDescriptor(n,e);if(!c||!1!==c.configurable){var l=c&&c.get,p=c&&c.set;l&&!p||t!==Cn&&2!==arguments.length||(t=n[e]);var u=!i&&On(t,!1,a);return Object.defineProperty(n,e,{enumerable:!0,configurable:!0,get:function(){var e=l?l.call(n):t;return vn.target&&(s.depend(),u&&(u.dep.depend(),o(e)&&jn(e))),Nn(e)&&!i?e.value:e},set:function(e){var r=l?l.call(n):t;if(N(r,e)){if(p)p.call(n,e);else{if(l)return;if(!i&&Nn(r)&&!Nn(e))return void(r.value=e);t=e}u=!i&&On(e,!1,a),s.notify()}}}),s}}function Rn(n,e,t){if(!Kn(n)){var r=n.__ob__;return o(n)&&m(e)?(n.length=Math.max(n.length,e),n.splice(e,1,t),r&&!r.shallow&&r.mock&&On(t,!1,!0),t):e in n&&!(e in Object.prototype)?(n[e]=t,t):n._isVue||r&&r.vmCount?t:r?(In(r.value,e,t,void 0,r.shallow,r.mock),r.dep.notify(),t):(n[e]=t,t)}}function Mn(n,e){if(o(n)&&m(e))n.splice(e,1);else{var t=n.__ob__;n._isVue||t&&t.vmCount||Kn(n)||_(n,e)&&(delete n[e],t&&t.dep.notify())}}function jn(n){for(var e=void 0,t=0,r=n.length;t<r;t++)(e=n[t])&&e.__ob__&&e.__ob__.dep.depend(),o(e)&&jn(e)}function Ln(n){return Bn(n,!0),Q(n,"__v_isShallow",!0),n}function Bn(n,e){if(!Kn(n)){On(n,e,an());0}}function Kn(n){return!(!n||!n.__v_isReadonly)}function Nn(n){return!(!n||!0!==n.__v_isRef)}function Dn(n,e,t){Object.defineProperty(n,t,{enumerable:!0,configurable:!0,get:function(){var n=e[t];if(Nn(n))return n.value;var r=n&&n.__ob__;return r&&r.dep.depend(),n},set:function(n){var r=e[t];Nn(r)&&!Nn(n)?r.value=n:e[t]=n}})}"".concat("watcher"," callback"),"".concat("watcher"," getter"),"".concat("watcher"," cleanup");var $n;var Fn=function(){function n(n){void 0===n&&(n=!1),this.detached=n,this.active=!0,this.effects=[],this.cleanups=[],this.parent=$n,!n&&$n&&(this.index=($n.scopes||($n.scopes=[])).push(this)-1)}return n.prototype.run=function(n){if(this.active){var e=$n;try{return $n=this,n()}finally{$n=e}}else 0},n.prototype.on=function(){$n=this},n.prototype.off=function(){$n=this.parent},n.prototype.stop=function(n){if(this.active){var e=void 0,t=void 0;for(e=0,t=this.effects.length;e<t;e++)this.effects[e].teardown();for(e=0,t=this.cleanups.length;e<t;e++)this.cleanups[e]();if(this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].stop(!0);if(!this.detached&&this.parent&&!n){var r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0,this.active=!1}},n}();function qn(n){var e=n._provided,t=n.$parent&&n.$parent._provided;return t===e?n._provided=Object.create(t):e}var Un=S((function(n){var e="&"===n.charAt(0),t="~"===(n=e?n.slice(1):n).charAt(0),r="!"===(n=t?n.slice(1):n).charAt(0);return{name:n=r?n.slice(1):n,once:t,capture:r,passive:e}}));function Qn(n,e){function t(){var n=t.fns;if(!o(n))return Te(n,null,arguments,e,"v-on handler");for(var r=n.slice(),i=0;i<r.length;i++)Te(r[i],null,arguments,e,"v-on handler")}return t.fns=n,t}function Jn(n,e,t,r,o,a){var c,l,p,u;for(c in n)l=n[c],p=e[c],u=Un(c),i(l)||(i(p)?(i(l.fns)&&(l=n[c]=Qn(l,a)),s(u.once)&&(l=n[c]=o(u.name,l,u.capture)),t(u.name,l,u.capture,u.passive,u.params)):l!==p&&(p.fns=l,n[c]=p));for(c in e)i(n[c])&&r((u=Un(c)).name,e[c],u.capture)}function Vn(n,e,t){var r;n instanceof fn&&(n=n.data.hook||(n.data.hook={}));var o=n[e];function c(){t.apply(this,arguments),y(r.fns,c)}i(o)?r=Qn([c]):a(o.fns)&&s(o.merged)?(r=o).fns.push(c):r=Qn([o,c]),r.merged=!0,n[e]=r}function Zn(n,e,t,r,o){if(a(e)){if(_(e,t))return n[t]=e[t],o||delete e[t],!0;if(_(e,r))return n[t]=e[r],o||delete e[r],!0}return!1}function Hn(n){return c(n)?[hn(n)]:o(n)?function n(e,t){var r,l,p,u,d=[];for(r=0;r<e.length;r++)i(l=e[r])||"boolean"==typeof l||(p=d.length-1,u=d[p],o(l)?l.length>0&&(Gn((l=n(l,"".concat(t||"","_").concat(r)))[0])&&Gn(u)&&(d[p]=hn(u.text+l[0].text),l.shift()),d.push.apply(d,l)):c(l)?Gn(u)?d[p]=hn(u.text+l):""!==l&&d.push(hn(l)):Gn(l)&&Gn(u)?d[p]=hn(u.text+l.text):(s(e._isVList)&&a(l.tag)&&i(l.key)&&a(t)&&(l.key="__vlist".concat(t,"_").concat(r,"__")),d.push(l)));return d}(n):void 0}function Gn(n){return a(n)&&a(n.text)&&!1===n.isComment}function Wn(n,e){var t,r,i,s,c=null;if(o(n)||"string"==typeof n)for(c=new Array(n.length),t=0,r=n.length;t<r;t++)c[t]=e(n[t],t);else if("number"==typeof n)for(c=new Array(n),t=0;t<n;t++)c[t]=e(t+1,t);else if(p(n))if(pn&&n[Symbol.iterator]){c=[];for(var l=n[Symbol.iterator](),u=l.next();!u.done;)c.push(e(u.value,c.length)),u=l.next()}else for(i=Object.keys(n),c=new Array(i.length),t=0,r=i.length;t<r;t++)s=i[t],c[t]=e(n[s],s,t);return a(c)||(c=[]),c._isVList=!0,c}function Xn(n,e,t,r){var o,i=this.$scopedSlots[n];i?(t=t||{},r&&(t=O(O({},r),t)),o=i(t)||(l(e)?e():e)):o=this.$slots[n]||(l(e)?e():e);var a=t&&t.slot;return a?this.$createElement("template",{slot:a},o):o}function Yn(n){return Pt(this.$options,"filters",n,!0)||j}function ne(n,e){return o(n)?-1===n.indexOf(e):n!==e}function ee(n,e,t,r,o){var i=F.keyCodes[e]||t;return o&&r&&!F.keyCodes[e]?ne(o,r):i?ne(i,n):r?z(r)!==e:void 0===n}function te(n,e,t,r,i){if(t)if(p(t)){o(t)&&(t=I(t));var a=void 0,s=function(o){if("class"===o||"style"===o||v(o))a=n;else{var s=n.attrs&&n.attrs.type;a=r||F.mustUseProp(e,s,o)?n.domProps||(n.domProps={}):n.attrs||(n.attrs={})}var c=w(o),l=z(o);c in a||l in a||(a[o]=t[o],i&&((n.on||(n.on={}))["update:".concat(o)]=function(n){t[o]=n}))};for(var c in t)s(c)}else;return n}function re(n,e){var t=this._staticTrees||(this._staticTrees=[]),r=t[n];return r&&!e||ie(r=t[n]=this.$options.staticRenderFns[n].call(this._renderProxy,this._c,this),"__static__".concat(n),!1),r}function oe(n,e,t){return ie(n,"__once__".concat(e).concat(t?"_".concat(t):""),!0),n}function ie(n,e,t){if(o(n))for(var r=0;r<n.length;r++)n[r]&&"string"!=typeof n[r]&&ae(n[r],"".concat(e,"_").concat(r),t);else ae(n,e,t)}function ae(n,e,t){n.isStatic=!0,n.key=e,n.isOnce=t}function se(n,e){if(e)if(d(e)){var t=n.on=n.on?O({},n.on):{};for(var r in e){var o=t[r],i=e[r];t[r]=o?[].concat(o,i):i}}else;return n}function ce(n,e,t,r){e=e||{$stable:!t};for(var i=0;i<n.length;i++){var a=n[i];o(a)?ce(a,e,t):a&&(a.proxy&&(a.fn.proxy=!0),e[a.key]=a.fn)}return r&&(e.$key=r),e}function le(n,e){for(var t=0;t<e.length;t+=2){var r=e[t];"string"==typeof r&&r&&(n[e[t]]=e[t+1])}return n}function pe(n,e){return"string"==typeof n?e+n:n}function ue(n){n._o=oe,n._n=k,n._s=g,n._l=Wn,n._t=Xn,n._q=L,n._i=B,n._m=re,n._f=Yn,n._k=ee,n._b=te,n._v=hn,n._e=mn,n._u=ce,n._g=se,n._d=le,n._p=pe}function de(n,e){if(!n||!n.length)return{};for(var t={},r=0,o=n.length;r<o;r++){var i=n[r],a=i.data;if(a&&a.attrs&&a.attrs.slot&&delete a.attrs.slot,i.context!==e&&i.fnContext!==e||!a||null==a.slot)(t.default||(t.default=[])).push(i);else{var s=a.slot,c=t[s]||(t[s]=[]);"template"===i.tag?c.push.apply(c,i.children||[]):c.push(i)}}for(var l in t)t[l].every(fe)&&delete t[l];return t}function fe(n){return n.isComment&&!n.asyncFactory||" "===n.text}function me(n){return n.isComment&&n.asyncFactory}function he(n,e,t,o){var i,a=Object.keys(t).length>0,s=e?!!e.$stable:!a,c=e&&e.$key;if(e){if(e._normalized)return e._normalized;if(s&&o&&o!==r&&c===o.$key&&!a&&!o.$hasNormal)return o;for(var l in i={},e)e[l]&&"$"!==l[0]&&(i[l]=ge(n,t,l,e[l]))}else i={};for(var p in t)p in i||(i[p]=ke(t,p));return e&&Object.isExtensible(e)&&(e._normalized=i),Q(i,"$stable",s),Q(i,"$key",c),Q(i,"$hasNormal",a),i}function ge(n,e,t,r){var i=function(){var e=un;dn(n);var t=arguments.length?r.apply(null,arguments):r({}),i=(t=t&&"object"==typeof t&&!o(t)?[t]:Hn(t))&&t[0];return dn(e),t&&(!i||1===t.length&&i.isComment&&!me(i))?void 0:t};return r.proxy&&Object.defineProperty(e,t,{get:i,enumerable:!0,configurable:!0}),i}function ke(n,e){return function(){return n[e]}}function be(n){return{get attrs(){if(!n._attrsProxy){var e=n._attrsProxy={};Q(e,"_v_attr_proxy",!0),ve(e,n.$attrs,r,n,"$attrs")}return n._attrsProxy},get listeners(){n._listenersProxy||ve(n._listenersProxy={},n.$listeners,r,n,"$listeners");return n._listenersProxy},get slots(){return function(n){n._slotsProxy||xe(n._slotsProxy={},n.$scopedSlots);return n._slotsProxy}(n)},emit:A(n.$emit,n),expose:function(e){e&&Object.keys(e).forEach((function(t){return Dn(n,e,t)}))}}}function ve(n,e,t,r,o){var i=!1;for(var a in e)a in n?e[a]!==t[a]&&(i=!0):(i=!0,ye(n,a,r,o));for(var a in n)a in e||(i=!0,delete n[a]);return i}function ye(n,e,t,r){Object.defineProperty(n,e,{enumerable:!0,configurable:!0,get:function(){return t[r][e]}})}function xe(n,e){for(var t in e)n[t]=e[t];for(var t in n)t in e||delete n[t]}var _e=null;function Se(n,e){return(n.__esModule||pn&&"Module"===n[Symbol.toStringTag])&&(n=n.default),p(n)?e.extend(n):n}function Ee(n){if(o(n))for(var e=0;e<n.length;e++){var t=n[e];if(a(t)&&(a(t.componentOptions)||me(t)))return t}}function we(n,e,t,r,u,d){return(o(t)||c(t))&&(u=r,r=t,t=void 0),s(d)&&(u=2),function(n,e,t,r,c){if(a(t)&&a(t.__ob__))return mn();a(t)&&a(t.is)&&(e=t.is);if(!e)return mn();0;o(r)&&l(r[0])&&((t=t||{}).scopedSlots={default:r[0]},r.length=0);2===c?r=Hn(r):1===c&&(r=function(n){for(var e=0;e<n.length;e++)if(o(n[e]))return Array.prototype.concat.apply([],n);return n}(r));var u,d;if("string"==typeof e){var f=void 0;d=n.$vnode&&n.$vnode.ns||F.getTagNamespace(e),u=F.isReservedTag(e)?new fn(F.parsePlatformTagName(e),t,r,void 0,void 0,n):t&&t.pre||!a(f=Pt(n.$options,"components",e))?new fn(e,t,r,void 0,void 0,n):yt(f,t,n,r,e)}else u=yt(e,t,n,r);return o(u)?u:a(u)?(a(d)&&function n(e,t,r){e.ns=t,"foreignObject"===e.tag&&(t=void 0,r=!0);if(a(e.children))for(var o=0,c=e.children.length;o<c;o++){var l=e.children[o];a(l.tag)&&(i(l.ns)||s(r)&&"svg"!==l.tag)&&n(l,t,r)}}(u,d),a(t)&&function(n){p(n.style)&&Fe(n.style);p(n.class)&&Fe(n.class)}(t),u):mn()}(n,e,t,r,u)}function Ce(n,e,t){xn();try{if(e)for(var r=e;r=r.$parent;){var o=r.$options.errorCaptured;if(o)for(var i=0;i<o.length;i++)try{if(!1===o[i].call(r,n,e,t))return}catch(n){ze(n,r,"errorCaptured hook")}}ze(n,e,t)}finally{_n()}}function Te(n,e,t,r,o){var i;try{(i=t?n.apply(e,t):n.call(e))&&!i._isVue&&h(i)&&!i._handled&&(i.catch((function(n){return Ce(n,r,o+" (Promise/async)")})),i._handled=!0)}catch(n){Ce(n,r,o)}return i}function ze(n,e,t){if(F.errorHandler)try{return F.errorHandler.call(null,n,e,t)}catch(e){e!==n&&Ae(e,null,"config.errorHandler")}Ae(n,e,t)}function Ae(n,e,t){if(!Z||"undefined"==typeof console)throw n;console.error(n)}var Pe,Oe=!1,Ie=[],Re=!1;function Me(){Re=!1;var n=Ie.slice(0);Ie.length=0;for(var e=0;e<n.length;e++)n[e]()}if("undefined"!=typeof Promise&&cn(Promise)){var je=Promise.resolve();Pe=function(){je.then(Me),Y&&setTimeout(R)},Oe=!0}else if(G||"undefined"==typeof MutationObserver||!cn(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())Pe="undefined"!=typeof setImmediate&&cn(setImmediate)?function(){setImmediate(Me)}:function(){setTimeout(Me,0)};else{var Le=1,Be=new MutationObserver(Me),Ke=document.createTextNode(String(Le));Be.observe(Ke,{characterData:!0}),Pe=function(){Le=(Le+1)%2,Ke.data=String(Le)},Oe=!0}function Ne(n,e){var t;if(Ie.push((function(){if(n)try{n.call(e)}catch(n){Ce(n,e,"nextTick")}else t&&t(e)})),Re||(Re=!0,Pe()),!n&&"undefined"!=typeof Promise)return new Promise((function(n){t=n}))}function De(n){return function(e,t){if(void 0===t&&(t=un),t)return function(n,e,t){var r=n.$options;r[e]=Ct(r[e],t)}(t,n,e)}}De("beforeMount"),De("mounted"),De("beforeUpdate"),De("updated"),De("beforeDestroy"),De("destroyed"),De("activated"),De("deactivated"),De("serverPrefetch"),De("renderTracked"),De("renderTriggered"),De("errorCaptured");var $e=new ln;function Fe(n){return function n(e,t){var r,i,a=o(e);if(!a&&!p(e)||e.__v_skip||Object.isFrozen(e)||e instanceof fn)return;if(e.__ob__){var s=e.__ob__.dep.id;if(t.has(s))return;t.add(s)}if(a)for(r=e.length;r--;)n(e[r],t);else if(Nn(e))n(e.value,t);else for(i=Object.keys(e),r=i.length;r--;)n(e[i[r]],t)}(n,$e),$e.clear(),n}var qe,Ue=0,Qe=function(){function n(n,e,t,r,o){var i,a;i=this,void 0===(a=$n&&!$n._vm?$n:n?n._scope:void 0)&&(a=$n),a&&a.active&&a.effects.push(i),(this.vm=n)&&o&&(n._watcher=this),r?(this.deep=!!r.deep,this.user=!!r.user,this.lazy=!!r.lazy,this.sync=!!r.sync,this.before=r.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=t,this.id=++Ue,this.active=!0,this.post=!1,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new ln,this.newDepIds=new ln,this.expression="",l(e)?this.getter=e:(this.getter=function(n){if(!J.test(n)){var e=n.split(".");return function(n){for(var t=0;t<e.length;t++){if(!n)return;n=n[e[t]]}return n}}}(e),this.getter||(this.getter=R)),this.value=this.lazy?void 0:this.get()}return n.prototype.get=function(){var n;xn(this);var e=this.vm;try{n=this.getter.call(e,e)}catch(n){if(!this.user)throw n;Ce(n,e,'getter for watcher "'.concat(this.expression,'"'))}finally{this.deep&&Fe(n),_n(),this.cleanupDeps()}return n},n.prototype.addDep=function(n){var e=n.id;this.newDepIds.has(e)||(this.newDepIds.add(e),this.newDeps.push(n),this.depIds.has(e)||n.addSub(this))},n.prototype.cleanupDeps=function(){for(var n=this.deps.length;n--;){var e=this.deps[n];this.newDepIds.has(e.id)||e.removeSub(this)}var t=this.depIds;this.depIds=this.newDepIds,this.newDepIds=t,this.newDepIds.clear(),t=this.deps,this.deps=this.newDeps,this.newDeps=t,this.newDeps.length=0},n.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():dt(this)},n.prototype.run=function(){if(this.active){var n=this.get();if(n!==this.value||p(n)||this.deep){var e=this.value;if(this.value=n,this.user){var t='callback for watcher "'.concat(this.expression,'"');Te(this.cb,this.vm,[n,e],this.vm,t)}else this.cb.call(this.vm,n,e)}}},n.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},n.prototype.depend=function(){for(var n=this.deps.length;n--;)this.deps[n].depend()},n.prototype.teardown=function(){if(this.vm&&!this.vm._isBeingDestroyed&&y(this.vm._scope.effects,this),this.active){for(var n=this.deps.length;n--;)this.deps[n].removeSub(this);this.active=!1,this.onStop&&this.onStop()}},n}();function Je(n,e){qe.$on(n,e)}function Ve(n,e){qe.$off(n,e)}function Ze(n,e){var t=qe;return function r(){var o=e.apply(null,arguments);null!==o&&t.$off(n,r)}}function He(n,e,t){qe=n,Jn(e,t||{},Je,Ve,Ze,n),qe=void 0}var Ge=null;function We(n){var e=Ge;return Ge=n,function(){Ge=e}}function Xe(n){for(;n&&(n=n.$parent);)if(n._inactive)return!0;return!1}function Ye(n,e){if(e){if(n._directInactive=!1,Xe(n))return}else if(n._directInactive)return;if(n._inactive||null===n._inactive){n._inactive=!1;for(var t=0;t<n.$children.length;t++)Ye(n.$children[t]);nt(n,"activated")}}function nt(n,e,t,r){void 0===r&&(r=!0),xn();var o=un,i=$n;r&&dn(n);var a=n.$options[e],s="".concat(e," hook");if(a)for(var c=0,l=a.length;c<l;c++)Te(a[c],n,t||null,n,s);n._hasHookEvent&&n.$emit("hook:"+e),r&&(dn(o),i&&i.on()),_n()}var et=[],tt=[],rt={},ot=!1,it=!1,at=0;var st=0,ct=Date.now;if(Z&&!G){var lt=window.performance;lt&&"function"==typeof lt.now&&ct()>document.createEvent("Event").timeStamp&&(ct=function(){return lt.now()})}var pt=function(n,e){if(n.post){if(!e.post)return 1}else if(e.post)return-1;return n.id-e.id};function ut(){var n,e;for(st=ct(),it=!0,et.sort(pt),at=0;at<et.length;at++)(n=et[at]).before&&n.before(),e=n.id,rt[e]=null,n.run();var t=tt.slice(),r=et.slice();at=et.length=tt.length=0,rt={},ot=it=!1,function(n){for(var e=0;e<n.length;e++)n[e]._inactive=!0,Ye(n[e],!0)}(t),function(n){var e=n.length;for(;e--;){var t=n[e],r=t.vm;r&&r._watcher===t&&r._isMounted&&!r._isDestroyed&&nt(r,"updated")}}(r),function(){for(var n=0;n<bn.length;n++){var e=bn[n];e.subs=e.subs.filter((function(n){return n})),e._pending=!1}bn.length=0}(),sn&&F.devtools&&sn.emit("flush")}function dt(n){var e=n.id;if(null==rt[e]&&(n!==vn.target||!n.noRecurse)){if(rt[e]=!0,it){for(var t=et.length-1;t>at&&et[t].id>n.id;)t--;et.splice(t+1,0,n)}else et.push(n);ot||(ot=!0,Ne(ut))}}function ft(n,e){if(n){for(var t=Object.create(null),r=pn?Reflect.ownKeys(n):Object.keys(n),o=0;o<r.length;o++){var i=r[o];if("__ob__"!==i){var a=n[i].from;if(a in e._provided)t[i]=e._provided[a];else if("default"in n[i]){var s=n[i].default;t[i]=l(s)?s.call(e):s}else 0}}return t}}function mt(n,e,t,i,a){var c,l=this,p=a.options;_(i,"_uid")?(c=Object.create(i))._original=i:(c=i,i=i._original);var u=s(p._compiled),d=!u;this.data=n,this.props=e,this.children=t,this.parent=i,this.listeners=n.on||r,this.injections=ft(p.inject,i),this.slots=function(){return l.$slots||he(i,n.scopedSlots,l.$slots=de(t,i)),l.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return he(i,n.scopedSlots,this.slots())}}),u&&(this.$options=p,this.$slots=this.slots(),this.$scopedSlots=he(i,n.scopedSlots,this.$slots)),p._scopeId?this._c=function(n,e,t,r){var a=we(c,n,e,t,r,d);return a&&!o(a)&&(a.fnScopeId=p._scopeId,a.fnContext=i),a}:this._c=function(n,e,t,r){return we(c,n,e,t,r,d)}}function ht(n,e,t,r,o){var i=gn(n);return i.fnContext=t,i.fnOptions=r,e.slot&&((i.data||(i.data={})).slot=e.slot),i}function gt(n,e){for(var t in e)n[w(t)]=e[t]}function kt(n){return n.name||n.__name||n._componentTag}ue(mt.prototype);var bt={init:function(n,e){if(n.componentInstance&&!n.componentInstance._isDestroyed&&n.data.keepAlive){var t=n;bt.prepatch(t,t)}else{(n.componentInstance=function(n,e){var t={_isComponent:!0,_parentVnode:n,parent:e},r=n.data.inlineTemplate;a(r)&&(t.render=r.render,t.staticRenderFns=r.staticRenderFns);return new n.componentOptions.Ctor(t)}(n,Ge)).$mount(e?n.elm:void 0,e)}},prepatch:function(n,e){var t=e.componentOptions;!function(n,e,t,o,i){var a=o.data.scopedSlots,s=n.$scopedSlots,c=!!(a&&!a.$stable||s!==r&&!s.$stable||a&&n.$scopedSlots.$key!==a.$key||!a&&n.$scopedSlots.$key),l=!!(i||n.$options._renderChildren||c),p=n.$vnode;n.$options._parentVnode=o,n.$vnode=o,n._vnode&&(n._vnode.parent=o),n.$options._renderChildren=i;var u=o.data.attrs||r;n._attrsProxy&&ve(n._attrsProxy,u,p.data&&p.data.attrs||r,n,"$attrs")&&(l=!0),n.$attrs=u,t=t||r;var d=n.$options._parentListeners;if(n._listenersProxy&&ve(n._listenersProxy,t,d||r,n,"$listeners"),n.$listeners=n.$options._parentListeners=t,He(n,t,d),e&&n.$options.props){zn(!1);for(var f=n._props,m=n.$options._propKeys||[],h=0;h<m.length;h++){var g=m[h],k=n.$options.props;f[g]=Ot(g,k,e,n)}zn(!0),n.$options.propsData=e}l&&(n.$slots=de(i,o.context),n.$forceUpdate())}(e.componentInstance=n.componentInstance,t.propsData,t.listeners,e,t.children)},insert:function(n){var e,t=n.context,r=n.componentInstance;r._isMounted||(r._isMounted=!0,nt(r,"mounted")),n.data.keepAlive&&(t._isMounted?((e=r)._inactive=!1,tt.push(e)):Ye(r,!0))},destroy:function(n){var e=n.componentInstance;e._isDestroyed||(n.data.keepAlive?function n(e,t){if(!(t&&(e._directInactive=!0,Xe(e))||e._inactive)){e._inactive=!0;for(var r=0;r<e.$children.length;r++)n(e.$children[r]);nt(e,"deactivated")}}(e,!0):e.$destroy())}},vt=Object.keys(bt);function yt(n,e,t,c,l){if(!i(n)){var u=t.$options._base;if(p(n)&&(n=u.extend(n)),"function"==typeof n){var d;if(i(n.cid)&&void 0===(n=function(n,e){if(s(n.error)&&a(n.errorComp))return n.errorComp;if(a(n.resolved))return n.resolved;var t=_e;if(t&&a(n.owners)&&-1===n.owners.indexOf(t)&&n.owners.push(t),s(n.loading)&&a(n.loadingComp))return n.loadingComp;if(t&&!a(n.owners)){var r=n.owners=[t],o=!0,c=null,l=null;t.$on("hook:destroyed",(function(){return y(r,t)}));var u=function(n){for(var e=0,t=r.length;e<t;e++)r[e].$forceUpdate();n&&(r.length=0,null!==c&&(clearTimeout(c),c=null),null!==l&&(clearTimeout(l),l=null))},d=K((function(t){n.resolved=Se(t,e),o?r.length=0:u(!0)})),f=K((function(e){a(n.errorComp)&&(n.error=!0,u(!0))})),m=n(d,f);return p(m)&&(h(m)?i(n.resolved)&&m.then(d,f):h(m.component)&&(m.component.then(d,f),a(m.error)&&(n.errorComp=Se(m.error,e)),a(m.loading)&&(n.loadingComp=Se(m.loading,e),0===m.delay?n.loading=!0:c=setTimeout((function(){c=null,i(n.resolved)&&i(n.error)&&(n.loading=!0,u(!1))}),m.delay||200)),a(m.timeout)&&(l=setTimeout((function(){l=null,i(n.resolved)&&f(null)}),m.timeout)))),o=!1,n.loading?n.loadingComp:n.resolved}}(d=n,u)))return function(n,e,t,r,o){var i=mn();return i.asyncFactory=n,i.asyncMeta={data:e,context:t,children:r,tag:o},i}(d,e,t,c,l);e=e||{},Qt(n),a(e.model)&&function(n,e){var t=n.model&&n.model.prop||"value",r=n.model&&n.model.event||"input";(e.attrs||(e.attrs={}))[t]=e.model.value;var i=e.on||(e.on={}),s=i[r],c=e.model.callback;a(s)?(o(s)?-1===s.indexOf(c):s!==c)&&(i[r]=[c].concat(s)):i[r]=c}(n.options,e);var f=function(n,e,t){var r=e.options.props;if(!i(r)){var o={},s=n.attrs,c=n.props;if(a(s)||a(c))for(var l in r){var p=z(l);Zn(o,c,l,p,!0)||Zn(o,s,l,p,!1)}return o}}(e,n);if(s(n.options.functional))return function(n,e,t,i,s){var c=n.options,l={},p=c.props;if(a(p))for(var u in p)l[u]=Ot(u,p,e||r);else a(t.attrs)&&gt(l,t.attrs),a(t.props)&&gt(l,t.props);var d=new mt(t,l,s,i,n),f=c.render.call(null,d._c,d);if(f instanceof fn)return ht(f,t,d.parent,c,d);if(o(f)){for(var m=Hn(f)||[],h=new Array(m.length),g=0;g<m.length;g++)h[g]=ht(m[g],t,d.parent,c,d);return h}}(n,f,e,t,c);var m=e.on;if(e.on=e.nativeOn,s(n.options.abstract)){var g=e.slot;e={},g&&(e.slot=g)}!function(n){for(var e=n.hook||(n.hook={}),t=0;t<vt.length;t++){var r=vt[t],o=e[r],i=bt[r];o===i||o&&o._merged||(e[r]=o?xt(i,o):i)}}(e);var k=kt(n.options)||l;return new fn("vue-component-".concat(n.cid).concat(k?"-".concat(k):""),e,void 0,void 0,void 0,t,{Ctor:n,propsData:f,listeners:m,tag:l,children:c},d)}}}function xt(n,e){var t=function(t,r){n(t,r),e(t,r)};return t._merged=!0,t}var _t=R,St=F.optionMergeStrategies;function Et(n,e,t){if(void 0===t&&(t=!0),!e)return n;for(var r,o,i,a=pn?Reflect.ownKeys(e):Object.keys(e),s=0;s<a.length;s++)"__ob__"!==(r=a[s])&&(o=n[r],i=e[r],t&&_(n,r)?o!==i&&d(o)&&d(i)&&Et(o,i):Rn(n,r,i));return n}function wt(n,e,t){return t?function(){var r=l(e)?e.call(t,t):e,o=l(n)?n.call(t,t):n;return r?Et(r,o):o}:e?n?function(){return Et(l(e)?e.call(this,this):e,l(n)?n.call(this,this):n)}:e:n}function Ct(n,e){var t=e?n?n.concat(e):o(e)?e:[e]:n;return t?function(n){for(var e=[],t=0;t<n.length;t++)-1===e.indexOf(n[t])&&e.push(n[t]);return e}(t):t}function Tt(n,e,t,r){var o=Object.create(n||null);return e?O(o,e):o}St.data=function(n,e,t){return t?wt(n,e,t):e&&"function"!=typeof e?n:wt(n,e)},$.forEach((function(n){St[n]=Ct})),D.forEach((function(n){St[n+"s"]=Tt})),St.watch=function(n,e,t,r){if(n===tn&&(n=void 0),e===tn&&(e=void 0),!e)return Object.create(n||null);if(!n)return e;var i={};for(var a in O(i,n),e){var s=i[a],c=e[a];s&&!o(s)&&(s=[s]),i[a]=s?s.concat(c):o(c)?c:[c]}return i},St.props=St.methods=St.inject=St.computed=function(n,e,t,r){if(!n)return e;var o=Object.create(null);return O(o,n),e&&O(o,e),o},St.provide=function(n,e){return n?function(){var t=Object.create(null);return Et(t,l(n)?n.call(this):n),e&&Et(t,l(e)?e.call(this):e,!1),t}:e};var zt=function(n,e){return void 0===e?n:e};function At(n,e,t){if(l(e)&&(e=e.options),function(n,e){var t=n.props;if(t){var r,i,a={};if(o(t))for(r=t.length;r--;)"string"==typeof(i=t[r])&&(a[w(i)]={type:null});else if(d(t))for(var s in t)i=t[s],a[w(s)]=d(i)?i:{type:i};else 0;n.props=a}}(e),function(n,e){var t=n.inject;if(t){var r=n.inject={};if(o(t))for(var i=0;i<t.length;i++)r[t[i]]={from:t[i]};else if(d(t))for(var a in t){var s=t[a];r[a]=d(s)?O({from:a},s):{from:s}}else 0}}(e),function(n){var e=n.directives;if(e)for(var t in e){var r=e[t];l(r)&&(e[t]={bind:r,update:r})}}(e),!e._base&&(e.extends&&(n=At(n,e.extends,t)),e.mixins))for(var r=0,i=e.mixins.length;r<i;r++)n=At(n,e.mixins[r],t);var a,s={};for(a in n)c(a);for(a in e)_(n,a)||c(a);function c(r){var o=St[r]||zt;s[r]=o(n[r],e[r],t,r)}return s}function Pt(n,e,t,r){if("string"==typeof t){var o=n[e];if(_(o,t))return o[t];var i=w(t);if(_(o,i))return o[i];var a=C(i);return _(o,a)?o[a]:o[t]||o[i]||o[a]}}function Ot(n,e,t,r){var o=e[n],i=!_(t,n),a=t[n],s=jt(Boolean,o.type);if(s>-1)if(i&&!_(o,"default"))a=!1;else if(""===a||a===z(n)){var c=jt(String,o.type);(c<0||s<c)&&(a=!0)}if(void 0===a){a=function(n,e,t){if(!_(e,"default"))return;var r=e.default;0;if(n&&n.$options.propsData&&void 0===n.$options.propsData[t]&&void 0!==n._props[t])return n._props[t];return l(r)&&"Function"!==Rt(e.type)?r.call(n):r}(r,o,n);var p=Tn;zn(!0),On(a),zn(p)}return a}var It=/^\s*function (\w+)/;function Rt(n){var e=n&&n.toString().match(It);return e?e[1]:""}function Mt(n,e){return Rt(n)===Rt(e)}function jt(n,e){if(!o(e))return Mt(e,n)?0:-1;for(var t=0,r=e.length;t<r;t++)if(Mt(e[t],n))return t;return-1}var Lt={enumerable:!0,configurable:!0,get:R,set:R};function Bt(n,e,t){Lt.get=function(){return this[e][t]},Lt.set=function(n){this[e][t]=n},Object.defineProperty(n,t,Lt)}function Kt(n){var e=n.$options;if(e.props&&function(n,e){var t=n.$options.propsData||{},r=n._props=Ln({}),o=n.$options._propKeys=[];n.$parent&&zn(!1);var i=function(i){o.push(i);var a=Ot(i,e,t,n);In(r,i,a),i in n||Bt(n,"_props",i)};for(var a in e)i(a);zn(!0)}(n,e.props),function(n){var e=n.$options,t=e.setup;if(t){var r=n._setupContext=be(n);dn(n),xn();var o=Te(t,null,[n._props||Ln({}),r],n,"setup");if(_n(),dn(),l(o))e.render=o;else if(p(o))if(n._setupState=o,o.__sfc){var i=n._setupProxy={};for(var a in o)"__sfc"!==a&&Dn(i,o,a)}else for(var a in o)U(a)||Dn(n,o,a);else 0}}(n),e.methods&&function(n,e){n.$options.props;for(var t in e)n[t]="function"!=typeof e[t]?R:A(e[t],n)}(n,e.methods),e.data)!function(n){var e=n.$options.data;d(e=n._data=l(e)?function(n,e){xn();try{return n.call(e,e)}catch(n){return Ce(n,e,"data()"),{}}finally{_n()}}(e,n):e||{})||(e={});var t=Object.keys(e),r=n.$options.props,o=(n.$options.methods,t.length);for(;o--;){var i=t[o];0,r&&_(r,i)||U(i)||Bt(n,"_data",i)}var a=On(e);a&&a.vmCount++}(n);else{var t=On(n._data={});t&&t.vmCount++}e.computed&&function(n,e){var t=n._computedWatchers=Object.create(null),r=an();for(var o in e){var i=e[o],a=l(i)?i:i.get;0,r||(t[o]=new Qe(n,a||R,R,Nt)),o in n||Dt(n,o,i)}}(n,e.computed),e.watch&&e.watch!==tn&&function(n,e){for(var t in e){var r=e[t];if(o(r))for(var i=0;i<r.length;i++)qt(n,t,r[i]);else qt(n,t,r)}}(n,e.watch)}var Nt={lazy:!0};function Dt(n,e,t){var r=!an();l(t)?(Lt.get=r?$t(e):Ft(t),Lt.set=R):(Lt.get=t.get?r&&!1!==t.cache?$t(e):Ft(t.get):R,Lt.set=t.set||R),Object.defineProperty(n,e,Lt)}function $t(n){return function(){var e=this._computedWatchers&&this._computedWatchers[n];if(e)return e.dirty&&e.evaluate(),vn.target&&e.depend(),e.value}}function Ft(n){return function(){return n.call(this,this)}}function qt(n,e,t,r){return d(t)&&(r=t,t=t.handler),"string"==typeof t&&(t=n[t]),n.$watch(e,t,r)}var Ut=0;function Qt(n){var e=n.options;if(n.super){var t=Qt(n.super);if(t!==n.superOptions){n.superOptions=t;var r=function(n){var e,t=n.options,r=n.sealedOptions;for(var o in t)t[o]!==r[o]&&(e||(e={}),e[o]=t[o]);return e}(n);r&&O(n.extendOptions,r),(e=n.options=At(t,n.extendOptions)).name&&(e.components[e.name]=n)}}return e}function Jt(n){this._init(n)}function Vt(n){n.cid=0;var e=1;n.extend=function(n){n=n||{};var t=this,r=t.cid,o=n._Ctor||(n._Ctor={});if(o[r])return o[r];var i=kt(n)||kt(t.options);var a=function(n){this._init(n)};return(a.prototype=Object.create(t.prototype)).constructor=a,a.cid=e++,a.options=At(t.options,n),a.super=t,a.options.props&&function(n){var e=n.options.props;for(var t in e)Bt(n.prototype,"_props",t)}(a),a.options.computed&&function(n){var e=n.options.computed;for(var t in e)Dt(n.prototype,t,e[t])}(a),a.extend=t.extend,a.mixin=t.mixin,a.use=t.use,D.forEach((function(n){a[n]=t[n]})),i&&(a.options.components[i]=a),a.superOptions=t.options,a.extendOptions=n,a.sealedOptions=O({},a.options),o[r]=a,a}}function Zt(n){return n&&(kt(n.Ctor.options)||n.tag)}function Ht(n,e){return o(n)?n.indexOf(e)>-1:"string"==typeof n?n.split(",").indexOf(e)>-1:!!f(n)&&n.test(e)}function Gt(n,e){var t=n.cache,r=n.keys,o=n._vnode;for(var i in t){var a=t[i];if(a){var s=a.name;s&&!e(s)&&Wt(t,i,r,o)}}}function Wt(n,e,t,r){var o=n[e];!o||r&&o.tag===r.tag||o.componentInstance.$destroy(),n[e]=null,y(t,e)}Jt.prototype._init=function(n){var e=this;e._uid=Ut++,e._isVue=!0,e.__v_skip=!0,e._scope=new Fn(!0),e._scope._vm=!0,n&&n._isComponent?function(n,e){var t=n.$options=Object.create(n.constructor.options),r=e._parentVnode;t.parent=e.parent,t._parentVnode=r;var o=r.componentOptions;t.propsData=o.propsData,t._parentListeners=o.listeners,t._renderChildren=o.children,t._componentTag=o.tag,e.render&&(t.render=e.render,t.staticRenderFns=e.staticRenderFns)}(e,n):e.$options=At(Qt(e.constructor),n||{},e),e._renderProxy=e,e._self=e,function(n){var e=n.$options,t=e.parent;if(t&&!e.abstract){for(;t.$options.abstract&&t.$parent;)t=t.$parent;t.$children.push(n)}n.$parent=t,n.$root=t?t.$root:n,n.$children=[],n.$refs={},n._provided=t?t._provided:Object.create(null),n._watcher=null,n._inactive=null,n._directInactive=!1,n._isMounted=!1,n._isDestroyed=!1,n._isBeingDestroyed=!1}(e),function(n){n._events=Object.create(null),n._hasHookEvent=!1;var e=n.$options._parentListeners;e&&He(n,e)}(e),function(n){n._vnode=null,n._staticTrees=null;var e=n.$options,t=n.$vnode=e._parentVnode,o=t&&t.context;n.$slots=de(e._renderChildren,o),n.$scopedSlots=t?he(n.$parent,t.data.scopedSlots,n.$slots):r,n._c=function(e,t,r,o){return we(n,e,t,r,o,!1)},n.$createElement=function(e,t,r,o){return we(n,e,t,r,o,!0)};var i=t&&t.data;In(n,"$attrs",i&&i.attrs||r,null,!0),In(n,"$listeners",e._parentListeners||r,null,!0)}(e),nt(e,"beforeCreate",void 0,!1),function(n){var e=ft(n.$options.inject,n);e&&(zn(!1),Object.keys(e).forEach((function(t){In(n,t,e[t])})),zn(!0))}(e),Kt(e),function(n){var e=n.$options.provide;if(e){var t=l(e)?e.call(n):e;if(!p(t))return;for(var r=qn(n),o=pn?Reflect.ownKeys(t):Object.keys(t),i=0;i<o.length;i++){var a=o[i];Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(t,a))}}}(e),nt(e,"created"),e.$options.el&&e.$mount(e.$options.el)},function(n){var e={get:function(){return this._data}},t={get:function(){return this._props}};Object.defineProperty(n.prototype,"$data",e),Object.defineProperty(n.prototype,"$props",t),n.prototype.$set=Rn,n.prototype.$delete=Mn,n.prototype.$watch=function(n,e,t){if(d(e))return qt(this,n,e,t);(t=t||{}).user=!0;var r=new Qe(this,n,e,t);if(t.immediate){var o='callback for immediate watcher "'.concat(r.expression,'"');xn(),Te(e,this,[r.value],this,o),_n()}return function(){r.teardown()}}}(Jt),function(n){var e=/^hook:/;n.prototype.$on=function(n,t){var r=this;if(o(n))for(var i=0,a=n.length;i<a;i++)r.$on(n[i],t);else(r._events[n]||(r._events[n]=[])).push(t),e.test(n)&&(r._hasHookEvent=!0);return r},n.prototype.$once=function(n,e){var t=this;function r(){t.$off(n,r),e.apply(t,arguments)}return r.fn=e,t.$on(n,r),t},n.prototype.$off=function(n,e){var t=this;if(!arguments.length)return t._events=Object.create(null),t;if(o(n)){for(var r=0,i=n.length;r<i;r++)t.$off(n[r],e);return t}var a,s=t._events[n];if(!s)return t;if(!e)return t._events[n]=null,t;for(var c=s.length;c--;)if((a=s[c])===e||a.fn===e){s.splice(c,1);break}return t},n.prototype.$emit=function(n){var e=this,t=e._events[n];if(t){t=t.length>1?P(t):t;for(var r=P(arguments,1),o='event handler for "'.concat(n,'"'),i=0,a=t.length;i<a;i++)Te(t[i],e,r,e,o)}return e}}(Jt),function(n){n.prototype._update=function(n,e){var t=this,r=t.$el,o=t._vnode,i=We(t);t._vnode=n,t.$el=o?t.__patch__(o,n):t.__patch__(t.$el,n,e,!1),i(),r&&(r.__vue__=null),t.$el&&(t.$el.__vue__=t);for(var a=t;a&&a.$vnode&&a.$parent&&a.$vnode===a.$parent._vnode;)a.$parent.$el=a.$el,a=a.$parent},n.prototype.$forceUpdate=function(){this._watcher&&this._watcher.update()},n.prototype.$destroy=function(){var n=this;if(!n._isBeingDestroyed){nt(n,"beforeDestroy"),n._isBeingDestroyed=!0;var e=n.$parent;!e||e._isBeingDestroyed||n.$options.abstract||y(e.$children,n),n._scope.stop(),n._data.__ob__&&n._data.__ob__.vmCount--,n._isDestroyed=!0,n.__patch__(n._vnode,null),nt(n,"destroyed"),n.$off(),n.$el&&(n.$el.__vue__=null),n.$vnode&&(n.$vnode.parent=null)}}}(Jt),function(n){ue(n.prototype),n.prototype.$nextTick=function(n){return Ne(n,this)},n.prototype._render=function(){var n,e=this,t=e.$options,r=t.render,i=t._parentVnode;i&&e._isMounted&&(e.$scopedSlots=he(e.$parent,i.data.scopedSlots,e.$slots,e.$scopedSlots),e._slotsProxy&&xe(e._slotsProxy,e.$scopedSlots)),e.$vnode=i;try{dn(e),_e=e,n=r.call(e._renderProxy,e.$createElement)}catch(t){Ce(t,e,"render"),n=e._vnode}finally{_e=null,dn()}return o(n)&&1===n.length&&(n=n[0]),n instanceof fn||(n=mn()),n.parent=i,n}}(Jt);var Xt=[String,RegExp,Array],Yt={KeepAlive:{name:"keep-alive",abstract:!0,props:{include:Xt,exclude:Xt,max:[String,Number]},methods:{cacheVNode:function(){var n=this.cache,e=this.keys,t=this.vnodeToCache,r=this.keyToCache;if(t){var o=t.tag,i=t.componentInstance,a=t.componentOptions;n[r]={name:Zt(a),tag:o,componentInstance:i},e.push(r),this.max&&e.length>parseInt(this.max)&&Wt(n,e[0],e,this._vnode),this.vnodeToCache=null}}},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var n in this.cache)Wt(this.cache,n,this.keys)},mounted:function(){var n=this;this.cacheVNode(),this.$watch("include",(function(e){Gt(n,(function(n){return Ht(e,n)}))})),this.$watch("exclude",(function(e){Gt(n,(function(n){return!Ht(e,n)}))}))},updated:function(){this.cacheVNode()},render:function(){var n=this.$slots.default,e=Ee(n),t=e&&e.componentOptions;if(t){var r=Zt(t),o=this.include,i=this.exclude;if(o&&(!r||!Ht(o,r))||i&&r&&Ht(i,r))return e;var a=this.cache,s=this.keys,c=null==e.key?t.Ctor.cid+(t.tag?"::".concat(t.tag):""):e.key;a[c]?(e.componentInstance=a[c].componentInstance,y(s,c),s.push(c)):(this.vnodeToCache=e,this.keyToCache=c),e.data.keepAlive=!0}return e||n&&n[0]}}};!function(n){var e={get:function(){return F}};Object.defineProperty(n,"config",e),n.util={warn:_t,extend:O,mergeOptions:At,defineReactive:In},n.set=Rn,n.delete=Mn,n.nextTick=Ne,n.observable=function(n){return On(n),n},n.options=Object.create(null),D.forEach((function(e){n.options[e+"s"]=Object.create(null)})),n.options._base=n,O(n.options.components,Yt),function(n){n.use=function(n){var e=this._installedPlugins||(this._installedPlugins=[]);if(e.indexOf(n)>-1)return this;var t=P(arguments,1);return t.unshift(this),l(n.install)?n.install.apply(n,t):l(n)&&n.apply(null,t),e.push(n),this}}(n),function(n){n.mixin=function(n){return this.options=At(this.options,n),this}}(n),Vt(n),function(n){D.forEach((function(e){n[e]=function(n,t){return t?("component"===e&&d(t)&&(t.name=t.name||n,t=this.options._base.extend(t)),"directive"===e&&l(t)&&(t={bind:t,update:t}),this.options[e+"s"][n]=t,t):this.options[e+"s"][n]}}))}(n)}(Jt),Object.defineProperty(Jt.prototype,"$isServer",{get:an}),Object.defineProperty(Jt.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(Jt,"FunctionalRenderContext",{value:mt}),Jt.version="2.7.15";var nr=b("style,class"),er=b("input,textarea,option,select,progress"),tr=b("contenteditable,draggable,spellcheck"),rr=b("events,caret,typing,plaintext-only"),or=b("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,truespeed,typemustmatch,visible"),ir="http://www.w3.org/1999/xlink",ar=function(n){return":"===n.charAt(5)&&"xlink"===n.slice(0,5)},sr=function(n){return ar(n)?n.slice(6,n.length):""},cr=function(n){return null==n||!1===n};function lr(n){for(var e=n.data,t=n,r=n;a(r.componentInstance);)(r=r.componentInstance._vnode)&&r.data&&(e=pr(r.data,e));for(;a(t=t.parent);)t&&t.data&&(e=pr(e,t.data));return function(n,e){if(a(n)||a(e))return ur(n,dr(e));return""}(e.staticClass,e.class)}function pr(n,e){return{staticClass:ur(n.staticClass,e.staticClass),class:a(n.class)?[n.class,e.class]:e.class}}function ur(n,e){return n?e?n+" "+e:n:e||""}function dr(n){return Array.isArray(n)?function(n){for(var e,t="",r=0,o=n.length;r<o;r++)a(e=dr(n[r]))&&""!==e&&(t&&(t+=" "),t+=e);return t}(n):p(n)?function(n){var e="";for(var t in n)n[t]&&(e&&(e+=" "),e+=t);return e}(n):"string"==typeof n?n:""}var fr={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},mr=b("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),hr=b("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignobject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),gr=function(n){return mr(n)||hr(n)};var kr=Object.create(null);var br=b("text,number,password,search,email,tel,url");var vr=Object.freeze({__proto__:null,createElement:function(n,e){var t=document.createElement(n);return"select"!==n||e.data&&e.data.attrs&&void 0!==e.data.attrs.multiple&&t.setAttribute("multiple","multiple"),t},createElementNS:function(n,e){return document.createElementNS(fr[n],e)},createTextNode:function(n){return document.createTextNode(n)},createComment:function(n){return document.createComment(n)},insertBefore:function(n,e,t){n.insertBefore(e,t)},removeChild:function(n,e){n.removeChild(e)},appendChild:function(n,e){n.appendChild(e)},parentNode:function(n){return n.parentNode},nextSibling:function(n){return n.nextSibling},tagName:function(n){return n.tagName},setTextContent:function(n,e){n.textContent=e},setStyleScope:function(n,e){n.setAttribute(e,"")}}),yr={create:function(n,e){xr(e)},update:function(n,e){n.data.ref!==e.data.ref&&(xr(n,!0),xr(e))},destroy:function(n){xr(n,!0)}};function xr(n,e){var t=n.data.ref;if(a(t)){var r=n.context,i=n.componentInstance||n.elm,s=e?null:i,c=e?void 0:i;if(l(t))Te(t,r,[s],r,"template ref function");else{var p=n.data.refInFor,u="string"==typeof t||"number"==typeof t,d=Nn(t),f=r.$refs;if(u||d)if(p){var m=u?f[t]:t.value;e?o(m)&&y(m,i):o(m)?m.includes(i)||m.push(i):u?(f[t]=[i],_r(r,t,f[t])):t.value=[i]}else if(u){if(e&&f[t]!==i)return;f[t]=c,_r(r,t,s)}else if(d){if(e&&t.value!==i)return;t.value=s}else 0}}}function _r(n,e,t){var r=n._setupState;r&&_(r,e)&&(Nn(r[e])?r[e].value=t:r[e]=t)}var Sr=new fn("",{},[]),Er=["create","activate","update","remove","destroy"];function wr(n,e){return n.key===e.key&&n.asyncFactory===e.asyncFactory&&(n.tag===e.tag&&n.isComment===e.isComment&&a(n.data)===a(e.data)&&function(n,e){if("input"!==n.tag)return!0;var t,r=a(t=n.data)&&a(t=t.attrs)&&t.type,o=a(t=e.data)&&a(t=t.attrs)&&t.type;return r===o||br(r)&&br(o)}(n,e)||s(n.isAsyncPlaceholder)&&i(e.asyncFactory.error))}function Cr(n,e,t){var r,o,i={};for(r=e;r<=t;++r)a(o=n[r].key)&&(i[o]=r);return i}var Tr={create:zr,update:zr,destroy:function(n){zr(n,Sr)}};function zr(n,e){(n.data.directives||e.data.directives)&&function(n,e){var t,r,o,i=n===Sr,a=e===Sr,s=Pr(n.data.directives,n.context),c=Pr(e.data.directives,e.context),l=[],p=[];for(t in c)r=s[t],o=c[t],r?(o.oldValue=r.value,o.oldArg=r.arg,Ir(o,"update",e,n),o.def&&o.def.componentUpdated&&p.push(o)):(Ir(o,"bind",e,n),o.def&&o.def.inserted&&l.push(o));if(l.length){var u=function(){for(var t=0;t<l.length;t++)Ir(l[t],"inserted",e,n)};i?Vn(e,"insert",u):u()}p.length&&Vn(e,"postpatch",(function(){for(var t=0;t<p.length;t++)Ir(p[t],"componentUpdated",e,n)}));if(!i)for(t in s)c[t]||Ir(s[t],"unbind",n,n,a)}(n,e)}var Ar=Object.create(null);function Pr(n,e){var t,r,o=Object.create(null);if(!n)return o;for(t=0;t<n.length;t++){if((r=n[t]).modifiers||(r.modifiers=Ar),o[Or(r)]=r,e._setupState&&e._setupState.__sfc){var i=r.def||Pt(e,"_setupState","v-"+r.name);r.def="function"==typeof i?{bind:i,update:i}:i}r.def=r.def||Pt(e.$options,"directives",r.name)}return o}function Or(n){return n.rawName||"".concat(n.name,".").concat(Object.keys(n.modifiers||{}).join("."))}function Ir(n,e,t,r,o){var i=n.def&&n.def[e];if(i)try{i(t.elm,n,t,r,o)}catch(r){Ce(r,t.context,"directive ".concat(n.name," ").concat(e," hook"))}}var Rr=[yr,Tr];function Mr(n,e){var t=e.componentOptions;if(!(a(t)&&!1===t.Ctor.options.inheritAttrs||i(n.data.attrs)&&i(e.data.attrs))){var r,o,c=e.elm,l=n.data.attrs||{},p=e.data.attrs||{};for(r in(a(p.__ob__)||s(p._v_attr_proxy))&&(p=e.data.attrs=O({},p)),p)o=p[r],l[r]!==o&&jr(c,r,o,e.data.pre);for(r in(G||X)&&p.value!==l.value&&jr(c,"value",p.value),l)i(p[r])&&(ar(r)?c.removeAttributeNS(ir,sr(r)):tr(r)||c.removeAttribute(r))}}function jr(n,e,t,r){r||n.tagName.indexOf("-")>-1?Lr(n,e,t):or(e)?cr(t)?n.removeAttribute(e):(t="allowfullscreen"===e&&"EMBED"===n.tagName?"true":e,n.setAttribute(e,t)):tr(e)?n.setAttribute(e,function(n,e){return cr(e)||"false"===e?"false":"contenteditable"===n&&rr(e)?e:"true"}(e,t)):ar(e)?cr(t)?n.removeAttributeNS(ir,sr(e)):n.setAttributeNS(ir,e,t):Lr(n,e,t)}function Lr(n,e,t){if(cr(t))n.removeAttribute(e);else{if(G&&!W&&"TEXTAREA"===n.tagName&&"placeholder"===e&&""!==t&&!n.__ieph){var r=function(e){e.stopImmediatePropagation(),n.removeEventListener("input",r)};n.addEventListener("input",r),n.__ieph=!0}n.setAttribute(e,t)}}var Br={create:Mr,update:Mr};function Kr(n,e){var t=e.elm,r=e.data,o=n.data;if(!(i(r.staticClass)&&i(r.class)&&(i(o)||i(o.staticClass)&&i(o.class)))){var s=lr(e),c=t._transitionClasses;a(c)&&(s=ur(s,dr(c))),s!==t._prevClass&&(t.setAttribute("class",s),t._prevClass=s)}}var Nr,Dr={create:Kr,update:Kr};function $r(n,e,t){var r=Nr;return function o(){var i=e.apply(null,arguments);null!==i&&Ur(n,o,t,r)}}var Fr=Oe&&!(en&&Number(en[1])<=53);function qr(n,e,t,r){if(Fr){var o=st,i=e;e=i._wrapper=function(n){if(n.target===n.currentTarget||n.timeStamp>=o||n.timeStamp<=0||n.target.ownerDocument!==document)return i.apply(this,arguments)}}Nr.addEventListener(n,e,rn?{capture:t,passive:r}:t)}function Ur(n,e,t,r){(r||Nr).removeEventListener(n,e._wrapper||e,t)}function Qr(n,e){if(!i(n.data.on)||!i(e.data.on)){var t=e.data.on||{},r=n.data.on||{};Nr=e.elm||n.elm,function(n){if(a(n.__r)){var e=G?"change":"input";n[e]=[].concat(n.__r,n[e]||[]),delete n.__r}a(n.__c)&&(n.change=[].concat(n.__c,n.change||[]),delete n.__c)}(t),Jn(t,r,qr,Ur,$r,e.context),Nr=void 0}}var Jr,Vr={create:Qr,update:Qr,destroy:function(n){return Qr(n,Sr)}};function Zr(n,e){if(!i(n.data.domProps)||!i(e.data.domProps)){var t,r,o=e.elm,c=n.data.domProps||{},l=e.data.domProps||{};for(t in(a(l.__ob__)||s(l._v_attr_proxy))&&(l=e.data.domProps=O({},l)),c)t in l||(o[t]="");for(t in l){if(r=l[t],"textContent"===t||"innerHTML"===t){if(e.children&&(e.children.length=0),r===c[t])continue;1===o.childNodes.length&&o.removeChild(o.childNodes[0])}if("value"===t&&"PROGRESS"!==o.tagName){o._value=r;var p=i(r)?"":String(r);Hr(o,p)&&(o.value=p)}else if("innerHTML"===t&&hr(o.tagName)&&i(o.innerHTML)){(Jr=Jr||document.createElement("div")).innerHTML="<svg>".concat(r,"</svg>");for(var u=Jr.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;u.firstChild;)o.appendChild(u.firstChild)}else if(r!==c[t])try{o[t]=r}catch(n){}}}}function Hr(n,e){return!n.composing&&("OPTION"===n.tagName||function(n,e){var t=!0;try{t=document.activeElement!==n}catch(n){}return t&&n.value!==e}(n,e)||function(n,e){var t=n.value,r=n._vModifiers;if(a(r)){if(r.number)return k(t)!==k(e);if(r.trim)return t.trim()!==e.trim()}return t!==e}(n,e))}var Gr={create:Zr,update:Zr},Wr=S((function(n){var e={},t=/:(.+)/;return n.split(/;(?![^(]*\))/g).forEach((function(n){if(n){var r=n.split(t);r.length>1&&(e[r[0].trim()]=r[1].trim())}})),e}));function Xr(n){var e=Yr(n.style);return n.staticStyle?O(n.staticStyle,e):e}function Yr(n){return Array.isArray(n)?I(n):"string"==typeof n?Wr(n):n}var no,eo=/^--/,to=/\s*!important$/,ro=function(n,e,t){if(eo.test(e))n.style.setProperty(e,t);else if(to.test(t))n.style.setProperty(z(e),t.replace(to,""),"important");else{var r=io(e);if(Array.isArray(t))for(var o=0,i=t.length;o<i;o++)n.style[r]=t[o];else n.style[r]=t}},oo=["Webkit","Moz","ms"],io=S((function(n){if(no=no||document.createElement("div").style,"filter"!==(n=w(n))&&n in no)return n;for(var e=n.charAt(0).toUpperCase()+n.slice(1),t=0;t<oo.length;t++){var r=oo[t]+e;if(r in no)return r}}));function ao(n,e){var t=e.data,r=n.data;if(!(i(t.staticStyle)&&i(t.style)&&i(r.staticStyle)&&i(r.style))){var o,s,c=e.elm,l=r.staticStyle,p=r.normalizedStyle||r.style||{},u=l||p,d=Yr(e.data.style)||{};e.data.normalizedStyle=a(d.__ob__)?O({},d):d;var f=function(n,e){var t,r={};if(e)for(var o=n;o.componentInstance;)(o=o.componentInstance._vnode)&&o.data&&(t=Xr(o.data))&&O(r,t);(t=Xr(n.data))&&O(r,t);for(var i=n;i=i.parent;)i.data&&(t=Xr(i.data))&&O(r,t);return r}(e,!0);for(s in u)i(f[s])&&ro(c,s,"");for(s in f)(o=f[s])!==u[s]&&ro(c,s,null==o?"":o)}}var so={create:ao,update:ao},co=/\s+/;function lo(n,e){if(e&&(e=e.trim()))if(n.classList)e.indexOf(" ")>-1?e.split(co).forEach((function(e){return n.classList.add(e)})):n.classList.add(e);else{var t=" ".concat(n.getAttribute("class")||""," ");t.indexOf(" "+e+" ")<0&&n.setAttribute("class",(t+e).trim())}}function po(n,e){if(e&&(e=e.trim()))if(n.classList)e.indexOf(" ")>-1?e.split(co).forEach((function(e){return n.classList.remove(e)})):n.classList.remove(e),n.classList.length||n.removeAttribute("class");else{for(var t=" ".concat(n.getAttribute("class")||""," "),r=" "+e+" ";t.indexOf(r)>=0;)t=t.replace(r," ");(t=t.trim())?n.setAttribute("class",t):n.removeAttribute("class")}}function uo(n){if(n){if("object"==typeof n){var e={};return!1!==n.css&&O(e,fo(n.name||"v")),O(e,n),e}return"string"==typeof n?fo(n):void 0}}var fo=S((function(n){return{enterClass:"".concat(n,"-enter"),enterToClass:"".concat(n,"-enter-to"),enterActiveClass:"".concat(n,"-enter-active"),leaveClass:"".concat(n,"-leave"),leaveToClass:"".concat(n,"-leave-to"),leaveActiveClass:"".concat(n,"-leave-active")}})),mo=Z&&!W,ho="transition",go="transitionend",ko="animation",bo="animationend";mo&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(ho="WebkitTransition",go="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(ko="WebkitAnimation",bo="webkitAnimationEnd"));var vo=Z?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(n){return n()};function yo(n){vo((function(){vo(n)}))}function xo(n,e){var t=n._transitionClasses||(n._transitionClasses=[]);t.indexOf(e)<0&&(t.push(e),lo(n,e))}function _o(n,e){n._transitionClasses&&y(n._transitionClasses,e),po(n,e)}function So(n,e,t){var r=wo(n,e),o=r.type,i=r.timeout,a=r.propCount;if(!o)return t();var s="transition"===o?go:bo,c=0,l=function(){n.removeEventListener(s,p),t()},p=function(e){e.target===n&&++c>=a&&l()};setTimeout((function(){c<a&&l()}),i+1),n.addEventListener(s,p)}var Eo=/\b(transform|all)(,|$)/;function wo(n,e){var t,r=window.getComputedStyle(n),o=(r[ho+"Delay"]||"").split(", "),i=(r[ho+"Duration"]||"").split(", "),a=Co(o,i),s=(r[ko+"Delay"]||"").split(", "),c=(r[ko+"Duration"]||"").split(", "),l=Co(s,c),p=0,u=0;return"transition"===e?a>0&&(t="transition",p=a,u=i.length):"animation"===e?l>0&&(t="animation",p=l,u=c.length):u=(t=(p=Math.max(a,l))>0?a>l?"transition":"animation":null)?"transition"===t?i.length:c.length:0,{type:t,timeout:p,propCount:u,hasTransform:"transition"===t&&Eo.test(r[ho+"Property"])}}function Co(n,e){for(;n.length<e.length;)n=n.concat(n);return Math.max.apply(null,e.map((function(e,t){return To(e)+To(n[t])})))}function To(n){return 1e3*Number(n.slice(0,-1).replace(",","."))}function zo(n,e){var t=n.elm;a(t._leaveCb)&&(t._leaveCb.cancelled=!0,t._leaveCb());var r=uo(n.data.transition);if(!i(r)&&!a(t._enterCb)&&1===t.nodeType){for(var o=r.css,s=r.type,c=r.enterClass,u=r.enterToClass,d=r.enterActiveClass,f=r.appearClass,m=r.appearToClass,h=r.appearActiveClass,g=r.beforeEnter,b=r.enter,v=r.afterEnter,y=r.enterCancelled,x=r.beforeAppear,_=r.appear,S=r.afterAppear,E=r.appearCancelled,w=r.duration,C=Ge,T=Ge.$vnode;T&&T.parent;)C=T.context,T=T.parent;var z=!C._isMounted||!n.isRootInsert;if(!z||_||""===_){var A=z&&f?f:c,P=z&&h?h:d,O=z&&m?m:u,I=z&&x||g,R=z&&l(_)?_:b,M=z&&S||v,j=z&&E||y,L=k(p(w)?w.enter:w);0;var B=!1!==o&&!W,N=Oo(R),D=t._enterCb=K((function(){B&&(_o(t,O),_o(t,P)),D.cancelled?(B&&_o(t,A),j&&j(t)):M&&M(t),t._enterCb=null}));n.data.show||Vn(n,"insert",(function(){var e=t.parentNode,r=e&&e._pending&&e._pending[n.key];r&&r.tag===n.tag&&r.elm._leaveCb&&r.elm._leaveCb(),R&&R(t,D)})),I&&I(t),B&&(xo(t,A),xo(t,P),yo((function(){_o(t,A),D.cancelled||(xo(t,O),N||(Po(L)?setTimeout(D,L):So(t,s,D)))}))),n.data.show&&(e&&e(),R&&R(t,D)),B||N||D()}}}function Ao(n,e){var t=n.elm;a(t._enterCb)&&(t._enterCb.cancelled=!0,t._enterCb());var r=uo(n.data.transition);if(i(r)||1!==t.nodeType)return e();if(!a(t._leaveCb)){var o=r.css,s=r.type,c=r.leaveClass,l=r.leaveToClass,u=r.leaveActiveClass,d=r.beforeLeave,f=r.leave,m=r.afterLeave,h=r.leaveCancelled,g=r.delayLeave,b=r.duration,v=!1!==o&&!W,y=Oo(f),x=k(p(b)?b.leave:b);0;var _=t._leaveCb=K((function(){t.parentNode&&t.parentNode._pending&&(t.parentNode._pending[n.key]=null),v&&(_o(t,l),_o(t,u)),_.cancelled?(v&&_o(t,c),h&&h(t)):(e(),m&&m(t)),t._leaveCb=null}));g?g(S):S()}function S(){_.cancelled||(!n.data.show&&t.parentNode&&((t.parentNode._pending||(t.parentNode._pending={}))[n.key]=n),d&&d(t),v&&(xo(t,c),xo(t,u),yo((function(){_o(t,c),_.cancelled||(xo(t,l),y||(Po(x)?setTimeout(_,x):So(t,s,_)))}))),f&&f(t,_),v||y||_())}}function Po(n){return"number"==typeof n&&!isNaN(n)}function Oo(n){if(i(n))return!1;var e=n.fns;return a(e)?Oo(Array.isArray(e)?e[0]:e):(n._length||n.length)>1}function Io(n,e){!0!==e.data.show&&zo(e)}var Ro=function(n){var e,t,r={},l=n.modules,p=n.nodeOps;for(e=0;e<Er.length;++e)for(r[Er[e]]=[],t=0;t<l.length;++t)a(l[t][Er[e]])&&r[Er[e]].push(l[t][Er[e]]);function u(n){var e=p.parentNode(n);a(e)&&p.removeChild(e,n)}function d(n,e,t,o,i,c,l){if(a(n.elm)&&a(c)&&(n=c[l]=gn(n)),n.isRootInsert=!i,!function(n,e,t,o){var i=n.data;if(a(i)){var c=a(n.componentInstance)&&i.keepAlive;if(a(i=i.hook)&&a(i=i.init)&&i(n,!1),a(n.componentInstance))return f(n,e),m(t,n.elm,o),s(c)&&function(n,e,t,o){var i,s=n;for(;s.componentInstance;)if(s=s.componentInstance._vnode,a(i=s.data)&&a(i=i.transition)){for(i=0;i<r.activate.length;++i)r.activate[i](Sr,s);e.push(s);break}m(t,n.elm,o)}(n,e,t,o),!0}}(n,e,t,o)){var u=n.data,d=n.children,g=n.tag;a(g)?(n.elm=n.ns?p.createElementNS(n.ns,g):p.createElement(g,n),v(n),h(n,d,e),a(u)&&k(n,e),m(t,n.elm,o)):s(n.isComment)?(n.elm=p.createComment(n.text),m(t,n.elm,o)):(n.elm=p.createTextNode(n.text),m(t,n.elm,o))}}function f(n,e){a(n.data.pendingInsert)&&(e.push.apply(e,n.data.pendingInsert),n.data.pendingInsert=null),n.elm=n.componentInstance.$el,g(n)?(k(n,e),v(n)):(xr(n),e.push(n))}function m(n,e,t){a(n)&&(a(t)?p.parentNode(t)===n&&p.insertBefore(n,e,t):p.appendChild(n,e))}function h(n,e,t){if(o(e)){0;for(var r=0;r<e.length;++r)d(e[r],t,n.elm,null,!0,e,r)}else c(n.text)&&p.appendChild(n.elm,p.createTextNode(String(n.text)))}function g(n){for(;n.componentInstance;)n=n.componentInstance._vnode;return a(n.tag)}function k(n,t){for(var o=0;o<r.create.length;++o)r.create[o](Sr,n);a(e=n.data.hook)&&(a(e.create)&&e.create(Sr,n),a(e.insert)&&t.push(n))}function v(n){var e;if(a(e=n.fnScopeId))p.setStyleScope(n.elm,e);else for(var t=n;t;)a(e=t.context)&&a(e=e.$options._scopeId)&&p.setStyleScope(n.elm,e),t=t.parent;a(e=Ge)&&e!==n.context&&e!==n.fnContext&&a(e=e.$options._scopeId)&&p.setStyleScope(n.elm,e)}function y(n,e,t,r,o,i){for(;r<=o;++r)d(t[r],i,n,e,!1,t,r)}function x(n){var e,t,o=n.data;if(a(o))for(a(e=o.hook)&&a(e=e.destroy)&&e(n),e=0;e<r.destroy.length;++e)r.destroy[e](n);if(a(e=n.children))for(t=0;t<n.children.length;++t)x(n.children[t])}function _(n,e,t){for(;e<=t;++e){var r=n[e];a(r)&&(a(r.tag)?(S(r),x(r)):u(r.elm))}}function S(n,e){if(a(e)||a(n.data)){var t,o=r.remove.length+1;for(a(e)?e.listeners+=o:e=function(n,e){function t(){0==--t.listeners&&u(n)}return t.listeners=e,t}(n.elm,o),a(t=n.componentInstance)&&a(t=t._vnode)&&a(t.data)&&S(t,e),t=0;t<r.remove.length;++t)r.remove[t](n,e);a(t=n.data.hook)&&a(t=t.remove)?t(n,e):e()}else u(n.elm)}function E(n,e,t,r){for(var o=t;o<r;o++){var i=e[o];if(a(i)&&wr(n,i))return o}}function w(n,e,t,o,c,l){if(n!==e){a(e.elm)&&a(o)&&(e=o[c]=gn(e));var u=e.elm=n.elm;if(s(n.isAsyncPlaceholder))a(e.asyncFactory.resolved)?z(n.elm,e,t):e.isAsyncPlaceholder=!0;else if(s(e.isStatic)&&s(n.isStatic)&&e.key===n.key&&(s(e.isCloned)||s(e.isOnce)))e.componentInstance=n.componentInstance;else{var f,m=e.data;a(m)&&a(f=m.hook)&&a(f=f.prepatch)&&f(n,e);var h=n.children,k=e.children;if(a(m)&&g(e)){for(f=0;f<r.update.length;++f)r.update[f](n,e);a(f=m.hook)&&a(f=f.update)&&f(n,e)}i(e.text)?a(h)&&a(k)?h!==k&&function(n,e,t,r,o){var s,c,l,u=0,f=0,m=e.length-1,h=e[0],g=e[m],k=t.length-1,b=t[0],v=t[k],x=!o;for(0;u<=m&&f<=k;)i(h)?h=e[++u]:i(g)?g=e[--m]:wr(h,b)?(w(h,b,r,t,f),h=e[++u],b=t[++f]):wr(g,v)?(w(g,v,r,t,k),g=e[--m],v=t[--k]):wr(h,v)?(w(h,v,r,t,k),x&&p.insertBefore(n,h.elm,p.nextSibling(g.elm)),h=e[++u],v=t[--k]):wr(g,b)?(w(g,b,r,t,f),x&&p.insertBefore(n,g.elm,h.elm),g=e[--m],b=t[++f]):(i(s)&&(s=Cr(e,u,m)),i(c=a(b.key)?s[b.key]:E(b,e,u,m))?d(b,r,n,h.elm,!1,t,f):wr(l=e[c],b)?(w(l,b,r,t,f),e[c]=void 0,x&&p.insertBefore(n,l.elm,h.elm)):d(b,r,n,h.elm,!1,t,f),b=t[++f]);u>m?y(n,i(t[k+1])?null:t[k+1].elm,t,f,k,r):f>k&&_(e,u,m)}(u,h,k,t,l):a(k)?(a(n.text)&&p.setTextContent(u,""),y(u,null,k,0,k.length-1,t)):a(h)?_(h,0,h.length-1):a(n.text)&&p.setTextContent(u,""):n.text!==e.text&&p.setTextContent(u,e.text),a(m)&&a(f=m.hook)&&a(f=f.postpatch)&&f(n,e)}}}function C(n,e,t){if(s(t)&&a(n.parent))n.parent.data.pendingInsert=e;else for(var r=0;r<e.length;++r)e[r].data.hook.insert(e[r])}var T=b("attrs,class,staticClass,staticStyle,key");function z(n,e,t,r){var o,i=e.tag,c=e.data,l=e.children;if(r=r||c&&c.pre,e.elm=n,s(e.isComment)&&a(e.asyncFactory))return e.isAsyncPlaceholder=!0,!0;if(a(c)&&(a(o=c.hook)&&a(o=o.init)&&o(e,!0),a(o=e.componentInstance)))return f(e,t),!0;if(a(i)){if(a(l))if(n.hasChildNodes())if(a(o=c)&&a(o=o.domProps)&&a(o=o.innerHTML)){if(o!==n.innerHTML)return!1}else{for(var p=!0,u=n.firstChild,d=0;d<l.length;d++){if(!u||!z(u,l[d],t,r)){p=!1;break}u=u.nextSibling}if(!p||u)return!1}else h(e,l,t);if(a(c)){var m=!1;for(var g in c)if(!T(g)){m=!0,k(e,t);break}!m&&c.class&&Fe(c.class)}}else n.data!==e.text&&(n.data=e.text);return!0}return function(n,e,t,o){if(!i(e)){var c,l=!1,u=[];if(i(n))l=!0,d(e,u);else{var f=a(n.nodeType);if(!f&&wr(n,e))w(n,e,u,null,null,o);else{if(f){if(1===n.nodeType&&n.hasAttribute("data-server-rendered")&&(n.removeAttribute("data-server-rendered"),t=!0),s(t)&&z(n,e,u))return C(e,u,!0),n;c=n,n=new fn(p.tagName(c).toLowerCase(),{},[],void 0,c)}var m=n.elm,h=p.parentNode(m);if(d(e,u,m._leaveCb?null:h,p.nextSibling(m)),a(e.parent))for(var k=e.parent,b=g(e);k;){for(var v=0;v<r.destroy.length;++v)r.destroy[v](k);if(k.elm=e.elm,b){for(var y=0;y<r.create.length;++y)r.create[y](Sr,k);var S=k.data.hook.insert;if(S.merged)for(var E=S.fns.slice(1),T=0;T<E.length;T++)E[T]()}else xr(k);k=k.parent}a(h)?_([n],0,0):a(n.tag)&&x(n)}}return C(e,u,l),e.elm}a(n)&&x(n)}}({nodeOps:vr,modules:[Br,Dr,Vr,Gr,so,Z?{create:Io,activate:Io,remove:function(n,e){!0!==n.data.show?Ao(n,e):e()}}:{}].concat(Rr)});W&&document.addEventListener("selectionchange",(function(){var n=document.activeElement;n&&n.vmodel&&$o(n,"input")}));var Mo={inserted:function(n,e,t,r){"select"===t.tag?(r.elm&&!r.elm._vOptions?Vn(t,"postpatch",(function(){Mo.componentUpdated(n,e,t)})):jo(n,e,t.context),n._vOptions=[].map.call(n.options,Ko)):("textarea"===t.tag||br(n.type))&&(n._vModifiers=e.modifiers,e.modifiers.lazy||(n.addEventListener("compositionstart",No),n.addEventListener("compositionend",Do),n.addEventListener("change",Do),W&&(n.vmodel=!0)))},componentUpdated:function(n,e,t){if("select"===t.tag){jo(n,e,t.context);var r=n._vOptions,o=n._vOptions=[].map.call(n.options,Ko);if(o.some((function(n,e){return!L(n,r[e])})))(n.multiple?e.value.some((function(n){return Bo(n,o)})):e.value!==e.oldValue&&Bo(e.value,o))&&$o(n,"change")}}};function jo(n,e,t){Lo(n,e,t),(G||X)&&setTimeout((function(){Lo(n,e,t)}),0)}function Lo(n,e,t){var r=e.value,o=n.multiple;if(!o||Array.isArray(r)){for(var i,a,s=0,c=n.options.length;s<c;s++)if(a=n.options[s],o)i=B(r,Ko(a))>-1,a.selected!==i&&(a.selected=i);else if(L(Ko(a),r))return void(n.selectedIndex!==s&&(n.selectedIndex=s));o||(n.selectedIndex=-1)}}function Bo(n,e){return e.every((function(e){return!L(e,n)}))}function Ko(n){return"_value"in n?n._value:n.value}function No(n){n.target.composing=!0}function Do(n){n.target.composing&&(n.target.composing=!1,$o(n.target,"input"))}function $o(n,e){var t=document.createEvent("HTMLEvents");t.initEvent(e,!0,!0),n.dispatchEvent(t)}function Fo(n){return!n.componentInstance||n.data&&n.data.transition?n:Fo(n.componentInstance._vnode)}var qo={model:Mo,show:{bind:function(n,e,t){var r=e.value,o=(t=Fo(t)).data&&t.data.transition,i=n.__vOriginalDisplay="none"===n.style.display?"":n.style.display;r&&o?(t.data.show=!0,zo(t,(function(){n.style.display=i}))):n.style.display=r?i:"none"},update:function(n,e,t){var r=e.value;!r!=!e.oldValue&&((t=Fo(t)).data&&t.data.transition?(t.data.show=!0,r?zo(t,(function(){n.style.display=n.__vOriginalDisplay})):Ao(t,(function(){n.style.display="none"}))):n.style.display=r?n.__vOriginalDisplay:"none")},unbind:function(n,e,t,r,o){o||(n.style.display=n.__vOriginalDisplay)}}},Uo={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function Qo(n){var e=n&&n.componentOptions;return e&&e.Ctor.options.abstract?Qo(Ee(e.children)):n}function Jo(n){var e={},t=n.$options;for(var r in t.propsData)e[r]=n[r];var o=t._parentListeners;for(var r in o)e[w(r)]=o[r];return e}function Vo(n,e){if(/\d-keep-alive$/.test(e.tag))return n("keep-alive",{props:e.componentOptions.propsData})}var Zo=function(n){return n.tag||me(n)},Ho=function(n){return"show"===n.name},Go={name:"transition",props:Uo,abstract:!0,render:function(n){var e=this,t=this.$slots.default;if(t&&(t=t.filter(Zo)).length){0;var r=this.mode;0;var o=t[0];if(function(n){for(;n=n.parent;)if(n.data.transition)return!0}(this.$vnode))return o;var i=Qo(o);if(!i)return o;if(this._leaving)return Vo(n,o);var a="__transition-".concat(this._uid,"-");i.key=null==i.key?i.isComment?a+"comment":a+i.tag:c(i.key)?0===String(i.key).indexOf(a)?i.key:a+i.key:i.key;var s=(i.data||(i.data={})).transition=Jo(this),l=this._vnode,p=Qo(l);if(i.data.directives&&i.data.directives.some(Ho)&&(i.data.show=!0),p&&p.data&&!function(n,e){return e.key===n.key&&e.tag===n.tag}(i,p)&&!me(p)&&(!p.componentInstance||!p.componentInstance._vnode.isComment)){var u=p.data.transition=O({},s);if("out-in"===r)return this._leaving=!0,Vn(u,"afterLeave",(function(){e._leaving=!1,e.$forceUpdate()})),Vo(n,o);if("in-out"===r){if(me(i))return l;var d,f=function(){d()};Vn(s,"afterEnter",f),Vn(s,"enterCancelled",f),Vn(u,"delayLeave",(function(n){d=n}))}}return o}}},Wo=O({tag:String,moveClass:String},Uo);function Xo(n){n.elm._moveCb&&n.elm._moveCb(),n.elm._enterCb&&n.elm._enterCb()}function Yo(n){n.data.newPos=n.elm.getBoundingClientRect()}function ni(n){var e=n.data.pos,t=n.data.newPos,r=e.left-t.left,o=e.top-t.top;if(r||o){n.data.moved=!0;var i=n.elm.style;i.transform=i.WebkitTransform="translate(".concat(r,"px,").concat(o,"px)"),i.transitionDuration="0s"}}delete Wo.mode;var ei={Transition:Go,TransitionGroup:{props:Wo,beforeMount:function(){var n=this,e=this._update;this._update=function(t,r){var o=We(n);n.__patch__(n._vnode,n.kept,!1,!0),n._vnode=n.kept,o(),e.call(n,t,r)}},render:function(n){for(var e=this.tag||this.$vnode.data.tag||"span",t=Object.create(null),r=this.prevChildren=this.children,o=this.$slots.default||[],i=this.children=[],a=Jo(this),s=0;s<o.length;s++){if((p=o[s]).tag)if(null!=p.key&&0!==String(p.key).indexOf("__vlist"))i.push(p),t[p.key]=p,(p.data||(p.data={})).transition=a;else;}if(r){var c=[],l=[];for(s=0;s<r.length;s++){var p;(p=r[s]).data.transition=a,p.data.pos=p.elm.getBoundingClientRect(),t[p.key]?c.push(p):l.push(p)}this.kept=n(e,null,c),this.removed=l}return n(e,null,i)},updated:function(){var n=this.prevChildren,e=this.moveClass||(this.name||"v")+"-move";n.length&&this.hasMove(n[0].elm,e)&&(n.forEach(Xo),n.forEach(Yo),n.forEach(ni),this._reflow=document.body.offsetHeight,n.forEach((function(n){if(n.data.moved){var t=n.elm,r=t.style;xo(t,e),r.transform=r.WebkitTransform=r.transitionDuration="",t.addEventListener(go,t._moveCb=function n(r){r&&r.target!==t||r&&!/transform$/.test(r.propertyName)||(t.removeEventListener(go,n),t._moveCb=null,_o(t,e))})}})))},methods:{hasMove:function(n,e){if(!mo)return!1;if(this._hasMove)return this._hasMove;var t=n.cloneNode();n._transitionClasses&&n._transitionClasses.forEach((function(n){po(t,n)})),lo(t,e),t.style.display="none",this.$el.appendChild(t);var r=wo(t);return this.$el.removeChild(t),this._hasMove=r.hasTransform}}}};function ti(n,e){for(var t in e)n[t]=e[t];return n}Jt.config.mustUseProp=function(n,e,t){return"value"===t&&er(n)&&"button"!==e||"selected"===t&&"option"===n||"checked"===t&&"input"===n||"muted"===t&&"video"===n},Jt.config.isReservedTag=gr,Jt.config.isReservedAttr=nr,Jt.config.getTagNamespace=function(n){return hr(n)?"svg":"math"===n?"math":void 0},Jt.config.isUnknownElement=function(n){if(!Z)return!0;if(gr(n))return!1;if(n=n.toLowerCase(),null!=kr[n])return kr[n];var e=document.createElement(n);return n.indexOf("-")>-1?kr[n]=e.constructor===window.HTMLUnknownElement||e.constructor===window.HTMLElement:kr[n]=/HTMLUnknownElement/.test(e.toString())},O(Jt.options.directives,qo),O(Jt.options.components,ei),Jt.prototype.__patch__=Z?Ro:R,Jt.prototype.$mount=function(n,e){return function(n,e,t){var r;n.$el=e,n.$options.render||(n.$options.render=mn),nt(n,"beforeMount"),r=function(){n._update(n._render(),t)},new Qe(n,r,R,{before:function(){n._isMounted&&!n._isDestroyed&&nt(n,"beforeUpdate")}},!0),t=!1;var o=n._preWatchers;if(o)for(var i=0;i<o.length;i++)o[i].run();return null==n.$vnode&&(n._isMounted=!0,nt(n,"mounted")),n}(this,n=n&&Z?function(n){if("string"==typeof n){var e=document.querySelector(n);return e||document.createElement("div")}return n}(n):void 0,e)},Z&&setTimeout((function(){F.devtools&&sn&&sn.emit("init",Jt)}),0);var ri=/[!'()*]/g,oi=function(n){return"%"+n.charCodeAt(0).toString(16)},ii=/%2C/g,ai=function(n){return encodeURIComponent(n).replace(ri,oi).replace(ii,",")};function si(n){try{return decodeURIComponent(n)}catch(n){0}return n}var ci=function(n){return null==n||"object"==typeof n?n:String(n)};function li(n){var e={};return(n=n.trim().replace(/^(\?|#|&)/,""))?(n.split("&").forEach((function(n){var t=n.replace(/\+/g," ").split("="),r=si(t.shift()),o=t.length>0?si(t.join("=")):null;void 0===e[r]?e[r]=o:Array.isArray(e[r])?e[r].push(o):e[r]=[e[r],o]})),e):e}function pi(n){var e=n?Object.keys(n).map((function(e){var t=n[e];if(void 0===t)return"";if(null===t)return ai(e);if(Array.isArray(t)){var r=[];return t.forEach((function(n){void 0!==n&&(null===n?r.push(ai(e)):r.push(ai(e)+"="+ai(n)))})),r.join("&")}return ai(e)+"="+ai(t)})).filter((function(n){return n.length>0})).join("&"):null;return e?"?"+e:""}var ui=/\/?$/;function di(n,e,t,r){var o=r&&r.options.stringifyQuery,i=e.query||{};try{i=fi(i)}catch(n){}var a={name:e.name||n&&n.name,meta:n&&n.meta||{},path:e.path||"/",hash:e.hash||"",query:i,params:e.params||{},fullPath:gi(e,o),matched:n?hi(n):[]};return t&&(a.redirectedFrom=gi(t,o)),Object.freeze(a)}function fi(n){if(Array.isArray(n))return n.map(fi);if(n&&"object"==typeof n){var e={};for(var t in n)e[t]=fi(n[t]);return e}return n}var mi=di(null,{path:"/"});function hi(n){for(var e=[];n;)e.unshift(n),n=n.parent;return e}function gi(n,e){var t=n.path,r=n.query;void 0===r&&(r={});var o=n.hash;return void 0===o&&(o=""),(t||"/")+(e||pi)(r)+o}function ki(n,e,t){return e===mi?n===e:!!e&&(n.path&&e.path?n.path.replace(ui,"")===e.path.replace(ui,"")&&(t||n.hash===e.hash&&bi(n.query,e.query)):!(!n.name||!e.name)&&(n.name===e.name&&(t||n.hash===e.hash&&bi(n.query,e.query)&&bi(n.params,e.params))))}function bi(n,e){if(void 0===n&&(n={}),void 0===e&&(e={}),!n||!e)return n===e;var t=Object.keys(n).sort(),r=Object.keys(e).sort();return t.length===r.length&&t.every((function(t,o){var i=n[t];if(r[o]!==t)return!1;var a=e[t];return null==i||null==a?i===a:"object"==typeof i&&"object"==typeof a?bi(i,a):String(i)===String(a)}))}function vi(n){for(var e=0;e<n.matched.length;e++){var t=n.matched[e];for(var r in t.instances){var o=t.instances[r],i=t.enteredCbs[r];if(o&&i){delete t.enteredCbs[r];for(var a=0;a<i.length;a++)o._isBeingDestroyed||i[a](o)}}}}var yi={name:"RouterView",functional:!0,props:{name:{type:String,default:"default"}},render:function(n,e){var t=e.props,r=e.children,o=e.parent,i=e.data;i.routerView=!0;for(var a=o.$createElement,s=t.name,c=o.$route,l=o._routerViewCache||(o._routerViewCache={}),p=0,u=!1;o&&o._routerRoot!==o;){var d=o.$vnode?o.$vnode.data:{};d.routerView&&p++,d.keepAlive&&o._directInactive&&o._inactive&&(u=!0),o=o.$parent}if(i.routerViewDepth=p,u){var f=l[s],m=f&&f.component;return m?(f.configProps&&xi(m,i,f.route,f.configProps),a(m,i,r)):a()}var h=c.matched[p],g=h&&h.components[s];if(!h||!g)return l[s]=null,a();l[s]={component:g},i.registerRouteInstance=function(n,e){var t=h.instances[s];(e&&t!==n||!e&&t===n)&&(h.instances[s]=e)},(i.hook||(i.hook={})).prepatch=function(n,e){h.instances[s]=e.componentInstance},i.hook.init=function(n){n.data.keepAlive&&n.componentInstance&&n.componentInstance!==h.instances[s]&&(h.instances[s]=n.componentInstance),vi(c)};var k=h.props&&h.props[s];return k&&(ti(l[s],{route:c,configProps:k}),xi(g,i,c,k)),a(g,i,r)}};function xi(n,e,t,r){var o=e.props=function(n,e){switch(typeof e){case"undefined":return;case"object":return e;case"function":return e(n);case"boolean":return e?n.params:void 0;default:0}}(t,r);if(o){o=e.props=ti({},o);var i=e.attrs=e.attrs||{};for(var a in o)n.props&&a in n.props||(i[a]=o[a],delete o[a])}}function _i(n,e,t){var r=n.charAt(0);if("/"===r)return n;if("?"===r||"#"===r)return e+n;var o=e.split("/");t&&o[o.length-1]||o.pop();for(var i=n.replace(/^\//,"").split("/"),a=0;a<i.length;a++){var s=i[a];".."===s?o.pop():"."!==s&&o.push(s)}return""!==o[0]&&o.unshift(""),o.join("/")}function Si(n){return n.replace(/\/(?:\s*\/)+/g,"/")}var Ei=Array.isArray||function(n){return"[object Array]"==Object.prototype.toString.call(n)},wi=Ni,Ci=Oi,Ti=function(n,e){return Ri(Oi(n,e),e)},zi=Ri,Ai=Ki,Pi=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function Oi(n,e){for(var t,r=[],o=0,i=0,a="",s=e&&e.delimiter||"/";null!=(t=Pi.exec(n));){var c=t[0],l=t[1],p=t.index;if(a+=n.slice(i,p),i=p+c.length,l)a+=l[1];else{var u=n[i],d=t[2],f=t[3],m=t[4],h=t[5],g=t[6],k=t[7];a&&(r.push(a),a="");var b=null!=d&&null!=u&&u!==d,v="+"===g||"*"===g,y="?"===g||"*"===g,x=t[2]||s,_=m||h;r.push({name:f||o++,prefix:d||"",delimiter:x,optional:y,repeat:v,partial:b,asterisk:!!k,pattern:_?ji(_):k?".*":"[^"+Mi(x)+"]+?"})}}return i<n.length&&(a+=n.substr(i)),a&&r.push(a),r}function Ii(n){return encodeURI(n).replace(/[\/?#]/g,(function(n){return"%"+n.charCodeAt(0).toString(16).toUpperCase()}))}function Ri(n,e){for(var t=new Array(n.length),r=0;r<n.length;r++)"object"==typeof n[r]&&(t[r]=new RegExp("^(?:"+n[r].pattern+")$",Bi(e)));return function(e,r){for(var o="",i=e||{},a=(r||{}).pretty?Ii:encodeURIComponent,s=0;s<n.length;s++){var c=n[s];if("string"!=typeof c){var l,p=i[c.name];if(null==p){if(c.optional){c.partial&&(o+=c.prefix);continue}throw new TypeError('Expected "'+c.name+'" to be defined')}if(Ei(p)){if(!c.repeat)throw new TypeError('Expected "'+c.name+'" to not repeat, but received `'+JSON.stringify(p)+"`");if(0===p.length){if(c.optional)continue;throw new TypeError('Expected "'+c.name+'" to not be empty')}for(var u=0;u<p.length;u++){if(l=a(p[u]),!t[s].test(l))throw new TypeError('Expected all "'+c.name+'" to match "'+c.pattern+'", but received `'+JSON.stringify(l)+"`");o+=(0===u?c.prefix:c.delimiter)+l}}else{if(l=c.asterisk?encodeURI(p).replace(/[?#]/g,(function(n){return"%"+n.charCodeAt(0).toString(16).toUpperCase()})):a(p),!t[s].test(l))throw new TypeError('Expected "'+c.name+'" to match "'+c.pattern+'", but received "'+l+'"');o+=c.prefix+l}}else o+=c}return o}}function Mi(n){return n.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function ji(n){return n.replace(/([=!:$\/()])/g,"\\$1")}function Li(n,e){return n.keys=e,n}function Bi(n){return n&&n.sensitive?"":"i"}function Ki(n,e,t){Ei(e)||(t=e||t,e=[]);for(var r=(t=t||{}).strict,o=!1!==t.end,i="",a=0;a<n.length;a++){var s=n[a];if("string"==typeof s)i+=Mi(s);else{var c=Mi(s.prefix),l="(?:"+s.pattern+")";e.push(s),s.repeat&&(l+="(?:"+c+l+")*"),i+=l=s.optional?s.partial?c+"("+l+")?":"(?:"+c+"("+l+"))?":c+"("+l+")"}}var p=Mi(t.delimiter||"/"),u=i.slice(-p.length)===p;return r||(i=(u?i.slice(0,-p.length):i)+"(?:"+p+"(?=$))?"),i+=o?"$":r&&u?"":"(?="+p+"|$)",Li(new RegExp("^"+i,Bi(t)),e)}function Ni(n,e,t){return Ei(e)||(t=e||t,e=[]),t=t||{},n instanceof RegExp?function(n,e){var t=n.source.match(/\((?!\?)/g);if(t)for(var r=0;r<t.length;r++)e.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return Li(n,e)}(n,e):Ei(n)?function(n,e,t){for(var r=[],o=0;o<n.length;o++)r.push(Ni(n[o],e,t).source);return Li(new RegExp("(?:"+r.join("|")+")",Bi(t)),e)}(n,e,t):function(n,e,t){return Ki(Oi(n,t),e,t)}(n,e,t)}wi.parse=Ci,wi.compile=Ti,wi.tokensToFunction=zi,wi.tokensToRegExp=Ai;var Di=Object.create(null);function $i(n,e,t){e=e||{};try{var r=Di[n]||(Di[n]=wi.compile(n));return"string"==typeof e.pathMatch&&(e[0]=e.pathMatch),r(e,{pretty:!0})}catch(n){return""}finally{delete e[0]}}function Fi(n,e,t,r){var o="string"==typeof n?{path:n}:n;if(o._normalized)return o;if(o.name){var i=(o=ti({},n)).params;return i&&"object"==typeof i&&(o.params=ti({},i)),o}if(!o.path&&o.params&&e){(o=ti({},o))._normalized=!0;var a=ti(ti({},e.params),o.params);if(e.name)o.name=e.name,o.params=a;else if(e.matched.length){var s=e.matched[e.matched.length-1].path;o.path=$i(s,a,e.path)}else 0;return o}var c=function(n){var e="",t="",r=n.indexOf("#");r>=0&&(e=n.slice(r),n=n.slice(0,r));var o=n.indexOf("?");return o>=0&&(t=n.slice(o+1),n=n.slice(0,o)),{path:n,query:t,hash:e}}(o.path||""),l=e&&e.path||"/",p=c.path?_i(c.path,l,t||o.append):l,u=function(n,e,t){void 0===e&&(e={});var r,o=t||li;try{r=o(n||"")}catch(n){r={}}for(var i in e){var a=e[i];r[i]=Array.isArray(a)?a.map(ci):ci(a)}return r}(c.query,o.query,r&&r.options.parseQuery),d=o.hash||c.hash;return d&&"#"!==d.charAt(0)&&(d="#"+d),{_normalized:!0,path:p,query:u,hash:d}}var qi,Ui=function(){},Qi={name:"RouterLink",props:{to:{type:[String,Object],required:!0},tag:{type:String,default:"a"},custom:Boolean,exact:Boolean,exactPath:Boolean,append:Boolean,replace:Boolean,activeClass:String,exactActiveClass:String,ariaCurrentValue:{type:String,default:"page"},event:{type:[String,Array],default:"click"}},render:function(n){var e=this,t=this.$router,r=this.$route,o=t.resolve(this.to,r,this.append),i=o.location,a=o.route,s=o.href,c={},l=t.options.linkActiveClass,p=t.options.linkExactActiveClass,u=null==l?"router-link-active":l,d=null==p?"router-link-exact-active":p,f=null==this.activeClass?u:this.activeClass,m=null==this.exactActiveClass?d:this.exactActiveClass,h=a.redirectedFrom?di(null,Fi(a.redirectedFrom),null,t):a;c[m]=ki(r,h,this.exactPath),c[f]=this.exact||this.exactPath?c[m]:function(n,e){return 0===n.path.replace(ui,"/").indexOf(e.path.replace(ui,"/"))&&(!e.hash||n.hash===e.hash)&&function(n,e){for(var t in e)if(!(t in n))return!1;return!0}(n.query,e.query)}(r,h);var g=c[m]?this.ariaCurrentValue:null,k=function(n){Ji(n)&&(e.replace?t.replace(i,Ui):t.push(i,Ui))},b={click:Ji};Array.isArray(this.event)?this.event.forEach((function(n){b[n]=k})):b[this.event]=k;var v={class:c},y=!this.$scopedSlots.$hasNormal&&this.$scopedSlots.default&&this.$scopedSlots.default({href:s,route:a,navigate:k,isActive:c[f],isExactActive:c[m]});if(y){if(1===y.length)return y[0];if(y.length>1||!y.length)return 0===y.length?n():n("span",{},y)}if("a"===this.tag)v.on=b,v.attrs={href:s,"aria-current":g};else{var x=function n(e){var t;if(e)for(var r=0;r<e.length;r++){if("a"===(t=e[r]).tag)return t;if(t.children&&(t=n(t.children)))return t}}(this.$slots.default);if(x){x.isStatic=!1;var _=x.data=ti({},x.data);for(var S in _.on=_.on||{},_.on){var E=_.on[S];S in b&&(_.on[S]=Array.isArray(E)?E:[E])}for(var w in b)w in _.on?_.on[w].push(b[w]):_.on[w]=k;var C=x.data.attrs=ti({},x.data.attrs);C.href=s,C["aria-current"]=g}else v.on=b}return n(this.tag,v,this.$slots.default)}};function Ji(n){if(!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey||n.defaultPrevented||void 0!==n.button&&0!==n.button)){if(n.currentTarget&&n.currentTarget.getAttribute){var e=n.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return n.preventDefault&&n.preventDefault(),!0}}var Vi="undefined"!=typeof window;function Zi(n,e,t,r,o){var i=e||[],a=t||Object.create(null),s=r||Object.create(null);n.forEach((function(n){!function n(e,t,r,o,i,a){var s=o.path,c=o.name;0;var l=o.pathToRegexpOptions||{},p=function(n,e,t){t||(n=n.replace(/\/$/,""));if("/"===n[0])return n;if(null==e)return n;return Si(e.path+"/"+n)}(s,i,l.strict);"boolean"==typeof o.caseSensitive&&(l.sensitive=o.caseSensitive);var u={path:p,regex:Hi(p,l),components:o.components||{default:o.component},alias:o.alias?"string"==typeof o.alias?[o.alias]:o.alias:[],instances:{},enteredCbs:{},name:c,parent:i,matchAs:a,redirect:o.redirect,beforeEnter:o.beforeEnter,meta:o.meta||{},props:null==o.props?{}:o.components?o.props:{default:o.props}};o.children&&o.children.forEach((function(o){var i=a?Si(a+"/"+o.path):void 0;n(e,t,r,o,u,i)}));t[u.path]||(e.push(u.path),t[u.path]=u);if(void 0!==o.alias)for(var d=Array.isArray(o.alias)?o.alias:[o.alias],f=0;f<d.length;++f){0;var m={path:d[f],children:o.children};n(e,t,r,m,i,u.path||"/")}c&&(r[c]||(r[c]=u))}(i,a,s,n,o)}));for(var c=0,l=i.length;c<l;c++)"*"===i[c]&&(i.push(i.splice(c,1)[0]),l--,c--);return{pathList:i,pathMap:a,nameMap:s}}function Hi(n,e){return wi(n,[],e)}function Gi(n,e){var t=Zi(n),r=t.pathList,o=t.pathMap,i=t.nameMap;function a(n,t,a){var s=Fi(n,t,!1,e),l=s.name;if(l){var p=i[l];if(!p)return c(null,s);var u=p.regex.keys.filter((function(n){return!n.optional})).map((function(n){return n.name}));if("object"!=typeof s.params&&(s.params={}),t&&"object"==typeof t.params)for(var d in t.params)!(d in s.params)&&u.indexOf(d)>-1&&(s.params[d]=t.params[d]);return s.path=$i(p.path,s.params),c(p,s,a)}if(s.path){s.params={};for(var f=0;f<r.length;f++){var m=r[f],h=o[m];if(Wi(h.regex,s.path,s.params))return c(h,s,a)}}return c(null,s)}function s(n,t){var r=n.redirect,o="function"==typeof r?r(di(n,t,null,e)):r;if("string"==typeof o&&(o={path:o}),!o||"object"!=typeof o)return c(null,t);var s=o,l=s.name,p=s.path,u=t.query,d=t.hash,f=t.params;if(u=s.hasOwnProperty("query")?s.query:u,d=s.hasOwnProperty("hash")?s.hash:d,f=s.hasOwnProperty("params")?s.params:f,l){i[l];return a({_normalized:!0,name:l,query:u,hash:d,params:f},void 0,t)}if(p){var m=function(n,e){return _i(n,e.parent?e.parent.path:"/",!0)}(p,n);return a({_normalized:!0,path:$i(m,f),query:u,hash:d},void 0,t)}return c(null,t)}function c(n,t,r){return n&&n.redirect?s(n,r||t):n&&n.matchAs?function(n,e,t){var r=a({_normalized:!0,path:$i(t,e.params)});if(r){var o=r.matched,i=o[o.length-1];return e.params=r.params,c(i,e)}return c(null,e)}(0,t,n.matchAs):di(n,t,r,e)}return{match:a,addRoute:function(n,e){var t="object"!=typeof n?i[n]:void 0;Zi([e||n],r,o,i,t),t&&t.alias.length&&Zi(t.alias.map((function(n){return{path:n,children:[e]}})),r,o,i,t)},getRoutes:function(){return r.map((function(n){return o[n]}))},addRoutes:function(n){Zi(n,r,o,i)}}}function Wi(n,e,t){var r=e.match(n);if(!r)return!1;if(!t)return!0;for(var o=1,i=r.length;o<i;++o){var a=n.keys[o-1];a&&(t[a.name||"pathMatch"]="string"==typeof r[o]?si(r[o]):r[o])}return!0}var Xi=Vi&&window.performance&&window.performance.now?window.performance:Date;function Yi(){return Xi.now().toFixed(3)}var na=Yi();function ea(){return na}function ta(n){return na=n}var ra=Object.create(null);function oa(){"scrollRestoration"in window.history&&(window.history.scrollRestoration="manual");var n=window.location.protocol+"//"+window.location.host,e=window.location.href.replace(n,""),t=ti({},window.history.state);return t.key=ea(),window.history.replaceState(t,"",e),window.addEventListener("popstate",sa),function(){window.removeEventListener("popstate",sa)}}function ia(n,e,t,r){if(n.app){var o=n.options.scrollBehavior;o&&n.app.$nextTick((function(){var i=function(){var n=ea();if(n)return ra[n]}(),a=o.call(n,e,t,r?i:null);a&&("function"==typeof a.then?a.then((function(n){da(n,i)})).catch((function(n){0})):da(a,i))}))}}function aa(){var n=ea();n&&(ra[n]={x:window.pageXOffset,y:window.pageYOffset})}function sa(n){aa(),n.state&&n.state.key&&ta(n.state.key)}function ca(n){return pa(n.x)||pa(n.y)}function la(n){return{x:pa(n.x)?n.x:window.pageXOffset,y:pa(n.y)?n.y:window.pageYOffset}}function pa(n){return"number"==typeof n}var ua=/^#\d/;function da(n,e){var t,r="object"==typeof n;if(r&&"string"==typeof n.selector){var o=ua.test(n.selector)?document.getElementById(n.selector.slice(1)):document.querySelector(n.selector);if(o){var i=n.offset&&"object"==typeof n.offset?n.offset:{};e=function(n,e){var t=document.documentElement.getBoundingClientRect(),r=n.getBoundingClientRect();return{x:r.left-t.left-e.x,y:r.top-t.top-e.y}}(o,i={x:pa((t=i).x)?t.x:0,y:pa(t.y)?t.y:0})}else ca(n)&&(e=la(n))}else r&&ca(n)&&(e=la(n));e&&("scrollBehavior"in document.documentElement.style?window.scrollTo({left:e.x,top:e.y,behavior:n.behavior}):window.scrollTo(e.x,e.y))}var fa,ma=Vi&&((-1===(fa=window.navigator.userAgent).indexOf("Android 2.")&&-1===fa.indexOf("Android 4.0")||-1===fa.indexOf("Mobile Safari")||-1!==fa.indexOf("Chrome")||-1!==fa.indexOf("Windows Phone"))&&window.history&&"function"==typeof window.history.pushState);function ha(n,e){aa();var t=window.history;try{if(e){var r=ti({},t.state);r.key=ea(),t.replaceState(r,"",n)}else t.pushState({key:ta(Yi())},"",n)}catch(t){window.location[e?"replace":"assign"](n)}}function ga(n){ha(n,!0)}var ka={redirected:2,aborted:4,cancelled:8,duplicated:16};function ba(n,e){return ya(n,e,ka.redirected,'Redirected when going from "'+n.fullPath+'" to "'+function(n){if("string"==typeof n)return n;if("path"in n)return n.path;var e={};return xa.forEach((function(t){t in n&&(e[t]=n[t])})),JSON.stringify(e,null,2)}(e)+'" via a navigation guard.')}function va(n,e){return ya(n,e,ka.cancelled,'Navigation cancelled from "'+n.fullPath+'" to "'+e.fullPath+'" with a new navigation.')}function ya(n,e,t,r){var o=new Error(r);return o._isRouter=!0,o.from=n,o.to=e,o.type=t,o}var xa=["params","query","hash"];function _a(n){return Object.prototype.toString.call(n).indexOf("Error")>-1}function Sa(n,e){return _a(n)&&n._isRouter&&(null==e||n.type===e)}function Ea(n,e,t){var r=function(o){o>=n.length?t():n[o]?e(n[o],(function(){r(o+1)})):r(o+1)};r(0)}function wa(n){return function(e,t,r){var o=!1,i=0,a=null;Ca(n,(function(n,e,t,s){if("function"==typeof n&&void 0===n.cid){o=!0,i++;var c,l=Aa((function(e){var o;((o=e).__esModule||za&&"Module"===o[Symbol.toStringTag])&&(e=e.default),n.resolved="function"==typeof e?e:qi.extend(e),t.components[s]=e,--i<=0&&r()})),p=Aa((function(n){var e="Failed to resolve async component "+s+": "+n;a||(a=_a(n)?n:new Error(e),r(a))}));try{c=n(l,p)}catch(n){p(n)}if(c)if("function"==typeof c.then)c.then(l,p);else{var u=c.component;u&&"function"==typeof u.then&&u.then(l,p)}}})),o||r()}}function Ca(n,e){return Ta(n.map((function(n){return Object.keys(n.components).map((function(t){return e(n.components[t],n.instances[t],n,t)}))})))}function Ta(n){return Array.prototype.concat.apply([],n)}var za="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;function Aa(n){var e=!1;return function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];if(!e)return e=!0,n.apply(this,t)}}var Pa=function(n,e){this.router=n,this.base=function(n){if(!n)if(Vi){var e=document.querySelector("base");n=(n=e&&e.getAttribute("href")||"/").replace(/^https?:\/\/[^\/]+/,"")}else n="/";"/"!==n.charAt(0)&&(n="/"+n);return n.replace(/\/$/,"")}(e),this.current=mi,this.pending=null,this.ready=!1,this.readyCbs=[],this.readyErrorCbs=[],this.errorCbs=[],this.listeners=[]};function Oa(n,e,t,r){var o=Ca(n,(function(n,r,o,i){var a=function(n,e){"function"!=typeof n&&(n=qi.extend(n));return n.options[e]}(n,e);if(a)return Array.isArray(a)?a.map((function(n){return t(n,r,o,i)})):t(a,r,o,i)}));return Ta(r?o.reverse():o)}function Ia(n,e){if(e)return function(){return n.apply(e,arguments)}}Pa.prototype.listen=function(n){this.cb=n},Pa.prototype.onReady=function(n,e){this.ready?n():(this.readyCbs.push(n),e&&this.readyErrorCbs.push(e))},Pa.prototype.onError=function(n){this.errorCbs.push(n)},Pa.prototype.transitionTo=function(n,e,t){var r,o=this;try{r=this.router.match(n,this.current)}catch(n){throw this.errorCbs.forEach((function(e){e(n)})),n}var i=this.current;this.confirmTransition(r,(function(){o.updateRoute(r),e&&e(r),o.ensureURL(),o.router.afterHooks.forEach((function(n){n&&n(r,i)})),o.ready||(o.ready=!0,o.readyCbs.forEach((function(n){n(r)})))}),(function(n){t&&t(n),n&&!o.ready&&(Sa(n,ka.redirected)&&i===mi||(o.ready=!0,o.readyErrorCbs.forEach((function(e){e(n)}))))}))},Pa.prototype.confirmTransition=function(n,e,t){var r=this,o=this.current;this.pending=n;var i,a,s=function(n){!Sa(n)&&_a(n)&&(r.errorCbs.length?r.errorCbs.forEach((function(e){e(n)})):console.error(n)),t&&t(n)},c=n.matched.length-1,l=o.matched.length-1;if(ki(n,o)&&c===l&&n.matched[c]===o.matched[l])return this.ensureURL(),n.hash&&ia(this.router,o,n,!1),s(((a=ya(i=o,n,ka.duplicated,'Avoided redundant navigation to current location: "'+i.fullPath+'".')).name="NavigationDuplicated",a));var p=function(n,e){var t,r=Math.max(n.length,e.length);for(t=0;t<r&&n[t]===e[t];t++);return{updated:e.slice(0,t),activated:e.slice(t),deactivated:n.slice(t)}}(this.current.matched,n.matched),u=p.updated,d=p.deactivated,f=p.activated,m=[].concat(function(n){return Oa(n,"beforeRouteLeave",Ia,!0)}(d),this.router.beforeHooks,function(n){return Oa(n,"beforeRouteUpdate",Ia)}(u),f.map((function(n){return n.beforeEnter})),wa(f)),h=function(e,t){if(r.pending!==n)return s(va(o,n));try{e(n,o,(function(e){!1===e?(r.ensureURL(!0),s(function(n,e){return ya(n,e,ka.aborted,'Navigation aborted from "'+n.fullPath+'" to "'+e.fullPath+'" via a navigation guard.')}(o,n))):_a(e)?(r.ensureURL(!0),s(e)):"string"==typeof e||"object"==typeof e&&("string"==typeof e.path||"string"==typeof e.name)?(s(ba(o,n)),"object"==typeof e&&e.replace?r.replace(e):r.push(e)):t(e)}))}catch(n){s(n)}};Ea(m,h,(function(){Ea(function(n){return Oa(n,"beforeRouteEnter",(function(n,e,t,r){return function(n,e,t){return function(r,o,i){return n(r,o,(function(n){"function"==typeof n&&(e.enteredCbs[t]||(e.enteredCbs[t]=[]),e.enteredCbs[t].push(n)),i(n)}))}}(n,t,r)}))}(f).concat(r.router.resolveHooks),h,(function(){if(r.pending!==n)return s(va(o,n));r.pending=null,e(n),r.router.app&&r.router.app.$nextTick((function(){vi(n)}))}))}))},Pa.prototype.updateRoute=function(n){this.current=n,this.cb&&this.cb(n)},Pa.prototype.setupListeners=function(){},Pa.prototype.teardown=function(){this.listeners.forEach((function(n){n()})),this.listeners=[],this.current=mi,this.pending=null};var Ra=function(n){function e(e,t){n.call(this,e,t),this._startLocation=Ma(this.base)}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e.prototype.setupListeners=function(){var n=this;if(!(this.listeners.length>0)){var e=this.router,t=e.options.scrollBehavior,r=ma&&t;r&&this.listeners.push(oa());var o=function(){var t=n.current,o=Ma(n.base);n.current===mi&&o===n._startLocation||n.transitionTo(o,(function(n){r&&ia(e,n,t,!0)}))};window.addEventListener("popstate",o),this.listeners.push((function(){window.removeEventListener("popstate",o)}))}},e.prototype.go=function(n){window.history.go(n)},e.prototype.push=function(n,e,t){var r=this,o=this.current;this.transitionTo(n,(function(n){ha(Si(r.base+n.fullPath)),ia(r.router,n,o,!1),e&&e(n)}),t)},e.prototype.replace=function(n,e,t){var r=this,o=this.current;this.transitionTo(n,(function(n){ga(Si(r.base+n.fullPath)),ia(r.router,n,o,!1),e&&e(n)}),t)},e.prototype.ensureURL=function(n){if(Ma(this.base)!==this.current.fullPath){var e=Si(this.base+this.current.fullPath);n?ha(e):ga(e)}},e.prototype.getCurrentLocation=function(){return Ma(this.base)},e}(Pa);function Ma(n){var e=window.location.pathname,t=e.toLowerCase(),r=n.toLowerCase();return!n||t!==r&&0!==t.indexOf(Si(r+"/"))||(e=e.slice(n.length)),(e||"/")+window.location.search+window.location.hash}var ja=function(n){function e(e,t,r){n.call(this,e,t),r&&function(n){var e=Ma(n);if(!/^\/#/.test(e))return window.location.replace(Si(n+"/#"+e)),!0}(this.base)||La()}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e.prototype.setupListeners=function(){var n=this;if(!(this.listeners.length>0)){var e=this.router.options.scrollBehavior,t=ma&&e;t&&this.listeners.push(oa());var r=function(){var e=n.current;La()&&n.transitionTo(Ba(),(function(r){t&&ia(n.router,r,e,!0),ma||Da(r.fullPath)}))},o=ma?"popstate":"hashchange";window.addEventListener(o,r),this.listeners.push((function(){window.removeEventListener(o,r)}))}},e.prototype.push=function(n,e,t){var r=this,o=this.current;this.transitionTo(n,(function(n){Na(n.fullPath),ia(r.router,n,o,!1),e&&e(n)}),t)},e.prototype.replace=function(n,e,t){var r=this,o=this.current;this.transitionTo(n,(function(n){Da(n.fullPath),ia(r.router,n,o,!1),e&&e(n)}),t)},e.prototype.go=function(n){window.history.go(n)},e.prototype.ensureURL=function(n){var e=this.current.fullPath;Ba()!==e&&(n?Na(e):Da(e))},e.prototype.getCurrentLocation=function(){return Ba()},e}(Pa);function La(){var n=Ba();return"/"===n.charAt(0)||(Da("/"+n),!1)}function Ba(){var n=window.location.href,e=n.indexOf("#");return e<0?"":n=n.slice(e+1)}function Ka(n){var e=window.location.href,t=e.indexOf("#");return(t>=0?e.slice(0,t):e)+"#"+n}function Na(n){ma?ha(Ka(n)):window.location.hash=n}function Da(n){ma?ga(Ka(n)):window.location.replace(Ka(n))}var $a=function(n){function e(e,t){n.call(this,e,t),this.stack=[],this.index=-1}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e.prototype.push=function(n,e,t){var r=this;this.transitionTo(n,(function(n){r.stack=r.stack.slice(0,r.index+1).concat(n),r.index++,e&&e(n)}),t)},e.prototype.replace=function(n,e,t){var r=this;this.transitionTo(n,(function(n){r.stack=r.stack.slice(0,r.index).concat(n),e&&e(n)}),t)},e.prototype.go=function(n){var e=this,t=this.index+n;if(!(t<0||t>=this.stack.length)){var r=this.stack[t];this.confirmTransition(r,(function(){var n=e.current;e.index=t,e.updateRoute(r),e.router.afterHooks.forEach((function(e){e&&e(r,n)}))}),(function(n){Sa(n,ka.duplicated)&&(e.index=t)}))}},e.prototype.getCurrentLocation=function(){var n=this.stack[this.stack.length-1];return n?n.fullPath:"/"},e.prototype.ensureURL=function(){},e}(Pa),Fa=function(n){void 0===n&&(n={}),this.app=null,this.apps=[],this.options=n,this.beforeHooks=[],this.resolveHooks=[],this.afterHooks=[],this.matcher=Gi(n.routes||[],this);var e=n.mode||"hash";switch(this.fallback="history"===e&&!ma&&!1!==n.fallback,this.fallback&&(e="hash"),Vi||(e="abstract"),this.mode=e,e){case"history":this.history=new Ra(this,n.base);break;case"hash":this.history=new ja(this,n.base,this.fallback);break;case"abstract":this.history=new $a(this,n.base);break;default:0}},qa={currentRoute:{configurable:!0}};Fa.prototype.match=function(n,e,t){return this.matcher.match(n,e,t)},qa.currentRoute.get=function(){return this.history&&this.history.current},Fa.prototype.init=function(n){var e=this;if(this.apps.push(n),n.$once("hook:destroyed",(function(){var t=e.apps.indexOf(n);t>-1&&e.apps.splice(t,1),e.app===n&&(e.app=e.apps[0]||null),e.app||e.history.teardown()})),!this.app){this.app=n;var t=this.history;if(t instanceof Ra||t instanceof ja){var r=function(n){t.setupListeners(),function(n){var r=t.current,o=e.options.scrollBehavior;ma&&o&&"fullPath"in n&&ia(e,n,r,!1)}(n)};t.transitionTo(t.getCurrentLocation(),r,r)}t.listen((function(n){e.apps.forEach((function(e){e._route=n}))}))}},Fa.prototype.beforeEach=function(n){return Qa(this.beforeHooks,n)},Fa.prototype.beforeResolve=function(n){return Qa(this.resolveHooks,n)},Fa.prototype.afterEach=function(n){return Qa(this.afterHooks,n)},Fa.prototype.onReady=function(n,e){this.history.onReady(n,e)},Fa.prototype.onError=function(n){this.history.onError(n)},Fa.prototype.push=function(n,e,t){var r=this;if(!e&&!t&&"undefined"!=typeof Promise)return new Promise((function(e,t){r.history.push(n,e,t)}));this.history.push(n,e,t)},Fa.prototype.replace=function(n,e,t){var r=this;if(!e&&!t&&"undefined"!=typeof Promise)return new Promise((function(e,t){r.history.replace(n,e,t)}));this.history.replace(n,e,t)},Fa.prototype.go=function(n){this.history.go(n)},Fa.prototype.back=function(){this.go(-1)},Fa.prototype.forward=function(){this.go(1)},Fa.prototype.getMatchedComponents=function(n){var e=n?n.matched?n:this.resolve(n).route:this.currentRoute;return e?[].concat.apply([],e.matched.map((function(n){return Object.keys(n.components).map((function(e){return n.components[e]}))}))):[]},Fa.prototype.resolve=function(n,e,t){var r=Fi(n,e=e||this.history.current,t,this),o=this.match(r,e),i=o.redirectedFrom||o.fullPath;return{location:r,route:o,href:function(n,e,t){var r="hash"===t?"#"+e:e;return n?Si(n+"/"+r):r}(this.history.base,i,this.mode),normalizedTo:r,resolved:o}},Fa.prototype.getRoutes=function(){return this.matcher.getRoutes()},Fa.prototype.addRoute=function(n,e){this.matcher.addRoute(n,e),this.history.current!==mi&&this.history.transitionTo(this.history.getCurrentLocation())},Fa.prototype.addRoutes=function(n){this.matcher.addRoutes(n),this.history.current!==mi&&this.history.transitionTo(this.history.getCurrentLocation())},Object.defineProperties(Fa.prototype,qa);var Ua=Fa;function Qa(n,e){return n.push(e),function(){var t=n.indexOf(e);t>-1&&n.splice(t,1)}}Fa.install=function n(e){if(!n.installed||qi!==e){n.installed=!0,qi=e;var t=function(n){return void 0!==n},r=function(n,e){var r=n.$options._parentVnode;t(r)&&t(r=r.data)&&t(r=r.registerRouteInstance)&&r(n,e)};e.mixin({beforeCreate:function(){t(this.$options.router)?(this._routerRoot=this,this._router=this.$options.router,this._router.init(this),e.util.defineReactive(this,"_route",this._router.history.current)):this._routerRoot=this.$parent&&this.$parent._routerRoot||this,r(this,this)},destroyed:function(){r(this)}}),Object.defineProperty(e.prototype,"$router",{get:function(){return this._routerRoot._router}}),Object.defineProperty(e.prototype,"$route",{get:function(){return this._routerRoot._route}}),e.component("RouterView",yi),e.component("RouterLink",Qi);var o=e.config.optionMergeStrategies;o.beforeRouteEnter=o.beforeRouteLeave=o.beforeRouteUpdate=o.created}},Fa.version="3.6.5",Fa.isNavigationFailure=Sa,Fa.NavigationFailureType=ka,Fa.START_LOCATION=mi,Vi&&window.Vue&&window.Vue.use(Fa);t(109);t(17),t(134);var Ja={"components/AlgoliaSearchBox":()=>Promise.all([t.e(0),t.e(14)]).then(t.bind(null,379)),"components/ArchivesPage":()=>Promise.all([t.e(0),t.e(17)]).then(t.bind(null,339)),"components/ArticleInfo":()=>Promise.all([t.e(0),t.e(20)]).then(t.bind(null,340)),"components/BloggerBar":()=>Promise.all([t.e(0),t.e(21)]).then(t.bind(null,341)),"components/BodyBgImg":()=>Promise.all([t.e(0),t.e(22)]).then(t.bind(null,342)),"components/Buttons":()=>Promise.all([t.e(0),t.e(18)]).then(t.bind(null,343)),"components/Catalogue":()=>Promise.all([t.e(0),t.e(23)]).then(t.bind(null,344)),"components/CategoriesBar":()=>Promise.all([t.e(0),t.e(24)]).then(t.bind(null,304)),"components/CategoriesPage":()=>Promise.all([t.e(0),t.e(11)]).then(t.bind(null,345)),"components/DropdownLink":()=>Promise.all([t.e(0),t.e(15)]).then(t.bind(null,282)),"components/DropdownTransition":()=>Promise.all([t.e(0),t.e(25)]).then(t.bind(null,260)),"components/Footer":()=>Promise.all([t.e(0),t.e(26)]).then(t.bind(null,346)),"components/Home":()=>Promise.all([t.e(0),t.e(2),t.e(36)]).then(t.bind(null,372)),"components/MainLayout":()=>Promise.all([t.e(0),t.e(27)]).then(t.bind(null,274)),"components/NavLink":()=>t.e(37).then(t.bind(null,259)),"components/NavLinks":()=>Promise.all([t.e(0),t.e(13)]).then(t.bind(null,306)),"components/Navbar":()=>Promise.all([t.e(0),t.e(1)]).then(t.bind(null,371)),"components/Page":()=>Promise.all([t.e(0),t.e(3),t.e(34)]).then(t.bind(null,373)),"components/PageEdit":()=>Promise.all([t.e(0),t.e(19)]).then(t.bind(null,347)),"components/PageNav":()=>Promise.all([t.e(0),t.e(16)]).then(t.bind(null,348)),"components/Pagination":()=>Promise.all([t.e(0),t.e(28)]).then(t.bind(null,273)),"components/PostList":()=>Promise.all([t.e(0),t.e(29)]).then(t.bind(null,272)),"components/RightMenu":()=>Promise.all([t.e(0),t.e(30)]).then(t.bind(null,349)),"components/Sidebar":()=>Promise.all([t.e(0),t.e(10)]).then(t.bind(null,350)),"components/SidebarButton":()=>Promise.all([t.e(0),t.e(31)]).then(t.bind(null,352)),"components/SidebarGroup":()=>Promise.all([t.e(0),t.e(5)]).then(t.bind(null,307)),"components/SidebarLink":()=>Promise.all([t.e(0),t.e(32)]).then(t.bind(null,283)),"components/SidebarLinks":()=>Promise.all([t.e(0),t.e(5)]).then(t.bind(null,280)),"components/TagsBar":()=>Promise.all([t.e(0),t.e(33)]).then(t.bind(null,305)),"components/TagsPage":()=>Promise.all([t.e(0),t.e(12)]).then(t.bind(null,351)),"components/UpdateArticle":()=>Promise.all([t.e(0),t.e(35)]).then(t.bind(null,310)),"global-components/Badge":()=>Promise.all([t.e(0),t.e(6)]).then(t.bind(null,382)),"global-components/CodeBlock":()=>Promise.resolve().then(t.bind(null,97)),"global-components/CodeGroup":()=>Promise.resolve().then(t.bind(null,98)),"layouts/404":()=>Promise.all([t.e(0),t.e(7)]).then(t.bind(null,380)),"layouts/Layout":()=>Promise.all([t.e(0),t.e(1),t.e(2),t.e(3),t.e(4)]).then(t.bind(null,381)),NotFound:()=>Promise.all([t.e(0),t.e(7)]).then(t.bind(null,380)),Layout:()=>Promise.all([t.e(0),t.e(1),t.e(2),t.e(3),t.e(4)]).then(t.bind(null,381))},Va={"v-7bce3c4c":()=>t.e(38).then(t.bind(null,383)),"v-2828728c":()=>t.e(39).then(t.bind(null,384)),"v-a0d8828e":()=>t.e(40).then(t.bind(null,385)),"v-1b87ba43":()=>t.e(41).then(t.bind(null,386)),"v-11eb3e66":()=>t.e(42).then(t.bind(null,387)),"v-e9974c2e":()=>t.e(43).then(t.bind(null,388)),"v-0a65f29b":()=>t.e(44).then(t.bind(null,389)),"v-6d347c8a":()=>t.e(45).then(t.bind(null,390)),"v-ab895bee":()=>t.e(46).then(t.bind(null,391)),"v-034cab0a":()=>t.e(47).then(t.bind(null,392)),"v-60a1e9f7":()=>t.e(48).then(t.bind(null,393)),"v-46ce60b6":()=>t.e(49).then(t.bind(null,394)),"v-78c75671":()=>t.e(51).then(t.bind(null,395)),"v-65a5217b":()=>t.e(52).then(t.bind(null,396)),"v-e871167a":()=>t.e(50).then(t.bind(null,397)),"v-501486a1":()=>t.e(53).then(t.bind(null,398)),"v-c5d205e2":()=>t.e(54).then(t.bind(null,399)),"v-3e9d649c":()=>t.e(56).then(t.bind(null,400)),"v-688d279e":()=>t.e(57).then(t.bind(null,401)),"v-3dcceb24":()=>t.e(55).then(t.bind(null,402)),"v-c52462c8":()=>t.e(58).then(t.bind(null,403)),"v-2a48cbdf":()=>t.e(59).then(t.bind(null,404)),"v-e6a3f9b4":()=>t.e(60).then(t.bind(null,405)),"v-b4a5b7ac":()=>t.e(61).then(t.bind(null,406)),"v-060d414d":()=>t.e(62).then(t.bind(null,407)),"v-25d46bba":()=>t.e(63).then(t.bind(null,408)),"v-2880c44a":()=>t.e(64).then(t.bind(null,409)),"v-d5a2bdec":()=>t.e(65).then(t.bind(null,410)),"v-a51427f8":()=>t.e(66).then(t.bind(null,411)),"v-336aff4e":()=>t.e(67).then(t.bind(null,412)),"v-63d529e4":()=>t.e(68).then(t.bind(null,413)),"v-44762c24":()=>t.e(69).then(t.bind(null,414)),"v-d1f5af9c":()=>t.e(70).then(t.bind(null,415)),"v-3e055fb4":()=>t.e(71).then(t.bind(null,416)),"v-82ddb1de":()=>t.e(72).then(t.bind(null,417)),"v-27fcd69b":()=>t.e(73).then(t.bind(null,418)),"v-45c57d20":()=>t.e(74).then(t.bind(null,419)),"v-4d97f68d":()=>t.e(75).then(t.bind(null,420)),"v-112a6e78":()=>t.e(76).then(t.bind(null,421)),"v-01bbe51f":()=>t.e(77).then(t.bind(null,422)),"v-787e3e12":()=>t.e(78).then(t.bind(null,423)),"v-c41b9cfa":()=>t.e(79).then(t.bind(null,424)),"v-3c49f337":()=>t.e(80).then(t.bind(null,425)),"v-0b1d5734":()=>t.e(81).then(t.bind(null,426)),"v-535a8cba":()=>t.e(82).then(t.bind(null,427)),"v-0e63a70b":()=>t.e(83).then(t.bind(null,428)),"v-2a6c0621":()=>t.e(84).then(t.bind(null,429)),"v-5fa503ff":()=>t.e(85).then(t.bind(null,430)),"v-240b277f":()=>t.e(88).then(t.bind(null,431)),"v-46ec5342":()=>t.e(87).then(t.bind(null,432)),"v-1bb1d17c":()=>t.e(89).then(t.bind(null,433)),"v-66aca7ff":()=>t.e(86).then(t.bind(null,434))};function Za(n){const e=Object.create(null);return function(t){return e[t]||(e[t]=n(t))}}const Ha=/-(\w)/g,Ga=Za(n=>n.replace(Ha,(n,e)=>e?e.toUpperCase():"")),Wa=/\B([A-Z])/g,Xa=Za(n=>n.replace(Wa,"-$1").toLowerCase()),Ya=Za(n=>n.charAt(0).toUpperCase()+n.slice(1));function ns(n,e){if(!e)return;if(n(e))return n(e);return e.includes("-")?n(Ya(Ga(e))):n(Ya(e))||n(Xa(e))}const es=Object.assign({},Ja,Va),ts=n=>es[n],rs=n=>Va[n],os=n=>Ja[n],is=n=>Jt.component(n);function as(n){return ns(rs,n)}function ss(n){return ns(os,n)}function cs(n){return ns(ts,n)}function ls(n){return ns(is,n)}function ps(...n){return Promise.all(n.filter(n=>n).map(async n=>{if(!ls(n)&&cs(n)){const e=await cs(n)();Jt.component(n,e.default)}}))}function us(n,e){"undefined"!=typeof window&&window.__VUEPRESS__&&(window.__VUEPRESS__[n]=e)}var ds=t(93),fs=t.n(ds),ms=t(94),hs=t.n(ms),gs={created(){if(this.siteMeta=this.$site.headTags.filter(([n])=>"meta"===n).map(([n,e])=>e),this.$ssrContext){const e=this.getMergedMetaTags();this.$ssrContext.title=this.$title,this.$ssrContext.lang=this.$lang,this.$ssrContext.pageMeta=(n=e)?n.map(n=>{let e="<meta";return Object.keys(n).forEach(t=>{e+=` ${t}="${hs()(n[t])}"`}),e+">"}).join("\n    "):"",this.$ssrContext.canonicalLink=bs(this.$canonicalUrl)}var n},mounted(){this.currentMetaTags=[...document.querySelectorAll("meta")],this.updateMeta(),this.updateCanonicalLink()},methods:{updateMeta(){document.title=this.$title,document.documentElement.lang=this.$lang;const n=this.getMergedMetaTags();this.currentMetaTags=vs(n,this.currentMetaTags)},getMergedMetaTags(){const n=this.$page.frontmatter.meta||[];return fs()([{name:"description",content:this.$description}],n,this.siteMeta,ys)},updateCanonicalLink(){ks(),this.$canonicalUrl&&document.head.insertAdjacentHTML("beforeend",bs(this.$canonicalUrl))}},watch:{$page(){this.updateMeta(),this.updateCanonicalLink()}},beforeDestroy(){vs(null,this.currentMetaTags),ks()}};function ks(){const n=document.querySelector("link[rel='canonical']");n&&n.remove()}function bs(n=""){return n?`<link href="${n}" rel="canonical" />`:""}function vs(n,e){if(e&&[...e].filter(n=>n.parentNode===document.head).forEach(n=>document.head.removeChild(n)),n)return n.map(n=>{const e=document.createElement("meta");return Object.keys(n).forEach(t=>{e.setAttribute(t,n[t])}),document.head.appendChild(e),e})}function ys(n){for(const e of["name","property","itemprop"])if(n.hasOwnProperty(e))return n[e]+e;return JSON.stringify(n)}var xs=t(48),_s={mounted(){window.addEventListener("scroll",this.onScroll)},methods:{onScroll:t.n(xs)()((function(){this.setActiveHash()}),300),setActiveHash(){const n=[].slice.call(document.querySelectorAll(".sidebar-link")),e=[].slice.call(document.querySelectorAll(".header-anchor")).filter(e=>n.some(n=>n.hash===e.hash)),t=Math.max(window.pageYOffset,document.documentElement.scrollTop,document.body.scrollTop),r=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight),o=window.innerHeight+t;for(let n=0;n<e.length;n++){const i=e[n],a=e[n+1],s=0===n&&0===t||t>=i.parentElement.offsetTop+10&&(!a||t<a.parentElement.offsetTop-10),c=decodeURIComponent(this.$route.hash);if(s&&c!==decodeURIComponent(i.hash)){const t=i;if(o===r)for(let t=n+1;t<e.length;t++)if(c===decodeURIComponent(e[t].hash))return;return this.$vuepress.$set("disableScrollBehavior",!0),void this.$router.replace(decodeURIComponent(t.hash),()=>{this.$nextTick(()=>{this.$vuepress.$set("disableScrollBehavior",!1)})})}}}},beforeDestroy(){window.removeEventListener("scroll",this.onScroll)}},Ss=t(26),Es=t.n(Ss),ws={mounted(){Es.a.configure({showSpinner:!1}),this.$router.beforeEach((n,e,t)=>{n.path===e.path||Jt.component(n.name)||Es.a.start(),t()}),this.$router.afterEach(()=>{Es.a.done(),this.isSidebarOpen=!1})}},Cs=t(95),Ts=t.n(Cs),zs={mounted(){Ts.a.polyfill()}};t(242),t(243);class As{constructor(){this.containerEl=document.getElementById("message-container"),this.containerEl||(this.containerEl=document.createElement("div"),this.containerEl.id="message-container",document.body.appendChild(this.containerEl))}show({text:n="",duration:e=3e3}){let t=document.createElement("div");t.className="message move-in",t.innerHTML=`\n      <i style="fill: #06a35a;font-size: 14px;display:inline-flex;align-items: center;">\n        <svg style="fill: #06a35a;font-size: 14px;" t="1572421810237" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2323" width="16" height="16"><path d="M822.811993 824.617989c-83.075838 81.99224-188.546032 124.613757-316.049383 127.86455-122.085362-3.250794-223.943563-45.87231-305.935802-127.86455s-124.613757-184.21164-127.86455-305.935802c3.250794-127.503351 45.87231-232.973545 127.86455-316.049383 81.99224-83.075838 184.21164-126.058554 305.935802-129.309347 127.503351 3.250794 232.973545 46.23351 316.049383 129.309347 83.075838 83.075838 126.058554 188.546032 129.309347 316.049383C949.231746 640.406349 905.887831 742.62575 822.811993 824.617989zM432.716755 684.111464c3.973192 3.973192 8.307584 5.779189 13.364374 6.140388 5.05679 0.361199 9.752381-1.444797 13.364374-5.417989l292.571429-287.514638c3.973192-3.973192 5.779189-8.307584 5.779189-13.364374 0-5.05679-1.805996-9.752381-5.779189-13.364374l1.805996 1.805996c-3.973192-3.973192-8.668783-5.779189-14.086772-6.140388-5.417989-0.361199-10.47478 1.444797-14.809171 5.417989l-264.397884 220.33157c-3.973192 3.250794-8.668783 4.695591-14.447972 4.695591-5.779189 0-10.835979-1.444797-15.53157-3.973192l-94.273016-72.962257c-4.334392-3.250794-9.391182-4.334392-14.447972-3.973192s-9.391182 3.250794-12.641975 7.585185l-2.889594 3.973192c-3.250794 4.334392-4.334392 9.391182-3.973192 14.809171 0.722399 5.417989 2.528395 10.11358 5.779189 14.086772L432.716755 684.111464z" p-id="2324"></path></svg>\n      </i>\n      <div class="text">${n}</div>\n    `,this.containerEl.appendChild(t),e>0&&setTimeout(()=>{this.close(t)},e)}close(n){n.className=n.className.replace("move-in",""),n.className+="move-out",n.addEventListener("animationend",()=>{n.remove()})}}var Ps={mounted(){!!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||this.updateCopy()},updated(){!!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||this.updateCopy()},methods:{updateCopy(){setTimeout(()=>{(['div[class*="language-"] pre','div[class*="aside-code"] aside']instanceof Array||Array.isArray(['div[class*="language-"] pre','div[class*="aside-code"] aside']))&&['div[class*="language-"] pre','div[class*="aside-code"] aside'].forEach(n=>{document.querySelectorAll(n).forEach(this.generateCopyButton)})},1e3)},generateCopyButton(n){if(n.classList.contains("codecopy-enabled"))return;const e=document.createElement("i");e.className="code-copy",e.innerHTML='<svg  style="color:#aaa;font-size:14px" t="1572422231464" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3201" width="14" height="14"><path d="M866.461538 39.384615H354.461538c-43.323077 0-78.769231 35.446154-78.76923 78.769231v39.384616h472.615384c43.323077 0 78.769231 35.446154 78.769231 78.76923v551.384616h39.384615c43.323077 0 78.769231-35.446154 78.769231-78.769231V118.153846c0-43.323077-35.446154-78.769231-78.769231-78.769231z m-118.153846 275.692308c0-43.323077-35.446154-78.769231-78.76923-78.769231H157.538462c-43.323077 0-78.769231 35.446154-78.769231 78.769231v590.769231c0 43.323077 35.446154 78.769231 78.769231 78.769231h512c43.323077 0 78.769231-35.446154 78.76923-78.769231V315.076923z m-354.461538 137.846154c0 11.815385-7.876923 19.692308-19.692308 19.692308h-157.538461c-11.815385 0-19.692308-7.876923-19.692308-19.692308v-39.384615c0-11.815385 7.876923-19.692308 19.692308-19.692308h157.538461c11.815385 0 19.692308 7.876923 19.692308 19.692308v39.384615z m157.538461 315.076923c0 11.815385-7.876923 19.692308-19.692307 19.692308H216.615385c-11.815385 0-19.692308-7.876923-19.692308-19.692308v-39.384615c0-11.815385 7.876923-19.692308 19.692308-19.692308h315.076923c11.815385 0 19.692308 7.876923 19.692307 19.692308v39.384615z m78.769231-157.538462c0 11.815385-7.876923 19.692308-19.692308 19.692308H216.615385c-11.815385 0-19.692308-7.876923-19.692308-19.692308v-39.384615c0-11.815385 7.876923-19.692308 19.692308-19.692308h393.846153c11.815385 0 19.692308 7.876923 19.692308 19.692308v39.384615z" p-id="3202"></path></svg>',e.title="Copy to clipboard",e.addEventListener("click",()=>{this.copyToClipboard(n.innerText)}),n.appendChild(e),n.classList.add("codecopy-enabled")},copyToClipboard(n){const e=document.createElement("textarea");e.value=n,e.setAttribute("readonly",""),e.style.position="absolute",e.style.left="-9999px",document.body.appendChild(e);const t=document.getSelection().rangeCount>0&&document.getSelection().getRangeAt(0);e.select(),document.execCommand("copy");(new As).show({text:"copy success",duration:1e4}),document.body.removeChild(e),t&&(document.getSelection().removeAllRanges(),document.getSelection().addRange(t))}}},Os="auto",Is="zoom-in",Rs="zoom-out",Ms="grab",js="move";function Ls(n,e,t){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o={passive:!1};r?n.addEventListener(e,t,o):n.removeEventListener(e,t,o)}function Bs(n,e){if(n){var t=new Image;t.onload=function(){e&&e(t)},t.src=n}}function Ks(n){return n.dataset.original?n.dataset.original:"A"===n.parentNode.tagName?n.parentNode.getAttribute("href"):null}function Ns(n,e,t){!function(n){var e=Ds,t=$s;if(n.transition){var r=n.transition;delete n.transition,n[e]=r}if(n.transform){var o=n.transform;delete n.transform,n[t]=o}}(e);var r=n.style,o={};for(var i in e)t&&(o[i]=r[i]||""),r[i]=e[i];return o}var Ds="transition",$s="transform",Fs="transform",qs="transitionend";var Us=function(){},Qs={enableGrab:!0,preloadImage:!1,closeOnWindowResize:!0,transitionDuration:.4,transitionTimingFunction:"cubic-bezier(0.4, 0, 0, 1)",bgColor:"rgb(255, 255, 255)",bgOpacity:1,scaleBase:1,scaleExtra:.5,scrollThreshold:40,zIndex:998,customSize:null,onOpen:Us,onClose:Us,onGrab:Us,onMove:Us,onRelease:Us,onBeforeOpen:Us,onBeforeClose:Us,onBeforeGrab:Us,onBeforeRelease:Us,onImageLoading:Us,onImageLoaded:Us},Js={init:function(n){var e,t;e=this,t=n,Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach((function(n){e[n]=e[n].bind(t)}))},click:function(n){if(n.preventDefault(),Zs(n))return window.open(this.target.srcOriginal||n.currentTarget.src,"_blank");this.shown?this.released?this.close():this.release():this.open(n.currentTarget)},scroll:function(){var n=document.documentElement||document.body.parentNode||document.body,e=window.pageXOffset||n.scrollLeft,t=window.pageYOffset||n.scrollTop;null===this.lastScrollPosition&&(this.lastScrollPosition={x:e,y:t});var r=this.lastScrollPosition.x-e,o=this.lastScrollPosition.y-t,i=this.options.scrollThreshold;(Math.abs(o)>=i||Math.abs(r)>=i)&&(this.lastScrollPosition=null,this.close())},keydown:function(n){(function(n){return"Escape"===(n.key||n.code)||27===n.keyCode})(n)&&(this.released?this.close():this.release(this.close))},mousedown:function(n){if(Vs(n)&&!Zs(n)){n.preventDefault();var e=n.clientX,t=n.clientY;this.pressTimer=setTimeout(function(){this.grab(e,t)}.bind(this),200)}},mousemove:function(n){this.released||this.move(n.clientX,n.clientY)},mouseup:function(n){Vs(n)&&!Zs(n)&&(clearTimeout(this.pressTimer),this.released?this.close():this.release())},touchstart:function(n){n.preventDefault();var e=n.touches[0],t=e.clientX,r=e.clientY;this.pressTimer=setTimeout(function(){this.grab(t,r)}.bind(this),200)},touchmove:function(n){if(!this.released){var e=n.touches[0],t=e.clientX,r=e.clientY;this.move(t,r)}},touchend:function(n){(function(n){n.targetTouches.length})(n)||(clearTimeout(this.pressTimer),this.released?this.close():this.release())},clickOverlay:function(){this.close()},resizeWindow:function(){this.close()}};function Vs(n){return 0===n.button}function Zs(n){return n.metaKey||n.ctrlKey}var Hs={init:function(n){this.el=document.createElement("div"),this.instance=n,this.parent=document.body,Ns(this.el,{position:"fixed",top:0,left:0,right:0,bottom:0,opacity:0}),this.updateStyle(n.options),Ls(this.el,"click",n.handler.clickOverlay.bind(n))},updateStyle:function(n){Ns(this.el,{zIndex:n.zIndex,backgroundColor:n.bgColor,transition:"opacity\n        "+n.transitionDuration+"s\n        "+n.transitionTimingFunction})},insert:function(){this.parent.appendChild(this.el)},remove:function(){this.parent.removeChild(this.el)},fadeIn:function(){this.el.offsetWidth,this.el.style.opacity=this.instance.options.bgOpacity},fadeOut:function(){this.el.style.opacity=0}},Gs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Ws=function(){function n(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),Xs=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Ys={init:function(n,e){this.el=n,this.instance=e,this.srcThumbnail=this.el.getAttribute("src"),this.srcset=this.el.getAttribute("srcset"),this.srcOriginal=Ks(this.el),this.rect=this.el.getBoundingClientRect(),this.translate=null,this.scale=null,this.styleOpen=null,this.styleClose=null},zoomIn:function(){var n=this.instance.options,e=n.zIndex,t=n.enableGrab,r=n.transitionDuration,o=n.transitionTimingFunction;this.translate=this.calculateTranslate(),this.scale=this.calculateScale(),this.styleOpen={position:"relative",zIndex:e+1,cursor:t?Ms:Rs,transition:Fs+"\n        "+r+"s\n        "+o,transform:"translate3d("+this.translate.x+"px, "+this.translate.y+"px, 0px)\n        scale("+this.scale.x+","+this.scale.y+")",height:this.rect.height+"px",width:this.rect.width+"px"},this.el.offsetWidth,this.styleClose=Ns(this.el,this.styleOpen,!0)},zoomOut:function(){this.el.offsetWidth,Ns(this.el,{transform:"none"})},grab:function(n,e,t){var r=nc(),o=r.x-n,i=r.y-e;Ns(this.el,{cursor:js,transform:"translate3d(\n        "+(this.translate.x+o)+"px, "+(this.translate.y+i)+"px, 0px)\n        scale("+(this.scale.x+t)+","+(this.scale.y+t)+")"})},move:function(n,e,t){var r=nc(),o=r.x-n,i=r.y-e;Ns(this.el,{transition:Fs,transform:"translate3d(\n        "+(this.translate.x+o)+"px, "+(this.translate.y+i)+"px, 0px)\n        scale("+(this.scale.x+t)+","+(this.scale.y+t)+")"})},restoreCloseStyle:function(){Ns(this.el,this.styleClose)},restoreOpenStyle:function(){Ns(this.el,this.styleOpen)},upgradeSource:function(){if(this.srcOriginal){var n=this.el.parentNode;this.srcset&&this.el.removeAttribute("srcset");var e=this.el.cloneNode(!1);e.setAttribute("src",this.srcOriginal),e.style.position="fixed",e.style.visibility="hidden",n.appendChild(e),setTimeout(function(){this.el.setAttribute("src",this.srcOriginal),n.removeChild(e)}.bind(this),50)}},downgradeSource:function(){this.srcOriginal&&(this.srcset&&this.el.setAttribute("srcset",this.srcset),this.el.setAttribute("src",this.srcThumbnail))},calculateTranslate:function(){var n=nc(),e=this.rect.left+this.rect.width/2,t=this.rect.top+this.rect.height/2;return{x:n.x-e,y:n.y-t}},calculateScale:function(){var n=this.el.dataset,e=n.zoomingHeight,t=n.zoomingWidth,r=this.instance.options,o=r.customSize,i=r.scaleBase;if(!o&&e&&t)return{x:t/this.rect.width,y:e/this.rect.height};if(o&&"object"===(void 0===o?"undefined":Gs(o)))return{x:o.width/this.rect.width,y:o.height/this.rect.height};var a=this.rect.width/2,s=this.rect.height/2,c=nc(),l={x:c.x-a,y:c.y-s},p=l.x/a,u=l.y/s,d=i+Math.min(p,u);if(o&&"string"==typeof o){var f=t||this.el.naturalWidth,m=e||this.el.naturalHeight,h=parseFloat(o)*f/(100*this.rect.width),g=parseFloat(o)*m/(100*this.rect.height);if(d>h||d>g)return{x:h,y:g}}return{x:d,y:d}}};function nc(){var n=document.documentElement;return{x:Math.min(n.clientWidth,window.innerWidth)/2,y:Math.min(n.clientHeight,window.innerHeight)/2}}function ec(n,e,t){["mousedown","mousemove","mouseup","touchstart","touchmove","touchend"].forEach((function(r){Ls(n,r,e[r],t)}))}var tc=function(){function n(e){!function(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),this.target=Object.create(Ys),this.overlay=Object.create(Hs),this.handler=Object.create(Js),this.body=document.body,this.shown=!1,this.lock=!1,this.released=!0,this.lastScrollPosition=null,this.pressTimer=null,this.options=Xs({},Qs,e),this.overlay.init(this),this.handler.init(this)}return Ws(n,[{key:"listen",value:function(n){if("string"==typeof n)for(var e=document.querySelectorAll(n),t=e.length;t--;)this.listen(e[t]);else"IMG"===n.tagName&&(n.style.cursor=Is,Ls(n,"click",this.handler.click),this.options.preloadImage&&Bs(Ks(n)));return this}},{key:"config",value:function(n){return n?(Xs(this.options,n),this.overlay.updateStyle(this.options),this):this.options}},{key:"open",value:function(n){var e=this,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.onOpen;if(!this.shown&&!this.lock){var r="string"==typeof n?document.querySelector(n):n;if("IMG"===r.tagName){if(this.options.onBeforeOpen(r),this.target.init(r,this),!this.options.preloadImage){var o=this.target.srcOriginal;null!=o&&(this.options.onImageLoading(r),Bs(o,this.options.onImageLoaded))}this.shown=!0,this.lock=!0,this.target.zoomIn(),this.overlay.insert(),this.overlay.fadeIn(),Ls(document,"scroll",this.handler.scroll),Ls(document,"keydown",this.handler.keydown),this.options.closeOnWindowResize&&Ls(window,"resize",this.handler.resizeWindow);var i=function n(){Ls(r,qs,n,!1),e.lock=!1,e.target.upgradeSource(),e.options.enableGrab&&ec(document,e.handler,!0),t(r)};return Ls(r,qs,i),this}}}},{key:"close",value:function(){var n=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.onClose;if(this.shown&&!this.lock){var t=this.target.el;this.options.onBeforeClose(t),this.lock=!0,this.body.style.cursor=Os,this.overlay.fadeOut(),this.target.zoomOut(),Ls(document,"scroll",this.handler.scroll,!1),Ls(document,"keydown",this.handler.keydown,!1),this.options.closeOnWindowResize&&Ls(window,"resize",this.handler.resizeWindow,!1);var r=function r(){Ls(t,qs,r,!1),n.shown=!1,n.lock=!1,n.target.downgradeSource(),n.options.enableGrab&&ec(document,n.handler,!1),n.target.restoreCloseStyle(),n.overlay.remove(),e(t)};return Ls(t,qs,r),this}}},{key:"grab",value:function(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.options.scaleExtra,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.options.onGrab;if(this.shown&&!this.lock){var o=this.target.el;this.options.onBeforeGrab(o),this.released=!1,this.target.grab(n,e,t);var i=function n(){Ls(o,qs,n,!1),r(o)};return Ls(o,qs,i),this}}},{key:"move",value:function(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.options.scaleExtra,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.options.onMove;if(this.shown&&!this.lock){this.released=!1,this.body.style.cursor=js,this.target.move(n,e,t);var o=this.target.el,i=function n(){Ls(o,qs,n,!1),r(o)};return Ls(o,qs,i),this}}},{key:"release",value:function(){var n=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.onRelease;if(this.shown&&!this.lock){var t=this.target.el;this.options.onBeforeRelease(t),this.lock=!0,this.body.style.cursor=Os,this.target.restoreOpenStyle();var r=function r(){Ls(t,qs,r,!1),n.lock=!1,n.released=!0,e(t)};return Ls(t,qs,r),this}}}]),n}();const rc=JSON.parse('{"bgColor":"rgba(0,0,0,0.6)"}'),oc=Number("500");class ic{constructor(){this.instance=new tc(rc)}update(n=".theme-vdoing-content img:not(.no-zoom)"){"undefined"!=typeof window&&this.instance.listen(n)}updateDelay(n=".theme-vdoing-content img:not(.no-zoom)",e=oc){setTimeout(()=>this.update(n),e)}}var ac=[gs,_s,ws,zs,Ps,{watch:{"$page.path"(){void 0!==this.$vuepress.zooming&&this.$vuepress.zooming.updateDelay()}},mounted(){this.$vuepress.zooming=new ic,this.$vuepress.zooming.updateDelay()}}],sc={name:"GlobalLayout",computed:{layout(){const n=this.getLayout();return us("layout",n),Jt.component(n)}},methods:{getLayout(){if(this.$page.path){const n=this.$page.frontmatter.layout;return n&&(this.$vuepress.getLayoutAsyncComponent(n)||this.$vuepress.getVueComponent(n))?n:"Layout"}return"NotFound"}}},cc=t(4),lc=Object(cc.a)(sc,(function(){return(0,this._self._c)(this.layout,{tag:"component"})}),[],!1,null,null,null).exports;!function(n,e,t){switch(e){case"components":n[e]||(n[e]={}),Object.assign(n[e],t);break;case"mixins":n[e]||(n[e]=[]),n[e].push(...t);break;default:throw new Error("Unknown option name.")}}(lc,"mixins",ac);const pc=[{name:"v-7bce3c4c",path:"/pages/aboutme/",component:lc,beforeEnter:(n,e,t)=>{ps("Layout","v-7bce3c4c").then(t)}},{path:"/pages/aboutme/index.html",redirect:"/pages/aboutme/"},{path:"/00.AboutMe/01.ä¸ªäººç®å.html",redirect:"/pages/aboutme/"},{name:"v-2828728c",path:"/pages/a2a9d5e6-b580-3ee0-b2c2-5b1557852fd5/",component:lc,beforeEnter:(n,e,t)=>{ps("Layout","v-2828728c").then(t)}},{path:"/pages/a2a9d5e6-b580-3ee0-b2c2-5b1557852fd5/index.html",redirect:"/pages/a2a9d5e6-b580-3ee0-b2c2-5b1557852fd5/"},{path:"/00.AboutMe/02.é¡¹ç®ç»éª/00.å°ç±³æ°é¶å®BIæ°æ®é¢åå»ºè®¾æèä¸æ²æ·.html",redirect:"/pages/a2a9d5e6-b580-3ee0-b2c2-5b1557852fd5/"},{name:"v-a0d8828e",path:"/pages/1/",component:lc,beforeEnter:(n,e,t)=>{ps("Layout","v-a0d8828e").then(t)}},{path:"/pages/1/index.html",redirect:"/pages/1/"},{path:"/01.Javaåºç¡/00.JavaSE/01.xxx.html",redirect:"/pages/1/"},{name:"v-1b87ba43",path:"/pages/2/",component:lc,beforeEnter:(n,e,t)=>{ps("Layout","v-1b87ba43").then(t)}},{path:"/pages/2/index.html",redirect:"/pages/2/"},{path:"/01.Javaåºç¡/01.å¹¶åç¼ç¨/01.xxx.html",redirect:"/pages/2/"},{name:"v-11eb3e66",path:"/pages/3/",component:lc,beforeEnter:(n,e,t)=>{ps("Layout","v-11eb3e66").then(t)}},{path:"/pages/3/index.html",redirect:"/pages/3/"},{path:"/01.Javaåºç¡/02.JavaWeb/01.xxx.html",redirect:"/pages/3/"},{name:"v-e9974c2e",path:"/pages/4/",component:lc,beforeEnter:(n,e,t)=>{ps("Layout","v-e9974c2e").then(t)}},{path:"/pages/4/index.html",redirect:"/pages/4/"},{path:"/01.Javaåºç¡/03.çæ¬æ°ç¹æ§/01.xxx.html",redirect:"/pages/4/"},{name:"v-0a65f29b",path:"/pages/11/",component:lc,beforeEnter:(n,e,t)=>{ps("Layout","v-0a65f29b").then(t)}},{path:"/pages/11/index.html",redirect:"/pages/11/"},{path:"/02.Springå¨å®¶æ¡¶/00.Spring/01.xxx.html",redirect:"/pages/11/"},{name:"v-6d347c8a",path:"/pages/12/",component:lc,beforeEnter:(n,e,t)=>{ps("Layout","v-6d347c8a").then(t)}},{path:"/pages/12/index.html",redirect:"/pages/12/"},{path:"/02.Springå¨å®¶æ¡¶/01.SpringMvc/01.xxx.html",redirect:"/pages/12/"},{name:"v-ab895bee",path:"/pages/13/",component:lc,beforeEnter:(n,e,t)=>{ps("Layout","v-ab895bee").then(t)}},{path:"/pages/13/index.html",redirect:"/pages/13/"},{path:"/02.Springå¨å®¶æ¡¶/02.Mybatis/01.xxx.html",redirect:"/pages/13/"},{name:"v-034cab0a",path:"/pages/14/",component:lc,beforeEnter:(n,e,t)=>{ps("Layout","v-034cab0a").then(t)}},{path:"/pages/14/index.html",redirect:"/pages/14/"},{path:"/02.Springå¨å®¶æ¡¶/03.SpringBoot/01.xxx.html",redirect:"/pages/14/"},{name:"v-60a1e9f7",path:"/pages/15/",component:lc,beforeEnter:(n,e,t)=>{ps("Layout","v-60a1e9f7").then(t)}},{path:"/pages/15/index.html",redirect:"/pages/15/"},{path:"/02.Springå¨å®¶æ¡¶/04.SpringCloud/01.xxx.html",redirect:"/pages/15/"},{name:"v-46ce60b6",path:"/pages/16/",component:lc,beforeEnter:(n,e,t)=>{ps("Layout","v-46ce60b6").then(t)}},{path:"/pages/16/index.html",redirect:"/pages/16/"},{path:"/02.Springå¨å®¶æ¡¶/05.Dubbo/01.xxx.html",redirect:"/pages/16/"},{name:"v-78c75671",path:"/pages/18/",component:lc,beforeEnter:(n,e,t)=>{ps("Layout","v-78c75671").then(t)}},{path:"/pages/18/index.html",redirect:"/pages/18/"},{path:"/02.Springå¨å®¶æ¡¶/07.Netty/01.xxx.html",redirect:"/pages/18/"},{name:"v-65a5217b",path:"/pages/19/",component:lc,beforeEnter:(n,e,t)=>{ps("Layout","v-65a5217b").then(t)}},{path:"/pages/19/index.html",redirect:"/pages/19/"},{path:"/02.Springå¨å®¶æ¡¶/08.Tomcat/01.xxx.html",redirect:"/pages/19/"},{name:"v-e871167a",path:"/pages/17/",component:lc,beforeEnter:(n,e,t)=>{ps("Layout","v-e871167a").then(t)}},{path:"/pages/17/index.html",redirect:"/pages/17/"},{path:"/02.Springå¨å®¶æ¡¶/06.Zookeeper/01.xxx.html",redirect:"/pages/17/"},{name:"v-501486a1",path:"/pages/c8412896-0c96-3cef-8d32-94dcb1852140/",component:lc,beforeEnter:(n,e,t)=>{ps("Layout","v-501486a1").then(t)}},{path:"/pages/c8412896-0c96-3cef-8d32-94dcb1852140/index.html",redirect:"/pages/c8412896-0c96-3cef-8d32-94dcb1852140/"},{path:"/03.æ¶æ¯éå/00.Kafka/1.Kafkaå¥é¨.html",redirect:"/pages/c8412896-0c96-3cef-8d32-94dcb1852140/"},{name:"v-c5d205e2",path:"/pages/278cdef6-836b-3904-aa7f-a51df28ee2da/",component:lc,beforeEnter:(n,e,t)=>{ps("Layout","v-c5d205e2").then(t)}},{path:"/pages/278cdef6-836b-3904-aa7f-a51df28ee2da/index.html",redirect:"/pages/278cdef6-836b-3904-aa7f-a51df28ee2da/"},{path:"/03.æ¶æ¯éå/00.Kafka/10.æ¶è´¹è-å®¢æ·ç«¯å¼å-å¤çº¿ç¨å®ç°.html",redirect:"/pages/278cdef6-836b-3904-aa7f-a51df28ee2da/"},{name:"v-3e9d649c",path:"/pages/dbe6fcd9-6490-3b92-804a-ea7117ef815d/",component:lc,beforeEnter:(n,e,t)=>{ps("Layout","v-3e9d649c").then(t)}},{path:"/pages/dbe6fcd9-6490-3b92-804a-ea7117ef815d/index.html",redirect:"/pages/dbe6fcd9-6490-3b92-804a-ea7117ef815d/"},{path:"/03.æ¶æ¯éå/00.Kafka/12.ä¸»é¢-ä¸»é¢ç®¡ç.html",redirect:"/pages/dbe6fcd9-6490-3b92-804a-ea7117ef815d/"},{name:"v-688d279e",path:"/pages/b94bdb82-9532-3582-8bb7-19f2bc7e5c4f/",component:lc,beforeEnter:(n,e,t)=>{ps("Layout","v-688d279e").then(t)}},{path:"/pages/b94bdb82-9532-3582-8bb7-19f2bc7e5c4f/index.html",redirect:"/pages/b94bdb82-9532-3582-8bb7-19f2bc7e5c4f/"},{path:"/03.æ¶æ¯éå/00.Kafka/13.ä¸»é¢-KafkaAdminClient.html",redirect:"/pages/b94bdb82-9532-3582-8bb7-19f2bc7e5c4f/"},{name:"v-3dcceb24",path:"/pages/7ece0102-a50f-3e0c-be18-9f58eb0723e1/",component:lc,beforeEnter:(n,e,t)=>{ps("Layout","v-3dcceb24").then(t)}},{path:"/pages/7ece0102-a50f-3e0c-be18-9f58eb0723e1/index.html",redirect:"/pages/7ece0102-a50f-3e0c-be18-9f58eb0723e1/"},{path:"/03.æ¶æ¯éå/00.Kafka/11.æ¶è´¹è-å®¢æ·ç«¯å¼å-åæ°è¯´æ.html",redirect:"/pages/7ece0102-a50f-3e0c-be18-9f58eb0723e1/"},{name:"v-c52462c8",path:"/pages/14a08dc7-2466-3341-b742-a0ba9b8b26c3/",component:lc,beforeEnter:(n,e,t)=>{ps("Layout","v-c52462c8").then(t)}},{path:"/pages/14a08dc7-2466-3341-b742-a0ba9b8b26c3/index.html",redirect:"/pages/14a08dc7-2466-3341-b742-a0ba9b8b26c3/"},{path:"/03.æ¶æ¯éå/00.Kafka/14.ååº-ååºç®¡ç.html",redirect:"/pages/14a08dc7-2466-3341-b742-a0ba9b8b26c3/"},{name:"v-2a48cbdf",path:"/pages/bd36a2fb-82ce-3f34-bf5a-91f5703e12a6/",component:lc,beforeEnter:(n,e,t)=>{ps("Layout","v-2a48cbdf").then(t)}},{path:"/pages/bd36a2fb-82ce-3f34-bf5a-91f5703e12a6/index.html",redirect:"/pages/bd36a2fb-82ce-3f34-bf5a-91f5703e12a6/"},{path:"/03.æ¶æ¯éå/00.Kafka/15.ååº-å¦ä½éæ©åéçååºæ°.html",redirect:"/pages/bd36a2fb-82ce-3f34-bf5a-91f5703e12a6/"},{name:"v-e6a3f9b4",path:"/pages/00e44d72-3af4-33ec-95aa-573c4e2603b1/",component:lc,beforeEnter:(n,e,t)=>{ps("Layout","v-e6a3f9b4").then(t)}},{path:"/pages/00e44d72-3af4-33ec-95aa-573c4e2603b1/index.html",redirect:"/pages/00e44d72-3af4-33ec-95aa-573c4e2603b1/"},{path:"/03.æ¶æ¯éå/00.Kafka/2.çäº§è-å®¢æ·ç«¯å¼å.html",redirect:"/pages/00e44d72-3af4-33ec-95aa-573c4e2603b1/"},{name:"v-b4a5b7ac",path:"/pages/517a0a21-c440-3dd1-9e5e-a00d7a7fc18a/",component:lc,beforeEnter:(n,e,t)=>{ps("Layout","v-b4a5b7ac").then(t)}},{path:"/pages/517a0a21-c440-3dd1-9e5e-a00d7a7fc18a/index.html",redirect:"/pages/517a0a21-c440-3dd1-9e5e-a00d7a7fc18a/"},{path:"/03.æ¶æ¯éå/00.Kafka/3.çäº§è-åçåæ.html",redirect:"/pages/517a0a21-c440-3dd1-9e5e-a00d7a7fc18a/"},{name:"v-060d414d",path:"/pages/c4ec1b4a-45f6-3fd7-8faf-7af762dfb0ed/",component:lc,beforeEnter:(n,e,t)=>{ps("Layout","v-060d414d").then(t)}},{path:"/pages/c4ec1b4a-45f6-3fd7-8faf-7af762dfb0ed/index.html",redirect:"/pages/c4ec1b4a-45f6-3fd7-8faf-7af762dfb0ed/"},{path:"/03.æ¶æ¯éå/00.Kafka/4.æ¶è´¹è-æ¶è´¹è&æ¶è´¹èç».html",redirect:"/pages/c4ec1b4a-45f6-3fd7-8faf-7af762dfb0ed/"},{name:"v-25d46bba",path:"/pages/6a99e6af-7333-3944-94f1-6a8a3a84a946/",component:lc,beforeEnter:(n,e,t)=>{ps("Layout","v-25d46bba").then(t)}},{path:"/pages/6a99e6af-7333-3944-94f1-6a8a3a84a946/index.html",redirect:"/pages/6a99e6af-7333-3944-94f1-6a8a3a84a946/"},{path:"/03.æ¶æ¯éå/00.Kafka/5.æ¶è´¹è-å®¢æ·ç«¯å¼å-æ¶è´¹é»è¾.html",redirect:"/pages/6a99e6af-7333-3944-94f1-6a8a3a84a946/"},{name:"v-2880c44a",path:"/pages/0768d08c-72ff-34e7-aada-50c4eecb08b5/",component:lc,beforeEnter:(n,e,t)=>{ps("Layout","v-2880c44a").then(t)}},{path:"/pages/0768d08c-72ff-34e7-aada-50c4eecb08b5/index.html",redirect:"/pages/0768d08c-72ff-34e7-aada-50c4eecb08b5/"},{path:"/03.æ¶æ¯éå/00.Kafka/6.æ¶è´¹è-å®¢æ·ç«¯å¼å-ä½ç¹æäº¤.html",redirect:"/pages/0768d08c-72ff-34e7-aada-50c4eecb08b5/"},{name:"v-d5a2bdec",path:"/pages/5ab26239-f80c-3f5e-affc-fc2c33f5178f/",component:lc,beforeEnter:(n,e,t)=>{ps("Layout","v-d5a2bdec").then(t)}},{path:"/pages/5ab26239-f80c-3f5e-affc-fc2c33f5178f/index.html",redirect:"/pages/5ab26239-f80c-3f5e-affc-fc2c33f5178f/"},{path:"/03.æ¶æ¯éå/00.Kafka/7.æ¶è´¹è-å®¢æ·ç«¯å¼å-æå®ä½ç¹æ¶è´¹.html",redirect:"/pages/5ab26239-f80c-3f5e-affc-fc2c33f5178f/"},{name:"v-a51427f8",path:"/pages/2b4b8b25-552c-374f-9419-12d2c51dbeb1/",component:lc,beforeEnter:(n,e,t)=>{ps("Layout","v-a51427f8").then(t)}},{path:"/pages/2b4b8b25-552c-374f-9419-12d2c51dbeb1/index.html",redirect:"/pages/2b4b8b25-552c-374f-9419-12d2c51dbeb1/"},{path:"/03.æ¶æ¯éå/00.Kafka/8.æ¶è´¹è-å®¢æ·ç«¯å¼å-Rebalance.html",redirect:"/pages/2b4b8b25-552c-374f-9419-12d2c51dbeb1/"},{name:"v-336aff4e",path:"/pages/40f82a04-0969-342d-8b82-bb27281bb7e0/",component:lc,beforeEnter:(n,e,t)=>{ps("Layout","v-336aff4e").then(t)}},{path:"/pages/40f82a04-0969-342d-8b82-bb27281bb7e0/index.html",redirect:"/pages/40f82a04-0969-342d-8b82-bb27281bb7e0/"},{path:"/03.æ¶æ¯éå/00.Kafka/9.æ¶è´¹è-å®¢æ·ç«¯å¼å-æ¦æªå¨.html",redirect:"/pages/40f82a04-0969-342d-8b82-bb27281bb7e0/"},{name:"v-63d529e4",path:"/pages/20/",component:lc,beforeEnter:(n,e,t)=>{ps("Layout","v-63d529e4").then(t)}},{path:"/pages/20/index.html",redirect:"/pages/20/"},{path:"/03.æ¶æ¯éå/01.RocketMQ/01.xxx.html",redirect:"/pages/20/"},{name:"v-44762c24",path:"/pages/21/",component:lc,beforeEnter:(n,e,t)=>{ps("Layout","v-44762c24").then(t)}},{path:"/pages/21/index.html",redirect:"/pages/21/"},{path:"/03.æ¶æ¯éå/02.RabbitMQ/01.xxx.html",redirect:"/pages/21/"},{name:"v-d1f5af9c",path:"/pages/22/",component:lc,beforeEnter:(n,e,t)=>{ps("Layout","v-d1f5af9c").then(t)}},{path:"/pages/22/index.html",redirect:"/pages/22/"},{path:"/04.æ°æ®åº/00.MySQL/01.xxx.html",redirect:"/pages/22/"},{name:"v-3e055fb4",path:"/pages/23/",component:lc,beforeEnter:(n,e,t)=>{ps("Layout","v-3e055fb4").then(t)}},{path:"/pages/23/index.html",redirect:"/pages/23/"},{path:"/04.æ°æ®åº/01.Redis/01.xxx.html",redirect:"/pages/23/"},{name:"v-82ddb1de",path:"/pages/24/",component:lc,beforeEnter:(n,e,t)=>{ps("Layout","v-82ddb1de").then(t)}},{path:"/pages/24/index.html",redirect:"/pages/24/"},{path:"/05.å¾®æå¡æ¶æ/00.æ¶ææ¼è¿/01.xxx.html",redirect:"/pages/24/"},{name:"v-27fcd69b",path:"/pages/25/",component:lc,beforeEnter:(n,e,t)=>{ps("Layout","v-27fcd69b").then(t)}},{path:"/pages/25/index.html",redirect:"/pages/25/"},{path:"/05.å¾®æå¡æ¶æ/01.åå¸å¼äºå¡/01.xxx.html",redirect:"/pages/25/"},{name:"v-45c57d20",path:"/pages/26/",component:lc,beforeEnter:(n,e,t)=>{ps("Layout","v-45c57d20").then(t)}},{path:"/pages/26/index.html",redirect:"/pages/26/"},{path:"/05.å¾®æå¡æ¶æ/02.è®¾è®¡æ¨¡å¼/01.xxx.html",redirect:"/pages/26/"},{name:"v-4d97f68d",path:"/pages/27/",component:lc,beforeEnter:(n,e,t)=>{ps("Layout","v-4d97f68d").then(t)}},{path:"/pages/27/index.html",redirect:"/pages/27/"},{path:"/05.å¾®æå¡æ¶æ/03.é¢åé©±å¨è®¾è®¡/01.xxx.html",redirect:"/pages/27/"},{name:"v-112a6e78",path:"/pages/28/",component:lc,beforeEnter:(n,e,t)=>{ps("Layout","v-112a6e78").then(t)}},{path:"/pages/28/index.html",redirect:"/pages/28/"},{path:"/06.æç´¢å¼æ/00.ElasticSearch/01.xxx.html",redirect:"/pages/28/"},{name:"v-01bbe51f",path:"/pages/29/",component:lc,beforeEnter:(n,e,t)=>{ps("Layout","v-01bbe51f").then(t)}},{path:"/pages/29/index.html",redirect:"/pages/29/"},{path:"/07.JVM/01.xxx.html",redirect:"/pages/29/"},{name:"v-787e3e12",path:"/pages/30/",component:lc,beforeEnter:(n,e,t)=>{ps("Layout","v-787e3e12").then(t)}},{path:"/pages/30/index.html",redirect:"/pages/30/"},{path:"/08.äºè®¡ç®/00.Docker/01.xxx.html",redirect:"/pages/30/"},{name:"v-c41b9cfa",path:"/pages/1c1021ad-9e46-3426-be54-98f2d02a1fa5/",component:lc,beforeEnter:(n,e,t)=>{ps("Layout","v-c41b9cfa").then(t)}},{path:"/pages/1c1021ad-9e46-3426-be54-98f2d02a1fa5/index.html",redirect:"/pages/1c1021ad-9e46-3426-be54-98f2d02a1fa5/"},{path:"/09.æ¥å¸¸å¼å/00.Macæ¥å¸¸ä½¿ç¨/00.SublimeText3éæè®°.html",redirect:"/pages/1c1021ad-9e46-3426-be54-98f2d02a1fa5/"},{name:"v-3c49f337",path:"/pages/6b6ad1f6-ccb5-397f-8ca8-29b053ff97e2/",component:lc,beforeEnter:(n,e,t)=>{ps("Layout","v-3c49f337").then(t)}},{path:"/pages/6b6ad1f6-ccb5-397f-8ca8-29b053ff97e2/index.html",redirect:"/pages/6b6ad1f6-ccb5-397f-8ca8-29b053ff97e2/"},{path:"/09.æ¥å¸¸å¼å/00.Macæ¥å¸¸ä½¿ç¨/01.å»é¤æ¡é¢çç¡¬çå¾æ .html",redirect:"/pages/6b6ad1f6-ccb5-397f-8ca8-29b053ff97e2/"},{name:"v-0b1d5734",path:"/pages/b719f0b3-c7e1-303b-ae66-cbd44c17c1c5/",component:lc,beforeEnter:(n,e,t)=>{ps("Layout","v-0b1d5734").then(t)}},{path:"/pages/b719f0b3-c7e1-303b-ae66-cbd44c17c1c5/index.html",redirect:"/pages/b719f0b3-c7e1-303b-ae66-cbd44c17c1c5/"},{path:"/09.æ¥å¸¸å¼å/00.Macæ¥å¸¸ä½¿ç¨/02.å®è£Jprofiler.html",redirect:"/pages/b719f0b3-c7e1-303b-ae66-cbd44c17c1c5/"},{name:"v-535a8cba",path:"/pages/77b8e011-088b-3337-bc78-1694d12258e7/",component:lc,beforeEnter:(n,e,t)=>{ps("Layout","v-535a8cba").then(t)}},{path:"/pages/77b8e011-088b-3337-bc78-1694d12258e7/index.html",redirect:"/pages/77b8e011-088b-3337-bc78-1694d12258e7/"},{path:"/09.æ¥å¸¸å¼å/00.Macæ¥å¸¸ä½¿ç¨/03.æä»¶å¤¹æ¾ç¤ºéèæä»¶.html",redirect:"/pages/77b8e011-088b-3337-bc78-1694d12258e7/"},{name:"v-0e63a70b",path:"/pages/64b132ef-4cde-3692-9a03-b3f0e7841561/",component:lc,beforeEnter:(n,e,t)=>{ps("Layout","v-0e63a70b").then(t)}},{path:"/pages/64b132ef-4cde-3692-9a03-b3f0e7841561/index.html",redirect:"/pages/64b132ef-4cde-3692-9a03-b3f0e7841561/"},{path:"/09.æ¥å¸¸å¼å/00.Macæ¥å¸¸ä½¿ç¨/04.è§£å³é¼ æ æ»è½®ä¸ä¸ç¿»è½¬.html",redirect:"/pages/64b132ef-4cde-3692-9a03-b3f0e7841561/"},{name:"v-2a6c0621",path:"/pages/723e2b0a-de27-32e9-9704-f57ba9e27c73/",component:lc,beforeEnter:(n,e,t)=>{ps("Layout","v-2a6c0621").then(t)}},{path:"/pages/723e2b0a-de27-32e9-9704-f57ba9e27c73/index.html",redirect:"/pages/723e2b0a-de27-32e9-9704-f57ba9e27c73/"},{path:"/09.æ¥å¸¸å¼å/00.Macæ¥å¸¸ä½¿ç¨/05.éç½®ZSH.html",redirect:"/pages/723e2b0a-de27-32e9-9704-f57ba9e27c73/"},{name:"v-5fa503ff",path:"/pages/xxxxxxxxxx/",component:lc,beforeEnter:(n,e,t)=>{ps("Layout","v-5fa503ff").then(t)}},{path:"/pages/xxxxxxxxxx/index.html",redirect:"/pages/xxxxxxxxxx/"},{path:"/09.æ¥å¸¸å¼å/00.Macæ¥å¸¸ä½¿ç¨/06.è®¿è¾¾éèæä»¶æ¾ç¤º.html",redirect:"/pages/xxxxxxxxxx/"},{name:"v-240b277f",path:"/tags/",component:lc,beforeEnter:(n,e,t)=>{ps("Layout","v-240b277f").then(t)}},{path:"/tags/index.html",redirect:"/tags/"},{path:"/@pages/tagsPage.html",redirect:"/tags/"},{name:"v-46ec5342",path:"/categories/",component:lc,beforeEnter:(n,e,t)=>{ps("Layout","v-46ec5342").then(t)}},{path:"/categories/index.html",redirect:"/categories/"},{path:"/@pages/categoriesPage.html",redirect:"/categories/"},{name:"v-1bb1d17c",path:"/",component:lc,beforeEnter:(n,e,t)=>{ps("Layout","v-1bb1d17c").then(t)}},{path:"/index.html",redirect:"/"},{name:"v-66aca7ff",path:"/archives/",component:lc,beforeEnter:(n,e,t)=>{ps("Layout","v-66aca7ff").then(t)}},{path:"/archives/index.html",redirect:"/archives/"},{path:"/@pages/archivesPage.html",redirect:"/archives/"},{path:"*",component:lc}],uc={title:"Huidong Blogs",description:"è±è±ä¸çè¿·äººç¼ï¼æ²¡æå®åå«èµè¸ã",base:"/",headTags:[["link",{rel:"icon",href:"/img/logo.jpg"}],["meta",{name:"keywords",content:"Java essay"}],["meta",{name:"baidu-site-verification",content:"7F55weZDDc"}],["meta",{name:"theme-color",content:"#11a8cd"}],["script",{},'var _hmt = _hmt || [];\n    (function() {\n      var hm = document.createElement("script");\n      hm.src = "https://hm.baidu.com/hm.js?b4efcb3b959fd674ffa886696241c972";\n      var s = document.getElementsByTagName("script")[0];\n      s.parentNode.insertBefore(hm, s);\n    })();\n    ']],pages:[{title:"About Me",frontmatter:{title:"About Me",date:"2021å¹´9æ11æ¥22:50:43",permalink:"/pages/aboutme/",type:"ä¸ªäººç®å",tags:["ç®å","é¢è¯"],author:{name:"huidong.yin",link:"https://huidongyin.github.io"},categories:["AboutMe"]},regularPath:"/00.AboutMe/01.%E4%B8%AA%E4%BA%BA%E7%AE%80%E5%8E%86.html",relativePath:"00.AboutMe/01.ä¸ªäººç®å.md",key:"v-7bce3c4c",path:"/pages/aboutme/",headers:[{level:3,title:"ä¸ä¸æè½",slug:"ä¸ä¸æè½",normalizedTitle:"ä¸ä¸æè½",charIndex:167},{level:3,title:"å·¥ä½å±¥å",slug:"å·¥ä½å±¥å",normalizedTitle:"å·¥ä½å±¥å",charIndex:952},{level:3,title:"é¡¹ç®ç»éª",slug:"é¡¹ç®ç»éª",normalizedTitle:"é¡¹ç®ç»éª",charIndex:1059},{level:3,title:"æè²èæ¯",slug:"æè²èæ¯",normalizedTitle:"æè²èæ¯",charIndex:1146}],headersStr:"ä¸ä¸æè½ å·¥ä½å±¥å é¡¹ç®ç»éª æè²èæ¯",content:"å§å    å·¥ä½å¹´é   åºçæ¥æ         æ§å«   TEL           é®ç®±\nå°¹ä¼ä¸   3å¹´     1998.11.16   ç·    13342969497   huidong.yin247203@gmail.com\n\n----------------------------------------\n\n\n# ä¸ä¸æè½\n\n 1.  çç»ææ¡Javaåºç¡ç¥è¯ï¼äºè§£åçæ¬ç¹æ§ï¼è¯»è¿å¹¶åç¼ç¨ï¼éåæ¡æ¶ï¼IOæµç­å¸¸ç¨APIåºå±æºç ã\n 2.  è½å¤å¨å¼åä¸­å©ç¨è®¾è®¡æ¨¡å¼æ½è±¡ä»£ç ï¼æ·±å¥çè§£é¢åé©±å¨è®¾è®¡ã\n 3.  è¯»è¿Springï¼SpringMVCï¼Mybatisï¼SpringBootï¼SpringCloud(Eureka,Nacos,Sentinel,OpenFeign,Ribbon,Gateway)æºç ã\n 4.  è¯»è¿Tomcatï¼Dubboï¼Zookeeperï¼Quartzæºç ã\n 5.  è¯»è¿Redisæºç ã\n 6.  äºè§£Nginxï¼ApiSixç­ç½å³ã\n 7.  è¯»è¿ãæ·±å¥çè§£Javaèææºãï¼æå¤æ¬¡JVMçº¿ä¸é®é¢ææ¥ä¸è°ä¼ç»éªï¼ç»åè¿å°ç±³618å¤§ä¿ç°åºè°ä¼ã\n 8.  ææ¡MySQLåºå±åçï¼SQLè°ä¼ç»éªä¸°å¯ï¼æå°ç±³æ°é¶å®æ°æ®å»ºæ¨¡å¼åç»éªã\n 9.  è¯»è¿RocketMQæºç ï¼ææ¡Kafkaæ ¸å¿åçï¼çç»ä½¿ç¨RabbitMQï¼ç®åè´è´£æ¶æ¯éåç¸å³å·¥ä½å¼åã\n 10. çç»ææ¡ElasticSearch APIï¼æ·±å¥çè§£ElasticSearchåºå±åçï¼äºè§£ElasticSearchéç¾¤è¿ç»´ï¼è¯»è¿é¨åElasticSearchæºç ã\n 11. è¯»è¿Nettyæºç ï¼äºè§£Nettyæ± ååå­ç®¡çï¼æå°ç±³æ°é¶å®ç´æ­å¼åç»éªã\n 12. çç»ä½¿ç¨Linuxæä½ç³»ç»ï¼Dockerï¼Jenkinsç­CICDç¸å³å·¥å·ã\n 13. äºè§£HTTPä¸HTTPSåè®®åçï¼åºååä¸ååºåååçï¼RPCéä¿¡åçï¼çæåå¸å¼å¾®æå¡æ¶æï¼ææ¡åå¸å¼äºå¡è§£å³æ¹æ¡ã\n 14. çç»ä½¿ç¨JIRAï¼Asanaç­é¡¹ç®æµç¨ç®¡çå·¥å·ï¼çç»ä½¿ç¨Markdownï¼Wordï¼Excelï¼PPTç­å·¥å·ã\n\n----------------------------------------\n\n\n# å·¥ä½å±¥å\n\n 1. 2020.11-2022.06 å°ç±³æ°é¶å®ææ¯é¨\n 2. 2022.07- ZOOM AsyncMQ\n\n----------------------------------------\n\n\n# é¡¹ç®ç»éª\n\n 1. å°ç±³æ°é¶å®-é¶å®é\n 2. ZOOMæ¶æ¯éå-AsyncMQ\n\n----------------------------------------\n\n\n# æè²èæ¯\n\nå­¦æ ¡åç§°     ä¸ä¸         å°±è¯»æ¶é´        å­¦ä½\né½é½åå°å¤§å­¦   è®¡ç®æºç§å­¦ä¸ææ¯   2017~2021   æ¬ç§\n\n----------------------------------------",normalizedContent:"å§å    å·¥ä½å¹´é   åºçæ¥æ         æ§å«   tel           é®ç®±\nå°¹ä¼ä¸   3å¹´     1998.11.16   ç·    13342969497   huidong.yin247203@gmail.com\n\n----------------------------------------\n\n\n# ä¸ä¸æè½\n\n 1.  çç»ææ¡javaåºç¡ç¥è¯ï¼äºè§£åçæ¬ç¹æ§ï¼è¯»è¿å¹¶åç¼ç¨ï¼éåæ¡æ¶ï¼ioæµç­å¸¸ç¨apiåºå±æºç ã\n 2.  è½å¤å¨å¼åä¸­å©ç¨è®¾è®¡æ¨¡å¼æ½è±¡ä»£ç ï¼æ·±å¥çè§£é¢åé©±å¨è®¾è®¡ã\n 3.  è¯»è¿springï¼springmvcï¼mybatisï¼springbootï¼springcloud(eureka,nacos,sentinel,openfeign,ribbon,gateway)æºç ã\n 4.  è¯»è¿tomcatï¼dubboï¼zookeeperï¼quartzæºç ã\n 5.  è¯»è¿redisæºç ã\n 6.  äºè§£nginxï¼apisixç­ç½å³ã\n 7.  è¯»è¿ãæ·±å¥çè§£javaèææºãï¼æå¤æ¬¡jvmçº¿ä¸é®é¢ææ¥ä¸è°ä¼ç»éªï¼ç»åè¿å°ç±³618å¤§ä¿ç°åºè°ä¼ã\n 8.  ææ¡mysqlåºå±åçï¼sqlè°ä¼ç»éªä¸°å¯ï¼æå°ç±³æ°é¶å®æ°æ®å»ºæ¨¡å¼åç»éªã\n 9.  è¯»è¿rocketmqæºç ï¼ææ¡kafkaæ ¸å¿åçï¼çç»ä½¿ç¨rabbitmqï¼ç®åè´è´£æ¶æ¯éåç¸å³å·¥ä½å¼åã\n 10. çç»ææ¡elasticsearch apiï¼æ·±å¥çè§£elasticsearchåºå±åçï¼äºè§£elasticsearchéç¾¤è¿ç»´ï¼è¯»è¿é¨åelasticsearchæºç ã\n 11. è¯»è¿nettyæºç ï¼äºè§£nettyæ± ååå­ç®¡çï¼æå°ç±³æ°é¶å®ç´æ­å¼åç»éªã\n 12. çç»ä½¿ç¨linuxæä½ç³»ç»ï¼dockerï¼jenkinsç­cicdç¸å³å·¥å·ã\n 13. äºè§£httpä¸httpsåè®®åçï¼åºååä¸ååºåååçï¼rpcéä¿¡åçï¼çæåå¸å¼å¾®æå¡æ¶æï¼ææ¡åå¸å¼äºå¡è§£å³æ¹æ¡ã\n 14. çç»ä½¿ç¨jiraï¼asanaç­é¡¹ç®æµç¨ç®¡çå·¥å·ï¼çç»ä½¿ç¨markdownï¼wordï¼excelï¼pptç­å·¥å·ã\n\n----------------------------------------\n\n\n# å·¥ä½å±¥å\n\n 1. 2020.11-2022.06 å°ç±³æ°é¶å®ææ¯é¨\n 2. 2022.07- zoom asyncmq\n\n----------------------------------------\n\n\n# é¡¹ç®ç»éª\n\n 1. å°ç±³æ°é¶å®-é¶å®é\n 2. zoomæ¶æ¯éå-asyncmq\n\n----------------------------------------\n\n\n# æè²èæ¯\n\nå­¦æ ¡åç§°     ä¸ä¸         å°±è¯»æ¶é´        å­¦ä½\né½é½åå°å¤§å­¦   è®¡ç®æºç§å­¦ä¸ææ¯   2017~2021   æ¬ç§\n\n----------------------------------------",charsets:{cjk:!0},lastUpdated:"2023/11/04, 10:52:44",lastUpdatedTimestamp:1699066364e3},{title:"å°ç±³æ°é¶å®BIæ°æ®é¢åå»ºè®¾æèä¸æ²æ·",frontmatter:{title:"å°ç±³æ°é¶å®BIæ°æ®é¢åå»ºè®¾æèä¸æ²æ·",date:"2023-01-01T00:00:00.000Z",tags:["æ°é¶å®","å°ç±³","BI","æ°ä»å»ºæ¨¡"],categories:["é¡¹ç®"],description:"å°ç±³æ°é¶å®BIæ°æ®é¢åå»ºè®¾æèä¸æ²æ·",toc_number:!1,author:{name:"huidong.yin",link:"https://huidongyin.github.io"},permalink:"/pages/a2a9d5e6-b580-3ee0-b2c2-5b1557852fd5/"},regularPath:"/00.AboutMe/02.%E9%A1%B9%E7%9B%AE%E7%BB%8F%E9%AA%8C/00.%E5%B0%8F%E7%B1%B3%E6%96%B0%E9%9B%B6%E5%94%AEBI%E6%95%B0%E6%8D%AE%E9%A2%86%E5%9F%9F%E5%BB%BA%E8%AE%BE%E6%80%9D%E8%80%83%E4%B8%8E%E6%B2%89%E6%B7%80.html",relativePath:"00.AboutMe/02.é¡¹ç®ç»éª/00.å°ç±³æ°é¶å®BIæ°æ®é¢åå»ºè®¾æèä¸æ²æ·.md",key:"v-2828728c",path:"/pages/a2a9d5e6-b580-3ee0-b2c2-5b1557852fd5/",headers:[{level:2,title:"1.é¶å®éæ°æ®æ¹æ¡æ¼è¿",slug:"_1-é¶å®éæ°æ®æ¹æ¡æ¼è¿",normalizedTitle:"1.é¶å®éæ°æ®æ¹æ¡æ¼è¿",charIndex:490},{level:2,title:"2.ADSæ°æ®é¢åå»ºè®¾",slug:"_2-adsæ°æ®é¢åå»ºè®¾",normalizedTitle:"2.adsæ°æ®é¢åå»ºè®¾",charIndex:1888},{level:3,title:"2.1 éµå°é¢å",slug:"_2-1-éµå°é¢å",normalizedTitle:"2.1 éµå°é¢å",charIndex:1948},{level:4,title:"1ï¼éµå°é¢åï¼åå¬å¸",slug:"_1-éµå°é¢å-åå¬å¸",normalizedTitle:"1ï¼éµå°é¢åï¼åå¬å¸",charIndex:2004},{level:3,title:"2.2 çå©é¢åï¼èµéé¢å",slug:"_2-2-çå©é¢å-èµéé¢å",normalizedTitle:"2.2 çå©é¢åï¼èµéé¢å",charIndex:2107},{level:4,title:"1ï¼çå©ï¼èµéé¢å",slug:"_1-çå©-èµéé¢å",normalizedTitle:"1ï¼çå©ï¼èµéé¢å",charIndex:2124},{level:4,title:"2ï¼çå©ï¼è¿å©é¢å",slug:"_2-çå©-è¿å©é¢å",normalizedTitle:"2ï¼çå©ï¼è¿å©é¢å",charIndex:2223},{level:3,title:"2.3 éå®é¢å",slug:"_2-3-éå®é¢å",normalizedTitle:"2.3 éå®é¢å",charIndex:2317},{level:3,title:"2.4 æ¿æ´»é¢å",slug:"_2-4-æ¿æ´»é¢å",normalizedTitle:"2.4 æ¿æ´»é¢å",charIndex:2374},{level:3,title:"2.5 åºå­é¢å",slug:"_2-5-åºå­é¢å",normalizedTitle:"2.5 åºå­é¢å",charIndex:2458},{level:3,title:"2.6 åå·¥é¢å",slug:"_2-6-åå·¥é¢å",normalizedTitle:"2.6 åå·¥é¢å",charIndex:2580},{level:3,title:"2.7 è·¨é¢åå®½è¡¨",slug:"_2-7-è·¨é¢åå®½è¡¨",normalizedTitle:"2.7 è·¨é¢åå®½è¡¨",charIndex:2675},{level:3,title:"2.8 é¢åå»ºè®¾å¨å±æ¦è§",slug:"_2-8-é¢åå»ºè®¾å¨å±æ¦è§",normalizedTitle:"2.8 é¢åå»ºè®¾å¨å±æ¦è§",charIndex:2774},{level:3,title:"2.9 é¢åé­ç¯",slug:"_2-9-é¢åé­ç¯",normalizedTitle:"2.9 é¢åé­ç¯",charIndex:2835},{level:2,title:"!](/images/Project/å°ç±³æ°é¶å®BIæ°æ®é¢åå»ºè®¾æèä¸æ²æ·/19.png)\n![",slug:"images-project-å°ç±³æ°é¶å®biæ°æ®é¢åå»ºè®¾æèä¸æ²æ·-19-png-images-project-å°ç±³æ°é¶å®biæ°æ®é¢åå»ºè®¾æèä¸æ²æ·-20-png",normalizedTitle:"!](/images/project/å°ç±³æ°é¶å®biæ°æ®é¢åå»ºè®¾æèä¸æ²æ·/19.png)\n![",charIndex:null},{level:2,title:"3. æ°æ®é¢åè®¾è®¡è§çº¦",slug:"_3-æ°æ®é¢åè®¾è®¡è§çº¦",normalizedTitle:"3. æ°æ®é¢åè®¾è®¡è§çº¦",charIndex:2852},{level:3,title:"3.1 è¡¨åè§çº¦",slug:"_3-1-è¡¨åè§çº¦",normalizedTitle:"3.1 è¡¨åè§çº¦",charIndex:2868},{level:3,title:"3.2 Schemaè§çº¦",slug:"_3-2-schemaè§çº¦",normalizedTitle:"3.2 schemaè§çº¦",charIndex:2925},{level:2,title:"4. è§å && å±æ",slug:"_4-è§å-å±æ",normalizedTitle:"4. è§å &amp;&amp; å±æ",charIndex:null},{level:3,title:"4.1 æ°æ®æå¡å»ºè®¾",slug:"_4-1-æ°æ®æå¡å»ºè®¾",normalizedTitle:"4.1 æ°æ®æå¡å»ºè®¾",charIndex:3002},{level:3,title:"4.2 æ°æ®å¹³å°æå¡è®¾æ³",slug:"_4-2-æ°æ®å¹³å°æå¡è®¾æ³",normalizedTitle:"4.2 æ°æ®å¹³å°æå¡è®¾æ³",charIndex:3247}],headersStr:"1.é¶å®éæ°æ®æ¹æ¡æ¼è¿ 2.ADSæ°æ®é¢åå»ºè®¾ 2.1 éµå°é¢å 1ï¼éµå°é¢åï¼åå¬å¸ 2.2 çå©é¢åï¼èµéé¢å 1ï¼çå©ï¼èµéé¢å 2ï¼çå©ï¼è¿å©é¢å 2.3 éå®é¢å 2.4 æ¿æ´»é¢å 2.5 åºå­é¢å 2.6 åå·¥é¢å 2.7 è·¨é¢åå®½è¡¨ 2.8 é¢åå»ºè®¾å¨å±æ¦è§ 2.9 é¢åé­ç¯ !](/images/Project/å°ç±³æ°é¶å®BIæ°æ®é¢åå»ºè®¾æèä¸æ²æ·/19.png)\n![ 3. æ°æ®é¢åè®¾è®¡è§çº¦ 3.1 è¡¨åè§çº¦ 3.2 Schemaè§çº¦ 4. è§å && å±æ 4.1 æ°æ®æå¡å»ºè®¾ 4.2 æ°æ®å¹³å°æå¡è®¾æ³",content:'å°ç±³æ°é¶å®çç®¡çå·¥å·ââé¶å®éï¼æ¯ä¸æ¬¾ä¸æ³¨äºBç«¯çåè½ä¸°å¯ãä¿¡æ¯å±ç¤ºå¨é¢ãç®¡çé«æçåºç¨ãå¶æ ¸å¿ç®æ æ¯åå©äºèç½å·¥å·åæ¹æ³ï¼æé«ä¼ ç»é¶å®ä¸å¡çæçãé¶å®ééè¿è½¯ç¡¬ä»¶çååéåï¼æå»ºäºä¸å¥æºè½å®ä½é¨åºä½ç³»ï¼ä»¥å®ç°é¨åºä¸å¡çé«æè½¬åãä¸»è¦åºç¨æ¨¡ååæ¬BIæ°æ®çæ¿ãåå·¥å·¥ä½å°ãç´æ­è§çä¸åæ¾ï¼ä»¥åä¸ªäººä¿¡æ¯ä¸é¨åºç®¡çï¼ç§»å¨æ¶é¶æ¯ä»ç­ç­ã\n\n * BIæ°æ®çæ¿ï¼åé¨è·¨å¤ä¸ªé¨é¨çæ°æ®æºï¼èåçº¿ä¸çº¿ä¸çææéå®æ°æ®ï¼ååæåä¸ªçé¢åï¼æç§ä¸åçç»´åº¦åè§è§åæ°æ®å±ç¤ºã\n * åå·¥å·¥ä½å°ï¼ä¸»è¦åæ¬åå·¥æ¥å¸¸å·¥ä½ç®¡çï¼æ¥å¨ææ¥ï¼å¥è½¬è°ç¦»ï¼å®¡æ¹æµï¼é¶å®å­¦é¢éå®æè½å­¦ä¹ ï¼æ¨è¯»ä»»å¡ç­ç­ã\n * ç´æ­è§çä¸åæ¾ï¼æ»é¨ä¸å®æå¯¹åå·¥è¿è¡ä¸å¡å¹è®­ï¼æ¯æå½æ­ï¼åæ¾ï¼è¯è®ºï¼ç¹èµç­ç­ã\n * ä¸ªäººä¿¡æ¯ä¸é¨åºç®¡çï¼ä¸»è¦æ¯"æç"é¡µé¢ï¼ä¸ªäººåºç¡ä¿¡æ¯ç®¡çï¼å¨çº¿å»ºåºï¼é­åºï¼æ¶æ¯æ¨éï¼é®é¢åé¦ï¼ç»å½éåºï¼è§è²åæ¢ç­ç­ã\n * ç§»å¨æ¶é¶æ¯ä»ï¼æéäºæ´ä¸ªå±¥çº¦åä»å¨éè´§ï¼è°è´§ç­æµç¨ï¼åæ¶æ¯æå®¢æ·æ«ç æ¯ä»ï¼æºè½ç»è®¡åå·¥ä¸ªäººæ¿å±ç­ç­ã\n\n----------------------------------------\n\n\n# 1.é¶å®éæ°æ®æ¹æ¡æ¼è¿\n\né¡¹ç®åå§é¶æ®µçéæ¨å¨BIæ°æ®çæ¿çå¼åï¼éçç»éªçç§¯ç´¯ï¼æä»¬ç»åäºåä¸ªé¶æ®µçè°æ´ï¼éæ­¥å°æ°é¶å®çæ°æ®çæ¿ä»åå§çéå½¢åå±æä¸ºä¸ä¸ªæçç¨³å®çç³»ç»ã\n\n 1. ç¬¬ä¸é¶æ®µï¼é¶å®éJavaä¸çº¿\n    1. æ°æ®æªæå»ºå¶ï¼æ¥æºåæ£æä¹±ï¼ä¸å¡æ°æ®æ£è½å¨å¤¸é¨é¨çåä¸ªç³»ç»ï¼ç¼ºä¹ç»ä¸è§ååå£å¾ä¸ä¸è´ã\n    2. é¶å®éææ¯æ¶æé¢ä¸´è½¬æ¢ï¼åçé¡¹ç®éç¨Goè¯­è¨å¼åï¼é¢ä¸´è½¬åJavaçæï¼Javaå¢éå¤äºååé¶æ®µã\n    3. ä¸å¡éæ±åäºæ°æ®åºç¡å»ºè®¾ï¼ä¸å¸¸è§çæ°æ®åè¡æ¨¡å¼ä¸åï¼æ°æ®å¼åæ»åï¼é¡¹ç®æ¨è¿å­å¨ææã\n    4. æ°æ®åæ­¥æ´æ°é¾åº¦å¤§ï¼æ©æå¤æ°æ°æ®éç¨T+1æ´æ°ï¼åæå½æ¥æ°æ®ä¸T+1æ°æ®åç¦»ï¼æå¡ç«¯é¢çæ±æ»é»è¾ã\n    5. æ°æ®å¢éå¼å§æ¶å£ï¼å¤æ°å¤é¨æ¥å£ä¸åç±é¶å®éæå¡å¯¹æ¥ï¼æ°æ®ç»è¿è¡åå§æ°æ®åæ­¥è½åºã\n    6. éç¨Dorisæ¹æ¡æ¯æT+1æ°æ®ï¼æµ·éåå§æ°æ®éç¨åæofflineè¡¨è®¾è®¡æ§è½æ æ³æ»¡è¶³è¦æ±ï¼æ°æ®å¢éè½¬åDoriså¯»æ±åºè·¯ã\n    7. æå¡ç«¯åºäºDoris+MySQLæ±æ»ï¼ä¸»è¦æ°æ®åæåä¸ºT+1æ´æ°Dorisï¼åæå°å½æ¥æ°æ®è¿å¥MySQLï¼æå¡ç«¯åºäºç¸åç»æåå¹¶ä¸åæ¶æ®µæ°æ®ã\n 2. ç¬¬äºé¶æ®µï¼æ°æ®é¢ç­æ¹æ¡\n    1. é¶å®éJavaæ´ä½è¿ç§»ä¸çº¿ï¼ä»Go+Javaçæ³¥æ·ä¸­è§£è±åºæ¥ï¼Javaå¢éå¨é¢æ¥ç®¡é¶å®éã\n    2. äº§åå½¢æç®åå ç ï¼æçãåºãåãåºè§è§æå»ºå·¥ä½å°ï¼æ°èéæ±å ç æ°æ®æ¥¼å±ï¼ç¼ºä¹å±çº§çºµæ·±åæµã\n    3. Doriså¨çº¿æ¥è¯¢æ¯æè½åä¸è¶³ï¼å¹¶åæ¡ä»¶ä¸å¹¶ä¸è½å¾å¥½çæ¯æå³æ¶æ¥è¯¢ï¼æ¥å£è¯·æ±è¶æ¶ä¸¥éã\n    4. æ°æ®å®æ¶æ§è¯æ±ä¸æ­æåï¼é¡¹ç®æ¥éæ¯æä¸å¡æ°æ®ç¹å«æ¯éå®æ°æ®çå®æ¶åæ¥è¯¢ã\n    5. æ°æ®é¢ç­æ¹æ¡ç´§æ¥ä¸çº¿ï¼åè§è§åä¸ªæ¥¼å±è®¾è®¡Job+Redisç¼å­é¢ç­ï¼MiScheduleè¿è¡è°åº¦ã\n    6. æ°æ®å®æ¶åï¼éè¿é«é¢å®æ¶ä»»å¡è¿è¡T+0ä¸T+1æ°æ®èåååå¥ESï¼æä¾è¿å®æ¶æ¥è¯¢è½åã\n    7. ååç«¯ååæ¹é æ°æ®æ¸²ææ¹æ¡ï¼æ¥¼å±è¶æ¥è¶å¤ï¼é¡µé¢è¶æ¥è¶é¿ï¼æå¡ç«¯æ¥å£æåï¼æ¥¼å±ç¬ç«åï¼å®¢æ·ç«¯å°è¯æéæ¸²æï¼å¼æ­¥å è½½ã\n 3. ç¬¬ä¸é¶æ®µï¼ADSå¼å§å»ºç«\n    1. æ¨å¨äº§åå½¢æå¼å§è£åï¼æ°æ®å³æ³¨ç¹èç¦ï¼ä»åé¿æ¥¼å±æè§£åºæ¥ï¼å å¼ºå©ç¨çºµæ·±å±ç°æ°æ®ã\n    2. ä½æå®¤ ééç»åºï¼ä¸å¡æ¨è¿æ¨¡å¼æ´å å³æ³¨åä¸ªè§è§æåï¼æ°æ®æ¶åééãæ¿æ´»ãé¨åºæ°ç­ã\n    3. ADSåºç¨æ°æ®å± åºè¿èçï¼OLAP ï¼ OLTPï¼å¤§æ°æ®çè§£å³æ¹æ¡ï¼æ°æ®é¢ååå±çå¿µå¼å§æ¨è¡ã\n 4. ç¬¬åé¶æ®µï¼ADS 2.0æ¶ä»£\n    1. ä¸å¡ä¸»ä½æ¡æ¶åºæ¬å»ºæï¼å¨é¢å»ºç«åèè½è§è§å·¥ä½å°ï¼å·¥ä½å°tabãä½æå®¤tabãéå®tab ä¸è¶³é¼ç«ï¼å»ºåºæ¨¡å¼æ¸æ°åï¼ç±³å®¶ vs ææï¼ä»ç³»ç»æ§éæ±è¿å¥è¿­ä»£åéæ±ã\n    2. æµå¼è®¡ç®æ¹æ¡è¯ç¹æ¨è¡ï¼æ°æ®ä»åºåé¨ç»åä¸åä¸è®®éæ±å°è¯ï¼flinkæ´æ°æ°æ®æ¹æ¡ï¼éæ­¥æ¨å¹¿è³ADSã\n    3. ADSæ°æ®æå¡è¿å¥2.0æ¶ä»£ï¼é¢åå»ºè®¾å¨é¢è¦çä¸å¡é¢åï¼æ°æ®æ´æ°æ¹æ¡åæ´ï¼æ´æ°æ¶é´æ´å åæ¶ï¼new-retail-ads æå¡éåºåå²èå°ï¼PDSæå¡æ­£å¼ä¸çº¿ï¼æ¨è¿æ¶æåçåè°æ´ã\n\n\n\nç°é¶æ®µé¶å®éæ¶æ\n\n----------------------------------------\n\n\n# 2.ADSæ°æ®é¢åå»ºè®¾\n\n\n\n----------------------------------------\n\n\n# 2.1 éµå°é¢å\n\n\n\n----------------------------------------\n\n# 1ï¼éµå°é¢åï¼åå¬å¸\n\nä¸»è¦å³æ³¨ç¹ï¼\n\n 1. å°åºæ°é\n 2. å¿åºè¦çç\n 3. åç¶æï¼åç±»åé¨åºæ°é\n\n\n\n----------------------------------------\n\n\n# 2.2 çå©é¢åï¼èµéé¢å\n\n# 1ï¼çå©ï¼èµéé¢å\n\nä¸»è¦å³æ³¨ç¹ï¼\n\n 1. å¹³åä¿è¯é\n 2. è¿ä¸æ¥éå®éé¢\n 3. èµéå¨è½¬å¨æ\n\n\n\n----------------------------------------\n\n# 2ï¼çå©ï¼è¿å©é¢å\n\nä¸»è¦å³æ³¨ç¹ï¼\n\n 1. å¦¥æéé¢\n 2. è¿å©éé¢\n 3. è¿å©ç¹ä½\n\n\n\n----------------------------------------\n\n\n# 2.3 éå®é¢å\n\n\n\n----------------------------------------\n\n\n# 2.4 æ¿æ´»é¢å\n\nä¸»è¦å³æ³¨ç¹ï¼\n\n 1. éå®æ¿æ´»\n 2. åè§æ¿æ´»\n\n\n\n----------------------------------------\n\n\n# 2.5 åºå­é¢å\n\nä¸»è¦å³æ³¨ç¹ï¼\n\n 1. åºé´å¨é\n 2. åºä»åºå¨é\n 3. åºå®ç©\n 4. æ ·æºåºå­\n 5. Nå¤©æ¥åé\n 6. Nå¤©DOS\n\n\n\n----------------------------------------\n\n\n# 2.6 åå·¥é¢å\n\nä¸»è¦å³æ³¨ç¹ï¼\n\n 1. åå·¥ç»å\n 2. åå·¥è¯å\n 3. åå·¥éå®æ¿å±\n\n\n\n----------------------------------------\n\n\n# 2.7 è·¨é¢åå®½è¡¨\n\n * éå®é¢\n * è®¢åé\n * å®¢æµé\n * éè´§\n * æ¿æ´»\n * NPS\n\n\n\n----------------------------------------\n\n\n# 2.8 é¢åå»ºè®¾å¨å±æ¦è§\n\n\n\n----------------------------------------\n\n\n# 2.9 é¢åé­ç¯\n\n\n#\n\n\n# 3. æ°æ®é¢åè®¾è®¡è§çº¦\n\n\n# 3.1 è¡¨åè§çº¦\n\n\n\n----------------------------------------\n\n\n# 3.2 Schemaè§çº¦\n\n\n\n----------------------------------------\n\n\n# 4. è§å && å±æ\n\n\n# 4.1 æ°æ®æå¡å»ºè®¾\n\n 1. æ§è½æåï¼ä¸å¡é»è¾è§£è¦ä¼åï¼åçè®¾è®¡ç¼å­ï¼å¹¶è¡åãå¼æ­¥åï¼SQLä¼åãç´¢å¼ä¼åç­ã\n 2. é¢åå¥å¨ï¼å¨é¢åä¸»ä½æ¡æ¶å»ºç«çåºç¡ä¸ï¼æç»­å®åç»åé¢ååå³æ³¨ç¹ï¼å¦ï¼è¿å©ãåå·¥é¢åã\n 3. æ¶æåçåï¼ä¸»ä»åç¦»ï¼èæ§è¡¨åºå¼æ¢³çï¼åç´æåç³»ç»æå¡ãæ°æ®é¢åãDBå®ä¾ç­ã\n 4. æå¡åæ¢ï¼å¨é¢æ¨è¿é¢åæå¡åæ¢è³ADS2.0ï¼å·¥ä½å°å®æ¶åï¼Proretailä½çé¨åç­ã\n\n----------------------------------------\n\n\n# 4.2 æ°æ®å¹³å°æå¡è®¾æ³\n\n\n\n----------------------------------------',normalizedContent:'å°ç±³æ°é¶å®çç®¡çå·¥å·ââé¶å®éï¼æ¯ä¸æ¬¾ä¸æ³¨äºbç«¯çåè½ä¸°å¯ãä¿¡æ¯å±ç¤ºå¨é¢ãç®¡çé«æçåºç¨ãå¶æ ¸å¿ç®æ æ¯åå©äºèç½å·¥å·åæ¹æ³ï¼æé«ä¼ ç»é¶å®ä¸å¡çæçãé¶å®ééè¿è½¯ç¡¬ä»¶çååéåï¼æå»ºäºä¸å¥æºè½å®ä½é¨åºä½ç³»ï¼ä»¥å®ç°é¨åºä¸å¡çé«æè½¬åãä¸»è¦åºç¨æ¨¡ååæ¬biæ°æ®çæ¿ãåå·¥å·¥ä½å°ãç´æ­è§çä¸åæ¾ï¼ä»¥åä¸ªäººä¿¡æ¯ä¸é¨åºç®¡çï¼ç§»å¨æ¶é¶æ¯ä»ç­ç­ã\n\n * biæ°æ®çæ¿ï¼åé¨è·¨å¤ä¸ªé¨é¨çæ°æ®æºï¼èåçº¿ä¸çº¿ä¸çææéå®æ°æ®ï¼ååæåä¸ªçé¢åï¼æç§ä¸åçç»´åº¦åè§è§åæ°æ®å±ç¤ºã\n * åå·¥å·¥ä½å°ï¼ä¸»è¦åæ¬åå·¥æ¥å¸¸å·¥ä½ç®¡çï¼æ¥å¨ææ¥ï¼å¥è½¬è°ç¦»ï¼å®¡æ¹æµï¼é¶å®å­¦é¢éå®æè½å­¦ä¹ ï¼æ¨è¯»ä»»å¡ç­ç­ã\n * ç´æ­è§çä¸åæ¾ï¼æ»é¨ä¸å®æå¯¹åå·¥è¿è¡ä¸å¡å¹è®­ï¼æ¯æå½æ­ï¼åæ¾ï¼è¯è®ºï¼ç¹èµç­ç­ã\n * ä¸ªäººä¿¡æ¯ä¸é¨åºç®¡çï¼ä¸»è¦æ¯"æç"é¡µé¢ï¼ä¸ªäººåºç¡ä¿¡æ¯ç®¡çï¼å¨çº¿å»ºåºï¼é­åºï¼æ¶æ¯æ¨éï¼é®é¢åé¦ï¼ç»å½éåºï¼è§è²åæ¢ç­ç­ã\n * ç§»å¨æ¶é¶æ¯ä»ï¼æéäºæ´ä¸ªå±¥çº¦åä»å¨éè´§ï¼è°è´§ç­æµç¨ï¼åæ¶æ¯æå®¢æ·æ«ç æ¯ä»ï¼æºè½ç»è®¡åå·¥ä¸ªäººæ¿å±ç­ç­ã\n\n----------------------------------------\n\n\n# 1.é¶å®éæ°æ®æ¹æ¡æ¼è¿\n\né¡¹ç®åå§é¶æ®µçéæ¨å¨biæ°æ®çæ¿çå¼åï¼éçç»éªçç§¯ç´¯ï¼æä»¬ç»åäºåä¸ªé¶æ®µçè°æ´ï¼éæ­¥å°æ°é¶å®çæ°æ®çæ¿ä»åå§çéå½¢åå±æä¸ºä¸ä¸ªæçç¨³å®çç³»ç»ã\n\n 1. ç¬¬ä¸é¶æ®µï¼é¶å®éjavaä¸çº¿\n    1. æ°æ®æªæå»ºå¶ï¼æ¥æºåæ£æä¹±ï¼ä¸å¡æ°æ®æ£è½å¨å¤¸é¨é¨çåä¸ªç³»ç»ï¼ç¼ºä¹ç»ä¸è§ååå£å¾ä¸ä¸è´ã\n    2. é¶å®éææ¯æ¶æé¢ä¸´è½¬æ¢ï¼åçé¡¹ç®éç¨goè¯­è¨å¼åï¼é¢ä¸´è½¬åjavaçæï¼javaå¢éå¤äºååé¶æ®µã\n    3. ä¸å¡éæ±åäºæ°æ®åºç¡å»ºè®¾ï¼ä¸å¸¸è§çæ°æ®åè¡æ¨¡å¼ä¸åï¼æ°æ®å¼åæ»åï¼é¡¹ç®æ¨è¿å­å¨ææã\n    4. æ°æ®åæ­¥æ´æ°é¾åº¦å¤§ï¼æ©æå¤æ°æ°æ®éç¨t+1æ´æ°ï¼åæå½æ¥æ°æ®ä¸t+1æ°æ®åç¦»ï¼æå¡ç«¯é¢çæ±æ»é»è¾ã\n    5. æ°æ®å¢éå¼å§æ¶å£ï¼å¤æ°å¤é¨æ¥å£ä¸åç±é¶å®éæå¡å¯¹æ¥ï¼æ°æ®ç»è¿è¡åå§æ°æ®åæ­¥è½åºã\n    6. éç¨dorisæ¹æ¡æ¯æt+1æ°æ®ï¼æµ·éåå§æ°æ®éç¨åæofflineè¡¨è®¾è®¡æ§è½æ æ³æ»¡è¶³è¦æ±ï¼æ°æ®å¢éè½¬ådoriså¯»æ±åºè·¯ã\n    7. æå¡ç«¯åºäºdoris+mysqlæ±æ»ï¼ä¸»è¦æ°æ®åæåä¸ºt+1æ´æ°dorisï¼åæå°å½æ¥æ°æ®è¿å¥mysqlï¼æå¡ç«¯åºäºç¸åç»æåå¹¶ä¸åæ¶æ®µæ°æ®ã\n 2. ç¬¬äºé¶æ®µï¼æ°æ®é¢ç­æ¹æ¡\n    1. é¶å®éjavaæ´ä½è¿ç§»ä¸çº¿ï¼ä»go+javaçæ³¥æ·ä¸­è§£è±åºæ¥ï¼javaå¢éå¨é¢æ¥ç®¡é¶å®éã\n    2. äº§åå½¢æç®åå ç ï¼æçãåºãåãåºè§è§æå»ºå·¥ä½å°ï¼æ°èéæ±å ç æ°æ®æ¥¼å±ï¼ç¼ºä¹å±çº§çºµæ·±åæµã\n    3. doriså¨çº¿æ¥è¯¢æ¯æè½åä¸è¶³ï¼å¹¶åæ¡ä»¶ä¸å¹¶ä¸è½å¾å¥½çæ¯æå³æ¶æ¥è¯¢ï¼æ¥å£è¯·æ±è¶æ¶ä¸¥éã\n    4. æ°æ®å®æ¶æ§è¯æ±ä¸æ­æåï¼é¡¹ç®æ¥éæ¯æä¸å¡æ°æ®ç¹å«æ¯éå®æ°æ®çå®æ¶åæ¥è¯¢ã\n    5. æ°æ®é¢ç­æ¹æ¡ç´§æ¥ä¸çº¿ï¼åè§è§åä¸ªæ¥¼å±è®¾è®¡job+redisç¼å­é¢ç­ï¼mischeduleè¿è¡è°åº¦ã\n    6. æ°æ®å®æ¶åï¼éè¿é«é¢å®æ¶ä»»å¡è¿è¡t+0ä¸t+1æ°æ®èåååå¥esï¼æä¾è¿å®æ¶æ¥è¯¢è½åã\n    7. ååç«¯ååæ¹é æ°æ®æ¸²ææ¹æ¡ï¼æ¥¼å±è¶æ¥è¶å¤ï¼é¡µé¢è¶æ¥è¶é¿ï¼æå¡ç«¯æ¥å£æåï¼æ¥¼å±ç¬ç«åï¼å®¢æ·ç«¯å°è¯æéæ¸²æï¼å¼æ­¥å è½½ã\n 3. ç¬¬ä¸é¶æ®µï¼adså¼å§å»ºç«\n    1. æ¨å¨äº§åå½¢æå¼å§è£åï¼æ°æ®å³æ³¨ç¹èç¦ï¼ä»åé¿æ¥¼å±æè§£åºæ¥ï¼å å¼ºå©ç¨çºµæ·±å±ç°æ°æ®ã\n    2. ä½æå®¤ ééç»åºï¼ä¸å¡æ¨è¿æ¨¡å¼æ´å å³æ³¨åä¸ªè§è§æåï¼æ°æ®æ¶åééãæ¿æ´»ãé¨åºæ°ç­ã\n    3. adsåºç¨æ°æ®å± åºè¿èçï¼olap ï¼ oltpï¼å¤§æ°æ®çè§£å³æ¹æ¡ï¼æ°æ®é¢ååå±çå¿µå¼å§æ¨è¡ã\n 4. ç¬¬åé¶æ®µï¼ads 2.0æ¶ä»£\n    1. ä¸å¡ä¸»ä½æ¡æ¶åºæ¬å»ºæï¼å¨é¢å»ºç«åèè½è§è§å·¥ä½å°ï¼å·¥ä½å°tabãä½æå®¤tabãéå®tab ä¸è¶³é¼ç«ï¼å»ºåºæ¨¡å¼æ¸æ°åï¼ç±³å®¶ vs ææï¼ä»ç³»ç»æ§éæ±è¿å¥è¿­ä»£åéæ±ã\n    2. æµå¼è®¡ç®æ¹æ¡è¯ç¹æ¨è¡ï¼æ°æ®ä»åºåé¨ç»åä¸åä¸è®®éæ±å°è¯ï¼flinkæ´æ°æ°æ®æ¹æ¡ï¼éæ­¥æ¨å¹¿è³adsã\n    3. adsæ°æ®æå¡è¿å¥2.0æ¶ä»£ï¼é¢åå»ºè®¾å¨é¢è¦çä¸å¡é¢åï¼æ°æ®æ´æ°æ¹æ¡åæ´ï¼æ´æ°æ¶é´æ´å åæ¶ï¼new-retail-ads æå¡éåºåå²èå°ï¼pdsæå¡æ­£å¼ä¸çº¿ï¼æ¨è¿æ¶æåçåè°æ´ã\n\n\n\nç°é¶æ®µé¶å®éæ¶æ\n\n----------------------------------------\n\n\n# 2.adsæ°æ®é¢åå»ºè®¾\n\n\n\n----------------------------------------\n\n\n# 2.1 éµå°é¢å\n\n\n\n----------------------------------------\n\n# 1ï¼éµå°é¢åï¼åå¬å¸\n\nä¸»è¦å³æ³¨ç¹ï¼\n\n 1. å°åºæ°é\n 2. å¿åºè¦çç\n 3. åç¶æï¼åç±»åé¨åºæ°é\n\n\n\n----------------------------------------\n\n\n# 2.2 çå©é¢åï¼èµéé¢å\n\n# 1ï¼çå©ï¼èµéé¢å\n\nä¸»è¦å³æ³¨ç¹ï¼\n\n 1. å¹³åä¿è¯é\n 2. è¿ä¸æ¥éå®éé¢\n 3. èµéå¨è½¬å¨æ\n\n\n\n----------------------------------------\n\n# 2ï¼çå©ï¼è¿å©é¢å\n\nä¸»è¦å³æ³¨ç¹ï¼\n\n 1. å¦¥æéé¢\n 2. è¿å©éé¢\n 3. è¿å©ç¹ä½\n\n\n\n----------------------------------------\n\n\n# 2.3 éå®é¢å\n\n\n\n----------------------------------------\n\n\n# 2.4 æ¿æ´»é¢å\n\nä¸»è¦å³æ³¨ç¹ï¼\n\n 1. éå®æ¿æ´»\n 2. åè§æ¿æ´»\n\n\n\n----------------------------------------\n\n\n# 2.5 åºå­é¢å\n\nä¸»è¦å³æ³¨ç¹ï¼\n\n 1. åºé´å¨é\n 2. åºä»åºå¨é\n 3. åºå®ç©\n 4. æ ·æºåºå­\n 5. nå¤©æ¥åé\n 6. nå¤©dos\n\n\n\n----------------------------------------\n\n\n# 2.6 åå·¥é¢å\n\nä¸»è¦å³æ³¨ç¹ï¼\n\n 1. åå·¥ç»å\n 2. åå·¥è¯å\n 3. åå·¥éå®æ¿å±\n\n\n\n----------------------------------------\n\n\n# 2.7 è·¨é¢åå®½è¡¨\n\n * éå®é¢\n * è®¢åé\n * å®¢æµé\n * éè´§\n * æ¿æ´»\n * nps\n\n\n\n----------------------------------------\n\n\n# 2.8 é¢åå»ºè®¾å¨å±æ¦è§\n\n\n\n----------------------------------------\n\n\n# 2.9 é¢åé­ç¯\n\n\n#\n\n\n# 3. æ°æ®é¢åè®¾è®¡è§çº¦\n\n\n# 3.1 è¡¨åè§çº¦\n\n\n\n----------------------------------------\n\n\n# 3.2 schemaè§çº¦\n\n\n\n----------------------------------------\n\n\n# 4. è§å && å±æ\n\n\n# 4.1 æ°æ®æå¡å»ºè®¾\n\n 1. æ§è½æåï¼ä¸å¡é»è¾è§£è¦ä¼åï¼åçè®¾è®¡ç¼å­ï¼å¹¶è¡åãå¼æ­¥åï¼sqlä¼åãç´¢å¼ä¼åç­ã\n 2. é¢åå¥å¨ï¼å¨é¢åä¸»ä½æ¡æ¶å»ºç«çåºç¡ä¸ï¼æç»­å®åç»åé¢ååå³æ³¨ç¹ï¼å¦ï¼è¿å©ãåå·¥é¢åã\n 3. æ¶æåçåï¼ä¸»ä»åç¦»ï¼èæ§è¡¨åºå¼æ¢³çï¼åç´æåç³»ç»æå¡ãæ°æ®é¢åãdbå®ä¾ç­ã\n 4. æå¡åæ¢ï¼å¨é¢æ¨è¿é¢åæå¡åæ¢è³ads2.0ï¼å·¥ä½å°å®æ¶åï¼proretailä½çé¨åç­ã\n\n----------------------------------------\n\n\n# 4.2 æ°æ®å¹³å°æå¡è®¾æ³\n\n\n\n----------------------------------------',charsets:{cjk:!0},lastUpdated:"2023/11/04, 10:52:44",lastUpdatedTimestamp:1699066364e3},{title:"About Me",frontmatter:{title:"About Me",date:"2021å¹´9æ11æ¥22:50:43",permalink:"/pages/1/",type:"ä¸ªäººç®å",tags:["ç®å","é¢è¯"],author:{name:"huidong.yin",link:"https://huidongyin.github.io"},categories:["AboutMe"]},regularPath:"/01.Java%E5%9F%BA%E7%A1%80/00.JavaSE/01.xxx.html",relativePath:"01.Javaåºç¡/00.JavaSE/01.xxx.md",key:"v-a0d8828e",path:"/pages/1/",headers:[{level:3,title:"ä¸ä¸æè½",slug:"ä¸ä¸æè½",normalizedTitle:"ä¸ä¸æè½",charIndex:167},{level:3,title:"å·¥ä½å±¥å",slug:"å·¥ä½å±¥å",normalizedTitle:"å·¥ä½å±¥å",charIndex:952},{level:3,title:"é¡¹ç®ç»éª",slug:"é¡¹ç®ç»éª",normalizedTitle:"é¡¹ç®ç»éª",charIndex:1059},{level:3,title:"æè²èæ¯",slug:"æè²èæ¯",normalizedTitle:"æè²èæ¯",charIndex:1146}],headersStr:"ä¸ä¸æè½ å·¥ä½å±¥å é¡¹ç®ç»éª æè²èæ¯",content:"å§å    å·¥ä½å¹´é   åºçæ¥æ         æ§å«   TEL           é®ç®±\nå°¹ä¼ä¸   3å¹´     1998.11.16   ç·    13342969497   huidong.yin247203@gmail.com\n\n----------------------------------------\n\n\n# ä¸ä¸æè½\n\n 1.  çç»ææ¡Javaåºç¡ç¥è¯ï¼äºè§£åçæ¬ç¹æ§ï¼è¯»è¿å¹¶åç¼ç¨ï¼éåæ¡æ¶ï¼IOæµç­å¸¸ç¨APIåºå±æºç ã\n 2.  è½å¤å¨å¼åä¸­å©ç¨è®¾è®¡æ¨¡å¼æ½è±¡ä»£ç ï¼æ·±å¥çè§£é¢åé©±å¨è®¾è®¡ã\n 3.  è¯»è¿Springï¼SpringMVCï¼Mybatisï¼SpringBootï¼SpringCloud(Eureka,Nacos,Sentinel,OpenFeign,Ribbon,Gateway)æºç ã\n 4.  è¯»è¿Tomcatï¼Dubboï¼Zookeeperï¼Quartzæºç ã\n 5.  è¯»è¿Redisæºç ã\n 6.  äºè§£Nginxï¼ApiSixç­ç½å³ã\n 7.  è¯»è¿ãæ·±å¥çè§£Javaèææºãï¼æå¤æ¬¡JVMçº¿ä¸é®é¢ææ¥ä¸è°ä¼ç»éªï¼ç»åè¿å°ç±³618å¤§ä¿ç°åºè°ä¼ã\n 8.  ææ¡MySQLåºå±åçï¼SQLè°ä¼ç»éªä¸°å¯ï¼æå°ç±³æ°é¶å®æ°æ®å»ºæ¨¡å¼åç»éªã\n 9.  è¯»è¿RocketMQæºç ï¼ææ¡Kafkaæ ¸å¿åçï¼çç»ä½¿ç¨RabbitMQï¼ç®åè´è´£æ¶æ¯éåç¸å³å·¥ä½å¼åã\n 10. çç»ææ¡ElasticSearch APIï¼æ·±å¥çè§£ElasticSearchåºå±åçï¼äºè§£ElasticSearchéç¾¤è¿ç»´ï¼è¯»è¿é¨åElasticSearchæºç ã\n 11. è¯»è¿Nettyæºç ï¼äºè§£Nettyæ± ååå­ç®¡çï¼æå°ç±³æ°é¶å®ç´æ­å¼åç»éªã\n 12. çç»ä½¿ç¨Linuxæä½ç³»ç»ï¼Dockerï¼Jenkinsç­CICDç¸å³å·¥å·ã\n 13. äºè§£HTTPä¸HTTPSåè®®åçï¼åºååä¸ååºåååçï¼RPCéä¿¡åçï¼çæåå¸å¼å¾®æå¡æ¶æï¼ææ¡åå¸å¼äºå¡è§£å³æ¹æ¡ã\n 14. çç»ä½¿ç¨JIRAï¼Asanaç­é¡¹ç®æµç¨ç®¡çå·¥å·ï¼çç»ä½¿ç¨Markdownï¼Wordï¼Excelï¼PPTç­å·¥å·ã\n\n----------------------------------------\n\n\n# å·¥ä½å±¥å\n\n 1. 2020.11-2022.06 å°ç±³æ°é¶å®ææ¯é¨\n 2. 2022.07- ZOOM AsyncMQ\n\n----------------------------------------\n\n\n# é¡¹ç®ç»éª\n\n 1. å°ç±³æ°é¶å®-é¶å®é\n 2. ZOOMæ¶æ¯éå-AsyncMQ\n\n----------------------------------------\n\n\n# æè²èæ¯\n\nå­¦æ ¡åç§°     ä¸ä¸         å°±è¯»æ¶é´        å­¦ä½\né½é½åå°å¤§å­¦   è®¡ç®æºç§å­¦ä¸ææ¯   2017~2021   æ¬ç§\n\n----------------------------------------",normalizedContent:"å§å    å·¥ä½å¹´é   åºçæ¥æ         æ§å«   tel           é®ç®±\nå°¹ä¼ä¸   3å¹´     1998.11.16   ç·    13342969497   huidong.yin247203@gmail.com\n\n----------------------------------------\n\n\n# ä¸ä¸æè½\n\n 1.  çç»ææ¡javaåºç¡ç¥è¯ï¼äºè§£åçæ¬ç¹æ§ï¼è¯»è¿å¹¶åç¼ç¨ï¼éåæ¡æ¶ï¼ioæµç­å¸¸ç¨apiåºå±æºç ã\n 2.  è½å¤å¨å¼åä¸­å©ç¨è®¾è®¡æ¨¡å¼æ½è±¡ä»£ç ï¼æ·±å¥çè§£é¢åé©±å¨è®¾è®¡ã\n 3.  è¯»è¿springï¼springmvcï¼mybatisï¼springbootï¼springcloud(eureka,nacos,sentinel,openfeign,ribbon,gateway)æºç ã\n 4.  è¯»è¿tomcatï¼dubboï¼zookeeperï¼quartzæºç ã\n 5.  è¯»è¿redisæºç ã\n 6.  äºè§£nginxï¼apisixç­ç½å³ã\n 7.  è¯»è¿ãæ·±å¥çè§£javaèææºãï¼æå¤æ¬¡jvmçº¿ä¸é®é¢ææ¥ä¸è°ä¼ç»éªï¼ç»åè¿å°ç±³618å¤§ä¿ç°åºè°ä¼ã\n 8.  ææ¡mysqlåºå±åçï¼sqlè°ä¼ç»éªä¸°å¯ï¼æå°ç±³æ°é¶å®æ°æ®å»ºæ¨¡å¼åç»éªã\n 9.  è¯»è¿rocketmqæºç ï¼ææ¡kafkaæ ¸å¿åçï¼çç»ä½¿ç¨rabbitmqï¼ç®åè´è´£æ¶æ¯éåç¸å³å·¥ä½å¼åã\n 10. çç»ææ¡elasticsearch apiï¼æ·±å¥çè§£elasticsearchåºå±åçï¼äºè§£elasticsearchéç¾¤è¿ç»´ï¼è¯»è¿é¨åelasticsearchæºç ã\n 11. è¯»è¿nettyæºç ï¼äºè§£nettyæ± ååå­ç®¡çï¼æå°ç±³æ°é¶å®ç´æ­å¼åç»éªã\n 12. çç»ä½¿ç¨linuxæä½ç³»ç»ï¼dockerï¼jenkinsç­cicdç¸å³å·¥å·ã\n 13. äºè§£httpä¸httpsåè®®åçï¼åºååä¸ååºåååçï¼rpcéä¿¡åçï¼çæåå¸å¼å¾®æå¡æ¶æï¼ææ¡åå¸å¼äºå¡è§£å³æ¹æ¡ã\n 14. çç»ä½¿ç¨jiraï¼asanaç­é¡¹ç®æµç¨ç®¡çå·¥å·ï¼çç»ä½¿ç¨markdownï¼wordï¼excelï¼pptç­å·¥å·ã\n\n----------------------------------------\n\n\n# å·¥ä½å±¥å\n\n 1. 2020.11-2022.06 å°ç±³æ°é¶å®ææ¯é¨\n 2. 2022.07- zoom asyncmq\n\n----------------------------------------\n\n\n# é¡¹ç®ç»éª\n\n 1. å°ç±³æ°é¶å®-é¶å®é\n 2. zoomæ¶æ¯éå-asyncmq\n\n----------------------------------------\n\n\n# æè²èæ¯\n\nå­¦æ ¡åç§°     ä¸ä¸         å°±è¯»æ¶é´        å­¦ä½\né½é½åå°å¤§å­¦   è®¡ç®æºç§å­¦ä¸ææ¯   2017~2021   æ¬ç§\n\n----------------------------------------",charsets:{cjk:!0},lastUpdated:"2023/11/04, 13:58:20",lastUpdatedTimestamp:16990775e5},{title:"About Me",frontmatter:{title:"About Me",date:"2021å¹´9æ11æ¥22:50:43",permalink:"/pages/2/",type:"ä¸ªäººç®å",tags:["ç®å","é¢è¯"],author:{name:"huidong.yin",link:"https://huidongyin.github.io"},categories:["AboutMe"]},regularPath:"/01.Java%E5%9F%BA%E7%A1%80/01.%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/01.xxx.html",relativePath:"01.Javaåºç¡/01.å¹¶åç¼ç¨/01.xxx.md",key:"v-1b87ba43",path:"/pages/2/",headers:[{level:3,title:"ä¸ä¸æè½",slug:"ä¸ä¸æè½",normalizedTitle:"ä¸ä¸æè½",charIndex:167},{level:3,title:"å·¥ä½å±¥å",slug:"å·¥ä½å±¥å",normalizedTitle:"å·¥ä½å±¥å",charIndex:952},{level:3,title:"é¡¹ç®ç»éª",slug:"é¡¹ç®ç»éª",normalizedTitle:"é¡¹ç®ç»éª",charIndex:1059},{level:3,title:"æè²èæ¯",slug:"æè²èæ¯",normalizedTitle:"æè²èæ¯",charIndex:1146}],headersStr:"ä¸ä¸æè½ å·¥ä½å±¥å é¡¹ç®ç»éª æè²èæ¯",content:"å§å    å·¥ä½å¹´é   åºçæ¥æ         æ§å«   TEL           é®ç®±\nå°¹ä¼ä¸   3å¹´     1998.11.16   ç·    13342969497   huidong.yin247203@gmail.com\n\n----------------------------------------\n\n\n# ä¸ä¸æè½\n\n 1.  çç»ææ¡Javaåºç¡ç¥è¯ï¼äºè§£åçæ¬ç¹æ§ï¼è¯»è¿å¹¶åç¼ç¨ï¼éåæ¡æ¶ï¼IOæµç­å¸¸ç¨APIåºå±æºç ã\n 2.  è½å¤å¨å¼åä¸­å©ç¨è®¾è®¡æ¨¡å¼æ½è±¡ä»£ç ï¼æ·±å¥çè§£é¢åé©±å¨è®¾è®¡ã\n 3.  è¯»è¿Springï¼SpringMVCï¼Mybatisï¼SpringBootï¼SpringCloud(Eureka,Nacos,Sentinel,OpenFeign,Ribbon,Gateway)æºç ã\n 4.  è¯»è¿Tomcatï¼Dubboï¼Zookeeperï¼Quartzæºç ã\n 5.  è¯»è¿Redisæºç ã\n 6.  äºè§£Nginxï¼ApiSixç­ç½å³ã\n 7.  è¯»è¿ãæ·±å¥çè§£Javaèææºãï¼æå¤æ¬¡JVMçº¿ä¸é®é¢ææ¥ä¸è°ä¼ç»éªï¼ç»åè¿å°ç±³618å¤§ä¿ç°åºè°ä¼ã\n 8.  ææ¡MySQLåºå±åçï¼SQLè°ä¼ç»éªä¸°å¯ï¼æå°ç±³æ°é¶å®æ°æ®å»ºæ¨¡å¼åç»éªã\n 9.  è¯»è¿RocketMQæºç ï¼ææ¡Kafkaæ ¸å¿åçï¼çç»ä½¿ç¨RabbitMQï¼ç®åè´è´£æ¶æ¯éåç¸å³å·¥ä½å¼åã\n 10. çç»ææ¡ElasticSearch APIï¼æ·±å¥çè§£ElasticSearchåºå±åçï¼äºè§£ElasticSearchéç¾¤è¿ç»´ï¼è¯»è¿é¨åElasticSearchæºç ã\n 11. è¯»è¿Nettyæºç ï¼äºè§£Nettyæ± ååå­ç®¡çï¼æå°ç±³æ°é¶å®ç´æ­å¼åç»éªã\n 12. çç»ä½¿ç¨Linuxæä½ç³»ç»ï¼Dockerï¼Jenkinsç­CICDç¸å³å·¥å·ã\n 13. äºè§£HTTPä¸HTTPSåè®®åçï¼åºååä¸ååºåååçï¼RPCéä¿¡åçï¼çæåå¸å¼å¾®æå¡æ¶æï¼ææ¡åå¸å¼äºå¡è§£å³æ¹æ¡ã\n 14. çç»ä½¿ç¨JIRAï¼Asanaç­é¡¹ç®æµç¨ç®¡çå·¥å·ï¼çç»ä½¿ç¨Markdownï¼Wordï¼Excelï¼PPTç­å·¥å·ã\n\n----------------------------------------\n\n\n# å·¥ä½å±¥å\n\n 1. 2020.11-2022.06 å°ç±³æ°é¶å®ææ¯é¨\n 2. 2022.07- ZOOM AsyncMQ\n\n----------------------------------------\n\n\n# é¡¹ç®ç»éª\n\n 1. å°ç±³æ°é¶å®-é¶å®é\n 2. ZOOMæ¶æ¯éå-AsyncMQ\n\n----------------------------------------\n\n\n# æè²èæ¯\n\nå­¦æ ¡åç§°     ä¸ä¸         å°±è¯»æ¶é´        å­¦ä½\né½é½åå°å¤§å­¦   è®¡ç®æºç§å­¦ä¸ææ¯   2017~2021   æ¬ç§\n\n----------------------------------------",normalizedContent:"å§å    å·¥ä½å¹´é   åºçæ¥æ         æ§å«   tel           é®ç®±\nå°¹ä¼ä¸   3å¹´     1998.11.16   ç·    13342969497   huidong.yin247203@gmail.com\n\n----------------------------------------\n\n\n# ä¸ä¸æè½\n\n 1.  çç»ææ¡javaåºç¡ç¥è¯ï¼äºè§£åçæ¬ç¹æ§ï¼è¯»è¿å¹¶åç¼ç¨ï¼éåæ¡æ¶ï¼ioæµç­å¸¸ç¨apiåºå±æºç ã\n 2.  è½å¤å¨å¼åä¸­å©ç¨è®¾è®¡æ¨¡å¼æ½è±¡ä»£ç ï¼æ·±å¥çè§£é¢åé©±å¨è®¾è®¡ã\n 3.  è¯»è¿springï¼springmvcï¼mybatisï¼springbootï¼springcloud(eureka,nacos,sentinel,openfeign,ribbon,gateway)æºç ã\n 4.  è¯»è¿tomcatï¼dubboï¼zookeeperï¼quartzæºç ã\n 5.  è¯»è¿redisæºç ã\n 6.  äºè§£nginxï¼apisixç­ç½å³ã\n 7.  è¯»è¿ãæ·±å¥çè§£javaèææºãï¼æå¤æ¬¡jvmçº¿ä¸é®é¢ææ¥ä¸è°ä¼ç»éªï¼ç»åè¿å°ç±³618å¤§ä¿ç°åºè°ä¼ã\n 8.  ææ¡mysqlåºå±åçï¼sqlè°ä¼ç»éªä¸°å¯ï¼æå°ç±³æ°é¶å®æ°æ®å»ºæ¨¡å¼åç»éªã\n 9.  è¯»è¿rocketmqæºç ï¼ææ¡kafkaæ ¸å¿åçï¼çç»ä½¿ç¨rabbitmqï¼ç®åè´è´£æ¶æ¯éåç¸å³å·¥ä½å¼åã\n 10. çç»ææ¡elasticsearch apiï¼æ·±å¥çè§£elasticsearchåºå±åçï¼äºè§£elasticsearchéç¾¤è¿ç»´ï¼è¯»è¿é¨åelasticsearchæºç ã\n 11. è¯»è¿nettyæºç ï¼äºè§£nettyæ± ååå­ç®¡çï¼æå°ç±³æ°é¶å®ç´æ­å¼åç»éªã\n 12. çç»ä½¿ç¨linuxæä½ç³»ç»ï¼dockerï¼jenkinsç­cicdç¸å³å·¥å·ã\n 13. äºè§£httpä¸httpsåè®®åçï¼åºååä¸ååºåååçï¼rpcéä¿¡åçï¼çæåå¸å¼å¾®æå¡æ¶æï¼ææ¡åå¸å¼äºå¡è§£å³æ¹æ¡ã\n 14. çç»ä½¿ç¨jiraï¼asanaç­é¡¹ç®æµç¨ç®¡çå·¥å·ï¼çç»ä½¿ç¨markdownï¼wordï¼excelï¼pptç­å·¥å·ã\n\n----------------------------------------\n\n\n# å·¥ä½å±¥å\n\n 1. 2020.11-2022.06 å°ç±³æ°é¶å®ææ¯é¨\n 2. 2022.07- zoom asyncmq\n\n----------------------------------------\n\n\n# é¡¹ç®ç»éª\n\n 1. å°ç±³æ°é¶å®-é¶å®é\n 2. zoomæ¶æ¯éå-asyncmq\n\n----------------------------------------\n\n\n# æè²èæ¯\n\nå­¦æ ¡åç§°     ä¸ä¸         å°±è¯»æ¶é´        å­¦ä½\né½é½åå°å¤§å­¦   è®¡ç®æºç§å­¦ä¸ææ¯   2017~2021   æ¬ç§\n\n----------------------------------------",charsets:{cjk:!0},lastUpdated:"2023/11/04, 13:58:20",lastUpdatedTimestamp:16990775e5},{title:"About Me",frontmatter:{title:"About Me",date:"2021å¹´9æ11æ¥22:50:43",permalink:"/pages/3/",type:"ä¸ªäººç®å",tags:["ç®å","é¢è¯"],author:{name:"huidong.yin",link:"https://huidongyin.github.io"},categories:["AboutMe"]},regularPath:"/01.Java%E5%9F%BA%E7%A1%80/02.JavaWeb/01.xxx.html",relativePath:"01.Javaåºç¡/02.JavaWeb/01.xxx.md",key:"v-11eb3e66",path:"/pages/3/",headers:[{level:3,title:"ä¸ä¸æè½",slug:"ä¸ä¸æè½",normalizedTitle:"ä¸ä¸æè½",charIndex:167},{level:3,title:"å·¥ä½å±¥å",slug:"å·¥ä½å±¥å",normalizedTitle:"å·¥ä½å±¥å",charIndex:952},{level:3,title:"é¡¹ç®ç»éª",slug:"é¡¹ç®ç»éª",normalizedTitle:"é¡¹ç®ç»éª",charIndex:1059},{level:3,title:"æè²èæ¯",slug:"æè²èæ¯",normalizedTitle:"æè²èæ¯",charIndex:1146}],headersStr:"ä¸ä¸æè½ å·¥ä½å±¥å é¡¹ç®ç»éª æè²èæ¯",content:"å§å    å·¥ä½å¹´é   åºçæ¥æ         æ§å«   TEL           é®ç®±\nå°¹ä¼ä¸   3å¹´     1998.11.16   ç·    13342969497   huidong.yin247203@gmail.com\n\n----------------------------------------\n\n\n# ä¸ä¸æè½\n\n 1.  çç»ææ¡Javaåºç¡ç¥è¯ï¼äºè§£åçæ¬ç¹æ§ï¼è¯»è¿å¹¶åç¼ç¨ï¼éåæ¡æ¶ï¼IOæµç­å¸¸ç¨APIåºå±æºç ã\n 2.  è½å¤å¨å¼åä¸­å©ç¨è®¾è®¡æ¨¡å¼æ½è±¡ä»£ç ï¼æ·±å¥çè§£é¢åé©±å¨è®¾è®¡ã\n 3.  è¯»è¿Springï¼SpringMVCï¼Mybatisï¼SpringBootï¼SpringCloud(Eureka,Nacos,Sentinel,OpenFeign,Ribbon,Gateway)æºç ã\n 4.  è¯»è¿Tomcatï¼Dubboï¼Zookeeperï¼Quartzæºç ã\n 5.  è¯»è¿Redisæºç ã\n 6.  äºè§£Nginxï¼ApiSixç­ç½å³ã\n 7.  è¯»è¿ãæ·±å¥çè§£Javaèææºãï¼æå¤æ¬¡JVMçº¿ä¸é®é¢ææ¥ä¸è°ä¼ç»éªï¼ç»åè¿å°ç±³618å¤§ä¿ç°åºè°ä¼ã\n 8.  ææ¡MySQLåºå±åçï¼SQLè°ä¼ç»éªä¸°å¯ï¼æå°ç±³æ°é¶å®æ°æ®å»ºæ¨¡å¼åç»éªã\n 9.  è¯»è¿RocketMQæºç ï¼ææ¡Kafkaæ ¸å¿åçï¼çç»ä½¿ç¨RabbitMQï¼ç®åè´è´£æ¶æ¯éåç¸å³å·¥ä½å¼åã\n 10. çç»ææ¡ElasticSearch APIï¼æ·±å¥çè§£ElasticSearchåºå±åçï¼äºè§£ElasticSearchéç¾¤è¿ç»´ï¼è¯»è¿é¨åElasticSearchæºç ã\n 11. è¯»è¿Nettyæºç ï¼äºè§£Nettyæ± ååå­ç®¡çï¼æå°ç±³æ°é¶å®ç´æ­å¼åç»éªã\n 12. çç»ä½¿ç¨Linuxæä½ç³»ç»ï¼Dockerï¼Jenkinsç­CICDç¸å³å·¥å·ã\n 13. äºè§£HTTPä¸HTTPSåè®®åçï¼åºååä¸ååºåååçï¼RPCéä¿¡åçï¼çæåå¸å¼å¾®æå¡æ¶æï¼ææ¡åå¸å¼äºå¡è§£å³æ¹æ¡ã\n 14. çç»ä½¿ç¨JIRAï¼Asanaç­é¡¹ç®æµç¨ç®¡çå·¥å·ï¼çç»ä½¿ç¨Markdownï¼Wordï¼Excelï¼PPTç­å·¥å·ã\n\n----------------------------------------\n\n\n# å·¥ä½å±¥å\n\n 1. 2020.11-2022.06 å°ç±³æ°é¶å®ææ¯é¨\n 2. 2022.07- ZOOM AsyncMQ\n\n----------------------------------------\n\n\n# é¡¹ç®ç»éª\n\n 1. å°ç±³æ°é¶å®-é¶å®é\n 2. ZOOMæ¶æ¯éå-AsyncMQ\n\n----------------------------------------\n\n\n# æè²èæ¯\n\nå­¦æ ¡åç§°     ä¸ä¸         å°±è¯»æ¶é´        å­¦ä½\né½é½åå°å¤§å­¦   è®¡ç®æºç§å­¦ä¸ææ¯   2017~2021   æ¬ç§\n\n----------------------------------------",normalizedContent:"å§å    å·¥ä½å¹´é   åºçæ¥æ         æ§å«   tel           é®ç®±\nå°¹ä¼ä¸   3å¹´     1998.11.16   ç·    13342969497   huidong.yin247203@gmail.com\n\n----------------------------------------\n\n\n# ä¸ä¸æè½\n\n 1.  çç»ææ¡javaåºç¡ç¥è¯ï¼äºè§£åçæ¬ç¹æ§ï¼è¯»è¿å¹¶åç¼ç¨ï¼éåæ¡æ¶ï¼ioæµç­å¸¸ç¨apiåºå±æºç ã\n 2.  è½å¤å¨å¼åä¸­å©ç¨è®¾è®¡æ¨¡å¼æ½è±¡ä»£ç ï¼æ·±å¥çè§£é¢åé©±å¨è®¾è®¡ã\n 3.  è¯»è¿springï¼springmvcï¼mybatisï¼springbootï¼springcloud(eureka,nacos,sentinel,openfeign,ribbon,gateway)æºç ã\n 4.  è¯»è¿tomcatï¼dubboï¼zookeeperï¼quartzæºç ã\n 5.  è¯»è¿redisæºç ã\n 6.  äºè§£nginxï¼apisixç­ç½å³ã\n 7.  è¯»è¿ãæ·±å¥çè§£javaèææºãï¼æå¤æ¬¡jvmçº¿ä¸é®é¢ææ¥ä¸è°ä¼ç»éªï¼ç»åè¿å°ç±³618å¤§ä¿ç°åºè°ä¼ã\n 8.  ææ¡mysqlåºå±åçï¼sqlè°ä¼ç»éªä¸°å¯ï¼æå°ç±³æ°é¶å®æ°æ®å»ºæ¨¡å¼åç»éªã\n 9.  è¯»è¿rocketmqæºç ï¼ææ¡kafkaæ ¸å¿åçï¼çç»ä½¿ç¨rabbitmqï¼ç®åè´è´£æ¶æ¯éåç¸å³å·¥ä½å¼åã\n 10. çç»ææ¡elasticsearch apiï¼æ·±å¥çè§£elasticsearchåºå±åçï¼äºè§£elasticsearchéç¾¤è¿ç»´ï¼è¯»è¿é¨åelasticsearchæºç ã\n 11. è¯»è¿nettyæºç ï¼äºè§£nettyæ± ååå­ç®¡çï¼æå°ç±³æ°é¶å®ç´æ­å¼åç»éªã\n 12. çç»ä½¿ç¨linuxæä½ç³»ç»ï¼dockerï¼jenkinsç­cicdç¸å³å·¥å·ã\n 13. äºè§£httpä¸httpsåè®®åçï¼åºååä¸ååºåååçï¼rpcéä¿¡åçï¼çæåå¸å¼å¾®æå¡æ¶æï¼ææ¡åå¸å¼äºå¡è§£å³æ¹æ¡ã\n 14. çç»ä½¿ç¨jiraï¼asanaç­é¡¹ç®æµç¨ç®¡çå·¥å·ï¼çç»ä½¿ç¨markdownï¼wordï¼excelï¼pptç­å·¥å·ã\n\n----------------------------------------\n\n\n# å·¥ä½å±¥å\n\n 1. 2020.11-2022.06 å°ç±³æ°é¶å®ææ¯é¨\n 2. 2022.07- zoom asyncmq\n\n----------------------------------------\n\n\n# é¡¹ç®ç»éª\n\n 1. å°ç±³æ°é¶å®-é¶å®é\n 2. zoomæ¶æ¯éå-asyncmq\n\n----------------------------------------\n\n\n# æè²èæ¯\n\nå­¦æ ¡åç§°     ä¸ä¸         å°±è¯»æ¶é´        å­¦ä½\né½é½åå°å¤§å­¦   è®¡ç®æºç§å­¦ä¸ææ¯   2017~2021   æ¬ç§\n\n----------------------------------------",charsets:{cjk:!0},lastUpdated:"2023/11/04, 13:58:20",lastUpdatedTimestamp:16990775e5},{title:"About Me",frontmatter:{title:"About Me",date:"2021å¹´9æ11æ¥22:50:43",permalink:"/pages/4/",type:"ä¸ªäººç®å",tags:["ç®å","é¢è¯"],author:{name:"huidong.yin",link:"https://huidongyin.github.io"},categories:["AboutMe"]},regularPath:"/01.Java%E5%9F%BA%E7%A1%80/03.%E7%89%88%E6%9C%AC%E6%96%B0%E7%89%B9%E6%80%A7/01.xxx.html",relativePath:"01.Javaåºç¡/03.çæ¬æ°ç¹æ§/01.xxx.md",key:"v-e9974c2e",path:"/pages/4/",headers:[{level:3,title:"ä¸ä¸æè½",slug:"ä¸ä¸æè½",normalizedTitle:"ä¸ä¸æè½",charIndex:167},{level:3,title:"å·¥ä½å±¥å",slug:"å·¥ä½å±¥å",normalizedTitle:"å·¥ä½å±¥å",charIndex:952},{level:3,title:"é¡¹ç®ç»éª",slug:"é¡¹ç®ç»éª",normalizedTitle:"é¡¹ç®ç»éª",charIndex:1059},{level:3,title:"æè²èæ¯",slug:"æè²èæ¯",normalizedTitle:"æè²èæ¯",charIndex:1146}],headersStr:"ä¸ä¸æè½ å·¥ä½å±¥å é¡¹ç®ç»éª æè²èæ¯",content:"å§å    å·¥ä½å¹´é   åºçæ¥æ         æ§å«   TEL           é®ç®±\nå°¹ä¼ä¸   3å¹´     1998.11.16   ç·    13342969497   huidong.yin247203@gmail.com\n\n----------------------------------------\n\n\n# ä¸ä¸æè½\n\n 1.  çç»ææ¡Javaåºç¡ç¥è¯ï¼äºè§£åçæ¬ç¹æ§ï¼è¯»è¿å¹¶åç¼ç¨ï¼éåæ¡æ¶ï¼IOæµç­å¸¸ç¨APIåºå±æºç ã\n 2.  è½å¤å¨å¼åä¸­å©ç¨è®¾è®¡æ¨¡å¼æ½è±¡ä»£ç ï¼æ·±å¥çè§£é¢åé©±å¨è®¾è®¡ã\n 3.  è¯»è¿Springï¼SpringMVCï¼Mybatisï¼SpringBootï¼SpringCloud(Eureka,Nacos,Sentinel,OpenFeign,Ribbon,Gateway)æºç ã\n 4.  è¯»è¿Tomcatï¼Dubboï¼Zookeeperï¼Quartzæºç ã\n 5.  è¯»è¿Redisæºç ã\n 6.  äºè§£Nginxï¼ApiSixç­ç½å³ã\n 7.  è¯»è¿ãæ·±å¥çè§£Javaèææºãï¼æå¤æ¬¡JVMçº¿ä¸é®é¢ææ¥ä¸è°ä¼ç»éªï¼ç»åè¿å°ç±³618å¤§ä¿ç°åºè°ä¼ã\n 8.  ææ¡MySQLåºå±åçï¼SQLè°ä¼ç»éªä¸°å¯ï¼æå°ç±³æ°é¶å®æ°æ®å»ºæ¨¡å¼åç»éªã\n 9.  è¯»è¿RocketMQæºç ï¼ææ¡Kafkaæ ¸å¿åçï¼çç»ä½¿ç¨RabbitMQï¼ç®åè´è´£æ¶æ¯éåç¸å³å·¥ä½å¼åã\n 10. çç»ææ¡ElasticSearch APIï¼æ·±å¥çè§£ElasticSearchåºå±åçï¼äºè§£ElasticSearchéç¾¤è¿ç»´ï¼è¯»è¿é¨åElasticSearchæºç ã\n 11. è¯»è¿Nettyæºç ï¼äºè§£Nettyæ± ååå­ç®¡çï¼æå°ç±³æ°é¶å®ç´æ­å¼åç»éªã\n 12. çç»ä½¿ç¨Linuxæä½ç³»ç»ï¼Dockerï¼Jenkinsç­CICDç¸å³å·¥å·ã\n 13. äºè§£HTTPä¸HTTPSåè®®åçï¼åºååä¸ååºåååçï¼RPCéä¿¡åçï¼çæåå¸å¼å¾®æå¡æ¶æï¼ææ¡åå¸å¼äºå¡è§£å³æ¹æ¡ã\n 14. çç»ä½¿ç¨JIRAï¼Asanaç­é¡¹ç®æµç¨ç®¡çå·¥å·ï¼çç»ä½¿ç¨Markdownï¼Wordï¼Excelï¼PPTç­å·¥å·ã\n\n----------------------------------------\n\n\n# å·¥ä½å±¥å\n\n 1. 2020.11-2022.06 å°ç±³æ°é¶å®ææ¯é¨\n 2. 2022.07- ZOOM AsyncMQ\n\n----------------------------------------\n\n\n# é¡¹ç®ç»éª\n\n 1. å°ç±³æ°é¶å®-é¶å®é\n 2. ZOOMæ¶æ¯éå-AsyncMQ\n\n----------------------------------------\n\n\n# æè²èæ¯\n\nå­¦æ ¡åç§°     ä¸ä¸         å°±è¯»æ¶é´        å­¦ä½\né½é½åå°å¤§å­¦   è®¡ç®æºç§å­¦ä¸ææ¯   2017~2021   æ¬ç§\n\n----------------------------------------",normalizedContent:"å§å    å·¥ä½å¹´é   åºçæ¥æ         æ§å«   tel           é®ç®±\nå°¹ä¼ä¸   3å¹´     1998.11.16   ç·    13342969497   huidong.yin247203@gmail.com\n\n----------------------------------------\n\n\n# ä¸ä¸æè½\n\n 1.  çç»ææ¡javaåºç¡ç¥è¯ï¼äºè§£åçæ¬ç¹æ§ï¼è¯»è¿å¹¶åç¼ç¨ï¼éåæ¡æ¶ï¼ioæµç­å¸¸ç¨apiåºå±æºç ã\n 2.  è½å¤å¨å¼åä¸­å©ç¨è®¾è®¡æ¨¡å¼æ½è±¡ä»£ç ï¼æ·±å¥çè§£é¢åé©±å¨è®¾è®¡ã\n 3.  è¯»è¿springï¼springmvcï¼mybatisï¼springbootï¼springcloud(eureka,nacos,sentinel,openfeign,ribbon,gateway)æºç ã\n 4.  è¯»è¿tomcatï¼dubboï¼zookeeperï¼quartzæºç ã\n 5.  è¯»è¿redisæºç ã\n 6.  äºè§£nginxï¼apisixç­ç½å³ã\n 7.  è¯»è¿ãæ·±å¥çè§£javaèææºãï¼æå¤æ¬¡jvmçº¿ä¸é®é¢ææ¥ä¸è°ä¼ç»éªï¼ç»åè¿å°ç±³618å¤§ä¿ç°åºè°ä¼ã\n 8.  ææ¡mysqlåºå±åçï¼sqlè°ä¼ç»éªä¸°å¯ï¼æå°ç±³æ°é¶å®æ°æ®å»ºæ¨¡å¼åç»éªã\n 9.  è¯»è¿rocketmqæºç ï¼ææ¡kafkaæ ¸å¿åçï¼çç»ä½¿ç¨rabbitmqï¼ç®åè´è´£æ¶æ¯éåç¸å³å·¥ä½å¼åã\n 10. çç»ææ¡elasticsearch apiï¼æ·±å¥çè§£elasticsearchåºå±åçï¼äºè§£elasticsearchéç¾¤è¿ç»´ï¼è¯»è¿é¨åelasticsearchæºç ã\n 11. è¯»è¿nettyæºç ï¼äºè§£nettyæ± ååå­ç®¡çï¼æå°ç±³æ°é¶å®ç´æ­å¼åç»éªã\n 12. çç»ä½¿ç¨linuxæä½ç³»ç»ï¼dockerï¼jenkinsç­cicdç¸å³å·¥å·ã\n 13. äºè§£httpä¸httpsåè®®åçï¼åºååä¸ååºåååçï¼rpcéä¿¡åçï¼çæåå¸å¼å¾®æå¡æ¶æï¼ææ¡åå¸å¼äºå¡è§£å³æ¹æ¡ã\n 14. çç»ä½¿ç¨jiraï¼asanaç­é¡¹ç®æµç¨ç®¡çå·¥å·ï¼çç»ä½¿ç¨markdownï¼wordï¼excelï¼pptç­å·¥å·ã\n\n----------------------------------------\n\n\n# å·¥ä½å±¥å\n\n 1. 2020.11-2022.06 å°ç±³æ°é¶å®ææ¯é¨\n 2. 2022.07- zoom asyncmq\n\n----------------------------------------\n\n\n# é¡¹ç®ç»éª\n\n 1. å°ç±³æ°é¶å®-é¶å®é\n 2. zoomæ¶æ¯éå-asyncmq\n\n----------------------------------------\n\n\n# æè²èæ¯\n\nå­¦æ ¡åç§°     ä¸ä¸         å°±è¯»æ¶é´        å­¦ä½\né½é½åå°å¤§å­¦   è®¡ç®æºç§å­¦ä¸ææ¯   2017~2021   æ¬ç§\n\n----------------------------------------",charsets:{cjk:!0},lastUpdated:"2023/11/04, 13:58:20",lastUpdatedTimestamp:16990775e5},{title:"About Me",frontmatter:{title:"About Me",date:"2021å¹´9æ11æ¥22:50:43",permalink:"/pages/11/",type:"ä¸ªäººç®å",tags:["ç®å","é¢è¯"],author:{name:"huidong.yin",link:"https://huidongyin.github.io"},categories:["AboutMe"]},regularPath:"/02.Spring%E5%85%A8%E5%AE%B6%E6%A1%B6/00.Spring/01.xxx.html",relativePath:"02.Springå¨å®¶æ¡¶/00.Spring/01.xxx.md",key:"v-0a65f29b",path:"/pages/11/",headers:[{level:3,title:"ä¸ä¸æè½",slug:"ä¸ä¸æè½",normalizedTitle:"ä¸ä¸æè½",charIndex:167},{level:3,title:"å·¥ä½å±¥å",slug:"å·¥ä½å±¥å",normalizedTitle:"å·¥ä½å±¥å",charIndex:952},{level:3,title:"é¡¹ç®ç»éª",slug:"é¡¹ç®ç»éª",normalizedTitle:"é¡¹ç®ç»éª",charIndex:1059},{level:3,title:"æè²èæ¯",slug:"æè²èæ¯",normalizedTitle:"æè²èæ¯",charIndex:1146}],headersStr:"ä¸ä¸æè½ å·¥ä½å±¥å é¡¹ç®ç»éª æè²èæ¯",content:"å§å    å·¥ä½å¹´é   åºçæ¥æ         æ§å«   TEL           é®ç®±\nå°¹ä¼ä¸   3å¹´     1998.11.16   ç·    13342969497   huidong.yin247203@gmail.com\n\n----------------------------------------\n\n\n# ä¸ä¸æè½\n\n 1.  çç»ææ¡Javaåºç¡ç¥è¯ï¼äºè§£åçæ¬ç¹æ§ï¼è¯»è¿å¹¶åç¼ç¨ï¼éåæ¡æ¶ï¼IOæµç­å¸¸ç¨APIåºå±æºç ã\n 2.  è½å¤å¨å¼åä¸­å©ç¨è®¾è®¡æ¨¡å¼æ½è±¡ä»£ç ï¼æ·±å¥çè§£é¢åé©±å¨è®¾è®¡ã\n 3.  è¯»è¿Springï¼SpringMVCï¼Mybatisï¼SpringBootï¼SpringCloud(Eureka,Nacos,Sentinel,OpenFeign,Ribbon,Gateway)æºç ã\n 4.  è¯»è¿Tomcatï¼Dubboï¼Zookeeperï¼Quartzæºç ã\n 5.  è¯»è¿Redisæºç ã\n 6.  äºè§£Nginxï¼ApiSixç­ç½å³ã\n 7.  è¯»è¿ãæ·±å¥çè§£Javaèææºãï¼æå¤æ¬¡JVMçº¿ä¸é®é¢ææ¥ä¸è°ä¼ç»éªï¼ç»åè¿å°ç±³618å¤§ä¿ç°åºè°ä¼ã\n 8.  ææ¡MySQLåºå±åçï¼SQLè°ä¼ç»éªä¸°å¯ï¼æå°ç±³æ°é¶å®æ°æ®å»ºæ¨¡å¼åç»éªã\n 9.  è¯»è¿RocketMQæºç ï¼ææ¡Kafkaæ ¸å¿åçï¼çç»ä½¿ç¨RabbitMQï¼ç®åè´è´£æ¶æ¯éåç¸å³å·¥ä½å¼åã\n 10. çç»ææ¡ElasticSearch APIï¼æ·±å¥çè§£ElasticSearchåºå±åçï¼äºè§£ElasticSearchéç¾¤è¿ç»´ï¼è¯»è¿é¨åElasticSearchæºç ã\n 11. è¯»è¿Nettyæºç ï¼äºè§£Nettyæ± ååå­ç®¡çï¼æå°ç±³æ°é¶å®ç´æ­å¼åç»éªã\n 12. çç»ä½¿ç¨Linuxæä½ç³»ç»ï¼Dockerï¼Jenkinsç­CICDç¸å³å·¥å·ã\n 13. äºè§£HTTPä¸HTTPSåè®®åçï¼åºååä¸ååºåååçï¼RPCéä¿¡åçï¼çæåå¸å¼å¾®æå¡æ¶æï¼ææ¡åå¸å¼äºå¡è§£å³æ¹æ¡ã\n 14. çç»ä½¿ç¨JIRAï¼Asanaç­é¡¹ç®æµç¨ç®¡çå·¥å·ï¼çç»ä½¿ç¨Markdownï¼Wordï¼Excelï¼PPTç­å·¥å·ã\n\n----------------------------------------\n\n\n# å·¥ä½å±¥å\n\n 1. 2020.11-2022.06 å°ç±³æ°é¶å®ææ¯é¨\n 2. 2022.07- ZOOM AsyncMQ\n\n----------------------------------------\n\n\n# é¡¹ç®ç»éª\n\n 1. å°ç±³æ°é¶å®-é¶å®é\n 2. ZOOMæ¶æ¯éå-AsyncMQ\n\n----------------------------------------\n\n\n# æè²èæ¯\n\nå­¦æ ¡åç§°     ä¸ä¸         å°±è¯»æ¶é´        å­¦ä½\né½é½åå°å¤§å­¦   è®¡ç®æºç§å­¦ä¸ææ¯   2017~2021   æ¬ç§\n\n----------------------------------------",normalizedContent:"å§å    å·¥ä½å¹´é   åºçæ¥æ         æ§å«   tel           é®ç®±\nå°¹ä¼ä¸   3å¹´     1998.11.16   ç·    13342969497   huidong.yin247203@gmail.com\n\n----------------------------------------\n\n\n# ä¸ä¸æè½\n\n 1.  çç»ææ¡javaåºç¡ç¥è¯ï¼äºè§£åçæ¬ç¹æ§ï¼è¯»è¿å¹¶åç¼ç¨ï¼éåæ¡æ¶ï¼ioæµç­å¸¸ç¨apiåºå±æºç ã\n 2.  è½å¤å¨å¼åä¸­å©ç¨è®¾è®¡æ¨¡å¼æ½è±¡ä»£ç ï¼æ·±å¥çè§£é¢åé©±å¨è®¾è®¡ã\n 3.  è¯»è¿springï¼springmvcï¼mybatisï¼springbootï¼springcloud(eureka,nacos,sentinel,openfeign,ribbon,gateway)æºç ã\n 4.  è¯»è¿tomcatï¼dubboï¼zookeeperï¼quartzæºç ã\n 5.  è¯»è¿redisæºç ã\n 6.  äºè§£nginxï¼apisixç­ç½å³ã\n 7.  è¯»è¿ãæ·±å¥çè§£javaèææºãï¼æå¤æ¬¡jvmçº¿ä¸é®é¢ææ¥ä¸è°ä¼ç»éªï¼ç»åè¿å°ç±³618å¤§ä¿ç°åºè°ä¼ã\n 8.  ææ¡mysqlåºå±åçï¼sqlè°ä¼ç»éªä¸°å¯ï¼æå°ç±³æ°é¶å®æ°æ®å»ºæ¨¡å¼åç»éªã\n 9.  è¯»è¿rocketmqæºç ï¼ææ¡kafkaæ ¸å¿åçï¼çç»ä½¿ç¨rabbitmqï¼ç®åè´è´£æ¶æ¯éåç¸å³å·¥ä½å¼åã\n 10. çç»ææ¡elasticsearch apiï¼æ·±å¥çè§£elasticsearchåºå±åçï¼äºè§£elasticsearchéç¾¤è¿ç»´ï¼è¯»è¿é¨åelasticsearchæºç ã\n 11. è¯»è¿nettyæºç ï¼äºè§£nettyæ± ååå­ç®¡çï¼æå°ç±³æ°é¶å®ç´æ­å¼åç»éªã\n 12. çç»ä½¿ç¨linuxæä½ç³»ç»ï¼dockerï¼jenkinsç­cicdç¸å³å·¥å·ã\n 13. äºè§£httpä¸httpsåè®®åçï¼åºååä¸ååºåååçï¼rpcéä¿¡åçï¼çæåå¸å¼å¾®æå¡æ¶æï¼ææ¡åå¸å¼äºå¡è§£å³æ¹æ¡ã\n 14. çç»ä½¿ç¨jiraï¼asanaç­é¡¹ç®æµç¨ç®¡çå·¥å·ï¼çç»ä½¿ç¨markdownï¼wordï¼excelï¼pptç­å·¥å·ã\n\n----------------------------------------\n\n\n# å·¥ä½å±¥å\n\n 1. 2020.11-2022.06 å°ç±³æ°é¶å®ææ¯é¨\n 2. 2022.07- zoom asyncmq\n\n----------------------------------------\n\n\n# é¡¹ç®ç»éª\n\n 1. å°ç±³æ°é¶å®-é¶å®é\n 2. zoomæ¶æ¯éå-asyncmq\n\n----------------------------------------\n\n\n# æè²èæ¯\n\nå­¦æ ¡åç§°     ä¸ä¸         å°±è¯»æ¶é´        å­¦ä½\né½é½åå°å¤§å­¦   è®¡ç®æºç§å­¦ä¸ææ¯   2017~2021   æ¬ç§\n\n----------------------------------------",charsets:{cjk:!0},lastUpdated:"2023/11/04, 13:58:20",lastUpdatedTimestamp:16990775e5},{title:"About Me",frontmatter:{title:"About Me",date:"2021å¹´9æ11æ¥22:50:43",permalink:"/pages/12/",type:"ä¸ªäººç®å",tags:["ç®å","é¢è¯"],author:{name:"huidong.yin",link:"https://huidongyin.github.io"},categories:["AboutMe"]},regularPath:"/02.Spring%E5%85%A8%E5%AE%B6%E6%A1%B6/01.SpringMvc/01.xxx.html",relativePath:"02.Springå¨å®¶æ¡¶/01.SpringMvc/01.xxx.md",key:"v-6d347c8a",path:"/pages/12/",headers:[{level:3,title:"ä¸ä¸æè½",slug:"ä¸ä¸æè½",normalizedTitle:"ä¸ä¸æè½",charIndex:167},{level:3,title:"å·¥ä½å±¥å",slug:"å·¥ä½å±¥å",normalizedTitle:"å·¥ä½å±¥å",charIndex:952},{level:3,title:"é¡¹ç®ç»éª",slug:"é¡¹ç®ç»éª",normalizedTitle:"é¡¹ç®ç»éª",charIndex:1059},{level:3,title:"æè²èæ¯",slug:"æè²èæ¯",normalizedTitle:"æè²èæ¯",charIndex:1146}],headersStr:"ä¸ä¸æè½ å·¥ä½å±¥å é¡¹ç®ç»éª æè²èæ¯",content:"å§å    å·¥ä½å¹´é   åºçæ¥æ         æ§å«   TEL           é®ç®±\nå°¹ä¼ä¸   3å¹´     1998.11.16   ç·    13342969497   huidong.yin247203@gmail.com\n\n----------------------------------------\n\n\n# ä¸ä¸æè½\n\n 1.  çç»ææ¡Javaåºç¡ç¥è¯ï¼äºè§£åçæ¬ç¹æ§ï¼è¯»è¿å¹¶åç¼ç¨ï¼éåæ¡æ¶ï¼IOæµç­å¸¸ç¨APIåºå±æºç ã\n 2.  è½å¤å¨å¼åä¸­å©ç¨è®¾è®¡æ¨¡å¼æ½è±¡ä»£ç ï¼æ·±å¥çè§£é¢åé©±å¨è®¾è®¡ã\n 3.  è¯»è¿Springï¼SpringMVCï¼Mybatisï¼SpringBootï¼SpringCloud(Eureka,Nacos,Sentinel,OpenFeign,Ribbon,Gateway)æºç ã\n 4.  è¯»è¿Tomcatï¼Dubboï¼Zookeeperï¼Quartzæºç ã\n 5.  è¯»è¿Redisæºç ã\n 6.  äºè§£Nginxï¼ApiSixç­ç½å³ã\n 7.  è¯»è¿ãæ·±å¥çè§£Javaèææºãï¼æå¤æ¬¡JVMçº¿ä¸é®é¢ææ¥ä¸è°ä¼ç»éªï¼ç»åè¿å°ç±³618å¤§ä¿ç°åºè°ä¼ã\n 8.  ææ¡MySQLåºå±åçï¼SQLè°ä¼ç»éªä¸°å¯ï¼æå°ç±³æ°é¶å®æ°æ®å»ºæ¨¡å¼åç»éªã\n 9.  è¯»è¿RocketMQæºç ï¼ææ¡Kafkaæ ¸å¿åçï¼çç»ä½¿ç¨RabbitMQï¼ç®åè´è´£æ¶æ¯éåç¸å³å·¥ä½å¼åã\n 10. çç»ææ¡ElasticSearch APIï¼æ·±å¥çè§£ElasticSearchåºå±åçï¼äºè§£ElasticSearchéç¾¤è¿ç»´ï¼è¯»è¿é¨åElasticSearchæºç ã\n 11. è¯»è¿Nettyæºç ï¼äºè§£Nettyæ± ååå­ç®¡çï¼æå°ç±³æ°é¶å®ç´æ­å¼åç»éªã\n 12. çç»ä½¿ç¨Linuxæä½ç³»ç»ï¼Dockerï¼Jenkinsç­CICDç¸å³å·¥å·ã\n 13. äºè§£HTTPä¸HTTPSåè®®åçï¼åºååä¸ååºåååçï¼RPCéä¿¡åçï¼çæåå¸å¼å¾®æå¡æ¶æï¼ææ¡åå¸å¼äºå¡è§£å³æ¹æ¡ã\n 14. çç»ä½¿ç¨JIRAï¼Asanaç­é¡¹ç®æµç¨ç®¡çå·¥å·ï¼çç»ä½¿ç¨Markdownï¼Wordï¼Excelï¼PPTç­å·¥å·ã\n\n----------------------------------------\n\n\n# å·¥ä½å±¥å\n\n 1. 2020.11-2022.06 å°ç±³æ°é¶å®ææ¯é¨\n 2. 2022.07- ZOOM AsyncMQ\n\n----------------------------------------\n\n\n# é¡¹ç®ç»éª\n\n 1. å°ç±³æ°é¶å®-é¶å®é\n 2. ZOOMæ¶æ¯éå-AsyncMQ\n\n----------------------------------------\n\n\n# æè²èæ¯\n\nå­¦æ ¡åç§°     ä¸ä¸         å°±è¯»æ¶é´        å­¦ä½\né½é½åå°å¤§å­¦   è®¡ç®æºç§å­¦ä¸ææ¯   2017~2021   æ¬ç§\n\n----------------------------------------",normalizedContent:"å§å    å·¥ä½å¹´é   åºçæ¥æ         æ§å«   tel           é®ç®±\nå°¹ä¼ä¸   3å¹´     1998.11.16   ç·    13342969497   huidong.yin247203@gmail.com\n\n----------------------------------------\n\n\n# ä¸ä¸æè½\n\n 1.  çç»ææ¡javaåºç¡ç¥è¯ï¼äºè§£åçæ¬ç¹æ§ï¼è¯»è¿å¹¶åç¼ç¨ï¼éåæ¡æ¶ï¼ioæµç­å¸¸ç¨apiåºå±æºç ã\n 2.  è½å¤å¨å¼åä¸­å©ç¨è®¾è®¡æ¨¡å¼æ½è±¡ä»£ç ï¼æ·±å¥çè§£é¢åé©±å¨è®¾è®¡ã\n 3.  è¯»è¿springï¼springmvcï¼mybatisï¼springbootï¼springcloud(eureka,nacos,sentinel,openfeign,ribbon,gateway)æºç ã\n 4.  è¯»è¿tomcatï¼dubboï¼zookeeperï¼quartzæºç ã\n 5.  è¯»è¿redisæºç ã\n 6.  äºè§£nginxï¼apisixç­ç½å³ã\n 7.  è¯»è¿ãæ·±å¥çè§£javaèææºãï¼æå¤æ¬¡jvmçº¿ä¸é®é¢ææ¥ä¸è°ä¼ç»éªï¼ç»åè¿å°ç±³618å¤§ä¿ç°åºè°ä¼ã\n 8.  ææ¡mysqlåºå±åçï¼sqlè°ä¼ç»éªä¸°å¯ï¼æå°ç±³æ°é¶å®æ°æ®å»ºæ¨¡å¼åç»éªã\n 9.  è¯»è¿rocketmqæºç ï¼ææ¡kafkaæ ¸å¿åçï¼çç»ä½¿ç¨rabbitmqï¼ç®åè´è´£æ¶æ¯éåç¸å³å·¥ä½å¼åã\n 10. çç»ææ¡elasticsearch apiï¼æ·±å¥çè§£elasticsearchåºå±åçï¼äºè§£elasticsearchéç¾¤è¿ç»´ï¼è¯»è¿é¨åelasticsearchæºç ã\n 11. è¯»è¿nettyæºç ï¼äºè§£nettyæ± ååå­ç®¡çï¼æå°ç±³æ°é¶å®ç´æ­å¼åç»éªã\n 12. çç»ä½¿ç¨linuxæä½ç³»ç»ï¼dockerï¼jenkinsç­cicdç¸å³å·¥å·ã\n 13. äºè§£httpä¸httpsåè®®åçï¼åºååä¸ååºåååçï¼rpcéä¿¡åçï¼çæåå¸å¼å¾®æå¡æ¶æï¼ææ¡åå¸å¼äºå¡è§£å³æ¹æ¡ã\n 14. çç»ä½¿ç¨jiraï¼asanaç­é¡¹ç®æµç¨ç®¡çå·¥å·ï¼çç»ä½¿ç¨markdownï¼wordï¼excelï¼pptç­å·¥å·ã\n\n----------------------------------------\n\n\n# å·¥ä½å±¥å\n\n 1. 2020.11-2022.06 å°ç±³æ°é¶å®ææ¯é¨\n 2. 2022.07- zoom asyncmq\n\n----------------------------------------\n\n\n# é¡¹ç®ç»éª\n\n 1. å°ç±³æ°é¶å®-é¶å®é\n 2. zoomæ¶æ¯éå-asyncmq\n\n----------------------------------------\n\n\n# æè²èæ¯\n\nå­¦æ ¡åç§°     ä¸ä¸         å°±è¯»æ¶é´        å­¦ä½\né½é½åå°å¤§å­¦   è®¡ç®æºç§å­¦ä¸ææ¯   2017~2021   æ¬ç§\n\n----------------------------------------",charsets:{cjk:!0},lastUpdated:"2023/11/04, 13:58:20",lastUpdatedTimestamp:16990775e5},{title:"About Me",frontmatter:{title:"About Me",date:"2021å¹´9æ11æ¥22:50:43",permalink:"/pages/13/",type:"ä¸ªäººç®å",tags:["ç®å","é¢è¯"],author:{name:"huidong.yin",link:"https://huidongyin.github.io"},categories:["AboutMe"]},regularPath:"/02.Spring%E5%85%A8%E5%AE%B6%E6%A1%B6/02.Mybatis/01.xxx.html",relativePath:"02.Springå¨å®¶æ¡¶/02.Mybatis/01.xxx.md",key:"v-ab895bee",path:"/pages/13/",headers:[{level:3,title:"ä¸ä¸æè½",slug:"ä¸ä¸æè½",normalizedTitle:"ä¸ä¸æè½",charIndex:167},{level:3,title:"å·¥ä½å±¥å",slug:"å·¥ä½å±¥å",normalizedTitle:"å·¥ä½å±¥å",charIndex:952},{level:3,title:"é¡¹ç®ç»éª",slug:"é¡¹ç®ç»éª",normalizedTitle:"é¡¹ç®ç»éª",charIndex:1059},{level:3,title:"æè²èæ¯",slug:"æè²èæ¯",normalizedTitle:"æè²èæ¯",charIndex:1146}],headersStr:"ä¸ä¸æè½ å·¥ä½å±¥å é¡¹ç®ç»éª æè²èæ¯",content:"å§å    å·¥ä½å¹´é   åºçæ¥æ         æ§å«   TEL           é®ç®±\nå°¹ä¼ä¸   3å¹´     1998.11.16   ç·    13342969497   huidong.yin247203@gmail.com\n\n----------------------------------------\n\n\n# ä¸ä¸æè½\n\n 1.  çç»ææ¡Javaåºç¡ç¥è¯ï¼äºè§£åçæ¬ç¹æ§ï¼è¯»è¿å¹¶åç¼ç¨ï¼éåæ¡æ¶ï¼IOæµç­å¸¸ç¨APIåºå±æºç ã\n 2.  è½å¤å¨å¼åä¸­å©ç¨è®¾è®¡æ¨¡å¼æ½è±¡ä»£ç ï¼æ·±å¥çè§£é¢åé©±å¨è®¾è®¡ã\n 3.  è¯»è¿Springï¼SpringMVCï¼Mybatisï¼SpringBootï¼SpringCloud(Eureka,Nacos,Sentinel,OpenFeign,Ribbon,Gateway)æºç ã\n 4.  è¯»è¿Tomcatï¼Dubboï¼Zookeeperï¼Quartzæºç ã\n 5.  è¯»è¿Redisæºç ã\n 6.  äºè§£Nginxï¼ApiSixç­ç½å³ã\n 7.  è¯»è¿ãæ·±å¥çè§£Javaèææºãï¼æå¤æ¬¡JVMçº¿ä¸é®é¢ææ¥ä¸è°ä¼ç»éªï¼ç»åè¿å°ç±³618å¤§ä¿ç°åºè°ä¼ã\n 8.  ææ¡MySQLåºå±åçï¼SQLè°ä¼ç»éªä¸°å¯ï¼æå°ç±³æ°é¶å®æ°æ®å»ºæ¨¡å¼åç»éªã\n 9.  è¯»è¿RocketMQæºç ï¼ææ¡Kafkaæ ¸å¿åçï¼çç»ä½¿ç¨RabbitMQï¼ç®åè´è´£æ¶æ¯éåç¸å³å·¥ä½å¼åã\n 10. çç»ææ¡ElasticSearch APIï¼æ·±å¥çè§£ElasticSearchåºå±åçï¼äºè§£ElasticSearchéç¾¤è¿ç»´ï¼è¯»è¿é¨åElasticSearchæºç ã\n 11. è¯»è¿Nettyæºç ï¼äºè§£Nettyæ± ååå­ç®¡çï¼æå°ç±³æ°é¶å®ç´æ­å¼åç»éªã\n 12. çç»ä½¿ç¨Linuxæä½ç³»ç»ï¼Dockerï¼Jenkinsç­CICDç¸å³å·¥å·ã\n 13. äºè§£HTTPä¸HTTPSåè®®åçï¼åºååä¸ååºåååçï¼RPCéä¿¡åçï¼çæåå¸å¼å¾®æå¡æ¶æï¼ææ¡åå¸å¼äºå¡è§£å³æ¹æ¡ã\n 14. çç»ä½¿ç¨JIRAï¼Asanaç­é¡¹ç®æµç¨ç®¡çå·¥å·ï¼çç»ä½¿ç¨Markdownï¼Wordï¼Excelï¼PPTç­å·¥å·ã\n\n----------------------------------------\n\n\n# å·¥ä½å±¥å\n\n 1. 2020.11-2022.06 å°ç±³æ°é¶å®ææ¯é¨\n 2. 2022.07- ZOOM AsyncMQ\n\n----------------------------------------\n\n\n# é¡¹ç®ç»éª\n\n 1. å°ç±³æ°é¶å®-é¶å®é\n 2. ZOOMæ¶æ¯éå-AsyncMQ\n\n----------------------------------------\n\n\n# æè²èæ¯\n\nå­¦æ ¡åç§°     ä¸ä¸         å°±è¯»æ¶é´        å­¦ä½\né½é½åå°å¤§å­¦   è®¡ç®æºç§å­¦ä¸ææ¯   2017~2021   æ¬ç§\n\n----------------------------------------",normalizedContent:"å§å    å·¥ä½å¹´é   åºçæ¥æ         æ§å«   tel           é®ç®±\nå°¹ä¼ä¸   3å¹´     1998.11.16   ç·    13342969497   huidong.yin247203@gmail.com\n\n----------------------------------------\n\n\n# ä¸ä¸æè½\n\n 1.  çç»ææ¡javaåºç¡ç¥è¯ï¼äºè§£åçæ¬ç¹æ§ï¼è¯»è¿å¹¶åç¼ç¨ï¼éåæ¡æ¶ï¼ioæµç­å¸¸ç¨apiåºå±æºç ã\n 2.  è½å¤å¨å¼åä¸­å©ç¨è®¾è®¡æ¨¡å¼æ½è±¡ä»£ç ï¼æ·±å¥çè§£é¢åé©±å¨è®¾è®¡ã\n 3.  è¯»è¿springï¼springmvcï¼mybatisï¼springbootï¼springcloud(eureka,nacos,sentinel,openfeign,ribbon,gateway)æºç ã\n 4.  è¯»è¿tomcatï¼dubboï¼zookeeperï¼quartzæºç ã\n 5.  è¯»è¿redisæºç ã\n 6.  äºè§£nginxï¼apisixç­ç½å³ã\n 7.  è¯»è¿ãæ·±å¥çè§£javaèææºãï¼æå¤æ¬¡jvmçº¿ä¸é®é¢ææ¥ä¸è°ä¼ç»éªï¼ç»åè¿å°ç±³618å¤§ä¿ç°åºè°ä¼ã\n 8.  ææ¡mysqlåºå±åçï¼sqlè°ä¼ç»éªä¸°å¯ï¼æå°ç±³æ°é¶å®æ°æ®å»ºæ¨¡å¼åç»éªã\n 9.  è¯»è¿rocketmqæºç ï¼ææ¡kafkaæ ¸å¿åçï¼çç»ä½¿ç¨rabbitmqï¼ç®åè´è´£æ¶æ¯éåç¸å³å·¥ä½å¼åã\n 10. çç»ææ¡elasticsearch apiï¼æ·±å¥çè§£elasticsearchåºå±åçï¼äºè§£elasticsearchéç¾¤è¿ç»´ï¼è¯»è¿é¨åelasticsearchæºç ã\n 11. è¯»è¿nettyæºç ï¼äºè§£nettyæ± ååå­ç®¡çï¼æå°ç±³æ°é¶å®ç´æ­å¼åç»éªã\n 12. çç»ä½¿ç¨linuxæä½ç³»ç»ï¼dockerï¼jenkinsç­cicdç¸å³å·¥å·ã\n 13. äºè§£httpä¸httpsåè®®åçï¼åºååä¸ååºåååçï¼rpcéä¿¡åçï¼çæåå¸å¼å¾®æå¡æ¶æï¼ææ¡åå¸å¼äºå¡è§£å³æ¹æ¡ã\n 14. çç»ä½¿ç¨jiraï¼asanaç­é¡¹ç®æµç¨ç®¡çå·¥å·ï¼çç»ä½¿ç¨markdownï¼wordï¼excelï¼pptç­å·¥å·ã\n\n----------------------------------------\n\n\n# å·¥ä½å±¥å\n\n 1. 2020.11-2022.06 å°ç±³æ°é¶å®ææ¯é¨\n 2. 2022.07- zoom asyncmq\n\n----------------------------------------\n\n\n# é¡¹ç®ç»éª\n\n 1. å°ç±³æ°é¶å®-é¶å®é\n 2. zoomæ¶æ¯éå-asyncmq\n\n----------------------------------------\n\n\n# æè²èæ¯\n\nå­¦æ ¡åç§°     ä¸ä¸         å°±è¯»æ¶é´        å­¦ä½\né½é½åå°å¤§å­¦   è®¡ç®æºç§å­¦ä¸ææ¯   2017~2021   æ¬ç§\n\n----------------------------------------",charsets:{cjk:!0},lastUpdated:"2023/11/04, 13:58:20",lastUpdatedTimestamp:16990775e5},{title:"About Me",frontmatter:{title:"About Me",date:"2021å¹´9æ11æ¥22:50:43",permalink:"/pages/14/",type:"ä¸ªäººç®å",tags:["ç®å","é¢è¯"],author:{name:"huidong.yin",link:"https://huidongyin.github.io"},categories:["AboutMe"]},regularPath:"/02.Spring%E5%85%A8%E5%AE%B6%E6%A1%B6/03.SpringBoot/01.xxx.html",relativePath:"02.Springå¨å®¶æ¡¶/03.SpringBoot/01.xxx.md",key:"v-034cab0a",path:"/pages/14/",headers:[{level:3,title:"ä¸ä¸æè½",slug:"ä¸ä¸æè½",normalizedTitle:"ä¸ä¸æè½",charIndex:167},{level:3,title:"å·¥ä½å±¥å",slug:"å·¥ä½å±¥å",normalizedTitle:"å·¥ä½å±¥å",charIndex:952},{level:3,title:"é¡¹ç®ç»éª",slug:"é¡¹ç®ç»éª",normalizedTitle:"é¡¹ç®ç»éª",charIndex:1059},{level:3,title:"æè²èæ¯",slug:"æè²èæ¯",normalizedTitle:"æè²èæ¯",charIndex:1146}],headersStr:"ä¸ä¸æè½ å·¥ä½å±¥å é¡¹ç®ç»éª æè²èæ¯",content:"å§å    å·¥ä½å¹´é   åºçæ¥æ         æ§å«   TEL           é®ç®±\nå°¹ä¼ä¸   3å¹´     1998.11.16   ç·    13342969497   huidong.yin247203@gmail.com\n\n----------------------------------------\n\n\n# ä¸ä¸æè½\n\n 1.  çç»ææ¡Javaåºç¡ç¥è¯ï¼äºè§£åçæ¬ç¹æ§ï¼è¯»è¿å¹¶åç¼ç¨ï¼éåæ¡æ¶ï¼IOæµç­å¸¸ç¨APIåºå±æºç ã\n 2.  è½å¤å¨å¼åä¸­å©ç¨è®¾è®¡æ¨¡å¼æ½è±¡ä»£ç ï¼æ·±å¥çè§£é¢åé©±å¨è®¾è®¡ã\n 3.  è¯»è¿Springï¼SpringMVCï¼Mybatisï¼SpringBootï¼SpringCloud(Eureka,Nacos,Sentinel,OpenFeign,Ribbon,Gateway)æºç ã\n 4.  è¯»è¿Tomcatï¼Dubboï¼Zookeeperï¼Quartzæºç ã\n 5.  è¯»è¿Redisæºç ã\n 6.  äºè§£Nginxï¼ApiSixç­ç½å³ã\n 7.  è¯»è¿ãæ·±å¥çè§£Javaèææºãï¼æå¤æ¬¡JVMçº¿ä¸é®é¢ææ¥ä¸è°ä¼ç»éªï¼ç»åè¿å°ç±³618å¤§ä¿ç°åºè°ä¼ã\n 8.  ææ¡MySQLåºå±åçï¼SQLè°ä¼ç»éªä¸°å¯ï¼æå°ç±³æ°é¶å®æ°æ®å»ºæ¨¡å¼åç»éªã\n 9.  è¯»è¿RocketMQæºç ï¼ææ¡Kafkaæ ¸å¿åçï¼çç»ä½¿ç¨RabbitMQï¼ç®åè´è´£æ¶æ¯éåç¸å³å·¥ä½å¼åã\n 10. çç»ææ¡ElasticSearch APIï¼æ·±å¥çè§£ElasticSearchåºå±åçï¼äºè§£ElasticSearchéç¾¤è¿ç»´ï¼è¯»è¿é¨åElasticSearchæºç ã\n 11. è¯»è¿Nettyæºç ï¼äºè§£Nettyæ± ååå­ç®¡çï¼æå°ç±³æ°é¶å®ç´æ­å¼åç»éªã\n 12. çç»ä½¿ç¨Linuxæä½ç³»ç»ï¼Dockerï¼Jenkinsç­CICDç¸å³å·¥å·ã\n 13. äºè§£HTTPä¸HTTPSåè®®åçï¼åºååä¸ååºåååçï¼RPCéä¿¡åçï¼çæåå¸å¼å¾®æå¡æ¶æï¼ææ¡åå¸å¼äºå¡è§£å³æ¹æ¡ã\n 14. çç»ä½¿ç¨JIRAï¼Asanaç­é¡¹ç®æµç¨ç®¡çå·¥å·ï¼çç»ä½¿ç¨Markdownï¼Wordï¼Excelï¼PPTç­å·¥å·ã\n\n----------------------------------------\n\n\n# å·¥ä½å±¥å\n\n 1. 2020.11-2022.06 å°ç±³æ°é¶å®ææ¯é¨\n 2. 2022.07- ZOOM AsyncMQ\n\n----------------------------------------\n\n\n# é¡¹ç®ç»éª\n\n 1. å°ç±³æ°é¶å®-é¶å®é\n 2. ZOOMæ¶æ¯éå-AsyncMQ\n\n----------------------------------------\n\n\n# æè²èæ¯\n\nå­¦æ ¡åç§°     ä¸ä¸         å°±è¯»æ¶é´        å­¦ä½\né½é½åå°å¤§å­¦   è®¡ç®æºç§å­¦ä¸ææ¯   2017~2021   æ¬ç§\n\n----------------------------------------",normalizedContent:"å§å    å·¥ä½å¹´é   åºçæ¥æ         æ§å«   tel           é®ç®±\nå°¹ä¼ä¸   3å¹´     1998.11.16   ç·    13342969497   huidong.yin247203@gmail.com\n\n----------------------------------------\n\n\n# ä¸ä¸æè½\n\n 1.  çç»ææ¡javaåºç¡ç¥è¯ï¼äºè§£åçæ¬ç¹æ§ï¼è¯»è¿å¹¶åç¼ç¨ï¼éåæ¡æ¶ï¼ioæµç­å¸¸ç¨apiåºå±æºç ã\n 2.  è½å¤å¨å¼åä¸­å©ç¨è®¾è®¡æ¨¡å¼æ½è±¡ä»£ç ï¼æ·±å¥çè§£é¢åé©±å¨è®¾è®¡ã\n 3.  è¯»è¿springï¼springmvcï¼mybatisï¼springbootï¼springcloud(eureka,nacos,sentinel,openfeign,ribbon,gateway)æºç ã\n 4.  è¯»è¿tomcatï¼dubboï¼zookeeperï¼quartzæºç ã\n 5.  è¯»è¿redisæºç ã\n 6.  äºè§£nginxï¼apisixç­ç½å³ã\n 7.  è¯»è¿ãæ·±å¥çè§£javaèææºãï¼æå¤æ¬¡jvmçº¿ä¸é®é¢ææ¥ä¸è°ä¼ç»éªï¼ç»åè¿å°ç±³618å¤§ä¿ç°åºè°ä¼ã\n 8.  ææ¡mysqlåºå±åçï¼sqlè°ä¼ç»éªä¸°å¯ï¼æå°ç±³æ°é¶å®æ°æ®å»ºæ¨¡å¼åç»éªã\n 9.  è¯»è¿rocketmqæºç ï¼ææ¡kafkaæ ¸å¿åçï¼çç»ä½¿ç¨rabbitmqï¼ç®åè´è´£æ¶æ¯éåç¸å³å·¥ä½å¼åã\n 10. çç»ææ¡elasticsearch apiï¼æ·±å¥çè§£elasticsearchåºå±åçï¼äºè§£elasticsearchéç¾¤è¿ç»´ï¼è¯»è¿é¨åelasticsearchæºç ã\n 11. è¯»è¿nettyæºç ï¼äºè§£nettyæ± ååå­ç®¡çï¼æå°ç±³æ°é¶å®ç´æ­å¼åç»éªã\n 12. çç»ä½¿ç¨linuxæä½ç³»ç»ï¼dockerï¼jenkinsç­cicdç¸å³å·¥å·ã\n 13. äºè§£httpä¸httpsåè®®åçï¼åºååä¸ååºåååçï¼rpcéä¿¡åçï¼çæåå¸å¼å¾®æå¡æ¶æï¼ææ¡åå¸å¼äºå¡è§£å³æ¹æ¡ã\n 14. çç»ä½¿ç¨jiraï¼asanaç­é¡¹ç®æµç¨ç®¡çå·¥å·ï¼çç»ä½¿ç¨markdownï¼wordï¼excelï¼pptç­å·¥å·ã\n\n----------------------------------------\n\n\n# å·¥ä½å±¥å\n\n 1. 2020.11-2022.06 å°ç±³æ°é¶å®ææ¯é¨\n 2. 2022.07- zoom asyncmq\n\n----------------------------------------\n\n\n# é¡¹ç®ç»éª\n\n 1. å°ç±³æ°é¶å®-é¶å®é\n 2. zoomæ¶æ¯éå-asyncmq\n\n----------------------------------------\n\n\n# æè²èæ¯\n\nå­¦æ ¡åç§°     ä¸ä¸         å°±è¯»æ¶é´        å­¦ä½\né½é½åå°å¤§å­¦   è®¡ç®æºç§å­¦ä¸ææ¯   2017~2021   æ¬ç§\n\n----------------------------------------",charsets:{cjk:!0},lastUpdated:"2023/11/04, 13:58:20",lastUpdatedTimestamp:16990775e5},{title:"About Me",frontmatter:{title:"About Me",date:"2021å¹´9æ11æ¥22:50:43",permalink:"/pages/15/",type:"ä¸ªäººç®å",tags:["ç®å","é¢è¯"],author:{name:"huidong.yin",link:"https://huidongyin.github.io"},categories:["AboutMe"]},regularPath:"/02.Spring%E5%85%A8%E5%AE%B6%E6%A1%B6/04.SpringCloud/01.xxx.html",relativePath:"02.Springå¨å®¶æ¡¶/04.SpringCloud/01.xxx.md",key:"v-60a1e9f7",path:"/pages/15/",headers:[{level:3,title:"ä¸ä¸æè½",slug:"ä¸ä¸æè½",normalizedTitle:"ä¸ä¸æè½",charIndex:167},{level:3,title:"å·¥ä½å±¥å",slug:"å·¥ä½å±¥å",normalizedTitle:"å·¥ä½å±¥å",charIndex:952},{level:3,title:"é¡¹ç®ç»éª",slug:"é¡¹ç®ç»éª",normalizedTitle:"é¡¹ç®ç»éª",charIndex:1059},{level:3,title:"æè²èæ¯",slug:"æè²èæ¯",normalizedTitle:"æè²èæ¯",charIndex:1146}],headersStr:"ä¸ä¸æè½ å·¥ä½å±¥å é¡¹ç®ç»éª æè²èæ¯",content:"å§å    å·¥ä½å¹´é   åºçæ¥æ         æ§å«   TEL           é®ç®±\nå°¹ä¼ä¸   3å¹´     1998.11.16   ç·    13342969497   huidong.yin247203@gmail.com\n\n----------------------------------------\n\n\n# ä¸ä¸æè½\n\n 1.  çç»ææ¡Javaåºç¡ç¥è¯ï¼äºè§£åçæ¬ç¹æ§ï¼è¯»è¿å¹¶åç¼ç¨ï¼éåæ¡æ¶ï¼IOæµç­å¸¸ç¨APIåºå±æºç ã\n 2.  è½å¤å¨å¼åä¸­å©ç¨è®¾è®¡æ¨¡å¼æ½è±¡ä»£ç ï¼æ·±å¥çè§£é¢åé©±å¨è®¾è®¡ã\n 3.  è¯»è¿Springï¼SpringMVCï¼Mybatisï¼SpringBootï¼SpringCloud(Eureka,Nacos,Sentinel,OpenFeign,Ribbon,Gateway)æºç ã\n 4.  è¯»è¿Tomcatï¼Dubboï¼Zookeeperï¼Quartzæºç ã\n 5.  è¯»è¿Redisæºç ã\n 6.  äºè§£Nginxï¼ApiSixç­ç½å³ã\n 7.  è¯»è¿ãæ·±å¥çè§£Javaèææºãï¼æå¤æ¬¡JVMçº¿ä¸é®é¢ææ¥ä¸è°ä¼ç»éªï¼ç»åè¿å°ç±³618å¤§ä¿ç°åºè°ä¼ã\n 8.  ææ¡MySQLåºå±åçï¼SQLè°ä¼ç»éªä¸°å¯ï¼æå°ç±³æ°é¶å®æ°æ®å»ºæ¨¡å¼åç»éªã\n 9.  è¯»è¿RocketMQæºç ï¼ææ¡Kafkaæ ¸å¿åçï¼çç»ä½¿ç¨RabbitMQï¼ç®åè´è´£æ¶æ¯éåç¸å³å·¥ä½å¼åã\n 10. çç»ææ¡ElasticSearch APIï¼æ·±å¥çè§£ElasticSearchåºå±åçï¼äºè§£ElasticSearchéç¾¤è¿ç»´ï¼è¯»è¿é¨åElasticSearchæºç ã\n 11. è¯»è¿Nettyæºç ï¼äºè§£Nettyæ± ååå­ç®¡çï¼æå°ç±³æ°é¶å®ç´æ­å¼åç»éªã\n 12. çç»ä½¿ç¨Linuxæä½ç³»ç»ï¼Dockerï¼Jenkinsç­CICDç¸å³å·¥å·ã\n 13. äºè§£HTTPä¸HTTPSåè®®åçï¼åºååä¸ååºåååçï¼RPCéä¿¡åçï¼çæåå¸å¼å¾®æå¡æ¶æï¼ææ¡åå¸å¼äºå¡è§£å³æ¹æ¡ã\n 14. çç»ä½¿ç¨JIRAï¼Asanaç­é¡¹ç®æµç¨ç®¡çå·¥å·ï¼çç»ä½¿ç¨Markdownï¼Wordï¼Excelï¼PPTç­å·¥å·ã\n\n----------------------------------------\n\n\n# å·¥ä½å±¥å\n\n 1. 2020.11-2022.06 å°ç±³æ°é¶å®ææ¯é¨\n 2. 2022.07- ZOOM AsyncMQ\n\n----------------------------------------\n\n\n# é¡¹ç®ç»éª\n\n 1. å°ç±³æ°é¶å®-é¶å®é\n 2. ZOOMæ¶æ¯éå-AsyncMQ\n\n----------------------------------------\n\n\n# æè²èæ¯\n\nå­¦æ ¡åç§°     ä¸ä¸         å°±è¯»æ¶é´        å­¦ä½\né½é½åå°å¤§å­¦   è®¡ç®æºç§å­¦ä¸ææ¯   2017~2021   æ¬ç§\n\n----------------------------------------",normalizedContent:"å§å    å·¥ä½å¹´é   åºçæ¥æ         æ§å«   tel           é®ç®±\nå°¹ä¼ä¸   3å¹´     1998.11.16   ç·    13342969497   huidong.yin247203@gmail.com\n\n----------------------------------------\n\n\n# ä¸ä¸æè½\n\n 1.  çç»ææ¡javaåºç¡ç¥è¯ï¼äºè§£åçæ¬ç¹æ§ï¼è¯»è¿å¹¶åç¼ç¨ï¼éåæ¡æ¶ï¼ioæµç­å¸¸ç¨apiåºå±æºç ã\n 2.  è½å¤å¨å¼åä¸­å©ç¨è®¾è®¡æ¨¡å¼æ½è±¡ä»£ç ï¼æ·±å¥çè§£é¢åé©±å¨è®¾è®¡ã\n 3.  è¯»è¿springï¼springmvcï¼mybatisï¼springbootï¼springcloud(eureka,nacos,sentinel,openfeign,ribbon,gateway)æºç ã\n 4.  è¯»è¿tomcatï¼dubboï¼zookeeperï¼quartzæºç ã\n 5.  è¯»è¿redisæºç ã\n 6.  äºè§£nginxï¼apisixç­ç½å³ã\n 7.  è¯»è¿ãæ·±å¥çè§£javaèææºãï¼æå¤æ¬¡jvmçº¿ä¸é®é¢ææ¥ä¸è°ä¼ç»éªï¼ç»åè¿å°ç±³618å¤§ä¿ç°åºè°ä¼ã\n 8.  ææ¡mysqlåºå±åçï¼sqlè°ä¼ç»éªä¸°å¯ï¼æå°ç±³æ°é¶å®æ°æ®å»ºæ¨¡å¼åç»éªã\n 9.  è¯»è¿rocketmqæºç ï¼ææ¡kafkaæ ¸å¿åçï¼çç»ä½¿ç¨rabbitmqï¼ç®åè´è´£æ¶æ¯éåç¸å³å·¥ä½å¼åã\n 10. çç»ææ¡elasticsearch apiï¼æ·±å¥çè§£elasticsearchåºå±åçï¼äºè§£elasticsearchéç¾¤è¿ç»´ï¼è¯»è¿é¨åelasticsearchæºç ã\n 11. è¯»è¿nettyæºç ï¼äºè§£nettyæ± ååå­ç®¡çï¼æå°ç±³æ°é¶å®ç´æ­å¼åç»éªã\n 12. çç»ä½¿ç¨linuxæä½ç³»ç»ï¼dockerï¼jenkinsç­cicdç¸å³å·¥å·ã\n 13. äºè§£httpä¸httpsåè®®åçï¼åºååä¸ååºåååçï¼rpcéä¿¡åçï¼çæåå¸å¼å¾®æå¡æ¶æï¼ææ¡åå¸å¼äºå¡è§£å³æ¹æ¡ã\n 14. çç»ä½¿ç¨jiraï¼asanaç­é¡¹ç®æµç¨ç®¡çå·¥å·ï¼çç»ä½¿ç¨markdownï¼wordï¼excelï¼pptç­å·¥å·ã\n\n----------------------------------------\n\n\n# å·¥ä½å±¥å\n\n 1. 2020.11-2022.06 å°ç±³æ°é¶å®ææ¯é¨\n 2. 2022.07- zoom asyncmq\n\n----------------------------------------\n\n\n# é¡¹ç®ç»éª\n\n 1. å°ç±³æ°é¶å®-é¶å®é\n 2. zoomæ¶æ¯éå-asyncmq\n\n----------------------------------------\n\n\n# æè²èæ¯\n\nå­¦æ ¡åç§°     ä¸ä¸         å°±è¯»æ¶é´        å­¦ä½\né½é½åå°å¤§å­¦   è®¡ç®æºç§å­¦ä¸ææ¯   2017~2021   æ¬ç§\n\n----------------------------------------",charsets:{cjk:!0},lastUpdated:"2023/11/04, 13:58:20",lastUpdatedTimestamp:16990775e5},{title:"About Me",frontmatter:{title:"About Me",date:"2021å¹´9æ11æ¥22:50:43",permalink:"/pages/16/",type:"ä¸ªäººç®å",tags:["ç®å","é¢è¯"],author:{name:"huidong.yin",link:"https://huidongyin.github.io"},categories:["AboutMe"]},regularPath:"/02.Spring%E5%85%A8%E5%AE%B6%E6%A1%B6/05.Dubbo/01.xxx.html",relativePath:"02.Springå¨å®¶æ¡¶/05.Dubbo/01.xxx.md",key:"v-46ce60b6",path:"/pages/16/",headers:[{level:3,title:"ä¸ä¸æè½",slug:"ä¸ä¸æè½",normalizedTitle:"ä¸ä¸æè½",charIndex:167},{level:3,title:"å·¥ä½å±¥å",slug:"å·¥ä½å±¥å",normalizedTitle:"å·¥ä½å±¥å",charIndex:952},{level:3,title:"é¡¹ç®ç»éª",slug:"é¡¹ç®ç»éª",normalizedTitle:"é¡¹ç®ç»éª",charIndex:1059},{level:3,title:"æè²èæ¯",slug:"æè²èæ¯",normalizedTitle:"æè²èæ¯",charIndex:1146}],headersStr:"ä¸ä¸æè½ å·¥ä½å±¥å é¡¹ç®ç»éª æè²èæ¯",content:"å§å    å·¥ä½å¹´é   åºçæ¥æ         æ§å«   TEL           é®ç®±\nå°¹ä¼ä¸   3å¹´     1998.11.16   ç·    13342969497   huidong.yin247203@gmail.com\n\n----------------------------------------\n\n\n# ä¸ä¸æè½\n\n 1.  çç»ææ¡Javaåºç¡ç¥è¯ï¼äºè§£åçæ¬ç¹æ§ï¼è¯»è¿å¹¶åç¼ç¨ï¼éåæ¡æ¶ï¼IOæµç­å¸¸ç¨APIåºå±æºç ã\n 2.  è½å¤å¨å¼åä¸­å©ç¨è®¾è®¡æ¨¡å¼æ½è±¡ä»£ç ï¼æ·±å¥çè§£é¢åé©±å¨è®¾è®¡ã\n 3.  è¯»è¿Springï¼SpringMVCï¼Mybatisï¼SpringBootï¼SpringCloud(Eureka,Nacos,Sentinel,OpenFeign,Ribbon,Gateway)æºç ã\n 4.  è¯»è¿Tomcatï¼Dubboï¼Zookeeperï¼Quartzæºç ã\n 5.  è¯»è¿Redisæºç ã\n 6.  äºè§£Nginxï¼ApiSixç­ç½å³ã\n 7.  è¯»è¿ãæ·±å¥çè§£Javaèææºãï¼æå¤æ¬¡JVMçº¿ä¸é®é¢ææ¥ä¸è°ä¼ç»éªï¼ç»åè¿å°ç±³618å¤§ä¿ç°åºè°ä¼ã\n 8.  ææ¡MySQLåºå±åçï¼SQLè°ä¼ç»éªä¸°å¯ï¼æå°ç±³æ°é¶å®æ°æ®å»ºæ¨¡å¼åç»éªã\n 9.  è¯»è¿RocketMQæºç ï¼ææ¡Kafkaæ ¸å¿åçï¼çç»ä½¿ç¨RabbitMQï¼ç®åè´è´£æ¶æ¯éåç¸å³å·¥ä½å¼åã\n 10. çç»ææ¡ElasticSearch APIï¼æ·±å¥çè§£ElasticSearchåºå±åçï¼äºè§£ElasticSearchéç¾¤è¿ç»´ï¼è¯»è¿é¨åElasticSearchæºç ã\n 11. è¯»è¿Nettyæºç ï¼äºè§£Nettyæ± ååå­ç®¡çï¼æå°ç±³æ°é¶å®ç´æ­å¼åç»éªã\n 12. çç»ä½¿ç¨Linuxæä½ç³»ç»ï¼Dockerï¼Jenkinsç­CICDç¸å³å·¥å·ã\n 13. äºè§£HTTPä¸HTTPSåè®®åçï¼åºååä¸ååºåååçï¼RPCéä¿¡åçï¼çæåå¸å¼å¾®æå¡æ¶æï¼ææ¡åå¸å¼äºå¡è§£å³æ¹æ¡ã\n 14. çç»ä½¿ç¨JIRAï¼Asanaç­é¡¹ç®æµç¨ç®¡çå·¥å·ï¼çç»ä½¿ç¨Markdownï¼Wordï¼Excelï¼PPTç­å·¥å·ã\n\n----------------------------------------\n\n\n# å·¥ä½å±¥å\n\n 1. 2020.11-2022.06 å°ç±³æ°é¶å®ææ¯é¨\n 2. 2022.07- ZOOM AsyncMQ\n\n----------------------------------------\n\n\n# é¡¹ç®ç»éª\n\n 1. å°ç±³æ°é¶å®-é¶å®é\n 2. ZOOMæ¶æ¯éå-AsyncMQ\n\n----------------------------------------\n\n\n# æè²èæ¯\n\nå­¦æ ¡åç§°     ä¸ä¸         å°±è¯»æ¶é´        å­¦ä½\né½é½åå°å¤§å­¦   è®¡ç®æºç§å­¦ä¸ææ¯   2017~2021   æ¬ç§\n\n----------------------------------------",normalizedContent:"å§å    å·¥ä½å¹´é   åºçæ¥æ         æ§å«   tel           é®ç®±\nå°¹ä¼ä¸   3å¹´     1998.11.16   ç·    13342969497   huidong.yin247203@gmail.com\n\n----------------------------------------\n\n\n# ä¸ä¸æè½\n\n 1.  çç»ææ¡javaåºç¡ç¥è¯ï¼äºè§£åçæ¬ç¹æ§ï¼è¯»è¿å¹¶åç¼ç¨ï¼éåæ¡æ¶ï¼ioæµç­å¸¸ç¨apiåºå±æºç ã\n 2.  è½å¤å¨å¼åä¸­å©ç¨è®¾è®¡æ¨¡å¼æ½è±¡ä»£ç ï¼æ·±å¥çè§£é¢åé©±å¨è®¾è®¡ã\n 3.  è¯»è¿springï¼springmvcï¼mybatisï¼springbootï¼springcloud(eureka,nacos,sentinel,openfeign,ribbon,gateway)æºç ã\n 4.  è¯»è¿tomcatï¼dubboï¼zookeeperï¼quartzæºç ã\n 5.  è¯»è¿redisæºç ã\n 6.  äºè§£nginxï¼apisixç­ç½å³ã\n 7.  è¯»è¿ãæ·±å¥çè§£javaèææºãï¼æå¤æ¬¡jvmçº¿ä¸é®é¢ææ¥ä¸è°ä¼ç»éªï¼ç»åè¿å°ç±³618å¤§ä¿ç°åºè°ä¼ã\n 8.  ææ¡mysqlåºå±åçï¼sqlè°ä¼ç»éªä¸°å¯ï¼æå°ç±³æ°é¶å®æ°æ®å»ºæ¨¡å¼åç»éªã\n 9.  è¯»è¿rocketmqæºç ï¼ææ¡kafkaæ ¸å¿åçï¼çç»ä½¿ç¨rabbitmqï¼ç®åè´è´£æ¶æ¯éåç¸å³å·¥ä½å¼åã\n 10. çç»ææ¡elasticsearch apiï¼æ·±å¥çè§£elasticsearchåºå±åçï¼äºè§£elasticsearchéç¾¤è¿ç»´ï¼è¯»è¿é¨åelasticsearchæºç ã\n 11. è¯»è¿nettyæºç ï¼äºè§£nettyæ± ååå­ç®¡çï¼æå°ç±³æ°é¶å®ç´æ­å¼åç»éªã\n 12. çç»ä½¿ç¨linuxæä½ç³»ç»ï¼dockerï¼jenkinsç­cicdç¸å³å·¥å·ã\n 13. äºè§£httpä¸httpsåè®®åçï¼åºååä¸ååºåååçï¼rpcéä¿¡åçï¼çæåå¸å¼å¾®æå¡æ¶æï¼ææ¡åå¸å¼äºå¡è§£å³æ¹æ¡ã\n 14. çç»ä½¿ç¨jiraï¼asanaç­é¡¹ç®æµç¨ç®¡çå·¥å·ï¼çç»ä½¿ç¨markdownï¼wordï¼excelï¼pptç­å·¥å·ã\n\n----------------------------------------\n\n\n# å·¥ä½å±¥å\n\n 1. 2020.11-2022.06 å°ç±³æ°é¶å®ææ¯é¨\n 2. 2022.07- zoom asyncmq\n\n----------------------------------------\n\n\n# é¡¹ç®ç»éª\n\n 1. å°ç±³æ°é¶å®-é¶å®é\n 2. zoomæ¶æ¯éå-asyncmq\n\n----------------------------------------\n\n\n# æè²èæ¯\n\nå­¦æ ¡åç§°     ä¸ä¸         å°±è¯»æ¶é´        å­¦ä½\né½é½åå°å¤§å­¦   è®¡ç®æºç§å­¦ä¸ææ¯   2017~2021   æ¬ç§\n\n----------------------------------------",charsets:{cjk:!0},lastUpdated:"2023/11/04, 13:58:20",lastUpdatedTimestamp:16990775e5},{title:"About Me",frontmatter:{title:"About Me",date:"2021å¹´9æ11æ¥22:50:43",permalink:"/pages/18/",type:"ä¸ªäººç®å",tags:["ç®å","é¢è¯"],author:{name:"huidong.yin",link:"https://huidongyin.github.io"},categories:["AboutMe"]},regularPath:"/02.Spring%E5%85%A8%E5%AE%B6%E6%A1%B6/07.Netty/01.xxx.html",relativePath:"02.Springå¨å®¶æ¡¶/07.Netty/01.xxx.md",key:"v-78c75671",path:"/pages/18/",headers:[{level:3,title:"ä¸ä¸æè½",slug:"ä¸ä¸æè½",normalizedTitle:"ä¸ä¸æè½",charIndex:167},{level:3,title:"å·¥ä½å±¥å",slug:"å·¥ä½å±¥å",normalizedTitle:"å·¥ä½å±¥å",charIndex:952},{level:3,title:"é¡¹ç®ç»éª",slug:"é¡¹ç®ç»éª",normalizedTitle:"é¡¹ç®ç»éª",charIndex:1059},{level:3,title:"æè²èæ¯",slug:"æè²èæ¯",normalizedTitle:"æè²èæ¯",charIndex:1146}],headersStr:"ä¸ä¸æè½ å·¥ä½å±¥å é¡¹ç®ç»éª æè²èæ¯",content:"å§å    å·¥ä½å¹´é   åºçæ¥æ         æ§å«   TEL           é®ç®±\nå°¹ä¼ä¸   3å¹´     1998.11.16   ç·    13342969497   huidong.yin247203@gmail.com\n\n----------------------------------------\n\n\n# ä¸ä¸æè½\n\n 1.  çç»ææ¡Javaåºç¡ç¥è¯ï¼äºè§£åçæ¬ç¹æ§ï¼è¯»è¿å¹¶åç¼ç¨ï¼éåæ¡æ¶ï¼IOæµç­å¸¸ç¨APIåºå±æºç ã\n 2.  è½å¤å¨å¼åä¸­å©ç¨è®¾è®¡æ¨¡å¼æ½è±¡ä»£ç ï¼æ·±å¥çè§£é¢åé©±å¨è®¾è®¡ã\n 3.  è¯»è¿Springï¼SpringMVCï¼Mybatisï¼SpringBootï¼SpringCloud(Eureka,Nacos,Sentinel,OpenFeign,Ribbon,Gateway)æºç ã\n 4.  è¯»è¿Tomcatï¼Dubboï¼Zookeeperï¼Quartzæºç ã\n 5.  è¯»è¿Redisæºç ã\n 6.  äºè§£Nginxï¼ApiSixç­ç½å³ã\n 7.  è¯»è¿ãæ·±å¥çè§£Javaèææºãï¼æå¤æ¬¡JVMçº¿ä¸é®é¢ææ¥ä¸è°ä¼ç»éªï¼ç»åè¿å°ç±³618å¤§ä¿ç°åºè°ä¼ã\n 8.  ææ¡MySQLåºå±åçï¼SQLè°ä¼ç»éªä¸°å¯ï¼æå°ç±³æ°é¶å®æ°æ®å»ºæ¨¡å¼åç»éªã\n 9.  è¯»è¿RocketMQæºç ï¼ææ¡Kafkaæ ¸å¿åçï¼çç»ä½¿ç¨RabbitMQï¼ç®åè´è´£æ¶æ¯éåç¸å³å·¥ä½å¼åã\n 10. çç»ææ¡ElasticSearch APIï¼æ·±å¥çè§£ElasticSearchåºå±åçï¼äºè§£ElasticSearchéç¾¤è¿ç»´ï¼è¯»è¿é¨åElasticSearchæºç ã\n 11. è¯»è¿Nettyæºç ï¼äºè§£Nettyæ± ååå­ç®¡çï¼æå°ç±³æ°é¶å®ç´æ­å¼åç»éªã\n 12. çç»ä½¿ç¨Linuxæä½ç³»ç»ï¼Dockerï¼Jenkinsç­CICDç¸å³å·¥å·ã\n 13. äºè§£HTTPä¸HTTPSåè®®åçï¼åºååä¸ååºåååçï¼RPCéä¿¡åçï¼çæåå¸å¼å¾®æå¡æ¶æï¼ææ¡åå¸å¼äºå¡è§£å³æ¹æ¡ã\n 14. çç»ä½¿ç¨JIRAï¼Asanaç­é¡¹ç®æµç¨ç®¡çå·¥å·ï¼çç»ä½¿ç¨Markdownï¼Wordï¼Excelï¼PPTç­å·¥å·ã\n\n----------------------------------------\n\n\n# å·¥ä½å±¥å\n\n 1. 2020.11-2022.06 å°ç±³æ°é¶å®ææ¯é¨\n 2. 2022.07- ZOOM AsyncMQ\n\n----------------------------------------\n\n\n# é¡¹ç®ç»éª\n\n 1. å°ç±³æ°é¶å®-é¶å®é\n 2. ZOOMæ¶æ¯éå-AsyncMQ\n\n----------------------------------------\n\n\n# æè²èæ¯\n\nå­¦æ ¡åç§°     ä¸ä¸         å°±è¯»æ¶é´        å­¦ä½\né½é½åå°å¤§å­¦   è®¡ç®æºç§å­¦ä¸ææ¯   2017~2021   æ¬ç§\n\n----------------------------------------",normalizedContent:"å§å    å·¥ä½å¹´é   åºçæ¥æ         æ§å«   tel           é®ç®±\nå°¹ä¼ä¸   3å¹´     1998.11.16   ç·    13342969497   huidong.yin247203@gmail.com\n\n----------------------------------------\n\n\n# ä¸ä¸æè½\n\n 1.  çç»ææ¡javaåºç¡ç¥è¯ï¼äºè§£åçæ¬ç¹æ§ï¼è¯»è¿å¹¶åç¼ç¨ï¼éåæ¡æ¶ï¼ioæµç­å¸¸ç¨apiåºå±æºç ã\n 2.  è½å¤å¨å¼åä¸­å©ç¨è®¾è®¡æ¨¡å¼æ½è±¡ä»£ç ï¼æ·±å¥çè§£é¢åé©±å¨è®¾è®¡ã\n 3.  è¯»è¿springï¼springmvcï¼mybatisï¼springbootï¼springcloud(eureka,nacos,sentinel,openfeign,ribbon,gateway)æºç ã\n 4.  è¯»è¿tomcatï¼dubboï¼zookeeperï¼quartzæºç ã\n 5.  è¯»è¿redisæºç ã\n 6.  äºè§£nginxï¼apisixç­ç½å³ã\n 7.  è¯»è¿ãæ·±å¥çè§£javaèææºãï¼æå¤æ¬¡jvmçº¿ä¸é®é¢ææ¥ä¸è°ä¼ç»éªï¼ç»åè¿å°ç±³618å¤§ä¿ç°åºè°ä¼ã\n 8.  ææ¡mysqlåºå±åçï¼sqlè°ä¼ç»éªä¸°å¯ï¼æå°ç±³æ°é¶å®æ°æ®å»ºæ¨¡å¼åç»éªã\n 9.  è¯»è¿rocketmqæºç ï¼ææ¡kafkaæ ¸å¿åçï¼çç»ä½¿ç¨rabbitmqï¼ç®åè´è´£æ¶æ¯éåç¸å³å·¥ä½å¼åã\n 10. çç»ææ¡elasticsearch apiï¼æ·±å¥çè§£elasticsearchåºå±åçï¼äºè§£elasticsearchéç¾¤è¿ç»´ï¼è¯»è¿é¨åelasticsearchæºç ã\n 11. è¯»è¿nettyæºç ï¼äºè§£nettyæ± ååå­ç®¡çï¼æå°ç±³æ°é¶å®ç´æ­å¼åç»éªã\n 12. çç»ä½¿ç¨linuxæä½ç³»ç»ï¼dockerï¼jenkinsç­cicdç¸å³å·¥å·ã\n 13. äºè§£httpä¸httpsåè®®åçï¼åºååä¸ååºåååçï¼rpcéä¿¡åçï¼çæåå¸å¼å¾®æå¡æ¶æï¼ææ¡åå¸å¼äºå¡è§£å³æ¹æ¡ã\n 14. çç»ä½¿ç¨jiraï¼asanaç­é¡¹ç®æµç¨ç®¡çå·¥å·ï¼çç»ä½¿ç¨markdownï¼wordï¼excelï¼pptç­å·¥å·ã\n\n----------------------------------------\n\n\n# å·¥ä½å±¥å\n\n 1. 2020.11-2022.06 å°ç±³æ°é¶å®ææ¯é¨\n 2. 2022.07- zoom asyncmq\n\n----------------------------------------\n\n\n# é¡¹ç®ç»éª\n\n 1. å°ç±³æ°é¶å®-é¶å®é\n 2. zoomæ¶æ¯éå-asyncmq\n\n----------------------------------------\n\n\n# æè²èæ¯\n\nå­¦æ ¡åç§°     ä¸ä¸         å°±è¯»æ¶é´        å­¦ä½\né½é½åå°å¤§å­¦   è®¡ç®æºç§å­¦ä¸ææ¯   2017~2021   æ¬ç§\n\n----------------------------------------",charsets:{cjk:!0},lastUpdated:"2023/11/04, 13:58:20",lastUpdatedTimestamp:16990775e5},{title:"About Me",frontmatter:{title:"About Me",date:"2021å¹´9æ11æ¥22:50:43",permalink:"/pages/19/",type:"ä¸ªäººç®å",tags:["ç®å","é¢è¯"],author:{name:"huidong.yin",link:"https://huidongyin.github.io"},categories:["AboutMe"]},regularPath:"/02.Spring%E5%85%A8%E5%AE%B6%E6%A1%B6/08.Tomcat/01.xxx.html",relativePath:"02.Springå¨å®¶æ¡¶/08.Tomcat/01.xxx.md",key:"v-65a5217b",path:"/pages/19/",headers:[{level:3,title:"ä¸ä¸æè½",slug:"ä¸ä¸æè½",normalizedTitle:"ä¸ä¸æè½",charIndex:167},{level:3,title:"å·¥ä½å±¥å",slug:"å·¥ä½å±¥å",normalizedTitle:"å·¥ä½å±¥å",charIndex:952},{level:3,title:"é¡¹ç®ç»éª",slug:"é¡¹ç®ç»éª",normalizedTitle:"é¡¹ç®ç»éª",charIndex:1059},{level:3,title:"æè²èæ¯",slug:"æè²èæ¯",normalizedTitle:"æè²èæ¯",charIndex:1146}],headersStr:"ä¸ä¸æè½ å·¥ä½å±¥å é¡¹ç®ç»éª æè²èæ¯",content:"å§å    å·¥ä½å¹´é   åºçæ¥æ         æ§å«   TEL           é®ç®±\nå°¹ä¼ä¸   3å¹´     1998.11.16   ç·    13342969497   huidong.yin247203@gmail.com\n\n----------------------------------------\n\n\n# ä¸ä¸æè½\n\n 1.  çç»ææ¡Javaåºç¡ç¥è¯ï¼äºè§£åçæ¬ç¹æ§ï¼è¯»è¿å¹¶åç¼ç¨ï¼éåæ¡æ¶ï¼IOæµç­å¸¸ç¨APIåºå±æºç ã\n 2.  è½å¤å¨å¼åä¸­å©ç¨è®¾è®¡æ¨¡å¼æ½è±¡ä»£ç ï¼æ·±å¥çè§£é¢åé©±å¨è®¾è®¡ã\n 3.  è¯»è¿Springï¼SpringMVCï¼Mybatisï¼SpringBootï¼SpringCloud(Eureka,Nacos,Sentinel,OpenFeign,Ribbon,Gateway)æºç ã\n 4.  è¯»è¿Tomcatï¼Dubboï¼Zookeeperï¼Quartzæºç ã\n 5.  è¯»è¿Redisæºç ã\n 6.  äºè§£Nginxï¼ApiSixç­ç½å³ã\n 7.  è¯»è¿ãæ·±å¥çè§£Javaèææºãï¼æå¤æ¬¡JVMçº¿ä¸é®é¢ææ¥ä¸è°ä¼ç»éªï¼ç»åè¿å°ç±³618å¤§ä¿ç°åºè°ä¼ã\n 8.  ææ¡MySQLåºå±åçï¼SQLè°ä¼ç»éªä¸°å¯ï¼æå°ç±³æ°é¶å®æ°æ®å»ºæ¨¡å¼åç»éªã\n 9.  è¯»è¿RocketMQæºç ï¼ææ¡Kafkaæ ¸å¿åçï¼çç»ä½¿ç¨RabbitMQï¼ç®åè´è´£æ¶æ¯éåç¸å³å·¥ä½å¼åã\n 10. çç»ææ¡ElasticSearch APIï¼æ·±å¥çè§£ElasticSearchåºå±åçï¼äºè§£ElasticSearchéç¾¤è¿ç»´ï¼è¯»è¿é¨åElasticSearchæºç ã\n 11. è¯»è¿Nettyæºç ï¼äºè§£Nettyæ± ååå­ç®¡çï¼æå°ç±³æ°é¶å®ç´æ­å¼åç»éªã\n 12. çç»ä½¿ç¨Linuxæä½ç³»ç»ï¼Dockerï¼Jenkinsç­CICDç¸å³å·¥å·ã\n 13. äºè§£HTTPä¸HTTPSåè®®åçï¼åºååä¸ååºåååçï¼RPCéä¿¡åçï¼çæåå¸å¼å¾®æå¡æ¶æï¼ææ¡åå¸å¼äºå¡è§£å³æ¹æ¡ã\n 14. çç»ä½¿ç¨JIRAï¼Asanaç­é¡¹ç®æµç¨ç®¡çå·¥å·ï¼çç»ä½¿ç¨Markdownï¼Wordï¼Excelï¼PPTç­å·¥å·ã\n\n----------------------------------------\n\n\n# å·¥ä½å±¥å\n\n 1. 2020.11-2022.06 å°ç±³æ°é¶å®ææ¯é¨\n 2. 2022.07- ZOOM AsyncMQ\n\n----------------------------------------\n\n\n# é¡¹ç®ç»éª\n\n 1. å°ç±³æ°é¶å®-é¶å®é\n 2. ZOOMæ¶æ¯éå-AsyncMQ\n\n----------------------------------------\n\n\n# æè²èæ¯\n\nå­¦æ ¡åç§°     ä¸ä¸         å°±è¯»æ¶é´        å­¦ä½\né½é½åå°å¤§å­¦   è®¡ç®æºç§å­¦ä¸ææ¯   2017~2021   æ¬ç§\n\n----------------------------------------",normalizedContent:"å§å    å·¥ä½å¹´é   åºçæ¥æ         æ§å«   tel           é®ç®±\nå°¹ä¼ä¸   3å¹´     1998.11.16   ç·    13342969497   huidong.yin247203@gmail.com\n\n----------------------------------------\n\n\n# ä¸ä¸æè½\n\n 1.  çç»ææ¡javaåºç¡ç¥è¯ï¼äºè§£åçæ¬ç¹æ§ï¼è¯»è¿å¹¶åç¼ç¨ï¼éåæ¡æ¶ï¼ioæµç­å¸¸ç¨apiåºå±æºç ã\n 2.  è½å¤å¨å¼åä¸­å©ç¨è®¾è®¡æ¨¡å¼æ½è±¡ä»£ç ï¼æ·±å¥çè§£é¢åé©±å¨è®¾è®¡ã\n 3.  è¯»è¿springï¼springmvcï¼mybatisï¼springbootï¼springcloud(eureka,nacos,sentinel,openfeign,ribbon,gateway)æºç ã\n 4.  è¯»è¿tomcatï¼dubboï¼zookeeperï¼quartzæºç ã\n 5.  è¯»è¿redisæºç ã\n 6.  äºè§£nginxï¼apisixç­ç½å³ã\n 7.  è¯»è¿ãæ·±å¥çè§£javaèææºãï¼æå¤æ¬¡jvmçº¿ä¸é®é¢ææ¥ä¸è°ä¼ç»éªï¼ç»åè¿å°ç±³618å¤§ä¿ç°åºè°ä¼ã\n 8.  ææ¡mysqlåºå±åçï¼sqlè°ä¼ç»éªä¸°å¯ï¼æå°ç±³æ°é¶å®æ°æ®å»ºæ¨¡å¼åç»éªã\n 9.  è¯»è¿rocketmqæºç ï¼ææ¡kafkaæ ¸å¿åçï¼çç»ä½¿ç¨rabbitmqï¼ç®åè´è´£æ¶æ¯éåç¸å³å·¥ä½å¼åã\n 10. çç»ææ¡elasticsearch apiï¼æ·±å¥çè§£elasticsearchåºå±åçï¼äºè§£elasticsearchéç¾¤è¿ç»´ï¼è¯»è¿é¨åelasticsearchæºç ã\n 11. è¯»è¿nettyæºç ï¼äºè§£nettyæ± ååå­ç®¡çï¼æå°ç±³æ°é¶å®ç´æ­å¼åç»éªã\n 12. çç»ä½¿ç¨linuxæä½ç³»ç»ï¼dockerï¼jenkinsç­cicdç¸å³å·¥å·ã\n 13. äºè§£httpä¸httpsåè®®åçï¼åºååä¸ååºåååçï¼rpcéä¿¡åçï¼çæåå¸å¼å¾®æå¡æ¶æï¼ææ¡åå¸å¼äºå¡è§£å³æ¹æ¡ã\n 14. çç»ä½¿ç¨jiraï¼asanaç­é¡¹ç®æµç¨ç®¡çå·¥å·ï¼çç»ä½¿ç¨markdownï¼wordï¼excelï¼pptç­å·¥å·ã\n\n----------------------------------------\n\n\n# å·¥ä½å±¥å\n\n 1. 2020.11-2022.06 å°ç±³æ°é¶å®ææ¯é¨\n 2. 2022.07- zoom asyncmq\n\n----------------------------------------\n\n\n# é¡¹ç®ç»éª\n\n 1. å°ç±³æ°é¶å®-é¶å®é\n 2. zoomæ¶æ¯éå-asyncmq\n\n----------------------------------------\n\n\n# æè²èæ¯\n\nå­¦æ ¡åç§°     ä¸ä¸         å°±è¯»æ¶é´        å­¦ä½\né½é½åå°å¤§å­¦   è®¡ç®æºç§å­¦ä¸ææ¯   2017~2021   æ¬ç§\n\n----------------------------------------",charsets:{cjk:!0},lastUpdated:"2023/11/04, 13:58:20",lastUpdatedTimestamp:16990775e5},{title:"About Me",frontmatter:{title:"About Me",date:"2021å¹´9æ11æ¥22:50:43",permalink:"/pages/17/",type:"ä¸ªäººç®å",tags:["ç®å","é¢è¯"],author:{name:"huidong.yin",link:"https://huidongyin.github.io"},categories:["AboutMe"]},regularPath:"/02.Spring%E5%85%A8%E5%AE%B6%E6%A1%B6/06.Zookeeper/01.xxx.html",relativePath:"02.Springå¨å®¶æ¡¶/06.Zookeeper/01.xxx.md",key:"v-e871167a",path:"/pages/17/",headers:[{level:3,title:"ä¸ä¸æè½",slug:"ä¸ä¸æè½",normalizedTitle:"ä¸ä¸æè½",charIndex:167},{level:3,title:"å·¥ä½å±¥å",slug:"å·¥ä½å±¥å",normalizedTitle:"å·¥ä½å±¥å",charIndex:952},{level:3,title:"é¡¹ç®ç»éª",slug:"é¡¹ç®ç»éª",normalizedTitle:"é¡¹ç®ç»éª",charIndex:1059},{level:3,title:"æè²èæ¯",slug:"æè²èæ¯",normalizedTitle:"æè²èæ¯",charIndex:1146}],headersStr:"ä¸ä¸æè½ å·¥ä½å±¥å é¡¹ç®ç»éª æè²èæ¯",content:"å§å    å·¥ä½å¹´é   åºçæ¥æ         æ§å«   TEL           é®ç®±\nå°¹ä¼ä¸   3å¹´     1998.11.16   ç·    13342969497   huidong.yin247203@gmail.com\n\n----------------------------------------\n\n\n# ä¸ä¸æè½\n\n 1.  çç»ææ¡Javaåºç¡ç¥è¯ï¼äºè§£åçæ¬ç¹æ§ï¼è¯»è¿å¹¶åç¼ç¨ï¼éåæ¡æ¶ï¼IOæµç­å¸¸ç¨APIåºå±æºç ã\n 2.  è½å¤å¨å¼åä¸­å©ç¨è®¾è®¡æ¨¡å¼æ½è±¡ä»£ç ï¼æ·±å¥çè§£é¢åé©±å¨è®¾è®¡ã\n 3.  è¯»è¿Springï¼SpringMVCï¼Mybatisï¼SpringBootï¼SpringCloud(Eureka,Nacos,Sentinel,OpenFeign,Ribbon,Gateway)æºç ã\n 4.  è¯»è¿Tomcatï¼Dubboï¼Zookeeperï¼Quartzæºç ã\n 5.  è¯»è¿Redisæºç ã\n 6.  äºè§£Nginxï¼ApiSixç­ç½å³ã\n 7.  è¯»è¿ãæ·±å¥çè§£Javaèææºãï¼æå¤æ¬¡JVMçº¿ä¸é®é¢ææ¥ä¸è°ä¼ç»éªï¼ç»åè¿å°ç±³618å¤§ä¿ç°åºè°ä¼ã\n 8.  ææ¡MySQLåºå±åçï¼SQLè°ä¼ç»éªä¸°å¯ï¼æå°ç±³æ°é¶å®æ°æ®å»ºæ¨¡å¼åç»éªã\n 9.  è¯»è¿RocketMQæºç ï¼ææ¡Kafkaæ ¸å¿åçï¼çç»ä½¿ç¨RabbitMQï¼ç®åè´è´£æ¶æ¯éåç¸å³å·¥ä½å¼åã\n 10. çç»ææ¡ElasticSearch APIï¼æ·±å¥çè§£ElasticSearchåºå±åçï¼äºè§£ElasticSearchéç¾¤è¿ç»´ï¼è¯»è¿é¨åElasticSearchæºç ã\n 11. è¯»è¿Nettyæºç ï¼äºè§£Nettyæ± ååå­ç®¡çï¼æå°ç±³æ°é¶å®ç´æ­å¼åç»éªã\n 12. çç»ä½¿ç¨Linuxæä½ç³»ç»ï¼Dockerï¼Jenkinsç­CICDç¸å³å·¥å·ã\n 13. äºè§£HTTPä¸HTTPSåè®®åçï¼åºååä¸ååºåååçï¼RPCéä¿¡åçï¼çæåå¸å¼å¾®æå¡æ¶æï¼ææ¡åå¸å¼äºå¡è§£å³æ¹æ¡ã\n 14. çç»ä½¿ç¨JIRAï¼Asanaç­é¡¹ç®æµç¨ç®¡çå·¥å·ï¼çç»ä½¿ç¨Markdownï¼Wordï¼Excelï¼PPTç­å·¥å·ã\n\n----------------------------------------\n\n\n# å·¥ä½å±¥å\n\n 1. 2020.11-2022.06 å°ç±³æ°é¶å®ææ¯é¨\n 2. 2022.07- ZOOM AsyncMQ\n\n----------------------------------------\n\n\n# é¡¹ç®ç»éª\n\n 1. å°ç±³æ°é¶å®-é¶å®é\n 2. ZOOMæ¶æ¯éå-AsyncMQ\n\n----------------------------------------\n\n\n# æè²èæ¯\n\nå­¦æ ¡åç§°     ä¸ä¸         å°±è¯»æ¶é´        å­¦ä½\né½é½åå°å¤§å­¦   è®¡ç®æºç§å­¦ä¸ææ¯   2017~2021   æ¬ç§\n\n----------------------------------------",normalizedContent:"å§å    å·¥ä½å¹´é   åºçæ¥æ         æ§å«   tel           é®ç®±\nå°¹ä¼ä¸   3å¹´     1998.11.16   ç·    13342969497   huidong.yin247203@gmail.com\n\n----------------------------------------\n\n\n# ä¸ä¸æè½\n\n 1.  çç»ææ¡javaåºç¡ç¥è¯ï¼äºè§£åçæ¬ç¹æ§ï¼è¯»è¿å¹¶åç¼ç¨ï¼éåæ¡æ¶ï¼ioæµç­å¸¸ç¨apiåºå±æºç ã\n 2.  è½å¤å¨å¼åä¸­å©ç¨è®¾è®¡æ¨¡å¼æ½è±¡ä»£ç ï¼æ·±å¥çè§£é¢åé©±å¨è®¾è®¡ã\n 3.  è¯»è¿springï¼springmvcï¼mybatisï¼springbootï¼springcloud(eureka,nacos,sentinel,openfeign,ribbon,gateway)æºç ã\n 4.  è¯»è¿tomcatï¼dubboï¼zookeeperï¼quartzæºç ã\n 5.  è¯»è¿redisæºç ã\n 6.  äºè§£nginxï¼apisixç­ç½å³ã\n 7.  è¯»è¿ãæ·±å¥çè§£javaèææºãï¼æå¤æ¬¡jvmçº¿ä¸é®é¢ææ¥ä¸è°ä¼ç»éªï¼ç»åè¿å°ç±³618å¤§ä¿ç°åºè°ä¼ã\n 8.  ææ¡mysqlåºå±åçï¼sqlè°ä¼ç»éªä¸°å¯ï¼æå°ç±³æ°é¶å®æ°æ®å»ºæ¨¡å¼åç»éªã\n 9.  è¯»è¿rocketmqæºç ï¼ææ¡kafkaæ ¸å¿åçï¼çç»ä½¿ç¨rabbitmqï¼ç®åè´è´£æ¶æ¯éåç¸å³å·¥ä½å¼åã\n 10. çç»ææ¡elasticsearch apiï¼æ·±å¥çè§£elasticsearchåºå±åçï¼äºè§£elasticsearchéç¾¤è¿ç»´ï¼è¯»è¿é¨åelasticsearchæºç ã\n 11. è¯»è¿nettyæºç ï¼äºè§£nettyæ± ååå­ç®¡çï¼æå°ç±³æ°é¶å®ç´æ­å¼åç»éªã\n 12. çç»ä½¿ç¨linuxæä½ç³»ç»ï¼dockerï¼jenkinsç­cicdç¸å³å·¥å·ã\n 13. äºè§£httpä¸httpsåè®®åçï¼åºååä¸ååºåååçï¼rpcéä¿¡åçï¼çæåå¸å¼å¾®æå¡æ¶æï¼ææ¡åå¸å¼äºå¡è§£å³æ¹æ¡ã\n 14. çç»ä½¿ç¨jiraï¼asanaç­é¡¹ç®æµç¨ç®¡çå·¥å·ï¼çç»ä½¿ç¨markdownï¼wordï¼excelï¼pptç­å·¥å·ã\n\n----------------------------------------\n\n\n# å·¥ä½å±¥å\n\n 1. 2020.11-2022.06 å°ç±³æ°é¶å®ææ¯é¨\n 2. 2022.07- zoom asyncmq\n\n----------------------------------------\n\n\n# é¡¹ç®ç»éª\n\n 1. å°ç±³æ°é¶å®-é¶å®é\n 2. zoomæ¶æ¯éå-asyncmq\n\n----------------------------------------\n\n\n# æè²èæ¯\n\nå­¦æ ¡åç§°     ä¸ä¸         å°±è¯»æ¶é´        å­¦ä½\né½é½åå°å¤§å­¦   è®¡ç®æºç§å­¦ä¸ææ¯   2017~2021   æ¬ç§\n\n----------------------------------------",charsets:{cjk:!0},lastUpdated:"2023/11/04, 13:58:20",lastUpdatedTimestamp:16990775e5},{title:"Kafkaå¥é¨",frontmatter:{title:"Kafkaå¥é¨",date:"2023-01-01T00:00:00.000Z",tags:["Kafka","æ¶æ¯éå"],categories:["Kafka"],description:"Kafkaå¥é¨",toc_number:!1,author:{name:"huidong.yin",link:"https://huidongyin.github.io"},permalink:"/pages/c8412896-0c96-3cef-8d32-94dcb1852140/"},regularPath:"/03.%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97/00.Kafka/1.Kafka%E5%85%A5%E9%97%A8.html",relativePath:"03.æ¶æ¯éå/00.Kafka/1.Kafkaå¥é¨.md",key:"v-501486a1",path:"/pages/c8412896-0c96-3cef-8d32-94dcb1852140/",headers:[{level:2,title:"1.ä½ç³»æ¶æ",slug:"_1-ä½ç³»æ¶æ",normalizedTitle:"1.ä½ç³»æ¶æ",charIndex:888},{level:2,title:"2.ä¸»é¢ååº",slug:"_2-ä¸»é¢ååº",normalizedTitle:"2.ä¸»é¢ååº",charIndex:1293},{level:2,title:"3.å¯æ¬æºå¶",slug:"_3-å¯æ¬æºå¶",normalizedTitle:"3.å¯æ¬æºå¶",charIndex:1745},{level:2,title:"4.å®è£éç½®",slug:"_4-å®è£éç½®",normalizedTitle:"4.å®è£éç½®",charIndex:2484},{level:2,title:"5.çäº§æ¶è´¹",slug:"_5-çäº§æ¶è´¹",normalizedTitle:"5.çäº§æ¶è´¹",charIndex:5063},{level:3,title:"5.1ä½¿ç¨èæ¬æµè¯",slug:"_5-1ä½¿ç¨èæ¬æµè¯",normalizedTitle:"5.1ä½¿ç¨èæ¬æµè¯",charIndex:5074},{level:3,title:"5.2ä½¿ç¨ä»£ç æµè¯",slug:"_5-2ä½¿ç¨ä»£ç æµè¯",normalizedTitle:"5.2ä½¿ç¨ä»£ç æµè¯",charIndex:6432},{level:2,title:"6.æå¡ç«¯åæ°è¯´æ",slug:"_6-æå¡ç«¯åæ°è¯´æ",normalizedTitle:"6.æå¡ç«¯åæ°è¯´æ",charIndex:8982},{level:3,title:"6.1zookeeper.connect",slug:"_6-1zookeeper-connect",normalizedTitle:"6.1zookeeper.connect",charIndex:8996},{level:3,title:"6.2listeners",slug:"_6-2listeners",normalizedTitle:"6.2listeners",charIndex:10269},{level:3,title:"6.3broker.id",slug:"_6-3broker-id",normalizedTitle:"6.3broker.id",charIndex:10400},{level:3,title:"6.4log.dir & log.dirs",slug:"_6-4log-dir-log-dirs",normalizedTitle:"6.4log.dir &amp; log.dirs",charIndex:null},{level:3,title:"6.5message.max.bytes",slug:"_6-5message-max-bytes",normalizedTitle:"6.5message.max.bytes",charIndex:10760}],headersStr:"1.ä½ç³»æ¶æ 2.ä¸»é¢ååº 3.å¯æ¬æºå¶ 4.å®è£éç½® 5.çäº§æ¶è´¹ 5.1ä½¿ç¨èæ¬æµè¯ 5.2ä½¿ç¨ä»£ç æµè¯ 6.æå¡ç«¯åæ°è¯´æ 6.1zookeeper.connect 6.2listeners 6.3broker.id 6.4log.dir & log.dirs 6.5message.max.bytes",content:'å½æ¶å Kafka æ¶ï¼æä¸ä¸ªå³é®æ¹é¢éè¦èèï¼å®ä»¬ææäº Kafka çæ ¸å¿ç¹æ§ï¼ä¸ºåç§åºç¨åºæ¯æä¾äºå¼ºå¤§çæ¯æï¼\n\n 1. æ¶æ¯ç³»ç»ï¼Kafkaæ¯ä¸ä¸ªé«æ§è½ãåå¸å¼çæ¶æ¯ç³»ç»ï¼å·æå¤éå³é®ç¹æ§ãé¦åï¼å®æ¯æå¼æ­¥éä¿¡ï¼è¿æå³ççäº§èåæ¶è´¹èä¸å¿ç­å¾å¯¹æ¹çååºï¼ä»èæé«äºç³»ç»çååéåååºéåº¦ãå¶æ¬¡ï¼Kafkaè½å¤å¤çåå³°ï¼smoothingï¼ââå¨ç¬æ¶é«è´è½½æ¶ï¼å®è½å¤æå­æ¶æ¯ä»¥ç¡®ä¿ç³»ç»çç¨³å®æ§ãæ­¤å¤ï¼å®æ¯ææ¶æ¯çè§£è¦ï¼åè®¸ä¸åç»ä»¶ä¹é´ç¬ç«å¼ååé¨ç½²ï¼æé«äºç³»ç»çå¯ç»´æ¤æ§ãKafkaè¿æä¾åè¶çæ©å±æ§ï¼è½å¤è½»æ¾å°éåºä¸æ­å¢é¿çå·¥ä½è´è½½ãåæ¶ï¼Kafkaå·å¤åºè²çæ¢å¤æ§ï¼å³ä½¿å¨ç¡¬ä»¶æç½ç»æéçæåµä¸ï¼æ¶æ¯ä»ç¶è½å¤è¢«å¯é å°ä¼ éãæ­¤å¤ï¼Kafkaæ¯æé¡ºåºæ§æ¶è´¹ï¼ç¡®ä¿æ¶æ¯æç§å¶äº§ççé¡ºåºè¢«æ¶è´¹ãæåï¼å®è¿æ¯æåæº¯æ¶æ¯ï¼åè®¸æ¶è´¹èéæ°å¤çåå²æ¶æ¯ï¼è¿å¯¹äºåæåæ°æ®ææéå¸¸æç¨ã\n 2. å­å¨ç³»ç»ï¼é¤äºä½ä¸ºæ¶æ¯ç³»ç»ï¼Kafkaè¿å¯ç¨ä½å¼ºå¤§çåå¸å¼æ°æ®å­å¨ç³»ç»ãå®è½å¤å¯é å°å­å¨æ¶æ¯ï¼ä½¿å¾è¿äºæ¶æ¯å¯ä»¥è¢«åç»­åºç¨ç¨åºæç³»ç»æ¥è¯¢ãåæåå¤çãè¿ç§å­å¨åè½ä½¿Kafkaæä¸ºäºä¸ä¸ªæä¹æ§çãé«åº¦å¯æ©å±çæ°æ®å­å¨å¼æï¼ç¨äºå­å¨åç®¡çåç§ç±»åçæ°æ®ï¼åæ¬äºä»¶æ¥å¿ãææ ãæ¥å¿æä»¶ãä»¥åå¶ä»ä¸å¡æ°æ®ãå æ­¤ï¼Kafkaéç¨äºå®æ¶å¤§æ°æ®å¤çãæ¥å¿å­å¨ãçæ§ãä»¥ååç§å¶ä»æ°æ®ç®¡çéæ±ã\n 3. æµå¼å¤çå¹³å°ï¼Kafkaä¸ä»ä»æ¯ä¸ä¸ªæ¶æ¯ä¼ éç³»ç»åæ°æ®å­å¨å¼æï¼å®è¿æä¾äºä¸ä¸ªæµå¼å¤çå¹³å°ï¼è½å¤ä¸ºæµå¼å¤çæ¡æ¶æä¾æ°æ®æ¥æºãéè¿Kafkaï¼æ°æ®å¯ä»¥è¢«å®æ¶å°ä¼ éå°æµå¤çåºç¨ç¨åºï¼è¿ä½¿å¾å¼åèå¯ä»¥æå»ºå®æ¶åæãäºä»¶é©±å¨ååºç¨ãä»¥åå¤æçæ°æ®å¤çæµç¨ãKafkaè¿æä¾äºä¸å¥å®æ´çæµå¼å¤çç±»åºï¼åæ¬çªå£å¤çãè¿æ¥æä½ãæ°æ®åæ¢ä»¥åèååè½ï¼ä½¿å¼åèè½å¤è½»æ¾æå»ºå¼ºå¤§çå®æ¶æ°æ®å¤çåºç¨ã\n\nè¿ä¸ä¸ªæ¹é¢çç¹æ§ä½¿ Kafka æä¸ºä¸ç§å¼ºå¤§çå·¥å·ï¼éç¨äºåç§ç°ä»£æ°æ®å¤çåæ°æ®æµåºç¨ï¼ä»äºä»¶é©±å¨æ¶æå°å®æ¶æ°æ®åæåçæ§ã\n\n----------------------------------------\n\n\n# 1.ä½ç³»æ¶æ\n\nKafka æ¯ä¸ä¸ªå¼ºå¤§çåå¸å¼æ¶æ¯ä¼ éç³»ç»ï¼å¶æ ¸å¿ä½ç³»æ¶æåæ¬åä¸ªä¸»è¦ç»ä»¶ï¼ProducerãBrokerãConsumer å ZooKeeper (zk)ã\n\n 1. ZooKeeperï¼Kafka ä½¿ç¨ ZooKeeper æ¥è´è´£éç¾¤åæ°æ®çç®¡çãæ§å¶å¨çéä¸¾ç­æä½ï¼ç¡®ä¿ Kafka éç¾¤çåè°åä¸è´æ§ã\n 2. Producerï¼çäº§èè´è´£å°æ¶æ¯åéå° Kafka ç Broker ä¸­ã\n 3. Brokerï¼Broker æ¯ Kafka éç¾¤ä¸­çæ¶æ¯å­å¨èç¹ï¼å®ä»¬æ¥æ¶ãå­å¨åååæ¶æ¯ã\n 4. Consumerï¼æ¶è´¹èä» Broker è®¢éå¹¶æ¶è´¹æ¶æ¯ï¼éç¨ææ¨¡åï¼pull-basedï¼æ¥è·åæ¶æ¯ã\n\nä¸å°é¨ç½²äº Kafka Broker çæå¡å¨å¯ä»¥çä½æ¯ä¸ä¸ª Kafka æå¡å¨ã\n\n----------------------------------------\n\n\n# 2.ä¸»é¢ååº\n\n * Topicï¼çäº§èå¨åéæ¶æ¯æ¶éè¦æå®ä¸ä¸ª TopicãTopic æ¯æ¶æ¯çé»è¾åç±»ï¼ç¨äºç»ç»åæ è¯æ¶æ¯ã\n * Partitionï¼æ¯ä¸ª Topic å¯ä»¥ååä¸ºå¤ä¸ª Partitionï¼æ¯ä¸ªPartitionæ¯ä¸ä¸ªæåºãè¿½å çæ¥å¿æä»¶ï¼æ¯æ¡æ¶æ¯é½ä¼åéä¸ä¸ªå¯ä¸çåç§»éï¼offsetï¼ãåç§»éç¨äºä¿è¯æ¶æ¯å¨ååºåçé¡ºåºã\n\n> Kafka ä¿è¯ Partition åçæ¶æ¯æåºï¼ä½ä¸ä¿è¯ Topic æåºãTopic å¯è½æå¤ä¸ª Partitionï¼å®ä»¬å¯ä»¥åå¸å¨ä¸åç Broker ä¸ã\n\nTopicçå¤ä¸ªååºå¯ä»¥åå¸å¨ä¸åçBrokerä¸ï¼æ¶æ¯å¨åéå°Brokerä¹åä¼é¦åæ ¹æ®ååºè§åè®¡ç®åºå¨å­å°åªä¸ä¸ªååºãå¦æä¸ä¸ªTopicåªæä¸ä¸ªååºï¼é£ä¹è¿ä¸ªTopicçæ§è½ç¶é¢å°±æ¯è¿ä¸ªååºæå¨BrokerçI/Oãåå»ºTopicæ¶å¯ä»¥æå®ååºçæ°éï¼ä¹å¯ä»¥éæ¶å¢å ååºä»¥å®ç°æ°´å¹³æ©å±ã\n\n----------------------------------------\n\n\n# 3.å¯æ¬æºå¶\n\n * Kafka å¼å¥äºå¯æ¬ï¼Replicaï¼æºå¶ç¨äºå®ç°å®¹ç¾å¤ä»½ãæ¯ä¸ª Partition å¯è½æå¤ä¸ªå¯æ¬ã\n * å¯æ¬åä¸ºä¸ç§ç¶æï¼ARï¼All Replicaï¼ææå¯æ¬ï¼ï¼ISRï¼In Sync Replicaï¼åæ­¥ä¸­çå¯æ¬ï¼ï¼OSRï¼Out Sync Replicaï¼åæ­¥ä¹å¤çå¯æ¬ï¼ã\n * å¨åä¸æ¶å»ï¼å¯æ¬ä¹é´å¹¶éå®å¨ä¸æ ·ãLeader å¯æ¬è´è´£å¤çè¯»åè¯·æ±ï¼è Follower å¯æ¬åªè´è´£ä¸ Leader å¯æ¬çæ¶æ¯åæ­¥ãå½Leaderæå¨çBroker åºç°æéæ¶ï¼ä» Follower å¯æ¬ä¸­éæ°éä¸¾æ°ç Leader å¯æ¬å¯¹å¤æä¾æå¡ã\n * ISRï¼In Sync Replicaï¼æçæ¯åæ­¥ä¸­çå¯æ¬ï¼å®ä»¬å·å¤èµæ ¼è¢«éä¸º Leader å¯æ¬ã\n * AR = ISR + OSRãæ­£å¸¸æåµä¸ AR = ISRï¼OSR = 0ã\n * å¯æ¬æä¸ä¸ªéè¦çæ¦å¿µï¼å³ HWï¼High Watermarkï¼ï¼æ¶è´¹èåªè½æåæ¶æ¯ç´å° HW ä½ç½®ãHW æ¯ææ ISR éååçå¯æ¬çLEOï¼LogEndOffsetï¼çæå°å¼ã\n * LEOï¼Log End Offsetï¼æ è¯å½å Partition æ¥å¿æä»¶ä¸­ä¸ä¸æ¡å¾åå¥çæ¶æ¯ç offsetãLEO = å½åæ¥å¿æä»¶çæåä¸æ¡æ¶æ¯çåç§»é+1ã\n * kafkaå®¢æ·ç«¯ä¹å·å¤ä¸å®çå®¹ç¾å¤ä»½è½åï¼æ¶è´¹èä½¿ç¨ææ¨¡åä»æå¡ç«¯ææ¶æ¯ï¼å¹¶ä¸ä¿å­æ¶è´¹çå·ä½ä½ç½®ï¼å½æ¶è´¹èå®æºåæ¢å¤ä¸çº¿æ¶å¯ä»¥æ ¹æ®ä¹åä¿å­çæ¶è´¹ä½ç¹éæ°ææ¶æ¯ã\n\nç¸æ¯äºåæ­¥å¤å¶çæ§è½æèåå¼æ­¥å¤å¶çä¸å¯é æ§ï¼ISRçæ¹å¼å¨ä¸¤èä¹é´åäºæ´å¥½çæè¡¡ã\n\n----------------------------------------\n\n\n# 4.å®è£éç½®\n\nKafkaå®æ¹ä¸è½½å°åï¼http://kafka.apache.org/downloadsã\n\n> kafka-xx-yy: xx æ¯scalaçæ¬ï¼yyæ¯kafkaçæ¬ã\n\nä¸é¢æä»¬ä½¿ç¨dockerå®è£åéç½®zkåkafkaã\n\n 1. é¦ååå»ºä¸ä¸ªæ¡¥æ¥ç½ç»ï¼æ¹ä¾¿zkåkafkaå ä¸ºéå¯dockerå¯¼è´ipååæ¶éè¦éæ°ä¿®æ­£éç½®çé®é¢ã\n\ndocker network create kafka-net\n\n\n1\n\n 2. æåzkéåå¹¶å®è£ã\n\ndocker pull zookeeper:3.5.9\n\ndocker run -d --privileged=true  --name kafka-zookeeper  -p 2181:2181  --network kafka-net  --network-alias kafka-zookeeper  -v /Users/huidong/docker/zk/data:/data  -v /Users/huidong/docker/zk/conf:/conf  -v /Users/huidong/docker/zk/logs:/datalog  zookeeper:3.5.9\n\n\n1\n2\n3\n\n\n2888ä¸ºç»æzookeeperæå¡å¨ä¹é´çéä¿¡ç«¯å£ï¼3888ä¸ºç¨æ¥éä¸¾leaderçç«¯å£ãå¦ææ³è¦æ¥çzkçè¿è¡ç¶æï¼\n\n# 1. è¿å¥zkå®¹å¨\ndocker exec -it å®¹å¨id /bin/bash\n\n# 2. æ¾å°éç½®æä»¶ä½ç½®\ncat /conf/zoo.cfg\n\n# 3. æ¥çzkç¶æ\nzkServer.sh status\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n 3. æåkafkaéåå¹¶å®è£ã\n\ndocker pull wurstmeister/kafka\n\ndocker run -d  --privileged=true \\\n--name kafka0 -p 9092:9092 \\\n--network kafka-net \\\n--network-alias kafka0 \\\n-e KAFKA_BROKER_ID=0 \\\n-e KAFKA_ZOOKEEPER_CONNECT=kafka-zookeeper:2181 \\\n-e KAFKA_LISTENERS=PLAINTEXT://0.0.0.0:9092 \\\n-e KAFKA_ADVERTISED_LISTENERS=PLAINTEXT://192.168.1.5:9092 \\\n-e ALLOW_PLAINTEXT_LISTENER=yes \\\nwurstmeister/kafka:latest\n\ndocker run -d  --privileged=true \\\n--name kafka1 -p 9093:9092 \\\n--network kafka-net \\\n--network-alias kafka1 \\\n-e KAFKA_BROKER_ID=1 \\\n-e KAFKA_ZOOKEEPER_CONNECT=kafka-zookeeper:2181 \\\n-e KAFKA_LISTENERS=PLAINTEXT://0.0.0.0:9092 \\\n-e KAFKA_ADVERTISED_LISTENERS=PLAINTEXT://192.168.1.5:9093 \\\n-e ALLOW_PLAINTEXT_LISTENER=yes \\\nwurstmeister/kafka:latest\n\ndocker run -d  --privileged=true \\\n--name kafka2 -p 9094:9092 \\\n--network kafka-net \\\n--network-alias kafka2 \\\n-e KAFKA_BROKER_ID=2 \\\n-e KAFKA_ZOOKEEPER_CONNECT=kafka-zookeeper:2181 \\\n-e KAFKA_LISTENERS=PLAINTEXT://0.0.0.0:9092 \\\n-e KAFKA_ADVERTISED_LISTENERS=PLAINTEXT://192.168.1.5:9094 \\\n-e ALLOW_PLAINTEXT_LISTENER=yes \\\nwurstmeister/kafka:latest\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n\n\nKAFKA_LISTENERS ä¸ KAFKA_ADVERTISED_LISTENERS æ¯ä¸ºäºåºååç½åå¤ç½çï¼å¦æåªæåç½è®¿é®ï¼å°±å¯ä»¥åªéç½® KAFKA_LISTENERSãå¦ææ¶åäºå¤ç½è®¿é®ï¼æ¯å¦è¦å¨äºæå¡å¨ä¸é¨ç½²ä½¿ç¨ï¼å°±éè¦éç½® KAFKA_ADVERTISED_LISTENERSåæ°äºï¼å¨å¼å§æ¶éç½®äºä¸ä¸ª kafka-net çç½ç»ï¼ä¹å°±æ¯å¤äºè¿ä¸ªç½ç»ä¸çè®¿é®æå±äºåç½è®¿é®ï¼è kafkaé¨ç½²å®æ¯åï¼éè¦å¨å¶ä»æå¡å¨ä¸è®¿é® kafkaï¼è¿å°±éè¦éè¿å¤ç½è®¿é® kafkaï¼æä»¥å¿é¡»éç½® KAFKA_ADVERTISED_LISTENERSï¼ä¸å¼ä¸º PLAINTEXT://<æå¡å¨ip>:<æ´é²ç«¯å£> ï¼ä¾å¦æççµèIPä¸º 192.168.1.5ï¼ç«¯å£ä¸ºå®¹å¨æ´é²çç«¯å£ã\n\n * KAFKA_BROKER_ID : brokerçIDï¼è¿ä¸ªIDæ¯éç¾¤çæ è¯ï¼ä¸è½éå¤ã\n * KAFKA_ZOOKEEPER_CONNECTï¼zookeeperçè¿æ¥å°åã\n * KAFKA_LISTENERSï¼æ è¯kafkaæå¡è¿è¡å¨å®¹å¨åç9092ç«¯å£ï¼å ä¸ºæ²¡ææå®hostï¼æä»¥æ¯0.0.0.0æ è¯ææçç½ç»æ¥å£ã\n * KAFKA_ADVERTISED_LISTENERSï¼kafkaåå¸å°zookeeperä¾å®¢æ·ç«¯ä½¿ç¨çæå¡å°åã\n\nè³æ­¤ï¼ä¸ä¸ªåèç¹çzkåä¸ä¸ªbrokerçkafkaéç¾¤å°±å®è£æåäºã\n\n----------------------------------------\n\n\n# 5.çäº§æ¶è´¹\n\n\n# 5.1ä½¿ç¨èæ¬æµè¯\n\næä»¬ç¥éçäº§èå°æ¶æ¯åéå°Topic,èæ¶è´¹èä¹æ¯éè¿è®¢éTopicæ¥æ¶è´¹æ¶æ¯çãè¿å¥kafka-brokeræå¨çdockerå®¹å¨ï¼å¨ /opt/kafka_2.13-2.8.1/bin ç®å½ä¸ækafkaçä¸äºèæ¬ï¼æä»¬é¦åéè¿èæ¬æ¥åå»ºTopicå¹¶æµè¯çäº§åæ¶è´¹ã\n\n 1. åå»ºTopic\n\n./kafka-topics.sh --zookeeper kafka-zookeeper:2181 --create --topic topic-demo --replication-factor 3 --partitions 4\n\n\n1\n\n * factorï¼è¡¨ç¤ºtopicçå¯æ¬å å­ï¼ä¹å°±æ¯æ¯ä¸ä¸ªpartitionæå ä¸ªå¯æ¬ã\n * partitionï¼è¡¨ç¤ºååºæ°ã\n * zookeeperï¼æå®kafkaè¿æ¥çzkçå°åã\n * topicï¼æå®è¦åå»ºçä¸»é¢çåå­ã\n\n 2. æ¥çTopicçä¿¡æ¯\n\n./kafka-topics.sh --zookeeper kafka-zookeeper:2181 --describe --topic topic-demo\n\n\n1\n\n\nè¿åä¿¡æ¯å¦ä¸ï¼\n\n# ./kafka-topics.sh --zookeeper kafka-zookeeper:2181 --describe --topic topic-demo\nTopic: topic-demo       TopicId: yCY_qq7XQaaGlYp6Fnod-A PartitionCount: 4       ReplicationFactor: 3    Configs: \n        Topic: topic-demo       Partition: 0    Leader: 0       Replicas: 0,2,1 Isr: 0,2,1\n        Topic: topic-demo       Partition: 1    Leader: 1       Replicas: 1,0,2 Isr: 1,0,2\n        Topic: topic-demo       Partition: 2    Leader: 2       Replicas: 2,1,0 Isr: 2,1,0\n        Topic: topic-demo       Partition: 3    Leader: 0       Replicas: 0,1,2 Isr: 0,1,2\n\n\n1\n2\n3\n4\n5\n6\n\n 3. çäº§æ¶æ¯\n\n./kafka-console-producer.sh --bootstrap-server kafka0:9092 --topic topic-demo\n\n\n1\n\n * bootstrap-serverï¼æå®è¿æ¥çkafkaéç¾¤å°åã\n\n 4. æ¶è´¹æ¶æ¯\n\n./kafka-console-consumer.sh --bootstrap-server kafka0:9092 --topic topic-demo\n\n\n1\n\n\n----------------------------------------\n\n\n# 5.2ä½¿ç¨ä»£ç æµè¯\n\næä»¬ä»¥Javaå®¢æ·ç«¯æµè¯Kafkaéç¾¤ççäº§æ¶è´¹ã\n\n 1. é¦åå¨é¡¹ç®ä¸­å¼å¥Kafkaå®¢æ·ç«¯çä¾èµã\n\n  <dependency>\n      <groupId>org.apache.kafka</groupId>\n      <artifactId>kafka-clients</artifactId>\n      <version>2.8.1</version>\n  </dependency>\n\n\n1\n2\n3\n4\n5\n\n 2. ä½¿ç¨kafkaæ¶è´¹èæ¶è´¹æ¶æ¯ã\n\n * è®¾ç½® Kafka æ¶è´¹èéç½®ï¼éç½® Kafka æ¶è´¹èï¼åæ¬æå® Kafka æå¡å¨å°åãæ¶è´¹èç»ãé®å¼ååºååå¨ç­ã\n * åå»º Kafka æ¶è´¹èï¼ä½¿ç¨ä¸è¿°éç½®åå»º Kafka æ¶è´¹èã\n * è®¢éä¸»é¢ï¼ä½¿ç¨ subscribe æ¹æ³è®¢éä¸ä¸ªæå¤ä¸ªä¸»é¢ã\n * è½®è¯¢å¹¶å¤çæ¶æ¯ï¼ä½¿ç¨ poll æ¹æ³è½®è¯¢ Kafka ä¸»é¢ä»¥è·åæ¶æ¯ï¼å¹¶å¤çè¿äºæ¶æ¯ãå¤çé»è¾å¯ä»¥æ ¹æ®éæ±æ¥å®å¶ã\n * å³é­ Kafka æ¶è´¹èï¼å¨å®ææ¶è´¹åï¼å³é­ Kafka æ¶è´¹èä»¥éæ¾èµæºã\n\npublic static void consume() {\n    Properties props = new Properties();\n    props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, brokerList);\n    props.put(ConsumerConfig.GROUP_ID_CONFIG, groupName);\n    props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class.getName());\n    props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class.getName());\n\n    KafkaConsumer<String, String> consumer = new KafkaConsumer<>(props);\n    consumer.subscribe(Collections.singletonList(topicName));\n\n    while (true) {\n        ConsumerRecords<String, String> records = consumer.poll(Duration.ofMillis(100));\n        records.forEach(record -> System.out.println("Received message: key = " + record.key() + ", value = " + record.value()));\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n 3. ä½¿ç¨kafkaçäº§èåéæ¶æ¯ã\n\n * è®¾ç½® Kafka çäº§èéç½®ï¼é¦åï¼éç½® Kafka çäº§èãè¿åæ¬æå® Kafka æå¡å¨å°åãåºååå¨ãä¸»é¢åç§°ç­ã\n * åå»º Kafka çäº§èï¼ä½¿ç¨ä¸è¿°éç½®åå»º Kafka çäº§èã\n * åéæ¶æ¯ï¼ä½¿ç¨ send æ¹æ³å Kafka ä¸»é¢åéæ¶æ¯ãæ¶æ¯éè¦æå®ä¸»é¢åç§°ãæ¶æ¯é®åæ¶æ¯å¼ã\n * å³é­ Kafka çäº§èï¼å¨å®æåéåï¼è®°å¾å³é­ Kafka çäº§èä»¥éæ¾èµæºã\n\npublic static void produce() {\n    Properties props = new Properties();\n    props.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, brokerList);\n    props.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, "org.apache.kafka.common.serialization.StringSerializer");\n    props.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, "org.apache.kafka.common.serialization.StringSerializer");\n\n    KafkaProducer<String, String> producer = new KafkaProducer<>(props);\n\n    ProducerRecord<String, String> record = new ProducerRecord<>(topicName, "key", "value");\n\n    for (int i = 0; i < 100; i++) {\n        producer.send(record, (metadata, exception) -> {\n            if (exception == null) {\n                System.out.println("Message sent to partition " + metadata.partition() + " with offset " + metadata.offset());\n            } else {\n                exception.printStackTrace();\n            }\n        });\n    }\n\n    producer.close();\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n\n\n----------------------------------------\n\n\n# 6.æå¡ç«¯åæ°è¯´æ\n\n\n# 6.1zookeeper.connect\n\nzookeeper.connect æ¯ Kafka éç½®ä¸­çä¸ä¸ªéè¦åæ°ï¼å®ç¨äºæå® Kafkaä¸ZooKeeperéç¾¤ä¹é´çè¿æ¥ä¿¡æ¯ãä»¥ä¸æ¯å³äº zookeeper.connect åæ°çè¯¦ç»ä»ç»ï¼\n\n * åæ°åç§°ï¼zookeeper.connect\n * ä½ç¨ï¼æå® Kafka éç¾¤ä¸ ZooKeeper éç¾¤ä¹é´çè¿æ¥ä¿¡æ¯ã\n * æ ¼å¼ï¼zookeeper.connectåæ°çå¼éå¸¸ä»¥éå·åéçå½¢å¼ååºå¤ä¸ª ZooKeeper æå¡å¨çè¿æ¥å°åãæ ¼å¼å¦ä¸ï¼\n\nhost1:port1,host2:port2,host3:port3\n\n\n1\n\n\nå¶ä¸­ï¼host1:port1ãhost2:port2ãhost3:port3 æ¯ ZooKeeper æå¡å¨çä¸»æºåï¼æ IPå°åï¼åç«¯å£å·ãä½¿ç¨èå¯ä»¥ååºå¤ä¸ªZooKeeperæå¡å¨ä»¥å¢å å¯ç¨æ§ååä½æ§ãKafka å®¢æ·ç«¯ä¼èªå¨éæ©å¶ä¸­ä¸ä¸ª ZooKeeper æå¡å¨æ¥è¿è¡è¿æ¥ã\n\n * ç¤ºä¾ï¼ä»¥ä¸æ¯ä¸ä¸ªç¤ºä¾ zookeeper.connect åæ°çå¼ï¼\n\nzookeeper.connect=zookeeper1:2181,zookeeper2:2181,zookeeper3:2181\n\n\n1\n\n * ç¨éï¼zookeeper.connect åæ°ç¨äºåç¥ Kafkaå®¢æ·ç«¯å¦ä½è¿æ¥å°ZooKeeperéç¾¤ï¼ä»¥è·ååæ°æ®ãæ§è¡é¢å¯¼èéä¸¾ç­æä½ãZooKeeperè¿ç¨äºç®¡çæ¶è´¹èç»çåç§»éï¼offsetï¼ä¿¡æ¯ï¼ä»¥ç¡®ä¿Kafkaæ¶è´¹èè½å¤ç»§ç»­ä»ä¸æ¬¡åæ­¢çå°æ¹æ¶è´¹æ¶æ¯ã\n * æ³¨æäºé¡¹ï¼å¨éç½® zookeeper.connect åæ°æ¶ï¼ç¡®ä¿æå®äºæ­£ç¡®ç ZooKeeper æå¡å¨å°ååç«¯å£å·ãåæ¶ï¼ä¹éè¦ç¡®ä¿ZooKeeperéç¾¤ä¸ Kafka éç¾¤ä¹é´æè¯å¥½çç½ç»è¿æ¥ï¼ä»¥ç¡®ä¿æ­£å¸¸çåè°åç®¡çåè½ã\n\nzookeeper.connect åæ°ä¹å¯ä»¥éç½® ZooKeeper ç chroot è·¯å¾ãchrootè·¯å¾åè®¸å¨ZooKeeperæå¡å¨ä¸åå»ºä¸ä¸ªå½åç©ºé´ï¼ç±»ä¼¼äºæä»¶ç³»ç»çç®å½ï¼ï¼ä»¥ä¾¿ä¸åçåºç¨ç¨åºææå¡å¯ä»¥å¨åä¸ä¸ªZooKeeperéç¾¤ä¸ç»´æ¤ç¬ç«çéç½®ååæ°æ®ä¿¡æ¯ãå¨Kafka ä¸­ï¼chroot è·¯å¾éå¸¸ç¨äºéç¦»ä¸åç Kafka éç¾¤ææå¡ã\n\nä»¥ä¸æ¯å³äºå¨ zookeeper.connect åæ°ä¸­éç½® chroot è·¯å¾çè¯´æï¼\n\n * æ ¼å¼ï¼è¦éç½® chroot è·¯å¾ï¼å¯ä»¥å°å¶éå å° zookeeper.connect çå¼ä¸­ï¼ä½¿ç¨ææ ï¼/ï¼åéãä¾å¦ï¼\n\nzookeeper.connect=zk1:2181,zk2:2181/kafka-chroot\n\n\n1\n\n\nå¨ä¸è¿°ç¤ºä¾ä¸­ï¼kafka-chroot æ¯ chroot è·¯å¾ï¼å®æå®äºä¸ä¸ªå½åç©ºé´ï¼Kafka å°å¨å¶ä¸­æ§è¡ä¸ ZooKeeper ç¸å³çæä½ã\n\n----------------------------------------\n\n\n# 6.2listeners\n\nä¸é¢å¨å®è£éç½®å°èå·²ç»ä»ç»è¿ listeners å advertised.listeners åæ°ãåèä¸»è¦æ¯å¯¹åç½éç½®ï¼åèæ¯å¬ç½éç½®ã\n\n----------------------------------------\n\n\n# 6.3broker.id\n\nè¯¥åæ°ç¨æ¥æå®Kafkaéç¾¤ä¸­brokerçå¯ä¸æ è¯ï¼é»è®¤å¼ä¸º-1ãå¦ææ²¡æéç½®ï¼é£ä¹kafkaä¼èªå¨çæä¸ä¸ªã\n\n----------------------------------------\n\n\n# 6.4log.dir & log.dirs\n\nKafka æææçæ¶æ¯é½ä¿å­å¨ç£çä¸ï¼èè¿ä¸¤ä¸ªåæ°ç¨æ¥éç½®Kafkaæ¥å¿æä»¶å­æ¾çæ ¹ç®å½ãéå¸¸ log.dirç¨æ¥éç½®åä¸ªæ ¹ç®å½ï¼log.dirs ç¨æ¥éç½®å¤ä¸ªæ ¹ç®å½ï¼å¤ä¸ªä¹é´ç¨éå·åéï¼ï¼ä½æ¯Kafkaå¹¶æ²¡æåå¼ºéå¶ãå¦å¤ log.dirsçä¼åçº§æ¯ log.dir é«ï¼é»è®¤åªæ log.dir æé»è®¤å¼ /tmp/kafka-logs ã\n\n----------------------------------------\n\n\n# 6.5message.max.bytes\n\nè¯¥åæ°ç¨æ¥æå®brokeræè½æ¥æ¶çæ¶æ¯çæå¤§å¼ï¼é»è®¤æ¯ 1000012Bï¼çº¦ç­äº976KBãå¦æçäº§èåéçæ¶æ¯å¤§äºè¿ä¸ªå¼ï¼å°±ä¼æåº RecordTooLargeExceptionãå¦æéè¦ä¿®æ¹è¿ä¸ªåæ°è¿è¦èèå®¢æ·ç«¯çåæ° max.request.size åTopicçåæ° max.message.bytes çå½±åã\n\n----------------------------------------\n\nè³æ­¤ï¼æä»¬å·²ç»å¯¹Kafkaæäºåæ­¥çäºè§£ï¼æ¥ä¸æ¥æä»¬ç»§ç»­æ·±å¥å­¦ä¹ Kafkaã',normalizedContent:'å½æ¶å kafka æ¶ï¼æä¸ä¸ªå³é®æ¹é¢éè¦èèï¼å®ä»¬ææäº kafka çæ ¸å¿ç¹æ§ï¼ä¸ºåç§åºç¨åºæ¯æä¾äºå¼ºå¤§çæ¯æï¼\n\n 1. æ¶æ¯ç³»ç»ï¼kafkaæ¯ä¸ä¸ªé«æ§è½ãåå¸å¼çæ¶æ¯ç³»ç»ï¼å·æå¤éå³é®ç¹æ§ãé¦åï¼å®æ¯æå¼æ­¥éä¿¡ï¼è¿æå³ççäº§èåæ¶è´¹èä¸å¿ç­å¾å¯¹æ¹çååºï¼ä»èæé«äºç³»ç»çååéåååºéåº¦ãå¶æ¬¡ï¼kafkaè½å¤å¤çåå³°ï¼smoothingï¼ââå¨ç¬æ¶é«è´è½½æ¶ï¼å®è½å¤æå­æ¶æ¯ä»¥ç¡®ä¿ç³»ç»çç¨³å®æ§ãæ­¤å¤ï¼å®æ¯ææ¶æ¯çè§£è¦ï¼åè®¸ä¸åç»ä»¶ä¹é´ç¬ç«å¼ååé¨ç½²ï¼æé«äºç³»ç»çå¯ç»´æ¤æ§ãkafkaè¿æä¾åè¶çæ©å±æ§ï¼è½å¤è½»æ¾å°éåºä¸æ­å¢é¿çå·¥ä½è´è½½ãåæ¶ï¼kafkaå·å¤åºè²çæ¢å¤æ§ï¼å³ä½¿å¨ç¡¬ä»¶æç½ç»æéçæåµä¸ï¼æ¶æ¯ä»ç¶è½å¤è¢«å¯é å°ä¼ éãæ­¤å¤ï¼kafkaæ¯æé¡ºåºæ§æ¶è´¹ï¼ç¡®ä¿æ¶æ¯æç§å¶äº§ççé¡ºåºè¢«æ¶è´¹ãæåï¼å®è¿æ¯æåæº¯æ¶æ¯ï¼åè®¸æ¶è´¹èéæ°å¤çåå²æ¶æ¯ï¼è¿å¯¹äºåæåæ°æ®ææéå¸¸æç¨ã\n 2. å­å¨ç³»ç»ï¼é¤äºä½ä¸ºæ¶æ¯ç³»ç»ï¼kafkaè¿å¯ç¨ä½å¼ºå¤§çåå¸å¼æ°æ®å­å¨ç³»ç»ãå®è½å¤å¯é å°å­å¨æ¶æ¯ï¼ä½¿å¾è¿äºæ¶æ¯å¯ä»¥è¢«åç»­åºç¨ç¨åºæç³»ç»æ¥è¯¢ãåæåå¤çãè¿ç§å­å¨åè½ä½¿kafkaæä¸ºäºä¸ä¸ªæä¹æ§çãé«åº¦å¯æ©å±çæ°æ®å­å¨å¼æï¼ç¨äºå­å¨åç®¡çåç§ç±»åçæ°æ®ï¼åæ¬äºä»¶æ¥å¿ãææ ãæ¥å¿æä»¶ãä»¥åå¶ä»ä¸å¡æ°æ®ãå æ­¤ï¼kafkaéç¨äºå®æ¶å¤§æ°æ®å¤çãæ¥å¿å­å¨ãçæ§ãä»¥ååç§å¶ä»æ°æ®ç®¡çéæ±ã\n 3. æµå¼å¤çå¹³å°ï¼kafkaä¸ä»ä»æ¯ä¸ä¸ªæ¶æ¯ä¼ éç³»ç»åæ°æ®å­å¨å¼æï¼å®è¿æä¾äºä¸ä¸ªæµå¼å¤çå¹³å°ï¼è½å¤ä¸ºæµå¼å¤çæ¡æ¶æä¾æ°æ®æ¥æºãéè¿kafkaï¼æ°æ®å¯ä»¥è¢«å®æ¶å°ä¼ éå°æµå¤çåºç¨ç¨åºï¼è¿ä½¿å¾å¼åèå¯ä»¥æå»ºå®æ¶åæãäºä»¶é©±å¨ååºç¨ãä»¥åå¤æçæ°æ®å¤çæµç¨ãkafkaè¿æä¾äºä¸å¥å®æ´çæµå¼å¤çç±»åºï¼åæ¬çªå£å¤çãè¿æ¥æä½ãæ°æ®åæ¢ä»¥åèååè½ï¼ä½¿å¼åèè½å¤è½»æ¾æå»ºå¼ºå¤§çå®æ¶æ°æ®å¤çåºç¨ã\n\nè¿ä¸ä¸ªæ¹é¢çç¹æ§ä½¿ kafka æä¸ºä¸ç§å¼ºå¤§çå·¥å·ï¼éç¨äºåç§ç°ä»£æ°æ®å¤çåæ°æ®æµåºç¨ï¼ä»äºä»¶é©±å¨æ¶æå°å®æ¶æ°æ®åæåçæ§ã\n\n----------------------------------------\n\n\n# 1.ä½ç³»æ¶æ\n\nkafka æ¯ä¸ä¸ªå¼ºå¤§çåå¸å¼æ¶æ¯ä¼ éç³»ç»ï¼å¶æ ¸å¿ä½ç³»æ¶æåæ¬åä¸ªä¸»è¦ç»ä»¶ï¼producerãbrokerãconsumer å zookeeper (zk)ã\n\n 1. zookeeperï¼kafka ä½¿ç¨ zookeeper æ¥è´è´£éç¾¤åæ°æ®çç®¡çãæ§å¶å¨çéä¸¾ç­æä½ï¼ç¡®ä¿ kafka éç¾¤çåè°åä¸è´æ§ã\n 2. producerï¼çäº§èè´è´£å°æ¶æ¯åéå° kafka ç broker ä¸­ã\n 3. brokerï¼broker æ¯ kafka éç¾¤ä¸­çæ¶æ¯å­å¨èç¹ï¼å®ä»¬æ¥æ¶ãå­å¨åååæ¶æ¯ã\n 4. consumerï¼æ¶è´¹èä» broker è®¢éå¹¶æ¶è´¹æ¶æ¯ï¼éç¨ææ¨¡åï¼pull-basedï¼æ¥è·åæ¶æ¯ã\n\nä¸å°é¨ç½²äº kafka broker çæå¡å¨å¯ä»¥çä½æ¯ä¸ä¸ª kafka æå¡å¨ã\n\n----------------------------------------\n\n\n# 2.ä¸»é¢ååº\n\n * topicï¼çäº§èå¨åéæ¶æ¯æ¶éè¦æå®ä¸ä¸ª topicãtopic æ¯æ¶æ¯çé»è¾åç±»ï¼ç¨äºç»ç»åæ è¯æ¶æ¯ã\n * partitionï¼æ¯ä¸ª topic å¯ä»¥ååä¸ºå¤ä¸ª partitionï¼æ¯ä¸ªpartitionæ¯ä¸ä¸ªæåºãè¿½å çæ¥å¿æä»¶ï¼æ¯æ¡æ¶æ¯é½ä¼åéä¸ä¸ªå¯ä¸çåç§»éï¼offsetï¼ãåç§»éç¨äºä¿è¯æ¶æ¯å¨ååºåçé¡ºåºã\n\n> kafka ä¿è¯ partition åçæ¶æ¯æåºï¼ä½ä¸ä¿è¯ topic æåºãtopic å¯è½æå¤ä¸ª partitionï¼å®ä»¬å¯ä»¥åå¸å¨ä¸åç broker ä¸ã\n\ntopicçå¤ä¸ªååºå¯ä»¥åå¸å¨ä¸åçbrokerä¸ï¼æ¶æ¯å¨åéå°brokerä¹åä¼é¦åæ ¹æ®ååºè§åè®¡ç®åºå¨å­å°åªä¸ä¸ªååºãå¦æä¸ä¸ªtopicåªæä¸ä¸ªååºï¼é£ä¹è¿ä¸ªtopicçæ§è½ç¶é¢å°±æ¯è¿ä¸ªååºæå¨brokerçi/oãåå»ºtopicæ¶å¯ä»¥æå®ååºçæ°éï¼ä¹å¯ä»¥éæ¶å¢å ååºä»¥å®ç°æ°´å¹³æ©å±ã\n\n----------------------------------------\n\n\n# 3.å¯æ¬æºå¶\n\n * kafka å¼å¥äºå¯æ¬ï¼replicaï¼æºå¶ç¨äºå®ç°å®¹ç¾å¤ä»½ãæ¯ä¸ª partition å¯è½æå¤ä¸ªå¯æ¬ã\n * å¯æ¬åä¸ºä¸ç§ç¶æï¼arï¼all replicaï¼ææå¯æ¬ï¼ï¼isrï¼in sync replicaï¼åæ­¥ä¸­çå¯æ¬ï¼ï¼osrï¼out sync replicaï¼åæ­¥ä¹å¤çå¯æ¬ï¼ã\n * å¨åä¸æ¶å»ï¼å¯æ¬ä¹é´å¹¶éå®å¨ä¸æ ·ãleader å¯æ¬è´è´£å¤çè¯»åè¯·æ±ï¼è follower å¯æ¬åªè´è´£ä¸ leader å¯æ¬çæ¶æ¯åæ­¥ãå½leaderæå¨çbroker åºç°æéæ¶ï¼ä» follower å¯æ¬ä¸­éæ°éä¸¾æ°ç leader å¯æ¬å¯¹å¤æä¾æå¡ã\n * isrï¼in sync replicaï¼æçæ¯åæ­¥ä¸­çå¯æ¬ï¼å®ä»¬å·å¤èµæ ¼è¢«éä¸º leader å¯æ¬ã\n * ar = isr + osrãæ­£å¸¸æåµä¸ ar = isrï¼osr = 0ã\n * å¯æ¬æä¸ä¸ªéè¦çæ¦å¿µï¼å³ hwï¼high watermarkï¼ï¼æ¶è´¹èåªè½æåæ¶æ¯ç´å° hw ä½ç½®ãhw æ¯ææ isr éååçå¯æ¬çleoï¼logendoffsetï¼çæå°å¼ã\n * leoï¼log end offsetï¼æ è¯å½å partition æ¥å¿æä»¶ä¸­ä¸ä¸æ¡å¾åå¥çæ¶æ¯ç offsetãleo = å½åæ¥å¿æä»¶çæåä¸æ¡æ¶æ¯çåç§»é+1ã\n * kafkaå®¢æ·ç«¯ä¹å·å¤ä¸å®çå®¹ç¾å¤ä»½è½åï¼æ¶è´¹èä½¿ç¨ææ¨¡åä»æå¡ç«¯ææ¶æ¯ï¼å¹¶ä¸ä¿å­æ¶è´¹çå·ä½ä½ç½®ï¼å½æ¶è´¹èå®æºåæ¢å¤ä¸çº¿æ¶å¯ä»¥æ ¹æ®ä¹åä¿å­çæ¶è´¹ä½ç¹éæ°ææ¶æ¯ã\n\nç¸æ¯äºåæ­¥å¤å¶çæ§è½æèåå¼æ­¥å¤å¶çä¸å¯é æ§ï¼isrçæ¹å¼å¨ä¸¤èä¹é´åäºæ´å¥½çæè¡¡ã\n\n----------------------------------------\n\n\n# 4.å®è£éç½®\n\nkafkaå®æ¹ä¸è½½å°åï¼http://kafka.apache.org/downloadsã\n\n> kafka-xx-yy: xx æ¯scalaçæ¬ï¼yyæ¯kafkaçæ¬ã\n\nä¸é¢æä»¬ä½¿ç¨dockerå®è£åéç½®zkåkafkaã\n\n 1. é¦ååå»ºä¸ä¸ªæ¡¥æ¥ç½ç»ï¼æ¹ä¾¿zkåkafkaå ä¸ºéå¯dockerå¯¼è´ipååæ¶éè¦éæ°ä¿®æ­£éç½®çé®é¢ã\n\ndocker network create kafka-net\n\n\n1\n\n 2. æåzkéåå¹¶å®è£ã\n\ndocker pull zookeeper:3.5.9\n\ndocker run -d --privileged=true  --name kafka-zookeeper  -p 2181:2181  --network kafka-net  --network-alias kafka-zookeeper  -v /users/huidong/docker/zk/data:/data  -v /users/huidong/docker/zk/conf:/conf  -v /users/huidong/docker/zk/logs:/datalog  zookeeper:3.5.9\n\n\n1\n2\n3\n\n\n2888ä¸ºç»æzookeeperæå¡å¨ä¹é´çéä¿¡ç«¯å£ï¼3888ä¸ºç¨æ¥éä¸¾leaderçç«¯å£ãå¦ææ³è¦æ¥çzkçè¿è¡ç¶æï¼\n\n# 1. è¿å¥zkå®¹å¨\ndocker exec -it å®¹å¨id /bin/bash\n\n# 2. æ¾å°éç½®æä»¶ä½ç½®\ncat /conf/zoo.cfg\n\n# 3. æ¥çzkç¶æ\nzkserver.sh status\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n 3. æåkafkaéåå¹¶å®è£ã\n\ndocker pull wurstmeister/kafka\n\ndocker run -d  --privileged=true \\\n--name kafka0 -p 9092:9092 \\\n--network kafka-net \\\n--network-alias kafka0 \\\n-e kafka_broker_id=0 \\\n-e kafka_zookeeper_connect=kafka-zookeeper:2181 \\\n-e kafka_listeners=plaintext://0.0.0.0:9092 \\\n-e kafka_advertised_listeners=plaintext://192.168.1.5:9092 \\\n-e allow_plaintext_listener=yes \\\nwurstmeister/kafka:latest\n\ndocker run -d  --privileged=true \\\n--name kafka1 -p 9093:9092 \\\n--network kafka-net \\\n--network-alias kafka1 \\\n-e kafka_broker_id=1 \\\n-e kafka_zookeeper_connect=kafka-zookeeper:2181 \\\n-e kafka_listeners=plaintext://0.0.0.0:9092 \\\n-e kafka_advertised_listeners=plaintext://192.168.1.5:9093 \\\n-e allow_plaintext_listener=yes \\\nwurstmeister/kafka:latest\n\ndocker run -d  --privileged=true \\\n--name kafka2 -p 9094:9092 \\\n--network kafka-net \\\n--network-alias kafka2 \\\n-e kafka_broker_id=2 \\\n-e kafka_zookeeper_connect=kafka-zookeeper:2181 \\\n-e kafka_listeners=plaintext://0.0.0.0:9092 \\\n-e kafka_advertised_listeners=plaintext://192.168.1.5:9094 \\\n-e allow_plaintext_listener=yes \\\nwurstmeister/kafka:latest\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n\n\nkafka_listeners ä¸ kafka_advertised_listeners æ¯ä¸ºäºåºååç½åå¤ç½çï¼å¦æåªæåç½è®¿é®ï¼å°±å¯ä»¥åªéç½® kafka_listenersãå¦ææ¶åäºå¤ç½è®¿é®ï¼æ¯å¦è¦å¨äºæå¡å¨ä¸é¨ç½²ä½¿ç¨ï¼å°±éè¦éç½® kafka_advertised_listenersåæ°äºï¼å¨å¼å§æ¶éç½®äºä¸ä¸ª kafka-net çç½ç»ï¼ä¹å°±æ¯å¤äºè¿ä¸ªç½ç»ä¸çè®¿é®æå±äºåç½è®¿é®ï¼è kafkaé¨ç½²å®æ¯åï¼éè¦å¨å¶ä»æå¡å¨ä¸è®¿é® kafkaï¼è¿å°±éè¦éè¿å¤ç½è®¿é® kafkaï¼æä»¥å¿é¡»éç½® kafka_advertised_listenersï¼ä¸å¼ä¸º plaintext://<æå¡å¨ip>:<æ´é²ç«¯å£> ï¼ä¾å¦æççµèipä¸º 192.168.1.5ï¼ç«¯å£ä¸ºå®¹å¨æ´é²çç«¯å£ã\n\n * kafka_broker_id : brokerçidï¼è¿ä¸ªidæ¯éç¾¤çæ è¯ï¼ä¸è½éå¤ã\n * kafka_zookeeper_connectï¼zookeeperçè¿æ¥å°åã\n * kafka_listenersï¼æ è¯kafkaæå¡è¿è¡å¨å®¹å¨åç9092ç«¯å£ï¼å ä¸ºæ²¡ææå®hostï¼æä»¥æ¯0.0.0.0æ è¯ææçç½ç»æ¥å£ã\n * kafka_advertised_listenersï¼kafkaåå¸å°zookeeperä¾å®¢æ·ç«¯ä½¿ç¨çæå¡å°åã\n\nè³æ­¤ï¼ä¸ä¸ªåèç¹çzkåä¸ä¸ªbrokerçkafkaéç¾¤å°±å®è£æåäºã\n\n----------------------------------------\n\n\n# 5.çäº§æ¶è´¹\n\n\n# 5.1ä½¿ç¨èæ¬æµè¯\n\næä»¬ç¥éçäº§èå°æ¶æ¯åéå°topic,èæ¶è´¹èä¹æ¯éè¿è®¢étopicæ¥æ¶è´¹æ¶æ¯çãè¿å¥kafka-brokeræå¨çdockerå®¹å¨ï¼å¨ /opt/kafka_2.13-2.8.1/bin ç®å½ä¸ækafkaçä¸äºèæ¬ï¼æä»¬é¦åéè¿èæ¬æ¥åå»ºtopicå¹¶æµè¯çäº§åæ¶è´¹ã\n\n 1. åå»ºtopic\n\n./kafka-topics.sh --zookeeper kafka-zookeeper:2181 --create --topic topic-demo --replication-factor 3 --partitions 4\n\n\n1\n\n * factorï¼è¡¨ç¤ºtopicçå¯æ¬å å­ï¼ä¹å°±æ¯æ¯ä¸ä¸ªpartitionæå ä¸ªå¯æ¬ã\n * partitionï¼è¡¨ç¤ºååºæ°ã\n * zookeeperï¼æå®kafkaè¿æ¥çzkçå°åã\n * topicï¼æå®è¦åå»ºçä¸»é¢çåå­ã\n\n 2. æ¥çtopicçä¿¡æ¯\n\n./kafka-topics.sh --zookeeper kafka-zookeeper:2181 --describe --topic topic-demo\n\n\n1\n\n\nè¿åä¿¡æ¯å¦ä¸ï¼\n\n# ./kafka-topics.sh --zookeeper kafka-zookeeper:2181 --describe --topic topic-demo\ntopic: topic-demo       topicid: ycy_qq7xqaaglyp6fnod-a partitioncount: 4       replicationfactor: 3    configs: \n        topic: topic-demo       partition: 0    leader: 0       replicas: 0,2,1 isr: 0,2,1\n        topic: topic-demo       partition: 1    leader: 1       replicas: 1,0,2 isr: 1,0,2\n        topic: topic-demo       partition: 2    leader: 2       replicas: 2,1,0 isr: 2,1,0\n        topic: topic-demo       partition: 3    leader: 0       replicas: 0,1,2 isr: 0,1,2\n\n\n1\n2\n3\n4\n5\n6\n\n 3. çäº§æ¶æ¯\n\n./kafka-console-producer.sh --bootstrap-server kafka0:9092 --topic topic-demo\n\n\n1\n\n * bootstrap-serverï¼æå®è¿æ¥çkafkaéç¾¤å°åã\n\n 4. æ¶è´¹æ¶æ¯\n\n./kafka-console-consumer.sh --bootstrap-server kafka0:9092 --topic topic-demo\n\n\n1\n\n\n----------------------------------------\n\n\n# 5.2ä½¿ç¨ä»£ç æµè¯\n\næä»¬ä»¥javaå®¢æ·ç«¯æµè¯kafkaéç¾¤ççäº§æ¶è´¹ã\n\n 1. é¦åå¨é¡¹ç®ä¸­å¼å¥kafkaå®¢æ·ç«¯çä¾èµã\n\n  <dependency>\n      <groupid>org.apache.kafka</groupid>\n      <artifactid>kafka-clients</artifactid>\n      <version>2.8.1</version>\n  </dependency>\n\n\n1\n2\n3\n4\n5\n\n 2. ä½¿ç¨kafkaæ¶è´¹èæ¶è´¹æ¶æ¯ã\n\n * è®¾ç½® kafka æ¶è´¹èéç½®ï¼éç½® kafka æ¶è´¹èï¼åæ¬æå® kafka æå¡å¨å°åãæ¶è´¹èç»ãé®å¼ååºååå¨ç­ã\n * åå»º kafka æ¶è´¹èï¼ä½¿ç¨ä¸è¿°éç½®åå»º kafka æ¶è´¹èã\n * è®¢éä¸»é¢ï¼ä½¿ç¨ subscribe æ¹æ³è®¢éä¸ä¸ªæå¤ä¸ªä¸»é¢ã\n * è½®è¯¢å¹¶å¤çæ¶æ¯ï¼ä½¿ç¨ poll æ¹æ³è½®è¯¢ kafka ä¸»é¢ä»¥è·åæ¶æ¯ï¼å¹¶å¤çè¿äºæ¶æ¯ãå¤çé»è¾å¯ä»¥æ ¹æ®éæ±æ¥å®å¶ã\n * å³é­ kafka æ¶è´¹èï¼å¨å®ææ¶è´¹åï¼å³é­ kafka æ¶è´¹èä»¥éæ¾èµæºã\n\npublic static void consume() {\n    properties props = new properties();\n    props.put(consumerconfig.bootstrap_servers_config, brokerlist);\n    props.put(consumerconfig.group_id_config, groupname);\n    props.put(consumerconfig.key_deserializer_class_config, stringdeserializer.class.getname());\n    props.put(consumerconfig.value_deserializer_class_config, stringdeserializer.class.getname());\n\n    kafkaconsumer<string, string> consumer = new kafkaconsumer<>(props);\n    consumer.subscribe(collections.singletonlist(topicname));\n\n    while (true) {\n        consumerrecords<string, string> records = consumer.poll(duration.ofmillis(100));\n        records.foreach(record -> system.out.println("received message: key = " + record.key() + ", value = " + record.value()));\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n 3. ä½¿ç¨kafkaçäº§èåéæ¶æ¯ã\n\n * è®¾ç½® kafka çäº§èéç½®ï¼é¦åï¼éç½® kafka çäº§èãè¿åæ¬æå® kafka æå¡å¨å°åãåºååå¨ãä¸»é¢åç§°ç­ã\n * åå»º kafka çäº§èï¼ä½¿ç¨ä¸è¿°éç½®åå»º kafka çäº§èã\n * åéæ¶æ¯ï¼ä½¿ç¨ send æ¹æ³å kafka ä¸»é¢åéæ¶æ¯ãæ¶æ¯éè¦æå®ä¸»é¢åç§°ãæ¶æ¯é®åæ¶æ¯å¼ã\n * å³é­ kafka çäº§èï¼å¨å®æåéåï¼è®°å¾å³é­ kafka çäº§èä»¥éæ¾èµæºã\n\npublic static void produce() {\n    properties props = new properties();\n    props.put(producerconfig.bootstrap_servers_config, brokerlist);\n    props.put(producerconfig.key_serializer_class_config, "org.apache.kafka.common.serialization.stringserializer");\n    props.put(producerconfig.value_serializer_class_config, "org.apache.kafka.common.serialization.stringserializer");\n\n    kafkaproducer<string, string> producer = new kafkaproducer<>(props);\n\n    producerrecord<string, string> record = new producerrecord<>(topicname, "key", "value");\n\n    for (int i = 0; i < 100; i++) {\n        producer.send(record, (metadata, exception) -> {\n            if (exception == null) {\n                system.out.println("message sent to partition " + metadata.partition() + " with offset " + metadata.offset());\n            } else {\n                exception.printstacktrace();\n            }\n        });\n    }\n\n    producer.close();\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n\n\n----------------------------------------\n\n\n# 6.æå¡ç«¯åæ°è¯´æ\n\n\n# 6.1zookeeper.connect\n\nzookeeper.connect æ¯ kafka éç½®ä¸­çä¸ä¸ªéè¦åæ°ï¼å®ç¨äºæå® kafkaä¸zookeeperéç¾¤ä¹é´çè¿æ¥ä¿¡æ¯ãä»¥ä¸æ¯å³äº zookeeper.connect åæ°çè¯¦ç»ä»ç»ï¼\n\n * åæ°åç§°ï¼zookeeper.connect\n * ä½ç¨ï¼æå® kafka éç¾¤ä¸ zookeeper éç¾¤ä¹é´çè¿æ¥ä¿¡æ¯ã\n * æ ¼å¼ï¼zookeeper.connectåæ°çå¼éå¸¸ä»¥éå·åéçå½¢å¼ååºå¤ä¸ª zookeeper æå¡å¨çè¿æ¥å°åãæ ¼å¼å¦ä¸ï¼\n\nhost1:port1,host2:port2,host3:port3\n\n\n1\n\n\nå¶ä¸­ï¼host1:port1ãhost2:port2ãhost3:port3 æ¯ zookeeper æå¡å¨çä¸»æºåï¼æ ipå°åï¼åç«¯å£å·ãä½¿ç¨èå¯ä»¥ååºå¤ä¸ªzookeeperæå¡å¨ä»¥å¢å å¯ç¨æ§ååä½æ§ãkafka å®¢æ·ç«¯ä¼èªå¨éæ©å¶ä¸­ä¸ä¸ª zookeeper æå¡å¨æ¥è¿è¡è¿æ¥ã\n\n * ç¤ºä¾ï¼ä»¥ä¸æ¯ä¸ä¸ªç¤ºä¾ zookeeper.connect åæ°çå¼ï¼\n\nzookeeper.connect=zookeeper1:2181,zookeeper2:2181,zookeeper3:2181\n\n\n1\n\n * ç¨éï¼zookeeper.connect åæ°ç¨äºåç¥ kafkaå®¢æ·ç«¯å¦ä½è¿æ¥å°zookeeperéç¾¤ï¼ä»¥è·ååæ°æ®ãæ§è¡é¢å¯¼èéä¸¾ç­æä½ãzookeeperè¿ç¨äºç®¡çæ¶è´¹èç»çåç§»éï¼offsetï¼ä¿¡æ¯ï¼ä»¥ç¡®ä¿kafkaæ¶è´¹èè½å¤ç»§ç»­ä»ä¸æ¬¡åæ­¢çå°æ¹æ¶è´¹æ¶æ¯ã\n * æ³¨æäºé¡¹ï¼å¨éç½® zookeeper.connect åæ°æ¶ï¼ç¡®ä¿æå®äºæ­£ç¡®ç zookeeper æå¡å¨å°ååç«¯å£å·ãåæ¶ï¼ä¹éè¦ç¡®ä¿zookeeperéç¾¤ä¸ kafka éç¾¤ä¹é´æè¯å¥½çç½ç»è¿æ¥ï¼ä»¥ç¡®ä¿æ­£å¸¸çåè°åç®¡çåè½ã\n\nzookeeper.connect åæ°ä¹å¯ä»¥éç½® zookeeper ç chroot è·¯å¾ãchrootè·¯å¾åè®¸å¨zookeeperæå¡å¨ä¸åå»ºä¸ä¸ªå½åç©ºé´ï¼ç±»ä¼¼äºæä»¶ç³»ç»çç®å½ï¼ï¼ä»¥ä¾¿ä¸åçåºç¨ç¨åºææå¡å¯ä»¥å¨åä¸ä¸ªzookeeperéç¾¤ä¸ç»´æ¤ç¬ç«çéç½®ååæ°æ®ä¿¡æ¯ãå¨kafka ä¸­ï¼chroot è·¯å¾éå¸¸ç¨äºéç¦»ä¸åç kafka éç¾¤ææå¡ã\n\nä»¥ä¸æ¯å³äºå¨ zookeeper.connect åæ°ä¸­éç½® chroot è·¯å¾çè¯´æï¼\n\n * æ ¼å¼ï¼è¦éç½® chroot è·¯å¾ï¼å¯ä»¥å°å¶éå å° zookeeper.connect çå¼ä¸­ï¼ä½¿ç¨ææ ï¼/ï¼åéãä¾å¦ï¼\n\nzookeeper.connect=zk1:2181,zk2:2181/kafka-chroot\n\n\n1\n\n\nå¨ä¸è¿°ç¤ºä¾ä¸­ï¼kafka-chroot æ¯ chroot è·¯å¾ï¼å®æå®äºä¸ä¸ªå½åç©ºé´ï¼kafka å°å¨å¶ä¸­æ§è¡ä¸ zookeeper ç¸å³çæä½ã\n\n----------------------------------------\n\n\n# 6.2listeners\n\nä¸é¢å¨å®è£éç½®å°èå·²ç»ä»ç»è¿ listeners å advertised.listeners åæ°ãåèä¸»è¦æ¯å¯¹åç½éç½®ï¼åèæ¯å¬ç½éç½®ã\n\n----------------------------------------\n\n\n# 6.3broker.id\n\nè¯¥åæ°ç¨æ¥æå®kafkaéç¾¤ä¸­brokerçå¯ä¸æ è¯ï¼é»è®¤å¼ä¸º-1ãå¦ææ²¡æéç½®ï¼é£ä¹kafkaä¼èªå¨çæä¸ä¸ªã\n\n----------------------------------------\n\n\n# 6.4log.dir & log.dirs\n\nkafka æææçæ¶æ¯é½ä¿å­å¨ç£çä¸ï¼èè¿ä¸¤ä¸ªåæ°ç¨æ¥éç½®kafkaæ¥å¿æä»¶å­æ¾çæ ¹ç®å½ãéå¸¸ log.dirç¨æ¥éç½®åä¸ªæ ¹ç®å½ï¼log.dirs ç¨æ¥éç½®å¤ä¸ªæ ¹ç®å½ï¼å¤ä¸ªä¹é´ç¨éå·åéï¼ï¼ä½æ¯kafkaå¹¶æ²¡æåå¼ºéå¶ãå¦å¤ log.dirsçä¼åçº§æ¯ log.dir é«ï¼é»è®¤åªæ log.dir æé»è®¤å¼ /tmp/kafka-logs ã\n\n----------------------------------------\n\n\n# 6.5message.max.bytes\n\nè¯¥åæ°ç¨æ¥æå®brokeræè½æ¥æ¶çæ¶æ¯çæå¤§å¼ï¼é»è®¤æ¯ 1000012bï¼çº¦ç­äº976kbãå¦æçäº§èåéçæ¶æ¯å¤§äºè¿ä¸ªå¼ï¼å°±ä¼æåº recordtoolargeexceptionãå¦æéè¦ä¿®æ¹è¿ä¸ªåæ°è¿è¦èèå®¢æ·ç«¯çåæ° max.request.size åtopicçåæ° max.message.bytes çå½±åã\n\n----------------------------------------\n\nè³æ­¤ï¼æä»¬å·²ç»å¯¹kafkaæäºåæ­¥çäºè§£ï¼æ¥ä¸æ¥æä»¬ç»§ç»­æ·±å¥å­¦ä¹ kafkaã',charsets:{cjk:!0},lastUpdated:"2023/11/04, 10:52:44",lastUpdatedTimestamp:1699066364e3},{title:"æ¶è´¹è-å®¢æ·ç«¯å¼å-å¤çº¿ç¨å®ç°",frontmatter:{title:"æ¶è´¹è-å®¢æ·ç«¯å¼å-å¤çº¿ç¨å®ç°",date:"2023-01-01T00:00:00.000Z",tags:["Kafka","æ¶æ¯éå"],categories:["Kafka"],description:"æ¶è´¹è-å®¢æ·ç«¯å¼å-å¤çº¿ç¨å®ç°",toc_number:!1,author:{name:"huidong.yin",link:"https://huidongyin.github.io"},permalink:"/pages/278cdef6-836b-3904-aa7f-a51df28ee2da/"},regularPath:"/03.%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97/00.Kafka/10.%E6%B6%88%E8%B4%B9%E8%80%85-%E5%AE%A2%E6%88%B7%E7%AB%AF%E5%BC%80%E5%8F%91-%E5%A4%9A%E7%BA%BF%E7%A8%8B%E5%AE%9E%E7%8E%B0.html",relativePath:"03.æ¶æ¯éå/00.Kafka/10.æ¶è´¹è-å®¢æ·ç«¯å¼å-å¤çº¿ç¨å®ç°.md",key:"v-c5d205e2",path:"/pages/278cdef6-836b-3904-aa7f-a51df28ee2da/",headersStr:null,content:'KakaProducer æ¯çº¿ç¨å®å¨çï¼ç¶è KafkaConsumer å´æ¯éçº¿ç¨å®å¨çãKafkaConsumerå®ä¹äºä¸ä¸ªacquire()æ¹æ³ï¼ç¨æ¥æ£æµå½åæ¯å¦åªæä¸ä¸ªçº¿ç¨å¨æä½ï¼è¥æå¶ä»çº¿ç¨æ­£å¨æä½ä¼æåº ConcurrentModifcationException å¼å¸¸ã\n\nKafkaConsumer ä¸­çæ¯ä¸ªå¬ç¨æ¹æ³å¨æ§è¡æè¦æ§è¡çå¨ä½ä¹åé½ä¼è°ç¨è¿ä¸ª acquire()æ¹æ³åªæ wakeup()æ¹æ³æ¯ä¸ªä¾å¤ã\n\nprivate final AtomicInteger refcount=new AtomicInteger(0);\nprivate void acquire(){\n        long threadId=Thread.currentThread().getId();\n        if(threadId!=currentThread.get()&&!currentThread.compareAndSet(NO_CURRENT_THREAD,threadId))\n        throw new ConcurrentModificationException("KafkaConsumer is not safe for multi-threaded access");\n        refcount.incrementAndGet();\n        }\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\nacquire()æ¹æ³åæä»¬éå¸¸æè¯´çé(synchronizedãLock ç­)ä¸åï¼å®ä¸ä¼é æé»å¡ç­å¾ï¼æä»¬å¯ä»¥å°å¶çä½ä¸ä¸ªè½»éçº§éï¼å®ä»éè¿çº¿ç¨æä½è®¡æ°æ è®°çæ¹å¼æ¥æ£æµçº¿ç¨æ¯å¦åçäºå¹¶åæä½ï¼ä»¥æ­¤ä¿è¯åªæä¸ä¸ªçº¿ç¨å¨æä½ãacquire()æ¹æ³å release()æ¹æ³æå¯¹åºç°ï¼è¡¨ç¤ºç¸åºçå éåè§£éæä½ã\n\n  private void release(){\n        if(refcount.decrementAndGet()==0)\n        currentThread.set(NO_CURRENT_THREAD);\n        }\n\n\n1\n2\n3\n4\n\n\nacquire()æ¹æ³å release()æ¹æ³é½æ¯ç§ææ¹æ³ï¼å æ­¤å¨å®éåºç¨ä¸­ä¸éè¦æä»¬æ¾å¼å°è°ç¨ï¼ä½äºè§£å¶åé¨çæºçä¹åå¯ä»¥ä¿ä½¿æä»¬æ­£ç¡®ãææå°ç¼åç¸åºçç¨åºé»è¾ã\n\nKafkaConsumeréçº¿ç¨å®å¨å¹¶ä¸æå³çæä»¬å¨æ¶è´¹æ¶æ¯çæ¶ååªè½ä»¥åçº¿ç¨çæ¹å¼æ§è¡ï¼å¦æçäº§èåéæ¶æ¯çéåº¦å¤§äºæ¶è´¹èå¤çæ¶æ¯çéåº¦ï¼é£ä¹å°±ä¼æè¶æ¥è¶å¤çæ¶æ¯å¾ä¸å°åæ¶çæ¶è´¹ï¼é æäºä¸å®çå»¶è¿ãé¤æ­¤ä¹å¤ï¼ç±äºKakaä¸­æ¶æ¯ä¿çæºå¶çä½ç¨ï¼æäºæ¶æ¯æå¯è½å¨è¢«æ¶è´¹ä¹åå°±è¢«æ¸çäºï¼ä»èé ææ¶æ¯çä¸¢å¤±ãæä»¬å¯ä»¥éè¿å¤çº¿ç¨çæ¹å¼æ¥å®ç°æ¶æ¯æ¶è´¹ï¼å¤çº¿ç¨çç®çå°±æ¯ä¸ºäºæé«æ´ä½çæ¶è´¹è½åãå¤çº¿ç¨çå®ç°æ¹å¼æå¤ç§ï¼ç¬¬ä¸ç§ä¹æ¯æå¸¸è§çæ¹å¼:çº¿ç¨å°é­ï¼å³ä¸ºæ¯ä¸ªçº¿ç¨å®ä¾åä¸ä¸ª KakaConsumer å¯¹è±¡ï¼å¦å¾ï¼\n\n\n\nä¸ä¸ªçº¿ç¨å¯¹åºä¸ä¸ªKafkaConsumerå®ä¾ï¼æä»¬å¯ä»¥ç§°ä¹ä¸ºæ¶è´¹çº¿ç¨ãä¸ä¸ªæ¶è´¹çº¿ç¨å¯ä»¥æ¶è´¹ä¸ä¸ªæå¤ä¸ªååºä¸­çæ¶æ¯ï¼ææçæ¶è´¹çº¿ç¨é½é¶å±äºåä¸ä¸ªæ¶è´¹ç»ãè¿ç§å®ç°æ¹å¼çå¹¶ååº¦åéäºååºçå®éä¸ªæ°ï¼å½æ¶è´¹çº¿ç¨çä¸ªæ°å¤§äºååºæ°æ¶ï¼å°±æé¨åæ¶è´¹çº¿ç¨ä¸ç´å¤äºç©ºé²çç¶æã\n\nä¸æ­¤å¯¹åºçç¬¬äºç§æ¹å¼æ¯å¤ä¸ªæ¶è´¹çº¿ç¨åæ¶æ¶è´¹åä¸ä¸ªååºï¼è¿ä¸ªéè¿ assign()ãseek()ç­æ¹æ³å®ç°ï¼è¿æ ·å¯ä»¥æç ´åæçæ¶è´¹çº¿ç¨çä¸ªæ°ä¸è½è¶è¿ååºæ°çéå¶ï¼è¿ä¸æ­¥æé«äºæ¶è´¹çè½åãä¸è¿è¿ç§å®ç°æ¹å¼å¯¹äºä½ç¹æäº¤åé¡ºåºæ§å¶çå¤çå°±ä¼åå¾éå¸¸å¤æï¼å®éåºç¨ä¸­ä½¿ç¨å¾æå°ãä¸è¬èè¨ï¼ååºæ¯æ¶è´¹çº¿ç¨çæå°åååä½ãä¸é¢æä»¬éè¿å®éç¼ç æ¥æ¼ç¤ºç¬¬ä¸ç§å¤çº¿ç¨æ¶è´¹å®ç°çæ¹å¼ï¼\n\npublic class FirstMultiConsumerThreadDemo {\n\n    public static final String brokerList = "localhost:9092";\n\n    public static final String topic = "topic-demo";\n\n    public static final String groupId = "group.demo";\n\n    public static Properties init() {\n        Properties props = new Properties();\n        props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, brokerList);\n        props.put(ConsumerConfig.GROUP_ID_CONFIG, groupId);\n        props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class.getName());\n        props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class.getName());\n        props.put(ConsumerConfig.ENABLE_AUTO_COMMIT_CONFIG, true);\n        return props;\n    }\n\n    public static void main(String[] args) {\n        Properties props = init();\n        int consumerThreadNum = 4;\n\n        IntStream.range(0, consumerThreadNum).forEach(i -> new KafkaConsumerThread(props, topic).start());\n    }\n\n    public static class KafkaConsumerThread extends Thread {\n        private KafkaConsumer<String, String> kafkaConsumer;\n\n        public KafkaConsumerThread(Properties props, String topic) {\n            this.kafkaConsumer = new KafkaConsumer<>(props);\n            this.kafkaConsumer.subscribe(Collections.singletonList(topic));\n        }\n\n        @Override\n        public void run() {\n            try {\n                ConsumerRecords<String, String> records = kafkaConsumer.poll(Duration.ofMillis(100));\n                for (ConsumerRecord<String, String> record : records) {\n                    // ä¸å¡å¤çé»è¾\n                    System.out.println(record.value());\n                }\n            } catch (Exception e) {\n                e.printStackTrace();\n            } finally {\n                kafkaConsumer.close();\n            }\n        }\n    }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n\n\nåé¨ç±» KafkaConsumerThread ä»£è¡¨æ¶è´¹çº¿ç¨ï¼å¶åé¨åè£¹çä¸ä¸ªç¬ç«ç KafkaConsumer å®ä¾ãéè¿å¤é¨ç±»ç main()æ¹æ³æ¥å¯å¨å¤ä¸ªæ¶è´¹çº¿ç¨ï¼æ¶è´¹çº¿ç¨çæ°éç± consumerThreadNum åéæå®ãä¸è¬ä¸ä¸ªä¸»é¢çååºæ°äºåå¯ä»¥ç¥æï¼å¯ä»¥å° consumerThreadNum è®¾ç½®æä¸å¤§äºååºæ°çå¼ï¼å¦æä¸ç¥éä¸»é¢çååºæ°ï¼é£ä¹ä¹å¯ä»¥éè¿ KafkaConsumerç±»ç partitionsFor()æ¹æ³æ¥é´æ¥è·åï¼è¿èåè®¾ç½®åçç consumerThreadNum å¼ã\n\nä¸é¢è¿ç§å¤çº¿ç¨çå®ç°æ¹å¼åå¼å¯å¤ä¸ªæ¶è´¹è¿ç¨çæ¹å¼æ²¡ææ¬è´¨ä¸çåºå«ï¼å®çä¼ç¹æ¯æ¯ä¸ªçº¿ç¨å¯ä»¥æé¡ºåºæ¶è´¹åä¸ªååºä¸­çæ¶æ¯ãç¼ºç¹ä¹å¾ææ¾ï¼æ¯ä¸ªæ¶è´¹çº¿ç¨é½è¦ç»´æ¤ä¸ä¸ªç¬ç«çTCPè¿æ¥ï¼å¦æååºæ°åconsumerThreadNum çå¼é½å¾å¤§ï¼é£ä¹ä¼é æä¸å°çç³»ç»å¼éã\n\nå¯¹äºä¸é¢ä»£ç ä¸­çç¬¬â è¡ï¼å¦æè¿éå¯¹æ¶æ¯çå¤çéå¸¸è¿éï¼é£ä¹ poll()æåçé¢æ¬¡ä¹ä¼æ´é«ï¼è¿èæ´ä½æ¶è´¹çæ§è½ä¹ä¼æå;ç¸åï¼å¦æå¨è¿éå¯¹æ¶æ¯çå¤çç¼æ¢ï¼æ¯å¦è¿è¡ä¸ä¸ªäºå¡æ§æä½ï¼æèç­å¾ä¸ä¸ªRPCçåæ­¥ååºï¼é£ä¹ poll()æåçé¢æ¬¡ä¹ä¼éä¹ä¸éï¼è¿èé ææ´ä½æ¶è´¹æ§è½çä¸éãä¸è¬èè¨ï¼ poll()æåæ¶æ¯çéåº¦æ¯ç¸å½å¿«çï¼èæ´ä½æ¶è´¹çç¶é¢ä¹æ­£æ¯å¨å¤çæ¶æ¯è¿ä¸åï¼å¦ææä»¬éè¿ä¸å®çæ¹å¼æ¥æ¹è¿è¿ä¸é¨åï¼é£ä¹æä»¬å°±è½å¸¦å¨æ´ä½æ¶è´¹æ§è½çæåãåèä¸å¾ï¼èèç¬¬ä¸ç§å®ç°æ¹å¼ï¼å°å¤çæ¶æ¯æ¨¡åæ¹æå¤çº¿ç¨çå®ç°æ¹å¼ã\n\n\n\npublic class FirstMultiConsumerThreadDemo {\n\n    public static final String brokerList = "localhost:9092";\n\n    public static final String topic = "topic-demo";\n\n    public static final String groupId = "group.demo";\n\n    public static Properties init() {\n        Properties props = new Properties();\n        props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, brokerList);\n        props.put(ConsumerConfig.GROUP_ID_CONFIG, groupId);\n        props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class.getName());\n        props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class.getName());\n        props.put(ConsumerConfig.ENABLE_AUTO_COMMIT_CONFIG, true);\n        return props;\n    }\n\n    public static void main(String[] args) {\n        Properties props = init();\n        KafkaConsumerThread thread = new KafkaConsumerThread(props, topic, Runtime.getRuntime().availableProcessors());\n        thread.start();\n    }\n\n    public static class KafkaConsumerThread extends Thread {\n        private final KafkaConsumer<String, String> kafkaConsumer;\n        private final ExecutorService executorService;\n\n        private final int consumerThreadNum;\n\n        public KafkaConsumerThread(Properties props, String topic, int consumerThreadNum) {\n            this.kafkaConsumer = new KafkaConsumer<>(props);\n            this.kafkaConsumer.subscribe(Collections.singletonList(topic));\n            this.consumerThreadNum = consumerThreadNum;\n            executorService = new ThreadPoolExecutor(consumerThreadNum, consumerThreadNum, 0L, TimeUnit.MILLISECONDS, new ArrayBlockingQueue<>(1000), new ThreadPoolExecutor.CallerRunsPolicy());\n        }\n\n        @Override\n        public void run() {\n            try {\n                while (true) {\n                    ConsumerRecords<String, String> records = kafkaConsumer.poll(Duration.ofMillis(100));\n                    if (!records.isEmpty()) {\n                        executorService.submit(new RecordsHandler(records));\n                    }\n                }\n\n            } catch (Exception e) {\n                e.printStackTrace();\n            } finally {\n                kafkaConsumer.close();\n            }\n        }\n    }\n\n    public static class RecordsHandler extends Thread {\n        private final ConsumerRecords<String, String> records;\n\n        public RecordsHandler(ConsumerRecords<String, String> records) {\n            this.records = records;\n        }\n\n        @Override\n        public void run() {\n            //å¤çrecordsé»è¾\n        }\n    }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n\n\nä¸é¢ä»£ç ä¸­ç RecordHandler ç±»æ¯ç¨æ¥å¤çæ¶æ¯çï¼è KafkaConsumerThread ç±»çæ¯ä¸ä¸ªæ¶è´¹çº¿ç¨ï¼éé¢éè¿çº¿ç¨æ± çæ¹å¼æ¥è°ç¨RecordHandler å¤çä¸æ¹æ¹çæ¶æ¯ãæ³¨æKakaConsumerThreadç±»ä¸­ ThreadPoolExccutor éçæåä¸ä¸ªåæ°è®¾ç½®çæ¯ CallerRunsPolicy(),è¿æ ·å¯ä»¥é²æ­¢çº¿ç¨æ± çæ»ä½æ¶è´¹è½åè·ä¸ä¸ poll()æåçè½åï¼ä»èå¯¼è´å¼å¸¸ç°è±¡çåçãç¬¬ä¸ç§å®ç°æ¹å¼è¿å¯ä»¥æ¨ªåæ©å±ï¼éè¿å¼å¯å¤ä¸ªKafkaConsumerThread å®ä¾æ¥è¿ä¸æ­¥æåæ´ä½çæ¶è´¹è½åã\n\nç¬¬ä¸ç§å®ç°æ¹å¼ç¸æ¯ç¬¬ä¸ç§å®ç°æ¹å¼èè¨ï¼é¤äºæ¨ªåæ©å±çè½åï¼è¿å¯ä»¥åå° TCP è¿æ¥å¯¹ç³»ç»èµæºçæ¶èï¼ä¸è¿ç¼ºç¹å°±æ¯å¯¹äºæ¶æ¯çé¡ºåºå¤çå°±æ¯è¾å°é¾äºã\n\nä¸é¢çä»£ç è¿ç¹å«è®¾ç½®äºèªå¨æäº¤æ¶è´¹ä½ç¹ãè¿æ ·æ¨å¨è¯´æå¨å·ä½å®ç°çæ¶åå¹¶æ²¡æèèä½ç¹æäº¤çæåµãå¯¹äºç¬¬ä¸ç§å®ç°æ¹å¼èè¨å¦æè¦åå·ä½çä½ç¹æäº¤ï¼ç´æ¥å¨KafkaConsumerThreadä¸­ç run()æ¹æ³éå®ç°å³å¯ãèå¯¹äºç¬¬ä¸ç§å®ç°æ¹å¼ï¼è¿éå¼å¥ä¸ä¸ªå±äº«åé offsets æ¥åä¸æäº¤ï¼å¦ä¸å¾ï¼\n\n\n\næ¯ä¸ä¸ªå¤çæ¶æ¯ç RecordHandler ç±»å¨å¤çå®æ¶æ¯ä¹åé½å°å¯¹åºçæ¶è´¹ä½ç¹ä¿å­å°å±äº«åéoffsets ä¸­,KafkaConsumerThreadå¨æ¯ä¸æ¬¡ poll()æ¹æ³ä¹åé½è¯»å offsets ä¸­çåå®¹å¹¶å¯¹å¶è¿è¡ä½ç¹æäº¤ã\n\n> å¨å®ç°çè¿ç¨ä¸­å¯¹ offsets è¯»åéè¦å éå¤çï¼é²æ­¢åºç°å¹¶åé®é¢ãå¹¶ä¸å¨åå¥offsets çæ¶åéè¦æ³¨æä½ç¹è¦ççé®é¢ï¼éå¯¹è¿ä¸ªé®é¢ï¼å¯ä»¥å°RecordHandler ç±»ä¸­ç run()æ¹æ³å®ç°æ¹ä¸ºå¦ä¸åå®¹ã\n\n    public static class RecordsHandler extends Thread {\n    private final ConsumerRecords<String, String> records;\n\n    private static final Map<TopicPartition, OffsetAndMetadata> offsets = new HashMap<>();\n\n    public RecordsHandler(ConsumerRecords<String, String> records) {\n        this.records = records;\n    }\n\n    @Override\n    public void run() {\n        //å¤çrecordsé»è¾\n        for (TopicPartition tp : records.partitions()) {\n            List<ConsumerRecord<String, String>> tpRecords = records.records(tp);\n            long lastConsumedOffset = tpRecords.get(tpRecords.size() - 1).offset();\n            synchronized (offsets) {\n                if (!offsets.containsKey(tp)) {\n                    offsets.put(tp, new OffsetAndMetadata(lastConsumedOffset + 1));\n                } else {\n                    long position = offsets.get(tp).offset();\n                    if (position < lastConsumedOffset + 1) {\n                        offsets.put(tp, new OffsetAndMetadata(lastConsumedOffset + 1));\n                    }\n                }\n            }\n        }\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n\n\nå¯¹åºçä½ç¹æäº¤å®ç°å¯ä»¥æ·»å å¨ç¬¬ä¸ç§å¤çº¿ç¨å®ç°æ¹å¼çä»£ç ä¸­ KafkaConsumerThread ç±»çç¬¬â è¡ä»£ç ä¸æ¹ã\n\nsynchronized(offsets){\n        if(offsets.isEmpty()){\n        kafkaConsumer.commitSync(offsets);\n        }\n        }\n\n\n1\n2\n3\n4\n5\n\n\nè¿æ ·å®ç°æ¯å¦ä¸æ ä¸å¤±?å¶å®è¿ç§ä½ç¹æäº¤çæ¹å¼ä¼ææ°æ®ä¸¢å¤±çé£é©ãå¯¹äºåä¸ä¸ªååºä¸­çæ¶æ¯ï¼åè®¾ä¸ä¸ªå¤ççº¿ç¨ RecordHandler1æ­£å¨å¤ç offset ä¸º 0~99 çæ¶æ¯ï¼èå¦ä¸ä¸ªå¤ççº¿ç¨ RecordHandler2 å·²ç»å¤çå®äº offset ä¸º 100~199 çæ¶æ¯å¹¶è¿è¡äºä½ç¹æäº¤ï¼æ­¤æ¶å¦æRecordHandler1 åçå¼å¸¸ï¼åä¹åçæ¶è´¹åªè½ä» 200 å¼å§èæ æ³åæ¬¡æ¶è´¹ 0~99çæ¶æ¯ï¼ä»èé æäºæ¶æ¯ä¸¢å¤±çç°è±¡ãè¿éè½ç¶éå¯¹ä½ç¹è¦çåäºä¸å®çå¤çï¼ä½è¿æ²¡æè§£å³å¼å¸¸æåµä¸çä½ç¹è¦çé®é¢ãå¯¹æ­¤å°±è¦å¼å¥æ´å å¤æçå¤çæºå¶ï¼è¿éåæä¾ä¸ç§è§£å³æè·¯ï¼åèä¸å¾ï¼æ»ä½ç»æä¸æ¯åºäºæ»å¨çªå£å®ç°çãå¯¹äºç¬¬ä¸ç§å®ç°æ¹å¼èè¨ï¼å®æåç°çç»ææ¯éè¿æ¶è´¹èæååæ¹æ¬¡çæ¶æ¯ï¼ç¶åæäº¤ç»å¤çº¿ç¨è¿è¡å¤çï¼èè¿éçæ»å¨çªå£å¼çå®ç°æ¹å¼æ¯å°æåå°çæ¶æ¯æå­èµ·æ¥ï¼å¤ä¸ªæ¶è´¹çº¿ç¨å¯ä»¥æåæå­çæ¶æ¯ï¼è¿ä¸ªç¨äºæå­æ¶æ¯çç¼å­å¤§å°å³ä¸ºå¨çªå£çå¤§å°ï¼æ»ä½ä¸èè¨æ²¡æå¤ªå¤çååï¼ä¸åçæ¯å¯¹äºæ¶è´¹ä½ç¹çææ§ã\n\n\n\nå¦å¾æç¤ºï¼æ¯ä¸ä¸ªæ¹æ ¼ä»£è¡¨ä¸ä¸ªæ¹æ¬¡çæ¶æ¯ï¼ä¸ä¸ªæ»å¨çªå£åå«è¥å¹²æ¹æ ¼ï¼startOffsetæ æ³¨çæ¯å½åæ»å¨çªå£çèµ·å§ä½ç½®ï¼endOffsetæ æ³¨çæ¯æ«å°¾ä½ç½®ãæ¯å½ startOffsetæåçæ¹æ ¼ä¸­çæ¶æ¯è¢«æ¶è´¹å®æï¼å°±å¯ä»¥æäº¤è¿é¨åçä½ç¹ï¼ä¸æ­¤åæ¶ï¼çªå£ååæ»å¨ä¸æ ¼ï¼å é¤åæ¥startOffsetæææ¹æ ¼ä¸­å¯¹åºçæ¶æ¯ï¼å¹¶ä¸æåæ°çæ¶æ¯è¿å¥çªå£ãæ»å¨çªå£çå¤§å°åºå®ï¼æå¯¹åºçç¨æ¥æå­æ¶æ¯çç¼å­å¤§å°ä¹å°±åºå®äºï¼è¿é¨ååå­å¼éå¯æ§ãæ¹æ ¼å¤§å°åæ»å¨çªå£çå¤§å°åæ¶å³å®äºæ¶è´¹çº¿ç¨çå¹¶åæ°:**ä¸ä¸ªæ¹æ ¼å¯¹åºä¸ä¸ªæ¶è´¹çº¿ç¨ï¼å¯¹äºçªå£å¤§å°åºå®çæåµï¼æ¹æ ¼è¶å°å¹¶è¡åº¦è¶é«;å¯¹äºæ¹æ ¼å¤§å°åºå®çæåµï¼çªå£è¶å¤§å¹¶è¡åº¦è¶é«ã**ä¸è¿ï¼è¥çªå£è®¾ç½®å¾è¿å¤§ä¸ä»ä¼å¢å¤§åå­çå¼éï¼èä¸å¨åçå¼å¸¸(æ¯å¦ Crash)çæåµä¸ä¹ä¼å¼èµ·å¤§éçéå¤æ¶è´¹ï¼åæ¶è¿èèçº¿ç¨åæ¢çå¼éï¼å»ºè®®æ ¹æ®å®éæåµè®¾ç½®ä¸ä¸ªåççå¼ï¼ä¸ç®¡æ¯å¯¹äºæ¹æ ¼è¿æ¯çªå£èè¨ï¼è¿å¤§æè¿å°é½ä¸åéã\n\nå¦æä¸ä¸ªæ¹æ ¼åçæ¶æ¯æ æ³è¢«æ è®°ä¸ºæ¶è´¹å®æï¼é£ä¹å°±ä¼é æ startOffsetçæ¬åãä¸ºäºä½¿çªå£è½å¤ç»§ç»­ååæ»å¨ï¼é£ä¹å°±éè¦è®¾å®ä¸ä¸ªéå¼ï¼å½ startOffsetæ¬åä¸å®çæ¶é´åå°±å¯¹è¿é¨åæ¶æ¯è¿è¡æ¬å°éè¯æ¶è´¹ï¼å¦æéè¯å¤±è´¥å°±è½¬å¥éè¯éåï¼å¦æè¿ä¸å¥æå°±è½¬å¥æ­»ä¿¡éåãçå®åºç¨ä¸­æ æ³æ¶è´¹çæåµæå°ï¼ä¸è¬æ¯ç±ä¸å¡ä»£ç çå¤çé»è¾å¼èµ·çï¼æ¯å¦æ¶æ¯ä¸­çåå®¹æ ¼å¼ä¸ä¸å¡å¤ççåå®¹æ ¼å¼ä¸ç¬¦ï¼æ æ³å¯¹è¿æ¡æ¶æ¯è¿è¡å³æ­ï¼è¿ç§æåµå¯ä»¥éè¿ä¼åä»£ç é»è¾æéåä¸¢å¼ç­ç¥æ¥é¿åãå¦æéè¦æ¶æ¯é«åº¦å¯é ï¼ä¹å¯ä»¥å°æ æ³è¿è¡ä¸å¡é»è¾çæ¶æ¯ (è¿ç±»æ¶æ¯å¯ä»¥ç§°ä¸ºæ­»ä¿¡)å­å¥ç£çãæ°æ®åºæKafkaï¼ç¶åç»§ç»­æ¶è´¹ä¸ä¸æ¡æ¶æ¯ä»¥ä¿è¯æ´ä½æ¶è´¹è¿åº¦åçæ¨è¿ï¼ä¹åå¯ä»¥éè¿ä¸ä¸ªé¢å¤çå¤çä»»å¡æ¥åææ­»ä¿¡è¿èæ¾åºå¼å¸¸çåå ã\n\n----------------------------------------',normalizedContent:'kakaproducer æ¯çº¿ç¨å®å¨çï¼ç¶è kafkaconsumer å´æ¯éçº¿ç¨å®å¨çãkafkaconsumerå®ä¹äºä¸ä¸ªacquire()æ¹æ³ï¼ç¨æ¥æ£æµå½åæ¯å¦åªæä¸ä¸ªçº¿ç¨å¨æä½ï¼è¥æå¶ä»çº¿ç¨æ­£å¨æä½ä¼æåº concurrentmodifcationexception å¼å¸¸ã\n\nkafkaconsumer ä¸­çæ¯ä¸ªå¬ç¨æ¹æ³å¨æ§è¡æè¦æ§è¡çå¨ä½ä¹åé½ä¼è°ç¨è¿ä¸ª acquire()æ¹æ³åªæ wakeup()æ¹æ³æ¯ä¸ªä¾å¤ã\n\nprivate final atomicinteger refcount=new atomicinteger(0);\nprivate void acquire(){\n        long threadid=thread.currentthread().getid();\n        if(threadid!=currentthread.get()&&!currentthread.compareandset(no_current_thread,threadid))\n        throw new concurrentmodificationexception("kafkaconsumer is not safe for multi-threaded access");\n        refcount.incrementandget();\n        }\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\nacquire()æ¹æ³åæä»¬éå¸¸æè¯´çé(synchronizedãlock ç­)ä¸åï¼å®ä¸ä¼é æé»å¡ç­å¾ï¼æä»¬å¯ä»¥å°å¶çä½ä¸ä¸ªè½»éçº§éï¼å®ä»éè¿çº¿ç¨æä½è®¡æ°æ è®°çæ¹å¼æ¥æ£æµçº¿ç¨æ¯å¦åçäºå¹¶åæä½ï¼ä»¥æ­¤ä¿è¯åªæä¸ä¸ªçº¿ç¨å¨æä½ãacquire()æ¹æ³å release()æ¹æ³æå¯¹åºç°ï¼è¡¨ç¤ºç¸åºçå éåè§£éæä½ã\n\n  private void release(){\n        if(refcount.decrementandget()==0)\n        currentthread.set(no_current_thread);\n        }\n\n\n1\n2\n3\n4\n\n\nacquire()æ¹æ³å release()æ¹æ³é½æ¯ç§ææ¹æ³ï¼å æ­¤å¨å®éåºç¨ä¸­ä¸éè¦æä»¬æ¾å¼å°è°ç¨ï¼ä½äºè§£å¶åé¨çæºçä¹åå¯ä»¥ä¿ä½¿æä»¬æ­£ç¡®ãææå°ç¼åç¸åºçç¨åºé»è¾ã\n\nkafkaconsumeréçº¿ç¨å®å¨å¹¶ä¸æå³çæä»¬å¨æ¶è´¹æ¶æ¯çæ¶ååªè½ä»¥åçº¿ç¨çæ¹å¼æ§è¡ï¼å¦æçäº§èåéæ¶æ¯çéåº¦å¤§äºæ¶è´¹èå¤çæ¶æ¯çéåº¦ï¼é£ä¹å°±ä¼æè¶æ¥è¶å¤çæ¶æ¯å¾ä¸å°åæ¶çæ¶è´¹ï¼é æäºä¸å®çå»¶è¿ãé¤æ­¤ä¹å¤ï¼ç±äºkakaä¸­æ¶æ¯ä¿çæºå¶çä½ç¨ï¼æäºæ¶æ¯æå¯è½å¨è¢«æ¶è´¹ä¹åå°±è¢«æ¸çäºï¼ä»èé ææ¶æ¯çä¸¢å¤±ãæä»¬å¯ä»¥éè¿å¤çº¿ç¨çæ¹å¼æ¥å®ç°æ¶æ¯æ¶è´¹ï¼å¤çº¿ç¨çç®çå°±æ¯ä¸ºäºæé«æ´ä½çæ¶è´¹è½åãå¤çº¿ç¨çå®ç°æ¹å¼æå¤ç§ï¼ç¬¬ä¸ç§ä¹æ¯æå¸¸è§çæ¹å¼:çº¿ç¨å°é­ï¼å³ä¸ºæ¯ä¸ªçº¿ç¨å®ä¾åä¸ä¸ª kakaconsumer å¯¹è±¡ï¼å¦å¾ï¼\n\n\n\nä¸ä¸ªçº¿ç¨å¯¹åºä¸ä¸ªkafkaconsumerå®ä¾ï¼æä»¬å¯ä»¥ç§°ä¹ä¸ºæ¶è´¹çº¿ç¨ãä¸ä¸ªæ¶è´¹çº¿ç¨å¯ä»¥æ¶è´¹ä¸ä¸ªæå¤ä¸ªååºä¸­çæ¶æ¯ï¼ææçæ¶è´¹çº¿ç¨é½é¶å±äºåä¸ä¸ªæ¶è´¹ç»ãè¿ç§å®ç°æ¹å¼çå¹¶ååº¦åéäºååºçå®éä¸ªæ°ï¼å½æ¶è´¹çº¿ç¨çä¸ªæ°å¤§äºååºæ°æ¶ï¼å°±æé¨åæ¶è´¹çº¿ç¨ä¸ç´å¤äºç©ºé²çç¶æã\n\nä¸æ­¤å¯¹åºçç¬¬äºç§æ¹å¼æ¯å¤ä¸ªæ¶è´¹çº¿ç¨åæ¶æ¶è´¹åä¸ä¸ªååºï¼è¿ä¸ªéè¿ assign()ãseek()ç­æ¹æ³å®ç°ï¼è¿æ ·å¯ä»¥æç ´åæçæ¶è´¹çº¿ç¨çä¸ªæ°ä¸è½è¶è¿ååºæ°çéå¶ï¼è¿ä¸æ­¥æé«äºæ¶è´¹çè½åãä¸è¿è¿ç§å®ç°æ¹å¼å¯¹äºä½ç¹æäº¤åé¡ºåºæ§å¶çå¤çå°±ä¼åå¾éå¸¸å¤æï¼å®éåºç¨ä¸­ä½¿ç¨å¾æå°ãä¸è¬èè¨ï¼ååºæ¯æ¶è´¹çº¿ç¨çæå°åååä½ãä¸é¢æä»¬éè¿å®éç¼ç æ¥æ¼ç¤ºç¬¬ä¸ç§å¤çº¿ç¨æ¶è´¹å®ç°çæ¹å¼ï¼\n\npublic class firstmulticonsumerthreaddemo {\n\n    public static final string brokerlist = "localhost:9092";\n\n    public static final string topic = "topic-demo";\n\n    public static final string groupid = "group.demo";\n\n    public static properties init() {\n        properties props = new properties();\n        props.put(consumerconfig.bootstrap_servers_config, brokerlist);\n        props.put(consumerconfig.group_id_config, groupid);\n        props.put(consumerconfig.key_deserializer_class_config, stringdeserializer.class.getname());\n        props.put(consumerconfig.value_deserializer_class_config, stringdeserializer.class.getname());\n        props.put(consumerconfig.enable_auto_commit_config, true);\n        return props;\n    }\n\n    public static void main(string[] args) {\n        properties props = init();\n        int consumerthreadnum = 4;\n\n        intstream.range(0, consumerthreadnum).foreach(i -> new kafkaconsumerthread(props, topic).start());\n    }\n\n    public static class kafkaconsumerthread extends thread {\n        private kafkaconsumer<string, string> kafkaconsumer;\n\n        public kafkaconsumerthread(properties props, string topic) {\n            this.kafkaconsumer = new kafkaconsumer<>(props);\n            this.kafkaconsumer.subscribe(collections.singletonlist(topic));\n        }\n\n        @override\n        public void run() {\n            try {\n                consumerrecords<string, string> records = kafkaconsumer.poll(duration.ofmillis(100));\n                for (consumerrecord<string, string> record : records) {\n                    // ä¸å¡å¤çé»è¾\n                    system.out.println(record.value());\n                }\n            } catch (exception e) {\n                e.printstacktrace();\n            } finally {\n                kafkaconsumer.close();\n            }\n        }\n    }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n\n\nåé¨ç±» kafkaconsumerthread ä»£è¡¨æ¶è´¹çº¿ç¨ï¼å¶åé¨åè£¹çä¸ä¸ªç¬ç«ç kafkaconsumer å®ä¾ãéè¿å¤é¨ç±»ç main()æ¹æ³æ¥å¯å¨å¤ä¸ªæ¶è´¹çº¿ç¨ï¼æ¶è´¹çº¿ç¨çæ°éç± consumerthreadnum åéæå®ãä¸è¬ä¸ä¸ªä¸»é¢çååºæ°äºåå¯ä»¥ç¥æï¼å¯ä»¥å° consumerthreadnum è®¾ç½®æä¸å¤§äºååºæ°çå¼ï¼å¦æä¸ç¥éä¸»é¢çååºæ°ï¼é£ä¹ä¹å¯ä»¥éè¿ kafkaconsumerç±»ç partitionsfor()æ¹æ³æ¥é´æ¥è·åï¼è¿èåè®¾ç½®åçç consumerthreadnum å¼ã\n\nä¸é¢è¿ç§å¤çº¿ç¨çå®ç°æ¹å¼åå¼å¯å¤ä¸ªæ¶è´¹è¿ç¨çæ¹å¼æ²¡ææ¬è´¨ä¸çåºå«ï¼å®çä¼ç¹æ¯æ¯ä¸ªçº¿ç¨å¯ä»¥æé¡ºåºæ¶è´¹åä¸ªååºä¸­çæ¶æ¯ãç¼ºç¹ä¹å¾ææ¾ï¼æ¯ä¸ªæ¶è´¹çº¿ç¨é½è¦ç»´æ¤ä¸ä¸ªç¬ç«çtcpè¿æ¥ï¼å¦æååºæ°åconsumerthreadnum çå¼é½å¾å¤§ï¼é£ä¹ä¼é æä¸å°çç³»ç»å¼éã\n\nå¯¹äºä¸é¢ä»£ç ä¸­çç¬¬â è¡ï¼å¦æè¿éå¯¹æ¶æ¯çå¤çéå¸¸è¿éï¼é£ä¹ poll()æåçé¢æ¬¡ä¹ä¼æ´é«ï¼è¿èæ´ä½æ¶è´¹çæ§è½ä¹ä¼æå;ç¸åï¼å¦æå¨è¿éå¯¹æ¶æ¯çå¤çç¼æ¢ï¼æ¯å¦è¿è¡ä¸ä¸ªäºå¡æ§æä½ï¼æèç­å¾ä¸ä¸ªrpcçåæ­¥ååºï¼é£ä¹ poll()æåçé¢æ¬¡ä¹ä¼éä¹ä¸éï¼è¿èé ææ´ä½æ¶è´¹æ§è½çä¸éãä¸è¬èè¨ï¼ poll()æåæ¶æ¯çéåº¦æ¯ç¸å½å¿«çï¼èæ´ä½æ¶è´¹çç¶é¢ä¹æ­£æ¯å¨å¤çæ¶æ¯è¿ä¸åï¼å¦ææä»¬éè¿ä¸å®çæ¹å¼æ¥æ¹è¿è¿ä¸é¨åï¼é£ä¹æä»¬å°±è½å¸¦å¨æ´ä½æ¶è´¹æ§è½çæåãåèä¸å¾ï¼èèç¬¬ä¸ç§å®ç°æ¹å¼ï¼å°å¤çæ¶æ¯æ¨¡åæ¹æå¤çº¿ç¨çå®ç°æ¹å¼ã\n\n\n\npublic class firstmulticonsumerthreaddemo {\n\n    public static final string brokerlist = "localhost:9092";\n\n    public static final string topic = "topic-demo";\n\n    public static final string groupid = "group.demo";\n\n    public static properties init() {\n        properties props = new properties();\n        props.put(consumerconfig.bootstrap_servers_config, brokerlist);\n        props.put(consumerconfig.group_id_config, groupid);\n        props.put(consumerconfig.key_deserializer_class_config, stringdeserializer.class.getname());\n        props.put(consumerconfig.value_deserializer_class_config, stringdeserializer.class.getname());\n        props.put(consumerconfig.enable_auto_commit_config, true);\n        return props;\n    }\n\n    public static void main(string[] args) {\n        properties props = init();\n        kafkaconsumerthread thread = new kafkaconsumerthread(props, topic, runtime.getruntime().availableprocessors());\n        thread.start();\n    }\n\n    public static class kafkaconsumerthread extends thread {\n        private final kafkaconsumer<string, string> kafkaconsumer;\n        private final executorservice executorservice;\n\n        private final int consumerthreadnum;\n\n        public kafkaconsumerthread(properties props, string topic, int consumerthreadnum) {\n            this.kafkaconsumer = new kafkaconsumer<>(props);\n            this.kafkaconsumer.subscribe(collections.singletonlist(topic));\n            this.consumerthreadnum = consumerthreadnum;\n            executorservice = new threadpoolexecutor(consumerthreadnum, consumerthreadnum, 0l, timeunit.milliseconds, new arrayblockingqueue<>(1000), new threadpoolexecutor.callerrunspolicy());\n        }\n\n        @override\n        public void run() {\n            try {\n                while (true) {\n                    consumerrecords<string, string> records = kafkaconsumer.poll(duration.ofmillis(100));\n                    if (!records.isempty()) {\n                        executorservice.submit(new recordshandler(records));\n                    }\n                }\n\n            } catch (exception e) {\n                e.printstacktrace();\n            } finally {\n                kafkaconsumer.close();\n            }\n        }\n    }\n\n    public static class recordshandler extends thread {\n        private final consumerrecords<string, string> records;\n\n        public recordshandler(consumerrecords<string, string> records) {\n            this.records = records;\n        }\n\n        @override\n        public void run() {\n            //å¤çrecordsé»è¾\n        }\n    }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n\n\nä¸é¢ä»£ç ä¸­ç recordhandler ç±»æ¯ç¨æ¥å¤çæ¶æ¯çï¼è kafkaconsumerthread ç±»çæ¯ä¸ä¸ªæ¶è´¹çº¿ç¨ï¼éé¢éè¿çº¿ç¨æ± çæ¹å¼æ¥è°ç¨recordhandler å¤çä¸æ¹æ¹çæ¶æ¯ãæ³¨ækakaconsumerthreadç±»ä¸­ threadpoolexccutor éçæåä¸ä¸ªåæ°è®¾ç½®çæ¯ callerrunspolicy(),è¿æ ·å¯ä»¥é²æ­¢çº¿ç¨æ± çæ»ä½æ¶è´¹è½åè·ä¸ä¸ poll()æåçè½åï¼ä»èå¯¼è´å¼å¸¸ç°è±¡çåçãç¬¬ä¸ç§å®ç°æ¹å¼è¿å¯ä»¥æ¨ªåæ©å±ï¼éè¿å¼å¯å¤ä¸ªkafkaconsumerthread å®ä¾æ¥è¿ä¸æ­¥æåæ´ä½çæ¶è´¹è½åã\n\nç¬¬ä¸ç§å®ç°æ¹å¼ç¸æ¯ç¬¬ä¸ç§å®ç°æ¹å¼èè¨ï¼é¤äºæ¨ªåæ©å±çè½åï¼è¿å¯ä»¥åå° tcp è¿æ¥å¯¹ç³»ç»èµæºçæ¶èï¼ä¸è¿ç¼ºç¹å°±æ¯å¯¹äºæ¶æ¯çé¡ºåºå¤çå°±æ¯è¾å°é¾äºã\n\nä¸é¢çä»£ç è¿ç¹å«è®¾ç½®äºèªå¨æäº¤æ¶è´¹ä½ç¹ãè¿æ ·æ¨å¨è¯´æå¨å·ä½å®ç°çæ¶åå¹¶æ²¡æèèä½ç¹æäº¤çæåµãå¯¹äºç¬¬ä¸ç§å®ç°æ¹å¼èè¨å¦æè¦åå·ä½çä½ç¹æäº¤ï¼ç´æ¥å¨kafkaconsumerthreadä¸­ç run()æ¹æ³éå®ç°å³å¯ãèå¯¹äºç¬¬ä¸ç§å®ç°æ¹å¼ï¼è¿éå¼å¥ä¸ä¸ªå±äº«åé offsets æ¥åä¸æäº¤ï¼å¦ä¸å¾ï¼\n\n\n\næ¯ä¸ä¸ªå¤çæ¶æ¯ç recordhandler ç±»å¨å¤çå®æ¶æ¯ä¹åé½å°å¯¹åºçæ¶è´¹ä½ç¹ä¿å­å°å±äº«åéoffsets ä¸­,kafkaconsumerthreadå¨æ¯ä¸æ¬¡ poll()æ¹æ³ä¹åé½è¯»å offsets ä¸­çåå®¹å¹¶å¯¹å¶è¿è¡ä½ç¹æäº¤ã\n\n> å¨å®ç°çè¿ç¨ä¸­å¯¹ offsets è¯»åéè¦å éå¤çï¼é²æ­¢åºç°å¹¶åé®é¢ãå¹¶ä¸å¨åå¥offsets çæ¶åéè¦æ³¨æä½ç¹è¦ççé®é¢ï¼éå¯¹è¿ä¸ªé®é¢ï¼å¯ä»¥å°recordhandler ç±»ä¸­ç run()æ¹æ³å®ç°æ¹ä¸ºå¦ä¸åå®¹ã\n\n    public static class recordshandler extends thread {\n    private final consumerrecords<string, string> records;\n\n    private static final map<topicpartition, offsetandmetadata> offsets = new hashmap<>();\n\n    public recordshandler(consumerrecords<string, string> records) {\n        this.records = records;\n    }\n\n    @override\n    public void run() {\n        //å¤çrecordsé»è¾\n        for (topicpartition tp : records.partitions()) {\n            list<consumerrecord<string, string>> tprecords = records.records(tp);\n            long lastconsumedoffset = tprecords.get(tprecords.size() - 1).offset();\n            synchronized (offsets) {\n                if (!offsets.containskey(tp)) {\n                    offsets.put(tp, new offsetandmetadata(lastconsumedoffset + 1));\n                } else {\n                    long position = offsets.get(tp).offset();\n                    if (position < lastconsumedoffset + 1) {\n                        offsets.put(tp, new offsetandmetadata(lastconsumedoffset + 1));\n                    }\n                }\n            }\n        }\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n\n\nå¯¹åºçä½ç¹æäº¤å®ç°å¯ä»¥æ·»å å¨ç¬¬ä¸ç§å¤çº¿ç¨å®ç°æ¹å¼çä»£ç ä¸­ kafkaconsumerthread ç±»çç¬¬â è¡ä»£ç ä¸æ¹ã\n\nsynchronized(offsets){\n        if(offsets.isempty()){\n        kafkaconsumer.commitsync(offsets);\n        }\n        }\n\n\n1\n2\n3\n4\n5\n\n\nè¿æ ·å®ç°æ¯å¦ä¸æ ä¸å¤±?å¶å®è¿ç§ä½ç¹æäº¤çæ¹å¼ä¼ææ°æ®ä¸¢å¤±çé£é©ãå¯¹äºåä¸ä¸ªååºä¸­çæ¶æ¯ï¼åè®¾ä¸ä¸ªå¤ççº¿ç¨ recordhandler1æ­£å¨å¤ç offset ä¸º 0~99 çæ¶æ¯ï¼èå¦ä¸ä¸ªå¤ççº¿ç¨ recordhandler2 å·²ç»å¤çå®äº offset ä¸º 100~199 çæ¶æ¯å¹¶è¿è¡äºä½ç¹æäº¤ï¼æ­¤æ¶å¦ærecordhandler1 åçå¼å¸¸ï¼åä¹åçæ¶è´¹åªè½ä» 200 å¼å§èæ æ³åæ¬¡æ¶è´¹ 0~99çæ¶æ¯ï¼ä»èé æäºæ¶æ¯ä¸¢å¤±çç°è±¡ãè¿éè½ç¶éå¯¹ä½ç¹è¦çåäºä¸å®çå¤çï¼ä½è¿æ²¡æè§£å³å¼å¸¸æåµä¸çä½ç¹è¦çé®é¢ãå¯¹æ­¤å°±è¦å¼å¥æ´å å¤æçå¤çæºå¶ï¼è¿éåæä¾ä¸ç§è§£å³æè·¯ï¼åèä¸å¾ï¼æ»ä½ç»æä¸æ¯åºäºæ»å¨çªå£å®ç°çãå¯¹äºç¬¬ä¸ç§å®ç°æ¹å¼èè¨ï¼å®æåç°çç»ææ¯éè¿æ¶è´¹èæååæ¹æ¬¡çæ¶æ¯ï¼ç¶åæäº¤ç»å¤çº¿ç¨è¿è¡å¤çï¼èè¿éçæ»å¨çªå£å¼çå®ç°æ¹å¼æ¯å°æåå°çæ¶æ¯æå­èµ·æ¥ï¼å¤ä¸ªæ¶è´¹çº¿ç¨å¯ä»¥æåæå­çæ¶æ¯ï¼è¿ä¸ªç¨äºæå­æ¶æ¯çç¼å­å¤§å°å³ä¸ºå¨çªå£çå¤§å°ï¼æ»ä½ä¸èè¨æ²¡æå¤ªå¤çååï¼ä¸åçæ¯å¯¹äºæ¶è´¹ä½ç¹çææ§ã\n\n\n\nå¦å¾æç¤ºï¼æ¯ä¸ä¸ªæ¹æ ¼ä»£è¡¨ä¸ä¸ªæ¹æ¬¡çæ¶æ¯ï¼ä¸ä¸ªæ»å¨çªå£åå«è¥å¹²æ¹æ ¼ï¼startoffsetæ æ³¨çæ¯å½åæ»å¨çªå£çèµ·å§ä½ç½®ï¼endoffsetæ æ³¨çæ¯æ«å°¾ä½ç½®ãæ¯å½ startoffsetæåçæ¹æ ¼ä¸­çæ¶æ¯è¢«æ¶è´¹å®æï¼å°±å¯ä»¥æäº¤è¿é¨åçä½ç¹ï¼ä¸æ­¤åæ¶ï¼çªå£ååæ»å¨ä¸æ ¼ï¼å é¤åæ¥startoffsetæææ¹æ ¼ä¸­å¯¹åºçæ¶æ¯ï¼å¹¶ä¸æåæ°çæ¶æ¯è¿å¥çªå£ãæ»å¨çªå£çå¤§å°åºå®ï¼æå¯¹åºçç¨æ¥æå­æ¶æ¯çç¼å­å¤§å°ä¹å°±åºå®äºï¼è¿é¨ååå­å¼éå¯æ§ãæ¹æ ¼å¤§å°åæ»å¨çªå£çå¤§å°åæ¶å³å®äºæ¶è´¹çº¿ç¨çå¹¶åæ°:**ä¸ä¸ªæ¹æ ¼å¯¹åºä¸ä¸ªæ¶è´¹çº¿ç¨ï¼å¯¹äºçªå£å¤§å°åºå®çæåµï¼æ¹æ ¼è¶å°å¹¶è¡åº¦è¶é«;å¯¹äºæ¹æ ¼å¤§å°åºå®çæåµï¼çªå£è¶å¤§å¹¶è¡åº¦è¶é«ã**ä¸è¿ï¼è¥çªå£è®¾ç½®å¾è¿å¤§ä¸ä»ä¼å¢å¤§åå­çå¼éï¼èä¸å¨åçå¼å¸¸(æ¯å¦ crash)çæåµä¸ä¹ä¼å¼èµ·å¤§éçéå¤æ¶è´¹ï¼åæ¶è¿èèçº¿ç¨åæ¢çå¼éï¼å»ºè®®æ ¹æ®å®éæåµè®¾ç½®ä¸ä¸ªåççå¼ï¼ä¸ç®¡æ¯å¯¹äºæ¹æ ¼è¿æ¯çªå£èè¨ï¼è¿å¤§æè¿å°é½ä¸åéã\n\nå¦æä¸ä¸ªæ¹æ ¼åçæ¶æ¯æ æ³è¢«æ è®°ä¸ºæ¶è´¹å®æï¼é£ä¹å°±ä¼é æ startoffsetçæ¬åãä¸ºäºä½¿çªå£è½å¤ç»§ç»­ååæ»å¨ï¼é£ä¹å°±éè¦è®¾å®ä¸ä¸ªéå¼ï¼å½ startoffsetæ¬åä¸å®çæ¶é´åå°±å¯¹è¿é¨åæ¶æ¯è¿è¡æ¬å°éè¯æ¶è´¹ï¼å¦æéè¯å¤±è´¥å°±è½¬å¥éè¯éåï¼å¦æè¿ä¸å¥æå°±è½¬å¥æ­»ä¿¡éåãçå®åºç¨ä¸­æ æ³æ¶è´¹çæåµæå°ï¼ä¸è¬æ¯ç±ä¸å¡ä»£ç çå¤çé»è¾å¼èµ·çï¼æ¯å¦æ¶æ¯ä¸­çåå®¹æ ¼å¼ä¸ä¸å¡å¤ççåå®¹æ ¼å¼ä¸ç¬¦ï¼æ æ³å¯¹è¿æ¡æ¶æ¯è¿è¡å³æ­ï¼è¿ç§æåµå¯ä»¥éè¿ä¼åä»£ç é»è¾æéåä¸¢å¼ç­ç¥æ¥é¿åãå¦æéè¦æ¶æ¯é«åº¦å¯é ï¼ä¹å¯ä»¥å°æ æ³è¿è¡ä¸å¡é»è¾çæ¶æ¯ (è¿ç±»æ¶æ¯å¯ä»¥ç§°ä¸ºæ­»ä¿¡)å­å¥ç£çãæ°æ®åºækafkaï¼ç¶åç»§ç»­æ¶è´¹ä¸ä¸æ¡æ¶æ¯ä»¥ä¿è¯æ´ä½æ¶è´¹è¿åº¦åçæ¨è¿ï¼ä¹åå¯ä»¥éè¿ä¸ä¸ªé¢å¤çå¤çä»»å¡æ¥åææ­»ä¿¡è¿èæ¾åºå¼å¸¸çåå ã\n\n----------------------------------------',charsets:{cjk:!0},lastUpdated:"2023/11/04, 10:52:44",lastUpdatedTimestamp:1699066364e3},{title:"ä¸»é¢-ä¸»é¢ç®¡ç",frontmatter:{title:"ä¸»é¢-ä¸»é¢ç®¡ç",date:"2023-01-01T00:00:00.000Z",tags:["Kafka","æ¶æ¯éå"],categories:["Kafka"],description:"ä¸»é¢-ä¸»é¢ç®¡ç",toc_number:!1,author:{name:"huidong.yin",link:"https://huidongyin.github.io"},permalink:"/pages/dbe6fcd9-6490-3b92-804a-ea7117ef815d/"},regularPath:"/03.%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97/00.Kafka/12.%E4%B8%BB%E9%A2%98-%E4%B8%BB%E9%A2%98%E7%AE%A1%E7%90%86.html",relativePath:"03.æ¶æ¯éå/00.Kafka/12.ä¸»é¢-ä¸»é¢ç®¡ç.md",key:"v-3e9d649c",path:"/pages/dbe6fcd9-6490-3b92-804a-ea7117ef815d/",headers:[{level:2,title:"1. åå»ºä¸»é¢",slug:"_1-åå»ºä¸»é¢",normalizedTitle:"1. åå»ºä¸»é¢",charIndex:640},{level:2,title:"2. ååºå¯æ¬çåé",slug:"_2-ååºå¯æ¬çåé",normalizedTitle:"2. ååºå¯æ¬çåé",charIndex:8301},{level:2,title:"3.æ¥çä¸»é¢",slug:"_3-æ¥çä¸»é¢",normalizedTitle:"3.æ¥çä¸»é¢",charIndex:9592},{level:2,title:"4.ä¿®æ¹ä¸»é¢",slug:"_4-ä¿®æ¹ä¸»é¢",normalizedTitle:"4.ä¿®æ¹ä¸»é¢",charIndex:10454},{level:2,title:"5.éç½®ç®¡ç",slug:"_5-éç½®ç®¡ç",normalizedTitle:"5.éç½®ç®¡ç",charIndex:12042},{level:2,title:"6.ä¸»é¢ç«¯åæ°",slug:"_6-ä¸»é¢ç«¯åæ°",normalizedTitle:"6.ä¸»é¢ç«¯åæ°",charIndex:14021},{level:2,title:"7.å é¤ä¸»é¢",slug:"_7-å é¤ä¸»é¢",normalizedTitle:"7.å é¤ä¸»é¢",charIndex:17904}],headersStr:"1. åå»ºä¸»é¢ 2. ååºå¯æ¬çåé 3.æ¥çä¸»é¢ 4.ä¿®æ¹ä¸»é¢ 5.éç½®ç®¡ç 6.ä¸»é¢ç«¯åæ° 7.å é¤ä¸»é¢",content:'çäº§èåæ¶è´¹èçè®¾è®¡çå¿µæéå¯¹çé½æ¯ä¸»é¢åååºå±é¢çæä½ãä¸»é¢ä½ä¸ºæ¶æ¯çå½ç±»ï¼å¯ä»¥åç»åä¸ºä¸å°å¤ä¸ªååºï¼ååºå¯ä»¥çåæ¯å¯¹æ¶æ¯çäºæ¬¡åç±»ãååºçååä¸ºkafkaæä¾äºå¯ä¼¸ç¼©æ§ï¼æ°´å¹³æ©å±åè½ï¼è¿å¯ä»¥éè¿å¤å¯æ¬å³ä½¿æ¥ä¸ºkafkaæä¾æ°æ®åä½ä»¥æé«æ°æ®å¯é æ§ã\n\nä»kafkaçåºå±å®ç°æ¥çï¼ä¸»é¢åååºé½æ¯é»è¾ä¸çæ¦å¿µï¼ååºå¯ä»¥æä¸å°å¤ä¸ªå¯æ¬ï¼æ¯ä¸ªå¯æ¬å¯¹åºä¸ä¸ªæ¥å¿æä»¶ï¼æ¯ä¸ªæ¥å¿æä»¶å¯¹åºä¸å°å¤ä¸ªæ¥å¿åæ®µï¼æ¯ä¸ªæ¥å¿åæ®µè¿å¯ä»¥ç»åä¸ºç´¢å¼æä»¶ ï¼æ¥å¿å­å¨æä»¶ å å¿«ç§æä»¶ ç­ã\n\nTopicç®¡çåæ¬åå»ºï¼æ¥çTopicä¿¡æ¯ï¼ä¿®æ¹åå é¤ç­æä½ãå¯ä»¥éè¿Kafkaæä¾ç kafka-topics.sh èæ¬æ¥æ§è¡è¿äºæä½ï¼è¿ä¸ªèæ¬ä½äº$KAFKA_HOME/bin/ç®å½ä¸ï¼å¶æ ¸å¿ä»£ç ä»ä»åªæä¸è¡ï¼\n\nexec $ (dirname $0) /kafka-run-class.sh kafka.admin.TopicCommand "$@"\n\n\n1\n\n\nå¯ä»¥çå°å¶å®è´¨ä¸æ¯è°ç¨äº kafka.admin.TopicCommandç±»æ¥æ§è¡ä¸»é¢ç®¡ççæä½ãä¸»é¢çç®¡çå¹¶éåªæä½¿ç¨kafka-topics.sh èæ¬è¿ä¸ç§æ¹å¼ï¼æä»¬è¿å¯ä»¥éè¿KafkaAdminClient çæ¹å¼å®ç°ï¼è¿ç§æ¹å¼æ¬è´¨ä¸æ¯éè¿éCreateTopicsRequest,DeleteTopicsRequestç­è¯·æ±æ¥å®ç°çï¼ã\n\n----------------------------------------\n\n\n# 1. åå»ºä¸»é¢\n\nå¦æ broker ç«¯éç½®åæ° auto.create.topics.enable è®¾ç½®ä¸º tue(é»è®¤å¼å°±æ¯ true) ï¼é£ä¹å½çäº§èåä¸ä¸ªå°æªåå»ºçä¸»é¢åéæ¶æ¯æ¶,ä¼èªå¨åå»ºä¸ä¸ªååºæ°ä¸º num.partitions(é»è®¤å¼ä¸º1) ãå¯æ¬å å­ä¸º default.replication.factor (é»è®¤å¼ä¸º1) çä¸»é¢ãé¤æ­¤ä¹å¤ï¼å½ä¸ä¸ªæ¶è´¹èå¼å§ä»æªç¥ä¸»é¢ä¸­è¯»åæ¶æ¯æ¶ï¼æèå½ä»»æä¸ä¸ªå®¢æ·ç«¯åæªç¥ä¸»é¢åéåæ°æ®è¯·æ±æ¶ï¼é½ä¼æç§éç½®åæ° num.partitions å default.replication.factor çå¼æ¥åå»ºä¸ä¸ªç¸åºçä¸»é¢ãå¾å¤æ¶åï¼è¿ç§èªå¨åå»ºä¸»é¢çè¡ä¸ºé½æ¯éé¢æçãé¤éæç¹æ®åºç¨éæ±ï¼å¦åä¸å»ºè®®å° auto.create.topics.enable åæ°è®¾ç½®ä¸º trueï¼è¿ä¸ªåæ°ä¼å¢å ä¸»é¢çç®¡çä¸ç»´æ¤çé¾åº¦ã\n\nä¸é¢éè¿ kafka-topics.shèæ¬åå»ºä¸ä¸ªTopicã\n\nroot@101ed4754423:/opt/kafka_2.13-2.8.1/bin# ./kafka-topics.sh --zookeeper kafka-zookeeper:2181 --create --topic topic-create --replication-factor 2 --partitions 4\nCreated topic topic-create.\nroot@101ed4754423:/opt/kafka_2.13-2.8.1/bin#\n\n\n1\n2\n3\n\n\nä¸é¢çç¤ºä¾ä¸­åå»ºäºä¸ä¸ªååºæ°ä¸º 4ãå¯æ¬å å­ä¸º 2 çä¸»é¢ãç¤ºä¾ä¸­çç¯å¢æ¯ä¸ä¸ªåå« 3ä¸ª broker èç¹çéç¾¤ï¼æ¯ä¸ªèç¹çåç§°å brokerld çå¯¹ç§å³ç³»å¦ä¸:\n\nèç¹åç§°     BROKERID\nKafka0   0\nKafka1   1\nKafka2   2\n\nå¨æ§è¡å®èæ¬ä¹åï¼Kafka ä¼å¨ log.dir æ log.dirs åæ°æéç½®çç®å½ä¸åå»ºç¸åºçä¸»é¢ååºï¼é»è®¤æåµä¸è¿ä¸ªç®å½ä¸º/tmp/kafka-logs/ãæä»¬æ¥çå½åbrokerèç¹ä¸åå»ºçä¸»é¢ååºï¼\n\nroot@101ed4754423:/kafka# cd kafka-logs-101ed4754423/\nroot@101ed4754423:/kafka/kafka-logs-101ed4754423# ls -al ./ | grep topic-create\ndrwxr-xr-x  2 root root 4096 Oct 31 13:49 topic-create-0\ndrwxr-xr-x  2 root root 4096 Oct 31 13:49 topic-create-1\nroot@101ed4754423:/kafka/kafka-logs-101ed4754423#\n\n\n1\n2\n3\n4\n5\n\n\nå¯ä»¥çå°å½åèç¹ä¸­åå»ºäº 2 ä¸ªæä»¶å¤¹ topic-create-0 å topic-create-1ï¼å¯¹åºä¸»é¢ topic-create ç2 ä¸ªååºç¼å·ä¸º0å1 çååºï¼å½åæ¹å¼å¯ä»¥æ¦æ¬ä¸º<topic>-<partition>ãä¸¥è°¨å°è¯´ï¼å¶å®<topic>-<partition> è¿ç±»æä»¶å¤¹å¯¹åºçä¸æ¯ååºï¼ååºåä¸»é¢ä¸æ ·æ¯ä¸ä¸ªé»è¾çæ¦å¿µèæ²¡æç©çä¸çå­å¨ãå¹¶ä¸è¿éæä»¬ä¹åªæ¯çå°äº 2 ä¸ªååºï¼èæä»¬åå»ºçæ¯ 4 ä¸ªååºï¼å¶ä½ 2ä¸ªååºè¢«åéå°äº Kafka1 å Kafka2 èç¹ä¸­ã\n\n# ls -al ./ |grep topic-create\ndrwxr-xr-x  2 root root 4096 Oct 31 13:49 topic-create-1\ndrwxr-xr-x  2 root root 4096 Oct 31 13:49 topic-create-2\ndrwxr-xr-x  2 root root 4096 Oct 31 13:49 topic-create-3\n#\n\n\n1\n2\n3\n4\n5\n\n\n# ls -al ./ |grep topic-create\ndrwxr-xr-x  2 root root 4096 Oct 31 13:49 topic-create-0\ndrwxr-xr-x  2 root root 4096 Oct 31 13:49 topic-create-2\ndrwxr-xr-x  2 root root 4096 Oct 31 13:49 topic-create-3\n#\n\n\n1\n2\n3\n4\n5\n\n\nä¸ä¸ª broker èç¹ä¸å±åå»ºäº 8 ä¸ªæä»¶å¤¹ï¼è¿ä¸ªæ°å­ 8 å®è´¨ä¸æ¯ååºæ° 4ä¸å¯æ¬å å­2 çä¹ç§¯ãæ¯ä¸ªå¯æ¬( æèæ´ç¡®åå°è¯´åºè¯¥æ¯æ¥å¿ï¼å¯æ¬ä¸æ¥å¿ä¸ä¸å¯¹åº)æçæ­£å¯¹åºäºä¸ä¸ªå½åå½¢å¼å¦<topic>-<partition>çæä»¶æ¥ã\n\nä¸»é¢åååºé½æ¯æä¾ç»ä¸å±ç¨æ·çæ½è±¡ï¼èå¨å¯æ¬å±é¢ææ´å ç¡®åå°è¯´æ¯ Log å±é¢ææå®éç©çä¸çå­å¨ãåä¸ä¸ªååºä¸­çå¤ä¸ªå¯æ¬å¿é¡»åå¸å¨ä¸åç broker ä¸­ï¼è¿æ ·æè½æä¾ææçæ°æ®åä½ãå¯¹äºç¤ºä¾ä¸­çååºæ°ä¸º 4å¯æ¬å å­ä¸º 2ãbroker æ°ä¸º 3 çæåµä¸ï¼æç§ 2ã3ã3 çååºå¯æ¬ä¸ªæ°åéç»åä¸ª broker æ¯æä¼çéæ©ãåæ¯å¦å¨ååºæ°ä¸º 3ãå¯æ¬å å­ä¸º 3ï¼å¹¶ä¸ broker æ°åæ ·ä¸º 3 çæåµä¸ï¼åé 3ã3ã3çååºå¯æ¬ä¸ªæ°ç»åä¸ª broker æ¯æä¼çéæ©ï¼ä¹å°±æ¯æ¯ä¸ª broker ä¸­é½æ¥æææååºçä¸ä¸ªå¯æ¬ã\n\n\n\næä»¬ä¸ä»å¯ä»¥éè¿æ¥å¿æä»¶çæ ¹ç®å½æ¥æ¥çéç¾¤ä¸­åä¸ª broker çååºå¯æ¬çåéæåµ,å¯ä»¥éè¿ ZooKeeper å®¢æ·ç«¯æ¥è·åãå½åå»ºä¸ä¸ªä¸»é¢æ¶ä¼å¨ ZooKeeper ç/brokers/topicsç®å½ä¸åå»ºä¸ä¸ªååçå®èç¹ï¼è¯¥èç¹ä¸­è®°å½äºè¯¥ä¸»é¢çååºå¯æ¬åéæ¹æ¡ãç¤ºä¾å¦ä¸ï¼\n\n[zk: localhost:2181(CONNECTED) 0] get /brokers/topics/topic-create\n{"partitions":{"0":[2,0],"1":[0,1],"2":[1,2],"3":[2,1]},"topic_id":"iBO5jkiXSVuDFrlFowPUVQ","adding_replicas":{},"removing_replicas":{},"version":3}\n[zk: localhost:2181(CONNECTED) 1]\n\n\n1\n2\n3\n\n\nç¤ºä¾æ°æ®ä¸­ç2:[1,2]è¡¨ç¤ºååº 2 åéäº 2 ä¸ªå¯æ¬ï¼åå«å¨ brokerId ä¸º 1å 2 ç brokerèç¹ä¸­ã\n\néè¿ describe æä»¤ç±»åæ¥æ¥çååºå¯æ¬çåéç»èã\n\nroot@101ed4754423:/opt/kafka_2.13-2.8.1/bin# ./kafka-topics.sh --zookeeper kafka-zookeeper:2181 --describe --topic topic-create \nTopic: topic-create\tTopicId: iBO5jkiXSVuDFrlFowPUVQ\tPartitionCount: 4\tReplicationFactor: 2\tConfigs: \n\tTopic: topic-create\tPartition: 0\tLeader: 2\tReplicas: 2,0\tIsr: 2,0\n\tTopic: topic-create\tPartition: 1\tLeader: 0\tReplicas: 0,1\tIsr: 0,1\n\tTopic: topic-create\tPartition: 2\tLeader: 1\tReplicas: 1,2\tIsr: 1,2\n\tTopic: topic-create\tPartition: 3\tLeader: 2\tReplicas: 2,1\tIsr: 2,1\nroot@101ed4754423:/opt/kafka_2.13-2.8.1/bin#\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\nç¤ºä¾ä¸­ç Topicå Partition åå«è¡¨ç¤ºä¸»é¢åç§°åååºå·ãPartitionCount è¡¨ç¤ºä¸»é¢ä¸­ååºçä¸ªæ°ï¼ReplicationFactor è¡¨ç¤ºå¯æ¬å å­ï¼è Configs è¡¨ç¤ºåå»ºæä¿®æ¹ä¸»é¢æå®çåæ°éç½®ãLeaderè¡¨ç¤ºååºç leader å¯æ¬æå¯¹åºç brokerId,Isr è¡¨ç¤ºååºçISRéåReplicas è¡¨ç¤ºååºçææçå¯æ¬åéæåµï¼å³ AR éåï¼å¶ä¸­çæ°å­é½è¡¨ç¤ºçæ¯ brokerldã\n\nkafka-topics.shèæ¬ä¸­è¿æä¾äºä¸ä¸ª replica-assignment åæ°æ¥æå¨æå®ååºå¯æ¬çåéæ¹æ¡ãè¿ç§æ¹å¼æ ¹æ®ååºå·çæ°å¼å¤§å°æç§ä»å°å°å¤§çé¡ºåºè¿è¡æåï¼ååºä¸ååºä¹é´ç¨éå·âï¼âéå¼ï¼ååºåå¤ä¸ªå¯æ¬ç¨åå·â: âéå¼ãå¹¶ä¸å¨ä½¿ç¨ replica-assignment åæ°åå»ºä¸»é¢æ¶ä¸éè¦åæ¬å¿å¤ç partitions å replication-factor è¿ä¸¤ä¸ªåæ°ã\n\néè¿replica-assignmentåæ°æ¥åå»ºä¸ä¸ªä¸ä¸»é¢topic-createç¸åçåéæ¹æ¡çä¸»é¢ topic-create-same åä¸åçåéæ¹æ¡çä¸»é¢ topic-create-diffã\n\nroot@101ed4754423:/opt/kafka_2.13-2.8.1/bin# ./kafka-topics.sh --zookeeper kafka-zookeeper:2181 --create --topic topic-create-same --replica-assignment 2:0,0:1,1:2,2:1\nCreated topic topic-create-same.\nroot@101ed4754423:/opt/kafka_2.13-2.8.1/bin# \nroot@101ed4754423:/opt/kafka_2.13-2.8.1/bin# ./kafka-topics.sh --zookeeper kafka-zookeeper:2181 --describe  --topic topic-create-same\nTopic: topic-create-same\tTopicId: Uza2jU5bQymPfChvfbstUg\tPartitionCount: 4\tReplicationFactor: 2\tConfigs: \n\tTopic: topic-create-same\tPartition: 0\tLeader: 2\tReplicas: 2,0\tIsr: 2,0\n\tTopic: topic-create-same\tPartition: 1\tLeader: 0\tReplicas: 0,1\tIsr: 0,1\n\tTopic: topic-create-same\tPartition: 2\tLeader: 1\tReplicas: 1,2\tIsr: 1,2\n\tTopic: topic-create-same\tPartition: 3\tLeader: 2\tReplicas: 2,1\tIsr: 2,1\n\t\nroot@101ed4754423:/opt/kafka_2.13-2.8.1/bin# ./kafka-topics.sh --zookeeper kafka-zookeeper:2181 --create --topic topic-create-diff --replica-assignment 1:2,2:0,0:1,1:0\nCreated topic topic-create-diff.\nroot@101ed4754423:/opt/kafka_2.13-2.8.1/bin# ./kafka-topics.sh --zookeeper kafka-zookeeper:2181 --describe  --topic topic-create-diff\nTopic: topic-create-diff\tTopicId: caPBCVSDQQGfE3DNJZKfOQ\tPartitionCount: 4\tReplicationFactor: 2\tConfigs: \n\tTopic: topic-create-diff\tPartition: 0\tLeader: 1\tReplicas: 1,2\tIsr: 1,2\n\tTopic: topic-create-diff\tPartition: 1\tLeader: 2\tReplicas: 2,0\tIsr: 2,0\n\tTopic: topic-create-diff\tPartition: 2\tLeader: 0\tReplicas: 0,1\tIsr: 0,1\n\tTopic: topic-create-diff\tPartition: 3\tLeader: 1\tReplicas: 1,0\tIsr: 1,0\nroot@101ed4754423:/opt/kafka_2.13-2.8.1/bin#\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\n> åä¸ä¸ªååºåçå¯æ¬ä¸è½æéå¤,æ¯å¦æå®äº0:0,1:1è¿ç§,å°±ä¼æ¥åºAdminCommandFailedExceptionå¼å¸¸ã\n\nå¦æååºä¹é´ææå®çå¯æ¬æ°ä¸å,æ¯å¦0:1,0,1:0 è¿ç§,å°±ä¼æ¥åºAdminOperationExceptionå¼å¸¸ãç±»ä¼¼ 0:1,,0:1,1:0 è¿ç§ä¼å¾è·³è¿ä¸ä¸ªååºçè¡ä¸ºä¹æ¯ä¸è¢«åè®¸çã\n\nå¨åå»ºä¸»é¢æ¶æä»¬è¿å¯ä»¥éè¿ config åæ°æ¥è®¾ç½®æè¦åå»ºä¸»é¢çç¸å³åæ°ï¼éè¿è¿ä¸ªåæ°å¯ä»¥è¦çåæ¬çé»è®¤éç½®ãå¨åå»ºä¸»é¢æ¶å¯ä»¥åæ¶è®¾ç½®å¤ä¸ªåæ°ãä¸é¢çç¤ºä¾ä½¿ç¨äº config åæ°æ¥åå»ºä¸ä¸ªä¸»é¢ topic-configã\n\nroot@101ed4754423:/opt/kafka_2.13-2.8.1/bin# ./kafka-topics.sh --zookeeper kafka-zookeeper:2181 --create --topic topic-config --replication-factor 1 --partitions 1 --config cleanup.policy=compact --config max.message.bytes=10000\n\nCreated topic topic-config.\n\nroot@101ed4754423:/opt/kafka_2.13-2.8.1/bin# ./kafka-topics.sh --zookeeper kafka-zookeeper:2181 --describe  --topic topic-config\n\nTopic: topic-config\tTopicId: XOsn8iRBTYaRGR6ZRlr3Wg\tPartitionCount: 1\tReplicationFactor: 1\tConfigs: cleanup.policy=compact,max.message.bytes=10000\n\tTopic: topic-config\tPartition: 0\tLeader: 1\tReplicas: 1\tIsr: 1\n\nroot@101ed4754423:/opt/kafka_2.13-2.8.1/bin#\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\nå¯ä»¥çå° Configs ä¸æ ä¸­åå«äºåå»ºæ¶æè®¾ç½®çåæ°ãæä»¬è¿å¯ä»¥éè¿ ZooKeeper å®¢æ·ç«¯æ¥çæè®¾ç½®çåæ°ï¼å¯¹åºçZooKeeper èç¹ä¸º/config/topics/[topic]ã\n\n[zk: localhost:2181(CONNECTED) 2] get /config/topics/topic-config\n{"version":1,"config":{"cleanup.policy":"compact","max.message.bytes":"10000"}}\n[zk: localhost:2181(CONNECTED) 3]\n\n\n1\n2\n3\n\n\nåå»ºä¸»é¢æ¶å¯¹äºä¸»é¢åç§°çå½åæ¹å¼ä¹å¾æè®²ç©¶ãé¦åæ¯ä¸è½ä¸å·²ç»å­å¨çä¸»é¢ååï¼å¦æåå»ºäºååçä¸»é¢å°±ä¼æ¥éã\n\n> å äº --if-not-exists å¦æå­å¨ä¼å¿½ç¥ï¼ä¸ä¼æ¥éã\n\nkafka-topics.sh èæ¬å¨åå»ºä¸»é¢æ¶è¿ä¼æ£æµæ¯å¦åå«.æ_å­ç¬¦ãä¸ºä»ä¹è¦æ£æµè¿ä¸¤ä¸ªå­ç¬¦å¢?å ä¸ºå¨ Kafkaçåé¨ååç¹æ¶ä¼æ ¹æ®ä¸»é¢çåç§°æ¥å½åmetricsçåç§°ï¼å¹¶ä¸ä¼å°ç¹å·.æ¹æä¸ç»çº¿_ãåè®¾éå°ä¸ä¸ªåç§°ä¸ºtopic.1_2 çä¸»é¢ï¼è¿æä¸ä¸ªåç§°ä¸ºtopic_1_2çä¸»é¢ï¼é£ä¹æåçmetricsçåç§°é½ä¼ä¸ºtopic_1_2ï¼è¿æ ·å°±åçäºåç§°å²çªã\n\n> ä¸»é¢çå½ååæ ·ä¸æ¨è(è½ç¶å¯ä»¥è¿æ ·å)ä½¿ç¨åä¸ç»çº¿__å¼å¤´ï¼å ä¸ºä»¥åä¸ç»çº¿å¼å¤´çä¸»é¢ä¸è¬çä½ Kafka çåé¨ä¸»é¢,æ¯å¦__consumer_offsets å__transaction_stateä¸»é¢çåç§°å¿é¡»ç±å¤§å°åå­æ¯ãæ°å­ãç¹å·.ãè¿æ¥çº¿-ãä¸ç»çº¿_ ç»æï¼ä¸è½ä¸ºç©ºä¸è½åªæç¹å·.ï¼ä¹ä¸è½åªæåç¹å·..ï¼ä¸é¿åº¦ä¸è½è¶è¿ 249ã\n\nKafka ä» 0.10.x çæ¬å¼å§æ¯ææå® broker çæºæ¶ä¿¡æ¯ (æºæ¶çåç§°)ãå¦ææå®äºæºæ¶ä¿¡æ¯ï¼åå¨ååºå¯æ¬åéæ¶ä¼å°½å¯è½å°è®©ååºå¯æ¬åéå°ä¸åçæ¤æ¶ä¸ãæå®æºæ¶ä¿¡æ¯æ¯éè¿broker ç«¯åæ° broker.rack æ¥éç½®çï¼æ¯å¦éç½®å½å broker æå¨çæºæ¶ä¸ºRACK1:\n\nbroker.rack=RACK1\n\n\n1\n\n\nå¦æä¸ä¸ªéç¾¤ä¸­æé¨å broker æå®äºæºæ¶ä¿¡æ¯ï¼å¹¶ä¸å¶ä½ç broker æ²¡ææå®æºæ¶ä¿¡æ¯ï¼é£ä¹å¨æ§è¡ kafka-topics.sh èæ¬åå»ºä¸»é¢æ¶ä¼æ¥åºç AdminOperationException çå¼å¸¸ãæ­¤æ¶è¥è¦æååå»ºä¸»é¢ï¼è¦ä¹å°éç¾¤ä¸­çææ broker é½å ä¸æºæ¶ä¿¡æ¯æé½å»ææºæ¶ä¿¡æ¯ï¼è¦ä¹ä½¿ç¨ --disable-rack-aware åæ°æ¥å¿½ç¥æºæ¶ä¿¡æ¯ãå¦æéç¾¤ä¸­çææ broker é½ææºæ¶ä¿¡æ¯ï¼é£ä¹ä¹å¯ä»¥ä½¿ç¨ --disable-rack-aware åæ°æ¥å¿½ç¥æºæ¶ä¿¡æ¯å¯¹ååºå¯æ¬çåéå½±åã\n\n----------------------------------------\n\n\n# 2. ååºå¯æ¬çåé\n\nçäº§èçååºåéæ¯æä¸ºæ¯æ¡æ¶æ¯æå®å¶æè¦åå¾çååºï¼æ¶è´¹èçååºåéæå®æ¯ä¸ºæ¶è´¹èæå®å¶å¯ä»¥æ¶è´¹æ¶æ¯çååºï¼èè¿éè¯´çååºåéæ¯æä¸ºéç¾¤æå®åå»ºä¸»é¢æ¶çååºå¯æ¬åéæ¹æ¡ï¼å³å¨åªä¸ªbrokerä¸­åå»ºåªäºååºçå¯æ¬ã\n\nä½¿ç¨kafka-topics.sh èæ¬åå»ºä¸»é¢æ¶çåé¨åéé»è¾æç§æºæ¶ä¿¡æ¯ååä¸ºä¸¤ç§ç­ç¥ï¼æªæå®æºæ¶ä¿¡æ¯åæå®æºæ¶ä¿¡æ¯ãå¦æéç¾¤ä¸­ææçbrokerèç¹é½æ²¡æéç½® broker.rack åæ°ï¼æèä½¿ç¨disable-rack-awareåæ°æ¥åå»ºä¸»é¢ï¼é£ä¹éç¨çå°±æ¯æªæå®æºæ¶ä¿¡æ¯çåéç­ç¥ï¼å¦åéç¨çå°±æ¯æå®æºæ¶ä¿¡æ¯çåéç­ç¥ã\n\né»è®¤æåµä¸ï¼kafkaä½¿ç¨çæ¯åºæ¬ç _Round Robin_ åéç­ç¥ï¼å®åªèèå¯ç¨ç Brokerï¼èä¸ä¼æç¡®èèæºæ¶ä¿¡æ¯ãç¶èï¼Kafka æä¾äºä¸ç§å«å Rack Awarenessï¼æºæ¶æç¥ï¼çæºå¶ï¼ä¹å°±æ¯æå®æºæ¶ä¿¡æ¯çåéç­ç¥ï¼ï¼åè®¸å¼åäººåéç½® Broker æå¨çæºæ¶ä¿¡æ¯ï¼å¹¶å¨åéååºæ¶èèæºæ¶ä¿¡æ¯ï¼ä»¥æé«æ°æ®çå¯ç¨æ§åå®¹éæ§ãè¿éå¸¸ç¨äºç¡®ä¿ååºçå¯æ¬å°½éåå¸å¨ä¸åçæºæ¶ä¸ï¼ä»¥åºå¯¹æºæ¶çº§å«çæéãå¨éç½® Rack Awarenessæ¶ï¼å¼åäººåå¯ä»¥å°ä¸åç Broker åéå°ä¸åçæºæ¶ï¼å¹¶æå®æ¯ä¸ª Broker çæºæ¶ä¿¡æ¯ãç¶åï¼Kafka å¨åéååºå¯æ¬æ¶ï¼ä¼èèç¡®ä¿æ¯ä¸ªååºçå¯æ¬å°½éåå¸å¨ä¸åçæºæ¶ä¸ï¼ä»¥å¢å ç³»ç»çå¯ç¨æ§ãå¦å¤å¯¹äº_Round Robin_ç­ç¥ï¼\n\n 1. Kafka ä¼é¦åæ ¹æ®éç¾¤ä¸­å¯ç¨ç Broker æ°éæ¥ç¡®å®è¦åå»ºçååºæ°ãéå¸¸ï¼å¦ææ²¡ææå® partitions åæ°ï¼å®å°ä½¿ç¨é»è®¤å¼ã\n 2. ååºå°è¢«éä¸åéç»å¯ç¨ç Brokerï¼æç§å®ä»¬çç¼å·é¡ºåºï¼ä»ç¬¬ä¸ä¸ª Broker å¼å§ï¼ç¶åä¾æ¬¡åéç»åç»­ç Brokerã\n 3. ä¸æ¦ææååºåéå®æ¯ï¼å¦æè¿æå©ä½ç Brokerï¼ååºåéå°éæ°ä»ç¬¬ä¸ä¸ª Broker å¼å§ï¼ä»¥å¾ªç¯æ¹å¼ç»§ç»­åéã\n\nè¿æå³çå¨é»è®¤æåµä¸ï¼Kafka ä¼å°ååºååå°åéç»å¯ç¨ç Brokerï¼ä»¥å®ç°è´è½½åè¡¡ãè¿ç§é»è®¤çåéç­ç¥æå©äºç¡®ä¿ååºå¨éç¾¤ä¸­çåå¸æ¯ç¸å¯¹ååçï¼ä»¥ç¡®ä¿åä¸ª Broker ä¸çè´è½½å¤§è´ç¸ç­ã\n\n> é»è®¤çåéé»è¾å¯è½ä¸èèåä¸ª Broker çç¡¬ä»¶éç½®ãç½ç»å¸¦å®½ãè´è½½ç­å ç´ ï¼å æ­¤å¨æäºæåµä¸ï¼å¼åäººåå¯è½éè¦èªå®ä¹åéç­ç¥æ¥æ´å¥½å°æ»¡è¶³ç¹å®çéæ±ã\n\nå¦å¤é»è®¤æåµä¸åå»ºä¸»é¢æ¶æ»æ¯ä»ç¼å·ä¸º0çååºä¾æ¬¡è½®è¯¢è¿è¡åéã\n\nåå»ºä¸»é¢æ¶ï¼æ è®ºéè¿ kafka-topics.sh èæ¬è¿æ¯éè¿å¶ä»æ¹å¼å®è´¨ä¸æ¯å¨ ZooKeeper ä¸­ç/brokers/topics èç¹ä¸å»ºä¸è¯¥ä¸»é¢å¯¹åºçå­èç¹å¹¶åå¥ååºå¯æ¬åéæ¹æ¡ï¼å¹¶ä¸å¨/config/topics/ èç¹ä¸åå»ºè¯¥ä¸»é¢å¯¹åºçå­èç¹å¹¶åå¥ä¸»é¢ç¸å³çéç½®ä¿¡æ¯(è¿ä¸ªæ­¥éª¤å¯ä»¥çç¥ä¸æ§è¡)ãè Kafka åå»ºä¸»é¢çå®è´¨æ§å¨ä½æ¯äº¤ç±æ§å¶å¨å¼æ­¥å»å®æçã\n\n----------------------------------------\n\n\n# 3.æ¥çä¸»é¢\n\néè¿listæä»¤å¯ä»¥æ¥çå½åææå¯ç¨çä¸»é¢ã\n\n./kafka-topics.sh--zookeeper kafka-zookeeper:2181/kafka-list\n\n\n1\n\n\nåé¢æä»¬æ¯éè¿describeæä»¤æ¥æ¥çåä¸ªä¸»é¢ä¿¡æ¯çï¼å¦æä¸ä½¿ç¨--topicæå®ä¸»é¢ï¼åä¼å±ç¤ºåºææä¸»é¢çè¯¦ç»ä¿¡æ¯ã--topic è¿æ¯ææå®å¤ä¸ªä¸»é¢ã\n\n./kafka-topics.sh--zookeeper kafka-zookeeper:2181/kafka--describe--topic topic-aaa,topic-bbb\n\n\n1\n\n\nunder-replicated-partitions åunavailable-partitions åæ°é½å¯ä»¥æ¾åºæé®é¢çååºéè¿ under-replicated-partitions åæ°å¯ä»¥æ¾åºææåå«å¤±æå¯æ¬çååºãåå«å¤±æå¯æ¬çååºå¯è½æ­£å¨è¿è¡åæ­¥æä½ï¼ä¹æå¯è½åæ­¥åçå¼å¸¸ï¼æ­¤æ¶ååºçISRéåå°äºAR éåãå¯¹äºéè¿è¯¥åæ°æ¥è¯¢å°çååºè¦éç¹çæ§ï¼å ä¸ºè¿å¾å¯è½æå³çéç¾¤ä¸­çæä¸ª broker å·²ç»å¤±ææåæ­¥æçéä½ç­ã\n\n./kafka-topics.sh--zookeeper kafka-zookeeper:2181/kafka--describe--topic topic-aaa--under-replicated-partitions\n\n\n1\n\n\néè¿ unavailable-partitions åæ°å¯ä»¥æ¥çä¸»é¢ä¸­æ²¡æ leader å¯æ¬çååºï¼è¿äºååºå·²ç»å¤äºç¦»çº¿ç¶æï¼å¯¹äºå¤çççäº§èåæ¶è´¹èæ¥è¯´å¤äºä¸å¯ç¨çç¶æã\n\n./kafka-topics.sh--zookeeper kafka-zookeeper:2181/kafka--describe--topic topic-aaa unavailable-partitions\n\n\n1\n\n\n----------------------------------------\n\n\n# 4.ä¿®æ¹ä¸»é¢\n\nå½ä¸ä¸ªä¸»é¢è¢«åå»ºä¹åï¼ä¾ç¶åè®¸æä»¬å¯¹å¶åä¸å®çä¿®æ¹ï¼æ¯å¦ä¿®æ¹ååºä¸ªæ°ï¼ä¿®æ¹éç½®ç­ï¼è¿ä¸ªä¿®æ¹çåè½å°±æ¯ç±kafka-topics.sh èæ¬ä¸­çalteræä»¤æä¾çã\n\n./kafka-topics.sh--zookeeper kafka-zookeeper:2181/kafka--alter--topic topic-config--partitions 3\n\n\n1\n\n\nå½ä¸»é¢ä¸­çæ¶æ¯åå« key æ¶ (å³ key ä¸ä¸º null)ï¼æ ¹æ® key è®¡ç®ååºçè¡ä¸ºå°±ä¼åå°å½±åãå½ topic-config çååºæ°ä¸º 1 æ¶ï¼ä¸ç®¡æ¶æ¯ç key ä¸ºä½å¼ï¼æ¶æ¯é½ä¼åå¾è¿ä¸ä¸ªååº;å½ååºæ°å¢å å° 3 æ¶ï¼å°±ä¼æ ¹æ®æ¶æ¯ç key æ¥è®¡ç®ååºå·ï¼åæ¬åå¾ååº 0 çæ¶æ¯ç°å¨æå¯è½ä¼åå¾ååº 1 æååº 2ãå¦æ­¤è¿ä¼å½±åæ¢å®æ¶æ¯çé¡ºåºï¼æä»¥å¨å¢å ååºæ°æ¶ä¸å®è¦ä¸æèåè¡ãå¯¹äºåºäº key è®¡ç®çä¸»é¢èè¨ï¼å»ºè®®å¨ä¸å¼å§å°±è®¾ç½®å¥½ååºæ°éé¿åä»¥åå¯¹å¶è¿è¡è°æ´ã\n\nç®å Kafka åªæ¯æå¢å ååºæ°èä¸æ¯æåå°ååºæ°ãæ¯å¦æä»¬åå°ä¸»é¢ topic-config çååºæ°ä¿®æ¹ä¸º 1ï¼å°±ä¼æ¥åº * InvalidPartitionException* çå¼å¸¸ãä¸ºä»ä¹ä¸æ¯æåå°ååºï¼\n\næç§ Kafka ç°æçä»£ç é»è¾ï¼æ­¤åè½å®å¨å¯ä»¥å®ç°ï¼ä¸è¿ä¹ä¼ä½¿ä»£ç çå¤æåº¦æ¥å§å¢å¤§ãå®ç°æ­¤åè½éè¦èèçå ç´ å¾å¤ï¼æ¯å¦å é¤çååºä¸­çæ¶æ¯è¯¥å¦ä½å¤ç? å¦æéçååºä¸èµ·æ¶å¤±åæ¶æ¯çå¯é æ§å¾ä¸å°ä¿é;å¦æéè¦ä¿çååéè¦èèå¦ä½ä¿çãç´æ¥å­å¨å°ç°æååºçå°¾é¨ï¼æ¶æ¯çæ¶é´æ³å°±ä¸ä¼éå¢ï¼å¦æ­¤å¯¹äº SparkãFlink è¿ç±»éè¦æ¶æ¯æ¶é´æ³(äºä»¶æ¶é´)çç»ä»¶å°ä¼åå°å½±å; å¦æåæ£æå¥ç°æçååºï¼é£ä¹å¨æ¶æ¯éå¾å¤§çæ¶åï¼åé¨çæ°æ®å¤å¶ä¼å ç¨å¾å¤§çèµæºï¼èä¸å¨å¤å¶æé´ï¼æ­¤ä¸»é¢çå¯ç¨æ§åå¦ä½å¾å°ä¿é?ä¸æ­¤åæ¶ï¼é¡ºåºæ§é®é¢.äºå¡æ§é®é¢ï¼ä»¥åååºåå¯æ¬çç¶ææºåæ¢é®é¢é½æ¯ä¸å¾ä¸é¢å¯¹çãåè§è¿ä¸ªåè½çæ¶çç¹å´æ¯å¾ä½çï¼å¦æççéè¦å®ç°æ­¤ç±»åè½ï¼åå®å¨å¯ä»¥éæ°åå»ºä¸ä¸ªååºæè¾å°çä¸»é¢ï¼ç¶åå°ç°æä¸»é¢ä¸­çæ¶æ¯æç§æ¢å®çé»è¾å¤å¶è¿å»å³å¯ã\n\né¤äºä¿®æ¹ååºæ°ï¼æä»¬è¿å¯ä»¥ä½¿ç¨ kafka-topics.sh èæ¬ç alter æä»¤æ¥åæ´ä¸»é¢çéç½®ãå¨åå»ºä¸»é¢çæ¶åæä»¬å¯ä»¥éè¿ config åæ°æ¥è®¾ç½®æè¦åå»ºä¸»é¢çç¸å³åæ°ï¼éè¿è¿ä¸ªåæ°å¯ä»¥è¦çåæ¬çé»è®¤éç½®ãå¨åå»ºå®ä¸»é¢ä¹åï¼æä»¬è¿å¯ä»¥éè¿ alter æä»¤éå config åæ°å¢å æä¿®æ¹ä¸äºéç½®ä»¥è¦çå®ä»¬éç½®åæçå¼ã\n\n./kafka-topics.sh--zookeeper kafka-zookeeper:2181/kafka--alter--topic topic-config--config max.message.bytes=20000\n\n\n1\n\n\næä»¬å¯ä»¥éè¿ delete-config åæ°æ¥å é¤ä¹åè¦ççéç½®ï¼ä½¿å¶æ¢å¤åæçé»è®¤å¼ãä¸é¢çç¤ºä¾å°ä¸»é¢ topic-config ä¸­ææä¿®æ¹è¿çéç½®é½å é¤:\n\n./kafka-topics.sh--zookeeper kafka-zookeeper:2181/kafka--alter--topic topic-config--delete-config segment.bytes\n\n\n1\n\n\næ³¨æå°å¨åæ´ (å¢ãå ãæ¹)éç½®çæä½æ§è¡ä¹åé½ä¼æç¤ºä¸æ®µåè­¦ä¿¡æ¯ï¼ææäºä½¿ç¨kafka-topics.shèæ¬ç alter æä»¤æ¥åæ´ä¸»é¢éç½®çåè½å·²ç»è¿æ¶ (deprecated)ï¼å°å¨æªæ¥ççæ¬ä¸­å é¤ï¼å¹¶ä¸æ¨èä½¿ç¨ kafka-configs.sh èæ¬æ¥å®ç°ç¸å³åè½ã\n\n----------------------------------------\n\n\n# 5.éç½®ç®¡ç\n\nkafka-configs.sh èæ¬æ¯ä¸é¨ç¨æ¥å¯¹éç½®è¿è¡æä½çï¼è¿éçæä½æ¯æå¨è¿è¡ç¶æä¸ä¿®æ¹åæçéç½®ï¼å¦æ­¤å¯ä»¥è¾¾å°å¨æåæ´çç®çãkafka-configs.sh èæ¬åå«åæ´éç½® alter åæ¥çéç½® describe è¿ä¸¤ç§æä»¤ç±»åãåä½¿ç¨ kafka-topics.sh èæ¬åæ´éç½®çååä¸æ ·ï¼å¢ãå ãæ¹çè¡ä¸ºé½å¯ä»¥çä½åæ´æä½ï¼ä¸è¿ kafka-configs.sh èæ¬ä¸ä»å¯ä»¥æ¯ææä½ä¸»é¢ç¸å³çéç½®ï¼è¿å¯ä»¥æ¯ææä½ brokerãç¨æ·åå®¢æ·ç«¯è¿3ä¸ªç±»åçéç½®ã\n\nkafka-configs.sh èæ¬ä½¿ç¨entity-typeåæ°æ¥æå®æä½éç½®çç±»åï¼å¹¶ä¸ä½¿ç¨entity-name åæ°æ¥æå®æä½éç½®çåç§°ãæ¯å¦æ¥çä¸»é¢ topic-config çéç½®å¯ä»¥æå¦ä¸æ¹å¼æ§è¡:\n\n./kafka-configs.sh--zookeeper kafka-zookeeper:2181/kafka--describe--entity-typetopics--entity-name topic-config\n\n\n1\n\n\n--describeæå®äºæ¥çéç½®çæä»¤å¨ä½,--entity-typeæå®äºæ¥çéç½®çå®ä½ç±»--entity-name æå®äºæ¥çéç½®çå®ä½åç§°ãentity-type åªå¯ä»¥éç½® 4ä¸ªå¼: topics ãbrokers ãclients åusers,entity-type ä¸entity-name çå¯¹åºå³ç³»å¦ä¸ã\n\nENTITY-TYPE çéä¹            ENTITY-NAME çéä¹\nä¸»é¢ç±»åçéç½®ï¼åå¼ä¸º topics         æå®ä¸»é¢çåç§°\nbroker ç±»åçéç½®ï¼åå¼ä¸º brokers   æå®brokerIdçå¼\nå®¢æ·ç«¯ç±»åçéç½®ï¼åå¼ä¸º clients       æå®clientIdçå¼\nç¨æ·ç±»åçéç½®ï¼åå¼ä¸º users          æå®ç¨æ·å\n\nä½¿ç¨ alter æä»¤åæ´éç½®æ¶ï¼éè¦éå add-configå delete-config è¿ä¸¤ä¸ªåæ°èµ·ä½¿ç¨ãadd-config åæ°ç¨æ¥å®ç°éç½®çå¢ãæ¹ï¼å³è¦çåæçéç½®;delete-config åæ°ç¨æ¥å®ç°éç½®çå ï¼å³å é¤è¢«è¦ççéç½®ä»¥æ¢å¤é»è®¤å¼ãä¸é¢çç¤ºä¾æ¼ç¤ºäº add-config åæ°çç¨æ³ï¼è¦çäºä¸»é¢ topic-config çä¸¤ä¸ªéç½®cleanup.policyåmax.message.bytes(ç¤ºä¾æ§è¡ä¹åä¸»é¢ topic-config æ ä»»ä½è¢«è¦ççéç½®):\n\n./kafka-configs.sh--zookeeper kafka-zookeeper:2181/kafka--alter--entity-type topics--entity-name topic-config--add-configcleanup.policy=compact,max.message.bytes=10000\n\n        ./kafka-configs.sh--zookeeper kafka-zookeeper:2181kafka--describe--entity-type topics--entity-name topic-config\n\n        ./kafka-topics.sh--zookeeper kafka-zookeeper:2181kafka--describe--topic topic-config--topics-with-overrides\n\n\n1\n2\n3\n4\n5\n\n\nä¸é¢ç¤ºä¾ä¸­è¿ä½¿ç¨äºä¸¤ç§æ¹å¼æ¥æ¥çä¸»é¢ topic-config ä¸­éç½®ä¿¡æ¯ï¼æ³¨ææ¯è¾è¿ä¸¤èä¹é´çå·®å«ã\n\nä½¿ç¨delete-configåæ°å é¤éç½®æ¶ï¼åadd-configåæ°ä¸æ ·æ¯æå¤ä¸ªéç½®çæä½ï¼å¤ä¸ªéç½®ä¹é´ç¨éå·, åéï¼ä¸é¢çç¤ºä¾ä¸­æ¼ç¤ºäºå¦ä½å é¤ä¸é¢ååå¢å çä¸»é¢éç½®:\n\n./kafka-configs.sh--zookeeper kafka-zookeeper:2181/kafka--alter--entity-type topics--entity-name topic-config--delete-configcleanup.policy,max.message.bytes\n\n        ./kafka-configs.sh--zookeeper kafka-zookeeper:2181/kafka--describe--entity-type topics--entity-name topic-config\n\n\n1\n2\n3\n\n\n----------------------------------------\n\n\n# 6.ä¸»é¢ç«¯åæ°\n\nä¸ä¸»é¢ç¸å³çææéç½®åæ°å¨ broker å±é¢é½æå¯¹åºåæ°ï¼æ¯å¦ä¸»é¢ç«¯åæ° cleanup.policy å¯¹åº broker å±é¢ç log.cleanup.policyãå¦ææ²¡æä¿®æ¹è¿ä¸»é¢çä»»ä½éç½®åæ°é£ä¹å°±ä¼ä½¿ç¨ broker ç«¯çå¯¹åºåæ°ä½ä¸ºå¶é»è®¤å¼ãå¯ä»¥å¨åå»ºä¸»é¢æ¶è¦çç¸åºåæ°çé»è®¤å¼.ä¹å¯ä»¥å¨åå»ºå®ä¸»é¢ä¹ååæ´ç¸åºåæ°çé»è®¤å¼ãæ¯å¦å¨åå»ºä¸»é¢çæ¶åæ²¡ææå®cleanup.policy åæ°çå¼ï¼é£ä¹å°±ä½¿ç¨ log.cleanup.policy åæ°æéç½®çå¼ä½ä¸ºcleanup.policyçå¼ã\n\nä¸è¡¨ååºäºä¸»é¢ç«¯åæ°ä¸ broker ç«¯åæ°çå¯¹ç§å³ç³»ã\n\nä¸»é¢ç«¯åæ°                                     ä½ç¨                                                          BROKERç«¯åæ°\ncleanup.policy                            æ¥å¿åç¼©ç­ç¥ãé»è®¤å¼ä¸º deleteï¼è¿å¯ä»¥éç½®ä¸º compactã                          log.cleanup.policy\ncompression.type                          æ¶æ¯çåç¼©ç±»åãé»è®¤å¼ä¸º producerï¼è¡¨ç¤ºä¿ççäº§èä¸­æä½¿ç¨çåå§åç¼©ç±»åãè¿å¯ä»¥éç½®ä¸º             compression.type\n                                          uncompressedãsnappyãIz4ãgzip\ndelete.retention.ms                       è¢«æ è¯ä¸ºå é¤çæ°æ®è½å¤ä¿çå¤ä¹ãé»è®¤å¼ä¸º 86400000ï¼å³1å¤©                           log.cleaner.delete.retention.ms\nfile.delete.delay.ms                      æ¸çæä»¶ä¹åå¯ä»¥ç­å¾å¤é¿æ¶é´ï¼é»è®¤å¼ä¸º60000ï¼å³1åé                               log.segment.delete.delay.ms\nflush. messages                           éè¦æ¶éå¤å°æ¶æ¯æä¼å°å®ä»¬å¼ºå¶å·æ°å°ç£çï¼é»è®¤å¼ä¸º Long.MAX                          log.flush.interval.messages\n                                          VALUEï¼å³è®©æä½ç³»ç»æ¥å³å®ãå»ºè®®ä¸è¦ä¿®æ¹æ­¤åæ°çé»è®¤å¼\nflush.ms                                  éè¦ç­å¾å¤ä¹æä¼å°æ¶æ¯å¼ºå¶å·æ°å°ç£çï¼é»è®¤å¼ä¸º Long.MAX                            log.flush.interval.ms\n                                          VALUEï¼å³è®©æä½ç³»ç»æ¥å³å®ãå»ºè®®ä¸è¦ä¿®æ¹æ­¤åæ°çé»è®¤å¼\nfollower.replication.throttled.replicas   ç¨æ¥éç½®è¢«éå¶éççä¸»é¢æå¯¹åºçfollower å¯æ¬åè¡¨                               follower.replication.throttled.replicas\nindex.interval.bytes                      ç¨æ¥æ§å¶æ·»å ç´¢å¼é¡¹çé¢çãæ¯è¶è¿è¿ä¸ªåæ°æè®¾ç½®çæ¶æ¯å­èæ°æ¶å°±å¯ä»¥æ·»å ä¸ä¸ªæ°çç´¢å¼é¡¹ï¼é»è®¤å¼ä¸º 4096        log.index.interval.bytes\nleader.replication.throttled.replicas     ç¨æ¥éç½®è¢«éå¶éççä¸»é¢æå¯¹åºç leaderå¯æ¬åè¡¨                                 leader.replication.throttled.replicas\nmax.message.bytes                         æ¶æ¯çæå¤§å­èæ°ï¼é»è®¤å¼ä¸º 1000012                                       message.max.bytes\nmessage.format. version                   æ¶æ¯æ ¼å¼ççæ¬ï¼é»è®¤å¼ä¸º 2.0-IV1                                        log. message. format.version\nmessage.timestamp.difference.max.ms       æ¶æ¯ä¸­èªå¸¦çæ¶é´æ³ä¸ broker æ¶å°æ¶æ¯æ¶çæ¶é´æ³ä¹é´æå¤§çå·®å¼ï¼é»è®¤å¼ä¸ºLong.MAX             log.message.timestamp.difference.max.ms\n                                          VALUEãæ­¤åæ°åªæå¨meesage.timestamp.type åæ°è®¾ç½®ä¸º CreateTime æ¶æææ\nmessage.timestamp.type                    æ¶æ¯çæ¶é´æ³ç±»åãé»è®¤å¼ä¸º CreateTime,è¿å¯ä»¥è®¾ç½®ä¸º LogAppendTime               log.message.timestamp.type\nmin.cleanable.dirty.ratio                 æ¥å¿æ¸çæ¶çæå°æ±¡æµçï¼é»è®¤å¼ä¸º 0.5                                        log.cleaner.min.cleanable.ratio\nmin.compaction.lag.ms                     æ¥å¿åè¢«æ¸çåçæå°ä¿çæ¶é´ï¼é»è®¤å¼ä¸º0                                        log.cleaner.min.compaction.lag.ms\nmin.insync.replicas                       ååº ISR éåä¸­è³å°è¦æå¤å°ä¸ªå¯æ¬ï¼é»è®¤å¼ä¸º 1                                  min.insync.replicas\npreallocate                               å¨åå»ºæ¥å¿åæ®µçæ¶åæ¯å¦è¦é¢åéç©ºé´,é»è®¤å¼ä¸º false                               log.preallocate\nretention.bytes                           ååºä¸­æè½ä¿ççæ¶æ¯æ»éï¼é»è®¤å¼ä¸º-1,å³æ²¡æéå¶                                   log.retention.bytes\nretention.ms                              ä½¿ç¨ delete çæ¥å¿æ¸çç­ç¥æ¶æ¶æ¯è½å¤ä¿çå¤é¿æ¶é´ï¼é»è®¤å¼ä¸º 604800000ï¼å³ 7             log.retention.ms\n                                          å¤©ãå¦æè®¾ç½®ä¸º-1ï¼åè¡¨ç¤ºæ²¡æéå¶\nsegment.bytes                             æ¥å¿åæ®µçæå¤§å¼ï¼é»è®¤å¼ä¸º 1073741824,å³ 1GB                              log.segment.bytes\nsegment.index.bytes                       æ¥å¿åæ®µç´¢å¼çæå¤§å¼ï¼é»è®¤å¼ä¸º 10485760,å³ 10MB                             log.index.size.max.bytes\nsegment.jitter.ms                         æ»å¨æ¥å¿åæ®µæ¶ï¼å¨ segment.ms çåºç¡ä¹ä¸å¢å çéæºæ°ï¼é»è®¤ä¸º 0                      log.roll.jitter.ms\nsegment.ms                                æé¿å¤ä¹æ»å¨ä¸æ¬¡æ¥å¿åæ®µï¼é»è®¤å¼ä¸º604800000ï¼å³ 7 å¤©                            log.roll.ms\nunclean.leader.election.enable            æ¯å¦å¯ä»¥ä»é ISR éåä¸­éä¸¾ leader å¯æ¬é»è®¤å¼ä¸º falseï¼å¦æè®¾ç½®ä¸º trueï¼åå¯è½é ææ°æ®ä¸¢å¤±   unclean.leader.election.enable\n\n----------------------------------------\n\n\n# 7.å é¤ä¸»é¢\n\nå¦æç¡®å®ä¸åä½¿ç¨ä¸ä¸ªä¸»é¢ï¼é£ä¹æå¥½çæ¹å¼æ¯å°å¶å é¤ï¼è¿æ ·å¯ä»¥éæ¾ä¸äºèµæºï¼æ¯å¦ç£çãæä»¶å¥æç­ãkafka-topics.sh èæ¬ä¸­ç delete æä»¤å°±å¯ä»¥ç¨æ¥å é¤ä¸»é¢ï¼æ¯å¦å é¤ä¸ä¸ªä¸»é¢ topic-delete:\n\n./kafka-topics.sh--zookeeper kafka-zookeeper:2181/kafka--delete--topic topic-delete\n\n\n1\n\n\nå¯ä»¥çå°å¨æ§è¡å®å é¤å½ä»¤ä¹åä¼æç¸å³çæç¤ºä¿¡æ¯ï¼è¿ä¸ªæç¤ºä¿¡æ¯å broker ç«¯éç½®åæ°delete.topic,enable æå³ãå¿é¡»å° delete.topic.enable åæ°éç½®ä¸º true æè½å¤é¤ä¸»é¢ï¼è¿ä¸ªåæ°çé»è®¤å¼å°±æ¯ trueï¼å¦æéç½®ä¸º falseï¼é£ä¹å é¤ä¸»é¢çæä½å°ä¼è¢«å¿½ç¥ãå¨å®éçäº§ç¯å¢ä¸­ï¼å»ºè®®å°è¿ä¸ªåæ°çå¼è®¾ç½®ä¸º trueã\n\nå¦æè¦å é¤çä¸»é¢æ¯ Kafka çåé¨ä¸»é¢ï¼é£ä¹å é¤æ¶å°±ä¼æ¥éãæªè³ Kaka 2.0.0ï¼Kafkaçåé¨ä¸å±åå« 2 ä¸ªä¸»é¢ï¼åå«ä¸º__consumer__offsets å__transaction__stateãä¸é¢çç¤ºä¾ä¸­å°è¯å é¤åé¨ä¸»é¢__consumer__offsets:\n\n./kafka-topics.sh--zookeeper kafka-zookeeper:2181/kafka--delete--topic __consumer_offsets\n\n\n1\n\n\nå°è¯å é¤ä¸ä¸ªä¸å­å¨çä¸»é¢ä¹ä¼æ¥éãè¿éå alter æä»¤ä¸æ ·ï¼ä¹å¯ä»¥éè¿ if-exists åæ°æ¥å¿½ç¥å¼å¸¸ã\n\nä½¿ç¨ kafka-topics.sh èæ¬å é¤ä¸»é¢çè¡ä¸ºæ¬è´¨ä¸åªæ¯å¨ ZooKeeper ä¸­ç/admin/delete/topics è·¯å¾ä¸åå»ºä¸ä¸ªä¸å¾å é¤ä¸»é¢ååçèç¹ï¼ä»¥æ­¤æ è®°è¯¥ä¸»é¢ä¸ºå¾å é¤çç¶æãä¸åå»ºä¸»é¢ç¸åçæ¯ï¼çæ­£å é¤ä¸»é¢çå¨ä½ä¹æ¯ç±Kafka çæ§å¶å¨è´è´£å®æçã\n\nå é¤ä¸»é¢æ¯ä¸ä¸ªä¸å¯éçæä½ï¼ä¸æ¦ä¸»é¢è¢«å é¤ï¼ä¸å¶ç¸å³çæææ¶æ¯æ°æ®ä¼è¢«å¨é¨å é¤ã\n\nä¸é¢ååºäºkafka-topics.shèæ¬ä¸­çåæ°ã\n\nåæ°åç§°                          ä½ç¨\nalter                         ç¨äºä¿®æ¹ä¸»é¢ï¼åæ¬ååºæ°åä¸»é¢çéç½®\nconfig<é®å¼å¯¹>                   åå»ºæä¿®æ¹ä¸»é¢æ¶ï¼ç¨äºè®¾ç½®ä¸»é¢çº§å«çåæ°\ncreate                        åå»ºä¸»é¢\ndelete                        å é¤ä¸»é¢\ndelete-config<éç½®åç§°>           å é¤ä¸»é¢çº§å«è¢«è¦ççéç½®\ndescribe                      æ¥çä¸»é¢çè¯¦ç»ä¿¡æ¯\ndisable-rack-aware            åå»ºä¸»é¢æ¶ä¸èèæºæ¶ä¿¡æ¯\nhelp                          æå°å¸®å©ä¿¡æ¯\nif-exists                     ä¿®æ¹æå é¤ä¸»é¢æ¶ä½¿ç¨ï¼åªæå½ä¸»é¢å­å¨æ¶æä¼æ§è¡å¨ä½\nif-not-exists                 åå»ºä¸»é¢æ¶ä½¿ç¨ï¼åªæä¸»é¢ä¸å­å¨æ¶æä¼æ§è¡å¨ä½\nlist                          ååºææå¯ç¨çä¸»é¢\npartitions <ååºæ°>              åå»ºä¸»é¢æå¢å ååºæ¶æå®ååºæ°\nreplica-assignment<åéæ¹æ¡>      æå·¥æå®ååºå¯æ¬åéæ¹æ¡\nreplication-factor<å¯æ¬æ°>       åå»ºä¸»é¢æ¶æå®å¯æ¬å å­\ntopic <ä¸»é¢åç§°>                  æå®ä¸»é¢åç§°\ntopics-with-overrides         ä½¿ç¨ describe æ¥çä¸»é¢ä¿¡æ¯æ¶ï¼åªå±ç¤ºåå«è¦çéç½®çä¸»é¢\nunavailable-partitions        ä½¿ç¨ describe æ¥çä¸»é¢ä¿¡æ¯æ¶ï¼åªå±ç¤ºåå«æ²¡æ leader å¯æ¬ç\nååº                            \nunder-replicated-partitions   ä½¿ç¨ describe æ¥çä¸»é¢ä¿¡æ¯æ¶ï¼åªå±ç¤ºåå«å¤±æå¯æ¬çååº\nzookeeper                     æå®è¿æ¥ç ZooKeeper å°åä¿¡æ¯ (å¿å¡«é¡¹)\n\n----------------------------------------',normalizedContent:'çäº§èåæ¶è´¹èçè®¾è®¡çå¿µæéå¯¹çé½æ¯ä¸»é¢åååºå±é¢çæä½ãä¸»é¢ä½ä¸ºæ¶æ¯çå½ç±»ï¼å¯ä»¥åç»åä¸ºä¸å°å¤ä¸ªååºï¼ååºå¯ä»¥çåæ¯å¯¹æ¶æ¯çäºæ¬¡åç±»ãååºçååä¸ºkafkaæä¾äºå¯ä¼¸ç¼©æ§ï¼æ°´å¹³æ©å±åè½ï¼è¿å¯ä»¥éè¿å¤å¯æ¬å³ä½¿æ¥ä¸ºkafkaæä¾æ°æ®åä½ä»¥æé«æ°æ®å¯é æ§ã\n\nä»kafkaçåºå±å®ç°æ¥çï¼ä¸»é¢åååºé½æ¯é»è¾ä¸çæ¦å¿µï¼ååºå¯ä»¥æä¸å°å¤ä¸ªå¯æ¬ï¼æ¯ä¸ªå¯æ¬å¯¹åºä¸ä¸ªæ¥å¿æä»¶ï¼æ¯ä¸ªæ¥å¿æä»¶å¯¹åºä¸å°å¤ä¸ªæ¥å¿åæ®µï¼æ¯ä¸ªæ¥å¿åæ®µè¿å¯ä»¥ç»åä¸ºç´¢å¼æä»¶ ï¼æ¥å¿å­å¨æä»¶ å å¿«ç§æä»¶ ç­ã\n\ntopicç®¡çåæ¬åå»ºï¼æ¥çtopicä¿¡æ¯ï¼ä¿®æ¹åå é¤ç­æä½ãå¯ä»¥éè¿kafkaæä¾ç kafka-topics.sh èæ¬æ¥æ§è¡è¿äºæä½ï¼è¿ä¸ªèæ¬ä½äº$kafka_home/bin/ç®å½ä¸ï¼å¶æ ¸å¿ä»£ç ä»ä»åªæä¸è¡ï¼\n\nexec $ (dirname $0) /kafka-run-class.sh kafka.admin.topiccommand "$@"\n\n\n1\n\n\nå¯ä»¥çå°å¶å®è´¨ä¸æ¯è°ç¨äº kafka.admin.topiccommandç±»æ¥æ§è¡ä¸»é¢ç®¡ççæä½ãä¸»é¢çç®¡çå¹¶éåªæä½¿ç¨kafka-topics.sh èæ¬è¿ä¸ç§æ¹å¼ï¼æä»¬è¿å¯ä»¥éè¿kafkaadminclient çæ¹å¼å®ç°ï¼è¿ç§æ¹å¼æ¬è´¨ä¸æ¯éè¿écreatetopicsrequest,deletetopicsrequestç­è¯·æ±æ¥å®ç°çï¼ã\n\n----------------------------------------\n\n\n# 1. åå»ºä¸»é¢\n\nå¦æ broker ç«¯éç½®åæ° auto.create.topics.enable è®¾ç½®ä¸º tue(é»è®¤å¼å°±æ¯ true) ï¼é£ä¹å½çäº§èåä¸ä¸ªå°æªåå»ºçä¸»é¢åéæ¶æ¯æ¶,ä¼èªå¨åå»ºä¸ä¸ªååºæ°ä¸º num.partitions(é»è®¤å¼ä¸º1) ãå¯æ¬å å­ä¸º default.replication.factor (é»è®¤å¼ä¸º1) çä¸»é¢ãé¤æ­¤ä¹å¤ï¼å½ä¸ä¸ªæ¶è´¹èå¼å§ä»æªç¥ä¸»é¢ä¸­è¯»åæ¶æ¯æ¶ï¼æèå½ä»»æä¸ä¸ªå®¢æ·ç«¯åæªç¥ä¸»é¢åéåæ°æ®è¯·æ±æ¶ï¼é½ä¼æç§éç½®åæ° num.partitions å default.replication.factor çå¼æ¥åå»ºä¸ä¸ªç¸åºçä¸»é¢ãå¾å¤æ¶åï¼è¿ç§èªå¨åå»ºä¸»é¢çè¡ä¸ºé½æ¯éé¢æçãé¤éæç¹æ®åºç¨éæ±ï¼å¦åä¸å»ºè®®å° auto.create.topics.enable åæ°è®¾ç½®ä¸º trueï¼è¿ä¸ªåæ°ä¼å¢å ä¸»é¢çç®¡çä¸ç»´æ¤çé¾åº¦ã\n\nä¸é¢éè¿ kafka-topics.shèæ¬åå»ºä¸ä¸ªtopicã\n\nroot@101ed4754423:/opt/kafka_2.13-2.8.1/bin# ./kafka-topics.sh --zookeeper kafka-zookeeper:2181 --create --topic topic-create --replication-factor 2 --partitions 4\ncreated topic topic-create.\nroot@101ed4754423:/opt/kafka_2.13-2.8.1/bin#\n\n\n1\n2\n3\n\n\nä¸é¢çç¤ºä¾ä¸­åå»ºäºä¸ä¸ªååºæ°ä¸º 4ãå¯æ¬å å­ä¸º 2 çä¸»é¢ãç¤ºä¾ä¸­çç¯å¢æ¯ä¸ä¸ªåå« 3ä¸ª broker èç¹çéç¾¤ï¼æ¯ä¸ªèç¹çåç§°å brokerld çå¯¹ç§å³ç³»å¦ä¸:\n\nèç¹åç§°     brokerid\nkafka0   0\nkafka1   1\nkafka2   2\n\nå¨æ§è¡å®èæ¬ä¹åï¼kafka ä¼å¨ log.dir æ log.dirs åæ°æéç½®çç®å½ä¸åå»ºç¸åºçä¸»é¢ååºï¼é»è®¤æåµä¸è¿ä¸ªç®å½ä¸º/tmp/kafka-logs/ãæä»¬æ¥çå½åbrokerèç¹ä¸åå»ºçä¸»é¢ååºï¼\n\nroot@101ed4754423:/kafka# cd kafka-logs-101ed4754423/\nroot@101ed4754423:/kafka/kafka-logs-101ed4754423# ls -al ./ | grep topic-create\ndrwxr-xr-x  2 root root 4096 oct 31 13:49 topic-create-0\ndrwxr-xr-x  2 root root 4096 oct 31 13:49 topic-create-1\nroot@101ed4754423:/kafka/kafka-logs-101ed4754423#\n\n\n1\n2\n3\n4\n5\n\n\nå¯ä»¥çå°å½åèç¹ä¸­åå»ºäº 2 ä¸ªæä»¶å¤¹ topic-create-0 å topic-create-1ï¼å¯¹åºä¸»é¢ topic-create ç2 ä¸ªååºç¼å·ä¸º0å1 çååºï¼å½åæ¹å¼å¯ä»¥æ¦æ¬ä¸º<topic>-<partition>ãä¸¥è°¨å°è¯´ï¼å¶å®<topic>-<partition> è¿ç±»æä»¶å¤¹å¯¹åºçä¸æ¯ååºï¼ååºåä¸»é¢ä¸æ ·æ¯ä¸ä¸ªé»è¾çæ¦å¿µèæ²¡æç©çä¸çå­å¨ãå¹¶ä¸è¿éæä»¬ä¹åªæ¯çå°äº 2 ä¸ªååºï¼èæä»¬åå»ºçæ¯ 4 ä¸ªååºï¼å¶ä½ 2ä¸ªååºè¢«åéå°äº kafka1 å kafka2 èç¹ä¸­ã\n\n# ls -al ./ |grep topic-create\ndrwxr-xr-x  2 root root 4096 oct 31 13:49 topic-create-1\ndrwxr-xr-x  2 root root 4096 oct 31 13:49 topic-create-2\ndrwxr-xr-x  2 root root 4096 oct 31 13:49 topic-create-3\n#\n\n\n1\n2\n3\n4\n5\n\n\n# ls -al ./ |grep topic-create\ndrwxr-xr-x  2 root root 4096 oct 31 13:49 topic-create-0\ndrwxr-xr-x  2 root root 4096 oct 31 13:49 topic-create-2\ndrwxr-xr-x  2 root root 4096 oct 31 13:49 topic-create-3\n#\n\n\n1\n2\n3\n4\n5\n\n\nä¸ä¸ª broker èç¹ä¸å±åå»ºäº 8 ä¸ªæä»¶å¤¹ï¼è¿ä¸ªæ°å­ 8 å®è´¨ä¸æ¯ååºæ° 4ä¸å¯æ¬å å­2 çä¹ç§¯ãæ¯ä¸ªå¯æ¬( æèæ´ç¡®åå°è¯´åºè¯¥æ¯æ¥å¿ï¼å¯æ¬ä¸æ¥å¿ä¸ä¸å¯¹åº)æçæ­£å¯¹åºäºä¸ä¸ªå½åå½¢å¼å¦<topic>-<partition>çæä»¶æ¥ã\n\nä¸»é¢åååºé½æ¯æä¾ç»ä¸å±ç¨æ·çæ½è±¡ï¼èå¨å¯æ¬å±é¢ææ´å ç¡®åå°è¯´æ¯ log å±é¢ææå®éç©çä¸çå­å¨ãåä¸ä¸ªååºä¸­çå¤ä¸ªå¯æ¬å¿é¡»åå¸å¨ä¸åç broker ä¸­ï¼è¿æ ·æè½æä¾ææçæ°æ®åä½ãå¯¹äºç¤ºä¾ä¸­çååºæ°ä¸º 4å¯æ¬å å­ä¸º 2ãbroker æ°ä¸º 3 çæåµä¸ï¼æç§ 2ã3ã3 çååºå¯æ¬ä¸ªæ°åéç»åä¸ª broker æ¯æä¼çéæ©ãåæ¯å¦å¨ååºæ°ä¸º 3ãå¯æ¬å å­ä¸º 3ï¼å¹¶ä¸ broker æ°åæ ·ä¸º 3 çæåµä¸ï¼åé 3ã3ã3çååºå¯æ¬ä¸ªæ°ç»åä¸ª broker æ¯æä¼çéæ©ï¼ä¹å°±æ¯æ¯ä¸ª broker ä¸­é½æ¥æææååºçä¸ä¸ªå¯æ¬ã\n\n\n\næä»¬ä¸ä»å¯ä»¥éè¿æ¥å¿æä»¶çæ ¹ç®å½æ¥æ¥çéç¾¤ä¸­åä¸ª broker çååºå¯æ¬çåéæåµ,å¯ä»¥éè¿ zookeeper å®¢æ·ç«¯æ¥è·åãå½åå»ºä¸ä¸ªä¸»é¢æ¶ä¼å¨ zookeeper ç/brokers/topicsç®å½ä¸åå»ºä¸ä¸ªååçå®èç¹ï¼è¯¥èç¹ä¸­è®°å½äºè¯¥ä¸»é¢çååºå¯æ¬åéæ¹æ¡ãç¤ºä¾å¦ä¸ï¼\n\n[zk: localhost:2181(connected) 0] get /brokers/topics/topic-create\n{"partitions":{"0":[2,0],"1":[0,1],"2":[1,2],"3":[2,1]},"topic_id":"ibo5jkixsvudfrlfowpuvq","adding_replicas":{},"removing_replicas":{},"version":3}\n[zk: localhost:2181(connected) 1]\n\n\n1\n2\n3\n\n\nç¤ºä¾æ°æ®ä¸­ç2:[1,2]è¡¨ç¤ºååº 2 åéäº 2 ä¸ªå¯æ¬ï¼åå«å¨ brokerid ä¸º 1å 2 ç brokerèç¹ä¸­ã\n\néè¿ describe æä»¤ç±»åæ¥æ¥çååºå¯æ¬çåéç»èã\n\nroot@101ed4754423:/opt/kafka_2.13-2.8.1/bin# ./kafka-topics.sh --zookeeper kafka-zookeeper:2181 --describe --topic topic-create \ntopic: topic-create\ttopicid: ibo5jkixsvudfrlfowpuvq\tpartitioncount: 4\treplicationfactor: 2\tconfigs: \n\ttopic: topic-create\tpartition: 0\tleader: 2\treplicas: 2,0\tisr: 2,0\n\ttopic: topic-create\tpartition: 1\tleader: 0\treplicas: 0,1\tisr: 0,1\n\ttopic: topic-create\tpartition: 2\tleader: 1\treplicas: 1,2\tisr: 1,2\n\ttopic: topic-create\tpartition: 3\tleader: 2\treplicas: 2,1\tisr: 2,1\nroot@101ed4754423:/opt/kafka_2.13-2.8.1/bin#\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\nç¤ºä¾ä¸­ç topicå partition åå«è¡¨ç¤ºä¸»é¢åç§°åååºå·ãpartitioncount è¡¨ç¤ºä¸»é¢ä¸­ååºçä¸ªæ°ï¼replicationfactor è¡¨ç¤ºå¯æ¬å å­ï¼è configs è¡¨ç¤ºåå»ºæä¿®æ¹ä¸»é¢æå®çåæ°éç½®ãleaderè¡¨ç¤ºååºç leader å¯æ¬æå¯¹åºç brokerid,isr è¡¨ç¤ºååºçisréåreplicas è¡¨ç¤ºååºçææçå¯æ¬åéæåµï¼å³ ar éåï¼å¶ä¸­çæ°å­é½è¡¨ç¤ºçæ¯ brokerldã\n\nkafka-topics.shèæ¬ä¸­è¿æä¾äºä¸ä¸ª replica-assignment åæ°æ¥æå¨æå®ååºå¯æ¬çåéæ¹æ¡ãè¿ç§æ¹å¼æ ¹æ®ååºå·çæ°å¼å¤§å°æç§ä»å°å°å¤§çé¡ºåºè¿è¡æåï¼ååºä¸ååºä¹é´ç¨éå·âï¼âéå¼ï¼ååºåå¤ä¸ªå¯æ¬ç¨åå·â: âéå¼ãå¹¶ä¸å¨ä½¿ç¨ replica-assignment åæ°åå»ºä¸»é¢æ¶ä¸éè¦åæ¬å¿å¤ç partitions å replication-factor è¿ä¸¤ä¸ªåæ°ã\n\néè¿replica-assignmentåæ°æ¥åå»ºä¸ä¸ªä¸ä¸»é¢topic-createç¸åçåéæ¹æ¡çä¸»é¢ topic-create-same åä¸åçåéæ¹æ¡çä¸»é¢ topic-create-diffã\n\nroot@101ed4754423:/opt/kafka_2.13-2.8.1/bin# ./kafka-topics.sh --zookeeper kafka-zookeeper:2181 --create --topic topic-create-same --replica-assignment 2:0,0:1,1:2,2:1\ncreated topic topic-create-same.\nroot@101ed4754423:/opt/kafka_2.13-2.8.1/bin# \nroot@101ed4754423:/opt/kafka_2.13-2.8.1/bin# ./kafka-topics.sh --zookeeper kafka-zookeeper:2181 --describe  --topic topic-create-same\ntopic: topic-create-same\ttopicid: uza2ju5bqympfchvfbstug\tpartitioncount: 4\treplicationfactor: 2\tconfigs: \n\ttopic: topic-create-same\tpartition: 0\tleader: 2\treplicas: 2,0\tisr: 2,0\n\ttopic: topic-create-same\tpartition: 1\tleader: 0\treplicas: 0,1\tisr: 0,1\n\ttopic: topic-create-same\tpartition: 2\tleader: 1\treplicas: 1,2\tisr: 1,2\n\ttopic: topic-create-same\tpartition: 3\tleader: 2\treplicas: 2,1\tisr: 2,1\n\t\nroot@101ed4754423:/opt/kafka_2.13-2.8.1/bin# ./kafka-topics.sh --zookeeper kafka-zookeeper:2181 --create --topic topic-create-diff --replica-assignment 1:2,2:0,0:1,1:0\ncreated topic topic-create-diff.\nroot@101ed4754423:/opt/kafka_2.13-2.8.1/bin# ./kafka-topics.sh --zookeeper kafka-zookeeper:2181 --describe  --topic topic-create-diff\ntopic: topic-create-diff\ttopicid: capbcvsdqqgfe3dnjzkfoq\tpartitioncount: 4\treplicationfactor: 2\tconfigs: \n\ttopic: topic-create-diff\tpartition: 0\tleader: 1\treplicas: 1,2\tisr: 1,2\n\ttopic: topic-create-diff\tpartition: 1\tleader: 2\treplicas: 2,0\tisr: 2,0\n\ttopic: topic-create-diff\tpartition: 2\tleader: 0\treplicas: 0,1\tisr: 0,1\n\ttopic: topic-create-diff\tpartition: 3\tleader: 1\treplicas: 1,0\tisr: 1,0\nroot@101ed4754423:/opt/kafka_2.13-2.8.1/bin#\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\n> åä¸ä¸ªååºåçå¯æ¬ä¸è½æéå¤,æ¯å¦æå®äº0:0,1:1è¿ç§,å°±ä¼æ¥åºadmincommandfailedexceptionå¼å¸¸ã\n\nå¦æååºä¹é´ææå®çå¯æ¬æ°ä¸å,æ¯å¦0:1,0,1:0 è¿ç§,å°±ä¼æ¥åºadminoperationexceptionå¼å¸¸ãç±»ä¼¼ 0:1,,0:1,1:0 è¿ç§ä¼å¾è·³è¿ä¸ä¸ªååºçè¡ä¸ºä¹æ¯ä¸è¢«åè®¸çã\n\nå¨åå»ºä¸»é¢æ¶æä»¬è¿å¯ä»¥éè¿ config åæ°æ¥è®¾ç½®æè¦åå»ºä¸»é¢çç¸å³åæ°ï¼éè¿è¿ä¸ªåæ°å¯ä»¥è¦çåæ¬çé»è®¤éç½®ãå¨åå»ºä¸»é¢æ¶å¯ä»¥åæ¶è®¾ç½®å¤ä¸ªåæ°ãä¸é¢çç¤ºä¾ä½¿ç¨äº config åæ°æ¥åå»ºä¸ä¸ªä¸»é¢ topic-configã\n\nroot@101ed4754423:/opt/kafka_2.13-2.8.1/bin# ./kafka-topics.sh --zookeeper kafka-zookeeper:2181 --create --topic topic-config --replication-factor 1 --partitions 1 --config cleanup.policy=compact --config max.message.bytes=10000\n\ncreated topic topic-config.\n\nroot@101ed4754423:/opt/kafka_2.13-2.8.1/bin# ./kafka-topics.sh --zookeeper kafka-zookeeper:2181 --describe  --topic topic-config\n\ntopic: topic-config\ttopicid: xosn8irbtyargr6zrlr3wg\tpartitioncount: 1\treplicationfactor: 1\tconfigs: cleanup.policy=compact,max.message.bytes=10000\n\ttopic: topic-config\tpartition: 0\tleader: 1\treplicas: 1\tisr: 1\n\nroot@101ed4754423:/opt/kafka_2.13-2.8.1/bin#\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\nå¯ä»¥çå° configs ä¸æ ä¸­åå«äºåå»ºæ¶æè®¾ç½®çåæ°ãæä»¬è¿å¯ä»¥éè¿ zookeeper å®¢æ·ç«¯æ¥çæè®¾ç½®çåæ°ï¼å¯¹åºçzookeeper èç¹ä¸º/config/topics/[topic]ã\n\n[zk: localhost:2181(connected) 2] get /config/topics/topic-config\n{"version":1,"config":{"cleanup.policy":"compact","max.message.bytes":"10000"}}\n[zk: localhost:2181(connected) 3]\n\n\n1\n2\n3\n\n\nåå»ºä¸»é¢æ¶å¯¹äºä¸»é¢åç§°çå½åæ¹å¼ä¹å¾æè®²ç©¶ãé¦åæ¯ä¸è½ä¸å·²ç»å­å¨çä¸»é¢ååï¼å¦æåå»ºäºååçä¸»é¢å°±ä¼æ¥éã\n\n> å äº --if-not-exists å¦æå­å¨ä¼å¿½ç¥ï¼ä¸ä¼æ¥éã\n\nkafka-topics.sh èæ¬å¨åå»ºä¸»é¢æ¶è¿ä¼æ£æµæ¯å¦åå«.æ_å­ç¬¦ãä¸ºä»ä¹è¦æ£æµè¿ä¸¤ä¸ªå­ç¬¦å¢?å ä¸ºå¨ kafkaçåé¨ååç¹æ¶ä¼æ ¹æ®ä¸»é¢çåç§°æ¥å½åmetricsçåç§°ï¼å¹¶ä¸ä¼å°ç¹å·.æ¹æä¸ç»çº¿_ãåè®¾éå°ä¸ä¸ªåç§°ä¸ºtopic.1_2 çä¸»é¢ï¼è¿æä¸ä¸ªåç§°ä¸ºtopic_1_2çä¸»é¢ï¼é£ä¹æåçmetricsçåç§°é½ä¼ä¸ºtopic_1_2ï¼è¿æ ·å°±åçäºåç§°å²çªã\n\n> ä¸»é¢çå½ååæ ·ä¸æ¨è(è½ç¶å¯ä»¥è¿æ ·å)ä½¿ç¨åä¸ç»çº¿__å¼å¤´ï¼å ä¸ºä»¥åä¸ç»çº¿å¼å¤´çä¸»é¢ä¸è¬çä½ kafka çåé¨ä¸»é¢,æ¯å¦__consumer_offsets å__transaction_stateä¸»é¢çåç§°å¿é¡»ç±å¤§å°åå­æ¯ãæ°å­ãç¹å·.ãè¿æ¥çº¿-ãä¸ç»çº¿_ ç»æï¼ä¸è½ä¸ºç©ºä¸è½åªæç¹å·.ï¼ä¹ä¸è½åªæåç¹å·..ï¼ä¸é¿åº¦ä¸è½è¶è¿ 249ã\n\nkafka ä» 0.10.x çæ¬å¼å§æ¯ææå® broker çæºæ¶ä¿¡æ¯ (æºæ¶çåç§°)ãå¦ææå®äºæºæ¶ä¿¡æ¯ï¼åå¨ååºå¯æ¬åéæ¶ä¼å°½å¯è½å°è®©ååºå¯æ¬åéå°ä¸åçæ¤æ¶ä¸ãæå®æºæ¶ä¿¡æ¯æ¯éè¿broker ç«¯åæ° broker.rack æ¥éç½®çï¼æ¯å¦éç½®å½å broker æå¨çæºæ¶ä¸ºrack1:\n\nbroker.rack=rack1\n\n\n1\n\n\nå¦æä¸ä¸ªéç¾¤ä¸­æé¨å broker æå®äºæºæ¶ä¿¡æ¯ï¼å¹¶ä¸å¶ä½ç broker æ²¡ææå®æºæ¶ä¿¡æ¯ï¼é£ä¹å¨æ§è¡ kafka-topics.sh èæ¬åå»ºä¸»é¢æ¶ä¼æ¥åºç adminoperationexception çå¼å¸¸ãæ­¤æ¶è¥è¦æååå»ºä¸»é¢ï¼è¦ä¹å°éç¾¤ä¸­çææ broker é½å ä¸æºæ¶ä¿¡æ¯æé½å»ææºæ¶ä¿¡æ¯ï¼è¦ä¹ä½¿ç¨ --disable-rack-aware åæ°æ¥å¿½ç¥æºæ¶ä¿¡æ¯ãå¦æéç¾¤ä¸­çææ broker é½ææºæ¶ä¿¡æ¯ï¼é£ä¹ä¹å¯ä»¥ä½¿ç¨ --disable-rack-aware åæ°æ¥å¿½ç¥æºæ¶ä¿¡æ¯å¯¹ååºå¯æ¬çåéå½±åã\n\n----------------------------------------\n\n\n# 2. ååºå¯æ¬çåé\n\nçäº§èçååºåéæ¯æä¸ºæ¯æ¡æ¶æ¯æå®å¶æè¦åå¾çååºï¼æ¶è´¹èçååºåéæå®æ¯ä¸ºæ¶è´¹èæå®å¶å¯ä»¥æ¶è´¹æ¶æ¯çååºï¼èè¿éè¯´çååºåéæ¯æä¸ºéç¾¤æå®åå»ºä¸»é¢æ¶çååºå¯æ¬åéæ¹æ¡ï¼å³å¨åªä¸ªbrokerä¸­åå»ºåªäºååºçå¯æ¬ã\n\nä½¿ç¨kafka-topics.sh èæ¬åå»ºä¸»é¢æ¶çåé¨åéé»è¾æç§æºæ¶ä¿¡æ¯ååä¸ºä¸¤ç§ç­ç¥ï¼æªæå®æºæ¶ä¿¡æ¯åæå®æºæ¶ä¿¡æ¯ãå¦æéç¾¤ä¸­ææçbrokerèç¹é½æ²¡æéç½® broker.rack åæ°ï¼æèä½¿ç¨disable-rack-awareåæ°æ¥åå»ºä¸»é¢ï¼é£ä¹éç¨çå°±æ¯æªæå®æºæ¶ä¿¡æ¯çåéç­ç¥ï¼å¦åéç¨çå°±æ¯æå®æºæ¶ä¿¡æ¯çåéç­ç¥ã\n\né»è®¤æåµä¸ï¼kafkaä½¿ç¨çæ¯åºæ¬ç _round robin_ åéç­ç¥ï¼å®åªèèå¯ç¨ç brokerï¼èä¸ä¼æç¡®èèæºæ¶ä¿¡æ¯ãç¶èï¼kafka æä¾äºä¸ç§å«å rack awarenessï¼æºæ¶æç¥ï¼çæºå¶ï¼ä¹å°±æ¯æå®æºæ¶ä¿¡æ¯çåéç­ç¥ï¼ï¼åè®¸å¼åäººåéç½® broker æå¨çæºæ¶ä¿¡æ¯ï¼å¹¶å¨åéååºæ¶èèæºæ¶ä¿¡æ¯ï¼ä»¥æé«æ°æ®çå¯ç¨æ§åå®¹éæ§ãè¿éå¸¸ç¨äºç¡®ä¿ååºçå¯æ¬å°½éåå¸å¨ä¸åçæºæ¶ä¸ï¼ä»¥åºå¯¹æºæ¶çº§å«çæéãå¨éç½® rack awarenessæ¶ï¼å¼åäººåå¯ä»¥å°ä¸åç broker åéå°ä¸åçæºæ¶ï¼å¹¶æå®æ¯ä¸ª broker çæºæ¶ä¿¡æ¯ãç¶åï¼kafka å¨åéååºå¯æ¬æ¶ï¼ä¼èèç¡®ä¿æ¯ä¸ªååºçå¯æ¬å°½éåå¸å¨ä¸åçæºæ¶ä¸ï¼ä»¥å¢å ç³»ç»çå¯ç¨æ§ãå¦å¤å¯¹äº_round robin_ç­ç¥ï¼\n\n 1. kafka ä¼é¦åæ ¹æ®éç¾¤ä¸­å¯ç¨ç broker æ°éæ¥ç¡®å®è¦åå»ºçååºæ°ãéå¸¸ï¼å¦ææ²¡ææå® partitions åæ°ï¼å®å°ä½¿ç¨é»è®¤å¼ã\n 2. ååºå°è¢«éä¸åéç»å¯ç¨ç brokerï¼æç§å®ä»¬çç¼å·é¡ºåºï¼ä»ç¬¬ä¸ä¸ª broker å¼å§ï¼ç¶åä¾æ¬¡åéç»åç»­ç brokerã\n 3. ä¸æ¦ææååºåéå®æ¯ï¼å¦æè¿æå©ä½ç brokerï¼ååºåéå°éæ°ä»ç¬¬ä¸ä¸ª broker å¼å§ï¼ä»¥å¾ªç¯æ¹å¼ç»§ç»­åéã\n\nè¿æå³çå¨é»è®¤æåµä¸ï¼kafka ä¼å°ååºååå°åéç»å¯ç¨ç brokerï¼ä»¥å®ç°è´è½½åè¡¡ãè¿ç§é»è®¤çåéç­ç¥æå©äºç¡®ä¿ååºå¨éç¾¤ä¸­çåå¸æ¯ç¸å¯¹ååçï¼ä»¥ç¡®ä¿åä¸ª broker ä¸çè´è½½å¤§è´ç¸ç­ã\n\n> é»è®¤çåéé»è¾å¯è½ä¸èèåä¸ª broker çç¡¬ä»¶éç½®ãç½ç»å¸¦å®½ãè´è½½ç­å ç´ ï¼å æ­¤å¨æäºæåµä¸ï¼å¼åäººåå¯è½éè¦èªå®ä¹åéç­ç¥æ¥æ´å¥½å°æ»¡è¶³ç¹å®çéæ±ã\n\nå¦å¤é»è®¤æåµä¸åå»ºä¸»é¢æ¶æ»æ¯ä»ç¼å·ä¸º0çååºä¾æ¬¡è½®è¯¢è¿è¡åéã\n\nåå»ºä¸»é¢æ¶ï¼æ è®ºéè¿ kafka-topics.sh èæ¬è¿æ¯éè¿å¶ä»æ¹å¼å®è´¨ä¸æ¯å¨ zookeeper ä¸­ç/brokers/topics èç¹ä¸å»ºä¸è¯¥ä¸»é¢å¯¹åºçå­èç¹å¹¶åå¥ååºå¯æ¬åéæ¹æ¡ï¼å¹¶ä¸å¨/config/topics/ èç¹ä¸åå»ºè¯¥ä¸»é¢å¯¹åºçå­èç¹å¹¶åå¥ä¸»é¢ç¸å³çéç½®ä¿¡æ¯(è¿ä¸ªæ­¥éª¤å¯ä»¥çç¥ä¸æ§è¡)ãè kafka åå»ºä¸»é¢çå®è´¨æ§å¨ä½æ¯äº¤ç±æ§å¶å¨å¼æ­¥å»å®æçã\n\n----------------------------------------\n\n\n# 3.æ¥çä¸»é¢\n\néè¿listæä»¤å¯ä»¥æ¥çå½åææå¯ç¨çä¸»é¢ã\n\n./kafka-topics.sh--zookeeper kafka-zookeeper:2181/kafka-list\n\n\n1\n\n\nåé¢æä»¬æ¯éè¿describeæä»¤æ¥æ¥çåä¸ªä¸»é¢ä¿¡æ¯çï¼å¦æä¸ä½¿ç¨--topicæå®ä¸»é¢ï¼åä¼å±ç¤ºåºææä¸»é¢çè¯¦ç»ä¿¡æ¯ã--topic è¿æ¯ææå®å¤ä¸ªä¸»é¢ã\n\n./kafka-topics.sh--zookeeper kafka-zookeeper:2181/kafka--describe--topic topic-aaa,topic-bbb\n\n\n1\n\n\nunder-replicated-partitions åunavailable-partitions åæ°é½å¯ä»¥æ¾åºæé®é¢çååºéè¿ under-replicated-partitions åæ°å¯ä»¥æ¾åºææåå«å¤±æå¯æ¬çååºãåå«å¤±æå¯æ¬çååºå¯è½æ­£å¨è¿è¡åæ­¥æä½ï¼ä¹æå¯è½åæ­¥åçå¼å¸¸ï¼æ­¤æ¶ååºçisréåå°äºar éåãå¯¹äºéè¿è¯¥åæ°æ¥è¯¢å°çååºè¦éç¹çæ§ï¼å ä¸ºè¿å¾å¯è½æå³çéç¾¤ä¸­çæä¸ª broker å·²ç»å¤±ææåæ­¥æçéä½ç­ã\n\n./kafka-topics.sh--zookeeper kafka-zookeeper:2181/kafka--describe--topic topic-aaa--under-replicated-partitions\n\n\n1\n\n\néè¿ unavailable-partitions åæ°å¯ä»¥æ¥çä¸»é¢ä¸­æ²¡æ leader å¯æ¬çååºï¼è¿äºååºå·²ç»å¤äºç¦»çº¿ç¶æï¼å¯¹äºå¤çççäº§èåæ¶è´¹èæ¥è¯´å¤äºä¸å¯ç¨çç¶æã\n\n./kafka-topics.sh--zookeeper kafka-zookeeper:2181/kafka--describe--topic topic-aaa unavailable-partitions\n\n\n1\n\n\n----------------------------------------\n\n\n# 4.ä¿®æ¹ä¸»é¢\n\nå½ä¸ä¸ªä¸»é¢è¢«åå»ºä¹åï¼ä¾ç¶åè®¸æä»¬å¯¹å¶åä¸å®çä¿®æ¹ï¼æ¯å¦ä¿®æ¹ååºä¸ªæ°ï¼ä¿®æ¹éç½®ç­ï¼è¿ä¸ªä¿®æ¹çåè½å°±æ¯ç±kafka-topics.sh èæ¬ä¸­çalteræä»¤æä¾çã\n\n./kafka-topics.sh--zookeeper kafka-zookeeper:2181/kafka--alter--topic topic-config--partitions 3\n\n\n1\n\n\nå½ä¸»é¢ä¸­çæ¶æ¯åå« key æ¶ (å³ key ä¸ä¸º null)ï¼æ ¹æ® key è®¡ç®ååºçè¡ä¸ºå°±ä¼åå°å½±åãå½ topic-config çååºæ°ä¸º 1 æ¶ï¼ä¸ç®¡æ¶æ¯ç key ä¸ºä½å¼ï¼æ¶æ¯é½ä¼åå¾è¿ä¸ä¸ªååº;å½ååºæ°å¢å å° 3 æ¶ï¼å°±ä¼æ ¹æ®æ¶æ¯ç key æ¥è®¡ç®ååºå·ï¼åæ¬åå¾ååº 0 çæ¶æ¯ç°å¨æå¯è½ä¼åå¾ååº 1 æååº 2ãå¦æ­¤è¿ä¼å½±åæ¢å®æ¶æ¯çé¡ºåºï¼æä»¥å¨å¢å ååºæ°æ¶ä¸å®è¦ä¸æèåè¡ãå¯¹äºåºäº key è®¡ç®çä¸»é¢èè¨ï¼å»ºè®®å¨ä¸å¼å§å°±è®¾ç½®å¥½ååºæ°éé¿åä»¥åå¯¹å¶è¿è¡è°æ´ã\n\nç®å kafka åªæ¯æå¢å ååºæ°èä¸æ¯æåå°ååºæ°ãæ¯å¦æä»¬åå°ä¸»é¢ topic-config çååºæ°ä¿®æ¹ä¸º 1ï¼å°±ä¼æ¥åº * invalidpartitionexception* çå¼å¸¸ãä¸ºä»ä¹ä¸æ¯æåå°ååºï¼\n\næç§ kafka ç°æçä»£ç é»è¾ï¼æ­¤åè½å®å¨å¯ä»¥å®ç°ï¼ä¸è¿ä¹ä¼ä½¿ä»£ç çå¤æåº¦æ¥å§å¢å¤§ãå®ç°æ­¤åè½éè¦èèçå ç´ å¾å¤ï¼æ¯å¦å é¤çååºä¸­çæ¶æ¯è¯¥å¦ä½å¤ç? å¦æéçååºä¸èµ·æ¶å¤±åæ¶æ¯çå¯é æ§å¾ä¸å°ä¿é;å¦æéè¦ä¿çååéè¦èèå¦ä½ä¿çãç´æ¥å­å¨å°ç°æååºçå°¾é¨ï¼æ¶æ¯çæ¶é´æ³å°±ä¸ä¼éå¢ï¼å¦æ­¤å¯¹äº sparkãflink è¿ç±»éè¦æ¶æ¯æ¶é´æ³(äºä»¶æ¶é´)çç»ä»¶å°ä¼åå°å½±å; å¦æåæ£æå¥ç°æçååºï¼é£ä¹å¨æ¶æ¯éå¾å¤§çæ¶åï¼åé¨çæ°æ®å¤å¶ä¼å ç¨å¾å¤§çèµæºï¼èä¸å¨å¤å¶æé´ï¼æ­¤ä¸»é¢çå¯ç¨æ§åå¦ä½å¾å°ä¿é?ä¸æ­¤åæ¶ï¼é¡ºåºæ§é®é¢.äºå¡æ§é®é¢ï¼ä»¥åååºåå¯æ¬çç¶ææºåæ¢é®é¢é½æ¯ä¸å¾ä¸é¢å¯¹çãåè§è¿ä¸ªåè½çæ¶çç¹å´æ¯å¾ä½çï¼å¦æççéè¦å®ç°æ­¤ç±»åè½ï¼åå®å¨å¯ä»¥éæ°åå»ºä¸ä¸ªååºæè¾å°çä¸»é¢ï¼ç¶åå°ç°æä¸»é¢ä¸­çæ¶æ¯æç§æ¢å®çé»è¾å¤å¶è¿å»å³å¯ã\n\né¤äºä¿®æ¹ååºæ°ï¼æä»¬è¿å¯ä»¥ä½¿ç¨ kafka-topics.sh èæ¬ç alter æä»¤æ¥åæ´ä¸»é¢çéç½®ãå¨åå»ºä¸»é¢çæ¶åæä»¬å¯ä»¥éè¿ config åæ°æ¥è®¾ç½®æè¦åå»ºä¸»é¢çç¸å³åæ°ï¼éè¿è¿ä¸ªåæ°å¯ä»¥è¦çåæ¬çé»è®¤éç½®ãå¨åå»ºå®ä¸»é¢ä¹åï¼æä»¬è¿å¯ä»¥éè¿ alter æä»¤éå config åæ°å¢å æä¿®æ¹ä¸äºéç½®ä»¥è¦çå®ä»¬éç½®åæçå¼ã\n\n./kafka-topics.sh--zookeeper kafka-zookeeper:2181/kafka--alter--topic topic-config--config max.message.bytes=20000\n\n\n1\n\n\næä»¬å¯ä»¥éè¿ delete-config åæ°æ¥å é¤ä¹åè¦ççéç½®ï¼ä½¿å¶æ¢å¤åæçé»è®¤å¼ãä¸é¢çç¤ºä¾å°ä¸»é¢ topic-config ä¸­ææä¿®æ¹è¿çéç½®é½å é¤:\n\n./kafka-topics.sh--zookeeper kafka-zookeeper:2181/kafka--alter--topic topic-config--delete-config segment.bytes\n\n\n1\n\n\næ³¨æå°å¨åæ´ (å¢ãå ãæ¹)éç½®çæä½æ§è¡ä¹åé½ä¼æç¤ºä¸æ®µåè­¦ä¿¡æ¯ï¼ææäºä½¿ç¨kafka-topics.shèæ¬ç alter æä»¤æ¥åæ´ä¸»é¢éç½®çåè½å·²ç»è¿æ¶ (deprecated)ï¼å°å¨æªæ¥ççæ¬ä¸­å é¤ï¼å¹¶ä¸æ¨èä½¿ç¨ kafka-configs.sh èæ¬æ¥å®ç°ç¸å³åè½ã\n\n----------------------------------------\n\n\n# 5.éç½®ç®¡ç\n\nkafka-configs.sh èæ¬æ¯ä¸é¨ç¨æ¥å¯¹éç½®è¿è¡æä½çï¼è¿éçæä½æ¯æå¨è¿è¡ç¶æä¸ä¿®æ¹åæçéç½®ï¼å¦æ­¤å¯ä»¥è¾¾å°å¨æåæ´çç®çãkafka-configs.sh èæ¬åå«åæ´éç½® alter åæ¥çéç½® describe è¿ä¸¤ç§æä»¤ç±»åãåä½¿ç¨ kafka-topics.sh èæ¬åæ´éç½®çååä¸æ ·ï¼å¢ãå ãæ¹çè¡ä¸ºé½å¯ä»¥çä½åæ´æä½ï¼ä¸è¿ kafka-configs.sh èæ¬ä¸ä»å¯ä»¥æ¯ææä½ä¸»é¢ç¸å³çéç½®ï¼è¿å¯ä»¥æ¯ææä½ brokerãç¨æ·åå®¢æ·ç«¯è¿3ä¸ªç±»åçéç½®ã\n\nkafka-configs.sh èæ¬ä½¿ç¨entity-typeåæ°æ¥æå®æä½éç½®çç±»åï¼å¹¶ä¸ä½¿ç¨entity-name åæ°æ¥æå®æä½éç½®çåç§°ãæ¯å¦æ¥çä¸»é¢ topic-config çéç½®å¯ä»¥æå¦ä¸æ¹å¼æ§è¡:\n\n./kafka-configs.sh--zookeeper kafka-zookeeper:2181/kafka--describe--entity-typetopics--entity-name topic-config\n\n\n1\n\n\n--describeæå®äºæ¥çéç½®çæä»¤å¨ä½,--entity-typeæå®äºæ¥çéç½®çå®ä½ç±»--entity-name æå®äºæ¥çéç½®çå®ä½åç§°ãentity-type åªå¯ä»¥éç½® 4ä¸ªå¼: topics ãbrokers ãclients åusers,entity-type ä¸entity-name çå¯¹åºå³ç³»å¦ä¸ã\n\nentity-type çéä¹            entity-name çéä¹\nä¸»é¢ç±»åçéç½®ï¼åå¼ä¸º topics         æå®ä¸»é¢çåç§°\nbroker ç±»åçéç½®ï¼åå¼ä¸º brokers   æå®brokeridçå¼\nå®¢æ·ç«¯ç±»åçéç½®ï¼åå¼ä¸º clients       æå®clientidçå¼\nç¨æ·ç±»åçéç½®ï¼åå¼ä¸º users          æå®ç¨æ·å\n\nä½¿ç¨ alter æä»¤åæ´éç½®æ¶ï¼éè¦éå add-configå delete-config è¿ä¸¤ä¸ªåæ°èµ·ä½¿ç¨ãadd-config åæ°ç¨æ¥å®ç°éç½®çå¢ãæ¹ï¼å³è¦çåæçéç½®;delete-config åæ°ç¨æ¥å®ç°éç½®çå ï¼å³å é¤è¢«è¦ççéç½®ä»¥æ¢å¤é»è®¤å¼ãä¸é¢çç¤ºä¾æ¼ç¤ºäº add-config åæ°çç¨æ³ï¼è¦çäºä¸»é¢ topic-config çä¸¤ä¸ªéç½®cleanup.policyåmax.message.bytes(ç¤ºä¾æ§è¡ä¹åä¸»é¢ topic-config æ ä»»ä½è¢«è¦ççéç½®):\n\n./kafka-configs.sh--zookeeper kafka-zookeeper:2181/kafka--alter--entity-type topics--entity-name topic-config--add-configcleanup.policy=compact,max.message.bytes=10000\n\n        ./kafka-configs.sh--zookeeper kafka-zookeeper:2181kafka--describe--entity-type topics--entity-name topic-config\n\n        ./kafka-topics.sh--zookeeper kafka-zookeeper:2181kafka--describe--topic topic-config--topics-with-overrides\n\n\n1\n2\n3\n4\n5\n\n\nä¸é¢ç¤ºä¾ä¸­è¿ä½¿ç¨äºä¸¤ç§æ¹å¼æ¥æ¥çä¸»é¢ topic-config ä¸­éç½®ä¿¡æ¯ï¼æ³¨ææ¯è¾è¿ä¸¤èä¹é´çå·®å«ã\n\nä½¿ç¨delete-configåæ°å é¤éç½®æ¶ï¼åadd-configåæ°ä¸æ ·æ¯æå¤ä¸ªéç½®çæä½ï¼å¤ä¸ªéç½®ä¹é´ç¨éå·, åéï¼ä¸é¢çç¤ºä¾ä¸­æ¼ç¤ºäºå¦ä½å é¤ä¸é¢ååå¢å çä¸»é¢éç½®:\n\n./kafka-configs.sh--zookeeper kafka-zookeeper:2181/kafka--alter--entity-type topics--entity-name topic-config--delete-configcleanup.policy,max.message.bytes\n\n        ./kafka-configs.sh--zookeeper kafka-zookeeper:2181/kafka--describe--entity-type topics--entity-name topic-config\n\n\n1\n2\n3\n\n\n----------------------------------------\n\n\n# 6.ä¸»é¢ç«¯åæ°\n\nä¸ä¸»é¢ç¸å³çææéç½®åæ°å¨ broker å±é¢é½æå¯¹åºåæ°ï¼æ¯å¦ä¸»é¢ç«¯åæ° cleanup.policy å¯¹åº broker å±é¢ç log.cleanup.policyãå¦ææ²¡æä¿®æ¹è¿ä¸»é¢çä»»ä½éç½®åæ°é£ä¹å°±ä¼ä½¿ç¨ broker ç«¯çå¯¹åºåæ°ä½ä¸ºå¶é»è®¤å¼ãå¯ä»¥å¨åå»ºä¸»é¢æ¶è¦çç¸åºåæ°çé»è®¤å¼.ä¹å¯ä»¥å¨åå»ºå®ä¸»é¢ä¹ååæ´ç¸åºåæ°çé»è®¤å¼ãæ¯å¦å¨åå»ºä¸»é¢çæ¶åæ²¡ææå®cleanup.policy åæ°çå¼ï¼é£ä¹å°±ä½¿ç¨ log.cleanup.policy åæ°æéç½®çå¼ä½ä¸ºcleanup.policyçå¼ã\n\nä¸è¡¨ååºäºä¸»é¢ç«¯åæ°ä¸ broker ç«¯åæ°çå¯¹ç§å³ç³»ã\n\nä¸»é¢ç«¯åæ°                                     ä½ç¨                                                          brokerç«¯åæ°\ncleanup.policy                            æ¥å¿åç¼©ç­ç¥ãé»è®¤å¼ä¸º deleteï¼è¿å¯ä»¥éç½®ä¸º compactã                          log.cleanup.policy\ncompression.type                          æ¶æ¯çåç¼©ç±»åãé»è®¤å¼ä¸º producerï¼è¡¨ç¤ºä¿ççäº§èä¸­æä½¿ç¨çåå§åç¼©ç±»åãè¿å¯ä»¥éç½®ä¸º             compression.type\n                                          uncompressedãsnappyãiz4ãgzip\ndelete.retention.ms                       è¢«æ è¯ä¸ºå é¤çæ°æ®è½å¤ä¿çå¤ä¹ãé»è®¤å¼ä¸º 86400000ï¼å³1å¤©                           log.cleaner.delete.retention.ms\nfile.delete.delay.ms                      æ¸çæä»¶ä¹åå¯ä»¥ç­å¾å¤é¿æ¶é´ï¼é»è®¤å¼ä¸º60000ï¼å³1åé                               log.segment.delete.delay.ms\nflush. messages                           éè¦æ¶éå¤å°æ¶æ¯æä¼å°å®ä»¬å¼ºå¶å·æ°å°ç£çï¼é»è®¤å¼ä¸º long.max                          log.flush.interval.messages\n                                          valueï¼å³è®©æä½ç³»ç»æ¥å³å®ãå»ºè®®ä¸è¦ä¿®æ¹æ­¤åæ°çé»è®¤å¼\nflush.ms                                  éè¦ç­å¾å¤ä¹æä¼å°æ¶æ¯å¼ºå¶å·æ°å°ç£çï¼é»è®¤å¼ä¸º long.max                            log.flush.interval.ms\n                                          valueï¼å³è®©æä½ç³»ç»æ¥å³å®ãå»ºè®®ä¸è¦ä¿®æ¹æ­¤åæ°çé»è®¤å¼\nfollower.replication.throttled.replicas   ç¨æ¥éç½®è¢«éå¶éççä¸»é¢æå¯¹åºçfollower å¯æ¬åè¡¨                               follower.replication.throttled.replicas\nindex.interval.bytes                      ç¨æ¥æ§å¶æ·»å ç´¢å¼é¡¹çé¢çãæ¯è¶è¿è¿ä¸ªåæ°æè®¾ç½®çæ¶æ¯å­èæ°æ¶å°±å¯ä»¥æ·»å ä¸ä¸ªæ°çç´¢å¼é¡¹ï¼é»è®¤å¼ä¸º 4096        log.index.interval.bytes\nleader.replication.throttled.replicas     ç¨æ¥éç½®è¢«éå¶éççä¸»é¢æå¯¹åºç leaderå¯æ¬åè¡¨                                 leader.replication.throttled.replicas\nmax.message.bytes                         æ¶æ¯çæå¤§å­èæ°ï¼é»è®¤å¼ä¸º 1000012                                       message.max.bytes\nmessage.format. version                   æ¶æ¯æ ¼å¼ççæ¬ï¼é»è®¤å¼ä¸º 2.0-iv1                                        log. message. format.version\nmessage.timestamp.difference.max.ms       æ¶æ¯ä¸­èªå¸¦çæ¶é´æ³ä¸ broker æ¶å°æ¶æ¯æ¶çæ¶é´æ³ä¹é´æå¤§çå·®å¼ï¼é»è®¤å¼ä¸ºlong.max             log.message.timestamp.difference.max.ms\n                                          valueãæ­¤åæ°åªæå¨meesage.timestamp.type åæ°è®¾ç½®ä¸º createtime æ¶æææ\nmessage.timestamp.type                    æ¶æ¯çæ¶é´æ³ç±»åãé»è®¤å¼ä¸º createtime,è¿å¯ä»¥è®¾ç½®ä¸º logappendtime               log.message.timestamp.type\nmin.cleanable.dirty.ratio                 æ¥å¿æ¸çæ¶çæå°æ±¡æµçï¼é»è®¤å¼ä¸º 0.5                                        log.cleaner.min.cleanable.ratio\nmin.compaction.lag.ms                     æ¥å¿åè¢«æ¸çåçæå°ä¿çæ¶é´ï¼é»è®¤å¼ä¸º0                                        log.cleaner.min.compaction.lag.ms\nmin.insync.replicas                       ååº isr éåä¸­è³å°è¦æå¤å°ä¸ªå¯æ¬ï¼é»è®¤å¼ä¸º 1                                  min.insync.replicas\npreallocate                               å¨åå»ºæ¥å¿åæ®µçæ¶åæ¯å¦è¦é¢åéç©ºé´,é»è®¤å¼ä¸º false                               log.preallocate\nretention.bytes                           ååºä¸­æè½ä¿ççæ¶æ¯æ»éï¼é»è®¤å¼ä¸º-1,å³æ²¡æéå¶                                   log.retention.bytes\nretention.ms                              ä½¿ç¨ delete çæ¥å¿æ¸çç­ç¥æ¶æ¶æ¯è½å¤ä¿çå¤é¿æ¶é´ï¼é»è®¤å¼ä¸º 604800000ï¼å³ 7             log.retention.ms\n                                          å¤©ãå¦æè®¾ç½®ä¸º-1ï¼åè¡¨ç¤ºæ²¡æéå¶\nsegment.bytes                             æ¥å¿åæ®µçæå¤§å¼ï¼é»è®¤å¼ä¸º 1073741824,å³ 1gb                              log.segment.bytes\nsegment.index.bytes                       æ¥å¿åæ®µç´¢å¼çæå¤§å¼ï¼é»è®¤å¼ä¸º 10485760,å³ 10mb                             log.index.size.max.bytes\nsegment.jitter.ms                         æ»å¨æ¥å¿åæ®µæ¶ï¼å¨ segment.ms çåºç¡ä¹ä¸å¢å çéæºæ°ï¼é»è®¤ä¸º 0                      log.roll.jitter.ms\nsegment.ms                                æé¿å¤ä¹æ»å¨ä¸æ¬¡æ¥å¿åæ®µï¼é»è®¤å¼ä¸º604800000ï¼å³ 7 å¤©                            log.roll.ms\nunclean.leader.election.enable            æ¯å¦å¯ä»¥ä»é isr éåä¸­éä¸¾ leader å¯æ¬é»è®¤å¼ä¸º falseï¼å¦æè®¾ç½®ä¸º trueï¼åå¯è½é ææ°æ®ä¸¢å¤±   unclean.leader.election.enable\n\n----------------------------------------\n\n\n# 7.å é¤ä¸»é¢\n\nå¦æç¡®å®ä¸åä½¿ç¨ä¸ä¸ªä¸»é¢ï¼é£ä¹æå¥½çæ¹å¼æ¯å°å¶å é¤ï¼è¿æ ·å¯ä»¥éæ¾ä¸äºèµæºï¼æ¯å¦ç£çãæä»¶å¥æç­ãkafka-topics.sh èæ¬ä¸­ç delete æä»¤å°±å¯ä»¥ç¨æ¥å é¤ä¸»é¢ï¼æ¯å¦å é¤ä¸ä¸ªä¸»é¢ topic-delete:\n\n./kafka-topics.sh--zookeeper kafka-zookeeper:2181/kafka--delete--topic topic-delete\n\n\n1\n\n\nå¯ä»¥çå°å¨æ§è¡å®å é¤å½ä»¤ä¹åä¼æç¸å³çæç¤ºä¿¡æ¯ï¼è¿ä¸ªæç¤ºä¿¡æ¯å broker ç«¯éç½®åæ°delete.topic,enable æå³ãå¿é¡»å° delete.topic.enable åæ°éç½®ä¸º true æè½å¤é¤ä¸»é¢ï¼è¿ä¸ªåæ°çé»è®¤å¼å°±æ¯ trueï¼å¦æéç½®ä¸º falseï¼é£ä¹å é¤ä¸»é¢çæä½å°ä¼è¢«å¿½ç¥ãå¨å®éçäº§ç¯å¢ä¸­ï¼å»ºè®®å°è¿ä¸ªåæ°çå¼è®¾ç½®ä¸º trueã\n\nå¦æè¦å é¤çä¸»é¢æ¯ kafka çåé¨ä¸»é¢ï¼é£ä¹å é¤æ¶å°±ä¼æ¥éãæªè³ kaka 2.0.0ï¼kafkaçåé¨ä¸å±åå« 2 ä¸ªä¸»é¢ï¼åå«ä¸º__consumer__offsets å__transaction__stateãä¸é¢çç¤ºä¾ä¸­å°è¯å é¤åé¨ä¸»é¢__consumer__offsets:\n\n./kafka-topics.sh--zookeeper kafka-zookeeper:2181/kafka--delete--topic __consumer_offsets\n\n\n1\n\n\nå°è¯å é¤ä¸ä¸ªä¸å­å¨çä¸»é¢ä¹ä¼æ¥éãè¿éå alter æä»¤ä¸æ ·ï¼ä¹å¯ä»¥éè¿ if-exists åæ°æ¥å¿½ç¥å¼å¸¸ã\n\nä½¿ç¨ kafka-topics.sh èæ¬å é¤ä¸»é¢çè¡ä¸ºæ¬è´¨ä¸åªæ¯å¨ zookeeper ä¸­ç/admin/delete/topics è·¯å¾ä¸åå»ºä¸ä¸ªä¸å¾å é¤ä¸»é¢ååçèç¹ï¼ä»¥æ­¤æ è®°è¯¥ä¸»é¢ä¸ºå¾å é¤çç¶æãä¸åå»ºä¸»é¢ç¸åçæ¯ï¼çæ­£å é¤ä¸»é¢çå¨ä½ä¹æ¯ç±kafka çæ§å¶å¨è´è´£å®æçã\n\nå é¤ä¸»é¢æ¯ä¸ä¸ªä¸å¯éçæä½ï¼ä¸æ¦ä¸»é¢è¢«å é¤ï¼ä¸å¶ç¸å³çæææ¶æ¯æ°æ®ä¼è¢«å¨é¨å é¤ã\n\nä¸é¢ååºäºkafka-topics.shèæ¬ä¸­çåæ°ã\n\nåæ°åç§°                          ä½ç¨\nalter                         ç¨äºä¿®æ¹ä¸»é¢ï¼åæ¬ååºæ°åä¸»é¢çéç½®\nconfig<é®å¼å¯¹>                   åå»ºæä¿®æ¹ä¸»é¢æ¶ï¼ç¨äºè®¾ç½®ä¸»é¢çº§å«çåæ°\ncreate                        åå»ºä¸»é¢\ndelete                        å é¤ä¸»é¢\ndelete-config<éç½®åç§°>           å é¤ä¸»é¢çº§å«è¢«è¦ççéç½®\ndescribe                      æ¥çä¸»é¢çè¯¦ç»ä¿¡æ¯\ndisable-rack-aware            åå»ºä¸»é¢æ¶ä¸èèæºæ¶ä¿¡æ¯\nhelp                          æå°å¸®å©ä¿¡æ¯\nif-exists                     ä¿®æ¹æå é¤ä¸»é¢æ¶ä½¿ç¨ï¼åªæå½ä¸»é¢å­å¨æ¶æä¼æ§è¡å¨ä½\nif-not-exists                 åå»ºä¸»é¢æ¶ä½¿ç¨ï¼åªæä¸»é¢ä¸å­å¨æ¶æä¼æ§è¡å¨ä½\nlist                          ååºææå¯ç¨çä¸»é¢\npartitions <ååºæ°>              åå»ºä¸»é¢æå¢å ååºæ¶æå®ååºæ°\nreplica-assignment<åéæ¹æ¡>      æå·¥æå®ååºå¯æ¬åéæ¹æ¡\nreplication-factor<å¯æ¬æ°>       åå»ºä¸»é¢æ¶æå®å¯æ¬å å­\ntopic <ä¸»é¢åç§°>                  æå®ä¸»é¢åç§°\ntopics-with-overrides         ä½¿ç¨ describe æ¥çä¸»é¢ä¿¡æ¯æ¶ï¼åªå±ç¤ºåå«è¦çéç½®çä¸»é¢\nunavailable-partitions        ä½¿ç¨ describe æ¥çä¸»é¢ä¿¡æ¯æ¶ï¼åªå±ç¤ºåå«æ²¡æ leader å¯æ¬ç\nååº                            \nunder-replicated-partitions   ä½¿ç¨ describe æ¥çä¸»é¢ä¿¡æ¯æ¶ï¼åªå±ç¤ºåå«å¤±æå¯æ¬çååº\nzookeeper                     æå®è¿æ¥ç zookeeper å°åä¿¡æ¯ (å¿å¡«é¡¹)\n\n----------------------------------------',charsets:{cjk:!0},lastUpdated:"2023/11/04, 10:52:44",lastUpdatedTimestamp:1699066364e3},{title:"ä¸»é¢-kafkaAdminClient",frontmatter:{title:"ä¸»é¢-kafkaAdminClient",date:"2023-01-01T00:00:00.000Z",tags:["Kafka","æ¶æ¯éå"],categories:["Kafka"],description:"ä¸»é¢-kafkaAdminClient",toc_number:!1,author:{name:"huidong.yin",link:"https://huidongyin.github.io"},permalink:"/pages/b94bdb82-9532-3582-8bb7-19f2bc7e5c4f/"},regularPath:"/03.%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97/00.Kafka/13.%E4%B8%BB%E9%A2%98-KafkaAdminClient.html",relativePath:"03.æ¶æ¯éå/00.Kafka/13.ä¸»é¢-KafkaAdminClient.md",key:"v-688d279e",path:"/pages/b94bdb82-9532-3582-8bb7-19f2bc7e5c4f/",headers:[{level:2,title:"1.åºæ¬ä½¿ç¨",slug:"_1-åºæ¬ä½¿ç¨",normalizedTitle:"1.åºæ¬ä½¿ç¨",charIndex:113},{level:2,title:"2.ä¸»é¢åæ³æ§éªè¯",slug:"_2-ä¸»é¢åæ³æ§éªè¯",normalizedTitle:"2.ä¸»é¢åæ³æ§éªè¯",charIndex:10801}],headersStr:"1.åºæ¬ä½¿ç¨ 2.ä¸»é¢åæ³æ§éªè¯",content:'å¦æå¸æå°ä¸»é¢ç®¡çç±»çåè½éæå°å¬å¸åé¨ç³»ç»ä¸­ï¼æé éç®¡çï¼çæ§ï¼è¿ç»´ãåè­¦ä¸ä½ççæå¹³å°ï¼é£ä¹å°±éè¦ä»¥ç¨åºè°ç¨APIçæ¹å¼å»å®ç°ã\n\n----------------------------------------\n\n\n# 1.åºæ¬ä½¿ç¨\n\nä¸ºä»ä¹ä¸ä½¿ç¨TopicCommandçæ¹å¼ï¼äº¤äºæ§å·®ï¼æ¬èº«è¿åå¼ç±»åä¸ºvoidãKafkaAdminClientä¸ä»å¯ä»¥ç¨æ¥ç®¡çbrokerï¼éç½®åACLï¼è¿å¯ä»¥ç¨æ¥ç®¡çä¸»é¢ãKafkaAdminClientç»§æ¿äºAdminClientæ½è±¡ç±»ï¼å¹¶æä¾äºå¤ç§æ¹æ³ãä¸é¢åä¸¾é¨åæ¹æ³ï¼\n\n//ç¨äºåå»ºä¸ä¸ªæå¤ä¸ªä¸»é¢ã\nCreateTopicsResult createTopics(final Collection<NewTopic> newTopics,\n                                           final CreateTopicsOptions options)\n\n//ç¨äºå é¤ä¸ä¸ªæå¤ä¸ªä¸»é¢ã\nDeleteTopicsResult deleteTopics(Collection<String> topicNames,\n                                           DeleteTopicsOptions options)\n\n//ç¨äºååº Kafka éç¾¤ä¸­çææä¸»é¢ã\nListTopicsResult listTopics(final ListTopicsOptions options)\n\n//ç¨äºè·åä¸ä¸ªæå¤ä¸ªä¸»é¢çè¯¦ç»ä¿¡æ¯ã\nDescribeTopicsResult describeTopics(final Collection<String> topicNames, DescribeTopicsOptions options)\n\n//ç¨äºè·å Kafka éç¾¤çä¿¡æ¯ã\nDescribeClusterResult describeCluster(DescribeClusterOptions options)\n\n//ç¨äºè·å ACLï¼è®¿é®æ§å¶åè¡¨ï¼çä¿¡æ¯ã\nDescribeAclsResult describeAcls(final AclBindingFilter filter, DescribeAclsOptions options)\n\n//ç¨äºåå»º ACLï¼è®¿é®æ§å¶åè¡¨ï¼ã\nCreateAclsResult createAcls(Collection<AclBinding> acls, CreateAclsOptions options)\n\n//ç¨äºå é¤ ACLï¼è®¿é®æ§å¶åè¡¨ï¼ã\nDeleteAclsResult deleteAcls(Collection<AclBindingFilter> filters, DeleteAclsOptions options)\n\n//ç¨äºè·åéç½®ä¿¡æ¯ã\nDescribeConfigsResult describeConfigs(Collection<ConfigResource> configResources, final DescribeConfigsOptions options)\n\n//ç¨äºä¿®æ¹éç½®ä¿¡æ¯ã\nalterConfigs(Map<ConfigResource, Config> configs, final AlterConfigsOptions options)\n\n//ç¨äºä¿®æ¹å¯æ¬çæ¥å¿ç®å½ã\nAlterReplicaLogDirsResult alterReplicaLogDirs(Map<TopicPartitionReplica, String> replicaAssignment, final AlterReplicaLogDirsOptions options)\n\n//ç¨äºè·å Broker çæ¥å¿ç®å½ä¿¡æ¯ã\nDescribeLogDirsResult describeLogDirs(Collection<Integer> brokers, DescribeLogDirsOptions options)\n\n//ç¨äºè·åå¯æ¬çæ¥å¿ç®å½ä¿¡æ¯ã\nDescribeReplicaLogDirsResult describeReplicaLogDirs(Collection<TopicPartitionReplica> replicas, DescribeReplicaLogDirsOptions options)\n\n//ç¨äºåå»ºä¸»é¢çååºã\nCreatePartitionsResult createPartitions(Map<String, NewPartitions> newPartitions,\n                                                   final CreatePartitionsOptions options)\n\n//ç¨äºå é¤æå®ååºçè®°å½ã\nDeleteRecordsResult deleteRecords(final Map<TopicPartition, RecordsToDelete> recordsToDelete,\n                                             final DeleteRecordsOptions options)\n\n//ç¨äºåå»ºä»¤çï¼tokenï¼ã\nCreateDelegationTokenResult createDelegationToken(final CreateDelegationTokenOptions options)\n\n//ç¨äºç»­çº¦ä»¤çã\nRenewDelegationTokenResult renewDelegationToken(final byte[] hmac, final RenewDelegationTokenOptions options)\n\n//ç¨äºè¿æä»¤çã\nExpireDelegationTokenResult expireDelegationToken(final byte[] hmac, final ExpireDelegationTokenOptions options)\n\n\n//ç¨äºè·åä»¤ççä¿¡æ¯ã\nDescribeDelegationTokenResult describeDelegationToken(final DescribeDelegationTokenOptions options)\n\n//ç¨äºè·åæ¶è´¹èç»çä¿¡æ¯ã\nDescribeConsumerGroupsResult describeConsumerGroups(final Collection<String> groupIds,\n                                                               final DescribeConsumerGroupsOptions options)\n//ç¨äºååº Kafka éç¾¤ä¸­çæ¶è´¹èç»ã\nListConsumerGroupsResult listConsumerGroups(ListConsumerGroupsOptions options)\n\n//ç¨äºè·åæ¶è´¹èç»çä½ç§»ä¿¡æ¯ã\nListConsumerGroupOffsetsResult listConsumerGroupOffsets(final String groupId, final ListConsumerGroupOffsetsOptions options)\n\n//ç¨äºå é¤ä¸ä¸ªæå¤ä¸ªæ¶è´¹èç»ã\nDeleteConsumerGroupsResult deleteConsumerGroups(Collection<String> groupIds, DeleteConsumerGroupsOptions options)\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n\n\nä½¿ç¨KafkaAdminClientåå»ºä¸ä¸ªä¸»é¢ï¼\n\nimport org.apache.kafka.clients.admin.AdminClient;\nimport org.apache.kafka.clients.admin.NewTopic;\nimport org.apache.kafka.common.KafkaFuture;\n\nimport java.util.Collections;\nimport java.util.Properties;\n\npublic class CreateKafkaTopic {\n    public static void main(String[] args) {\n        // éç½® KafkaAdminClient çå±æ§\n        Properties properties = new Properties(); //â \n        properties.put("bootstrap.servers", "localhost:9092"); // æå® Kafka éç¾¤çå°å\n\n        // åå»º KafkaAdminClient\n        AdminClient adminClient = AdminClient.create(properties); //â¡\n\n        // åå»ºä¸ä¸ª NewTopic å¯¹è±¡æ¥æè¿°è¦åå»ºçä¸»é¢\n        NewTopic newTopic = new NewTopic("my-topic", 1, (short) 1); // â¢ä¸»é¢åç§°ãååºæ°ãå¯æ¬å å­æ°é\n\n        // ä½¿ç¨ KafkaAdminClient åå»ºä¸»é¢\n        CreateTopicsResult createTopicResult = adminClient.createTopics(Collections.singleton(newTopic)); //â£\n\n        try {\n            createTopicResult.all().get(); // â¤é»å¡ç­å¾åå»ºæä½å®æ\n            System.out.println("ä¸»é¢åå»ºæåï¼");\n        } catch (Exception e) {\n            e.printStackTrace();\n            System.err.println("ä¸»é¢åå»ºå¤±è´¥: " + e.getMessage());\n        } finally {\n            adminClient.close(); // â¥å³é­ KafkaAdminClient\n        }\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n\n\nä¸é¢çä»£ç ä¸­ç¬¬â¡è¡åå»ºäºä¸ä¸ªKafkaAdminClientå®ä¾ï¼å®ä¾ä¸­éè¿å¼å¥ç¬¬â è¡åå»ºçéç½®æ¥è¿æ¥kafkaéç¾¤ãAdminClientçcreate()æ¹æ³å®éä¸è°ç¨çå°±æ¯KafkaAdminClientä¸­çcreateInternal()æ¹æ³æå»ºçKafkaAdminClientå®ä¾ã\n\npublic static AdminClient create(Properties props){\n        return KafkaAdminClient.createInternal(new AdminClientConfig(props),null);\n        }\n\n\n1\n2\n3\n\n\nç¬¬â¢è¡ä¸­çNewTopicç¨æ¥è®¾å®æè¦åå»ºä¸»é¢çå·ä½ä¿¡æ¯ï¼åå«åå»ºä¸»é¢æ¶éè¦çä¸»ä½åç§°ï¼ååºæ°åå¯æ¬å å­ç­ã\n\n    private final String name; //åç§°\nprivate final int numPartitions; //ååºæ°\nprivate final short replicationFactor; //å¯æ¬å å­\nprivate final Map<Integer, List<Integer>>replicasAssignments; //åéæ¹æ¡\nprivate Map<String, String> configs=null; //å±æ§éç½®\n\n\n1\n2\n3\n4\n5\n\n\nåkafka-topics.shèæ¬ä¸æ ·ï¼å¯ä»¥éè¿æå®ååºæ°åå¯æ¬å å­æ¥åå»ºä¸ä¸ªä¸»é¢ï¼ä¹å¯ä»¥éè¿æå®ååºå¯æ¬çå·ä½æ¹æ¡æ¥åå»ºä¸ä¸ªä¸»é¢ï¼æ¯å¦å°ç¬¬â¢è¡æ¿æ¢ä¸ºä¸é¢çåå®¹ã\n\nMap<Integer, List<Integer>>replicaAssignment=new HashMap<>();\n        replicaAssignment.put(0,Collections.singletonList(0)); // ååº 0 çå¯æ¬åéå° Broker 0\n        replicaAssignment.put(1,Collections.singletonList(1)); // ååº 1 çå¯æ¬åéå° Broker 1\n        NewTopic newTopic=new NewTopic("my-topic",replicaAssignment);\n\n\n1\n2\n3\n4\n\n\nä¹å¯ä»¥å¨åå»ºä¸»é¢æ¶æå®éè¦è¦ççéç½®ï¼æ¯å¦è¦çcleanup.policyéç½®ï¼éè¦å¨ç¬¬â¢è¡åç¬¬â£è¡ä¹é´å å¥å¦ä¸ä»£ç ã\n\n        // åå»ºä¸ä¸ªèªå®ä¹çéç½®\n        Map<String, String> topicConfig=new HashMap<>();\n        topicConfig.put("cleanup.policy","compact,delete");\n        // æ·»å æ´å¤çèªå®ä¹éç½®...\n\n        // åå»ºä¸ä¸ª NewTopic å¯¹è±¡æ¥æè¿°è¦åå»ºçä¸»é¢\n        NewTopic newTopic=new NewTopic("my-topic",replicaAssignment);\n        newTopic.configs(topicConfig);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nç¬¬â£è¡æ¯çæ­£åå»ºä¸»é¢çæ ¸å¿ãKafkaAdminClientåé¨ä½¿ç¨kafkaçä¸å¥èªå®ä¹äºè¿å¶åè®®æ¥å®ç°è¯¸å¦åå»ºä¸»é¢çç®¡çå¨ä½ãä»ä¸»è¦çå®ç°æ­¥éª¤å¦ä¸ï¼\n\n 1. å®¢æ·ç«¯æ ¹æ®æ¹æ³è°ç¨åå»ºå¯¹åºçåè®®è¯·æ±ï¼æ¯å¦åå»ºä¸»é¢çcreateTopics()æ¹æ³ï¼å¶åé¨å°±æ¯åéCreateTopicsRequestè¯·æ±ã\n 2. å®¢æ·ç«¯å°è¯·æ±åéå°æå¡ç«¯ã\n 3. æå¡ç«¯å¤çç¸åºçè¯·æ±å¹¶è¿åååºï¼æ¯å¦ä¸è¿ä¸ªCreateTopicsRequestè¯·æ±å¯¹åºçå°±æ¯CreateTopicsResponseã\n 4. å®¢æ·ç«¯æ¥æ¶ç¸åºçååºå¹¶è¿è¡è§£æå¤çãååè®®ç¸å³çè¯·æ±åç¸åºçç±»åºæ¬é½å¨requestsåä¸ï¼AbstractRequeståAbstractResponseæ¯è¿äºè¯·æ±åååºç±»çåºæ¬ç¶ç±»ã\n\nç¬¬â£è¡çè¿åå¼æ¯CreateTopicsResultç±»åï¼å·ä½å®ä¹å¦ä¸ã\n\npublic class CreateTopicsResult {\n    private final Map<String, KafkaFuture<Void>> futures;\n\n    CreateTopicsResult(Map<String, KafkaFuture<Void>> futures) {\n        this.futures = futures;\n    }\n\n    /**\n     * Return a map from topic names to futures, which can be used to check the status of individual\n     * topic creations.\n     */\n    public Map<String, KafkaFuture<Void>> values() {\n        return futures;\n    }\n\n    /**\n     * Return a future which succeeds if all the topic creations succeed.\n     */\n    public KafkaFuture<Void> all() {\n        return KafkaFuture.allOf(futures.values().toArray(new KafkaFuture[0]));\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n\n\nCreateTopicsResultä¸­çæ¹æ³è¿æ¯éå¯¹æååéfuturesçæä½ï¼å¨æªæ¥ççæ¬ä¸­ï¼ä¼æè®¡åçå°KafkaFutureæ¿æ¢æCompletableFutureã\n\nå¨ä½¿ç¨KafkaAdminClientä¹åè®°å¾è¦è°ç¨close()æ¹æ³éæ¾èµæºã\n\næ¥ä¸æ¥æ¥çåååå»ºçä¸»é¢çåºæ¬éç½®ã\n\npublic class DescribeKafkaTopicConfig {\n    public static void main(String[] args) {\n        // éç½® KafkaAdminClient çå±æ§\n        Properties properties = new Properties();\n        properties.put("bootstrap.servers", "localhost:9092"); // æå® Kafka éç¾¤çå°å\n\n        // åå»º KafkaAdminClient\n        AdminClient adminClient = AdminClient.create(properties);\n\n        // åå»ºä¸ä¸ª ConfigResource ä»¥æè¿°è¦è·åéç½®çä¸»é¢\n        ConfigResource configResource = new ConfigResource(Type.TOPIC, "my-topic");\n\n        // ä½¿ç¨ KafkaAdminClient è·åä¸»é¢çéç½®\n        DescribeConfigsResult describeConfigsResult = adminClient.describeConfigs(Collections.singleton(configResource));\n\n        try {\n            // è·åéç½®ä¿¡æ¯\n            Map<ConfigResource, Config> configs = describeConfigsResult.all().get();\n            Config topicConfig = configs.get(configResource);\n\n            // æå°éç½®ä¿¡æ¯\n            for (ConfigEntry configEntry : topicConfig.entries()) {\n                System.out.println(configEntry.name() + " = " + configEntry.value());\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n            System.err.println("è·åä¸»é¢éç½®å¤±è´¥: " + e.getMessage());\n        } finally {\n            adminClient.close(); // å³é­ KafkaAdminClient\n        }\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n\n\næç»çè¾åºç»æä¸ä¼åªååºè¢«è¦ççéç½®ä¿¡æ¯ï¼èæ¯ä¼ååºä¸»ä½ä¸­çææçéç½®ä¿¡æ¯ã\n\nalterConfig()æ¹æ³çä½¿ç¨ä¹æ¯è¾ç®åã\n\npublic class RestoreKafkaTopicConfigToDefault {\n    public static void main(String[] args) {\n        // éç½® KafkaAdminClient çå±æ§\n        Properties properties = new Properties();\n        properties.put("bootstrap.servers", "localhost:9092"); // æå® Kafka éç¾¤çå°å\n\n        // åå»º KafkaAdminClient\n        AdminClient adminClient = AdminClient.create(properties);\n\n        // åå»ºä¸ä¸ª ConfigResource ä»¥æè¿°è¦è¿åéç½®çä¸»é¢\n        ConfigResource configResource = new ConfigResource(Type.TOPIC, "my-topic");\n\n        // è·åé»è®¤éç½®å¼\n        DescribeConfigsResult describeConfigsResult = adminClient.describeConfigs(Collections.singleton(configResource));\n        Config defaultConfig = null;\n        try {\n            Map<ConfigResource, Config> configs = describeConfigsResult.all().get();\n            defaultConfig = configs.get(configResource);\n        } catch (Exception e) {\n            e.printStackTrace();\n            System.err.println("è·åé»è®¤éç½®å¤±è´¥: " + e.getMessage());\n            return;\n        }\n\n        // åå»ºä¸ä¸ª AlterConfigOp æ¥è¿åéç½®å°é»è®¤å¼\n        AlterConfigOp alterConfigOp = new AlterConfigOp(defaultConfig.entries(), ConfigSource.DEFAULT_CONFIGS);\n\n        // ä½¿ç¨ KafkaAdminClient æ´æ°ä¸»é¢çéç½®\n        Map<ConfigResource, Collection<AlterConfigOp>> configUpdates = new HashMap<>();\n        configUpdates.put(configResource, Collections.singleton(alterConfigOp));\n\n        AlterConfigsResult alterConfigsResult = adminClient.incrementalAlterConfigs(configUpdates);\n\n        try {\n            alterConfigsResult.all().get(); // é»å¡ç­å¾éç½®æ´æ°å®æ\n            System.out.println("ä¸»é¢éç½®å·²è¿åå°é»è®¤å¼ï¼");\n        } catch (Exception e) {\n            e.printStackTrace();\n            System.err.println("è¿åä¸»é¢éç½®å¤±è´¥: " + e.getMessage());\n        } finally {\n            adminClient.close(); // å³é­ KafkaAdminClient\n        }\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n\n\n----------------------------------------\n\n\n# 2.ä¸»é¢åæ³æ§éªè¯\n\nkafkaçbrokerç«¯æè¿æ ·ä¸ä¸ªåæ°create.topic.policy.class.nameï¼é»è®¤å¼ä¸ºnullï¼ä»æä¾äºä¸ä¸ªå¥å£æ¥éªè¯ä¸»é¢åå»ºçåæ³æ§ãåªéè¦èªå®ä¹å®ç°CreateTopicPolicyæ¥å£ï¼ç¶åå°è¿ä¸ªç±»çå¨éå®ç±»åéç½®å°create.topic.policy.class.nameåæ°ã\n\nå¯¹äºCreateTopicPolicyæ¥å£çå ä¸ªæ¹æ³ï¼\n\n 1. configure()æ¹æ³ä¼å¨kafkaæå¡å¯å¨çæ¶åæ§è¡ã\n 2. validate()æ¹æ³ç¨æ¥é´å®ä¸»é¢åæ°çåæ³æ§ï¼å¨åå»ºä¸»é¢çæ¶åæ§è¡ã\n 3. close()æ¹æ³å¨å³é­kafkaæå¡æ¶æ§è¡ã\n\npublic interface CreateTopicPolicy extends Configurable, AutoCloseable {\n    void validate(RequestMetadata requestMetadata) throws PolicyViolationException;\n}\n\n\n1\n2\n3\n\n\n----------------------------------------',normalizedContent:'å¦æå¸æå°ä¸»é¢ç®¡çç±»çåè½éæå°å¬å¸åé¨ç³»ç»ä¸­ï¼æé éç®¡çï¼çæ§ï¼è¿ç»´ãåè­¦ä¸ä½ççæå¹³å°ï¼é£ä¹å°±éè¦ä»¥ç¨åºè°ç¨apiçæ¹å¼å»å®ç°ã\n\n----------------------------------------\n\n\n# 1.åºæ¬ä½¿ç¨\n\nä¸ºä»ä¹ä¸ä½¿ç¨topiccommandçæ¹å¼ï¼äº¤äºæ§å·®ï¼æ¬èº«è¿åå¼ç±»åä¸ºvoidãkafkaadminclientä¸ä»å¯ä»¥ç¨æ¥ç®¡çbrokerï¼éç½®åaclï¼è¿å¯ä»¥ç¨æ¥ç®¡çä¸»é¢ãkafkaadminclientç»§æ¿äºadminclientæ½è±¡ç±»ï¼å¹¶æä¾äºå¤ç§æ¹æ³ãä¸é¢åä¸¾é¨åæ¹æ³ï¼\n\n//ç¨äºåå»ºä¸ä¸ªæå¤ä¸ªä¸»é¢ã\ncreatetopicsresult createtopics(final collection<newtopic> newtopics,\n                                           final createtopicsoptions options)\n\n//ç¨äºå é¤ä¸ä¸ªæå¤ä¸ªä¸»é¢ã\ndeletetopicsresult deletetopics(collection<string> topicnames,\n                                           deletetopicsoptions options)\n\n//ç¨äºååº kafka éç¾¤ä¸­çææä¸»é¢ã\nlisttopicsresult listtopics(final listtopicsoptions options)\n\n//ç¨äºè·åä¸ä¸ªæå¤ä¸ªä¸»é¢çè¯¦ç»ä¿¡æ¯ã\ndescribetopicsresult describetopics(final collection<string> topicnames, describetopicsoptions options)\n\n//ç¨äºè·å kafka éç¾¤çä¿¡æ¯ã\ndescribeclusterresult describecluster(describeclusteroptions options)\n\n//ç¨äºè·å aclï¼è®¿é®æ§å¶åè¡¨ï¼çä¿¡æ¯ã\ndescribeaclsresult describeacls(final aclbindingfilter filter, describeaclsoptions options)\n\n//ç¨äºåå»º aclï¼è®¿é®æ§å¶åè¡¨ï¼ã\ncreateaclsresult createacls(collection<aclbinding> acls, createaclsoptions options)\n\n//ç¨äºå é¤ aclï¼è®¿é®æ§å¶åè¡¨ï¼ã\ndeleteaclsresult deleteacls(collection<aclbindingfilter> filters, deleteaclsoptions options)\n\n//ç¨äºè·åéç½®ä¿¡æ¯ã\ndescribeconfigsresult describeconfigs(collection<configresource> configresources, final describeconfigsoptions options)\n\n//ç¨äºä¿®æ¹éç½®ä¿¡æ¯ã\nalterconfigs(map<configresource, config> configs, final alterconfigsoptions options)\n\n//ç¨äºä¿®æ¹å¯æ¬çæ¥å¿ç®å½ã\nalterreplicalogdirsresult alterreplicalogdirs(map<topicpartitionreplica, string> replicaassignment, final alterreplicalogdirsoptions options)\n\n//ç¨äºè·å broker çæ¥å¿ç®å½ä¿¡æ¯ã\ndescribelogdirsresult describelogdirs(collection<integer> brokers, describelogdirsoptions options)\n\n//ç¨äºè·åå¯æ¬çæ¥å¿ç®å½ä¿¡æ¯ã\ndescribereplicalogdirsresult describereplicalogdirs(collection<topicpartitionreplica> replicas, describereplicalogdirsoptions options)\n\n//ç¨äºåå»ºä¸»é¢çååºã\ncreatepartitionsresult createpartitions(map<string, newpartitions> newpartitions,\n                                                   final createpartitionsoptions options)\n\n//ç¨äºå é¤æå®ååºçè®°å½ã\ndeleterecordsresult deleterecords(final map<topicpartition, recordstodelete> recordstodelete,\n                                             final deleterecordsoptions options)\n\n//ç¨äºåå»ºä»¤çï¼tokenï¼ã\ncreatedelegationtokenresult createdelegationtoken(final createdelegationtokenoptions options)\n\n//ç¨äºç»­çº¦ä»¤çã\nrenewdelegationtokenresult renewdelegationtoken(final byte[] hmac, final renewdelegationtokenoptions options)\n\n//ç¨äºè¿æä»¤çã\nexpiredelegationtokenresult expiredelegationtoken(final byte[] hmac, final expiredelegationtokenoptions options)\n\n\n//ç¨äºè·åä»¤ççä¿¡æ¯ã\ndescribedelegationtokenresult describedelegationtoken(final describedelegationtokenoptions options)\n\n//ç¨äºè·åæ¶è´¹èç»çä¿¡æ¯ã\ndescribeconsumergroupsresult describeconsumergroups(final collection<string> groupids,\n                                                               final describeconsumergroupsoptions options)\n//ç¨äºååº kafka éç¾¤ä¸­çæ¶è´¹èç»ã\nlistconsumergroupsresult listconsumergroups(listconsumergroupsoptions options)\n\n//ç¨äºè·åæ¶è´¹èç»çä½ç§»ä¿¡æ¯ã\nlistconsumergroupoffsetsresult listconsumergroupoffsets(final string groupid, final listconsumergroupoffsetsoptions options)\n\n//ç¨äºå é¤ä¸ä¸ªæå¤ä¸ªæ¶è´¹èç»ã\ndeleteconsumergroupsresult deleteconsumergroups(collection<string> groupids, deleteconsumergroupsoptions options)\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n\n\nä½¿ç¨kafkaadminclientåå»ºä¸ä¸ªä¸»é¢ï¼\n\nimport org.apache.kafka.clients.admin.adminclient;\nimport org.apache.kafka.clients.admin.newtopic;\nimport org.apache.kafka.common.kafkafuture;\n\nimport java.util.collections;\nimport java.util.properties;\n\npublic class createkafkatopic {\n    public static void main(string[] args) {\n        // éç½® kafkaadminclient çå±æ§\n        properties properties = new properties(); //â \n        properties.put("bootstrap.servers", "localhost:9092"); // æå® kafka éç¾¤çå°å\n\n        // åå»º kafkaadminclient\n        adminclient adminclient = adminclient.create(properties); //â¡\n\n        // åå»ºä¸ä¸ª newtopic å¯¹è±¡æ¥æè¿°è¦åå»ºçä¸»é¢\n        newtopic newtopic = new newtopic("my-topic", 1, (short) 1); // â¢ä¸»é¢åç§°ãååºæ°ãå¯æ¬å å­æ°é\n\n        // ä½¿ç¨ kafkaadminclient åå»ºä¸»é¢\n        createtopicsresult createtopicresult = adminclient.createtopics(collections.singleton(newtopic)); //â£\n\n        try {\n            createtopicresult.all().get(); // â¤é»å¡ç­å¾åå»ºæä½å®æ\n            system.out.println("ä¸»é¢åå»ºæåï¼");\n        } catch (exception e) {\n            e.printstacktrace();\n            system.err.println("ä¸»é¢åå»ºå¤±è´¥: " + e.getmessage());\n        } finally {\n            adminclient.close(); // â¥å³é­ kafkaadminclient\n        }\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n\n\nä¸é¢çä»£ç ä¸­ç¬¬â¡è¡åå»ºäºä¸ä¸ªkafkaadminclientå®ä¾ï¼å®ä¾ä¸­éè¿å¼å¥ç¬¬â è¡åå»ºçéç½®æ¥è¿æ¥kafkaéç¾¤ãadminclientçcreate()æ¹æ³å®éä¸è°ç¨çå°±æ¯kafkaadminclientä¸­çcreateinternal()æ¹æ³æå»ºçkafkaadminclientå®ä¾ã\n\npublic static adminclient create(properties props){\n        return kafkaadminclient.createinternal(new adminclientconfig(props),null);\n        }\n\n\n1\n2\n3\n\n\nç¬¬â¢è¡ä¸­çnewtopicç¨æ¥è®¾å®æè¦åå»ºä¸»é¢çå·ä½ä¿¡æ¯ï¼åå«åå»ºä¸»é¢æ¶éè¦çä¸»ä½åç§°ï¼ååºæ°åå¯æ¬å å­ç­ã\n\n    private final string name; //åç§°\nprivate final int numpartitions; //ååºæ°\nprivate final short replicationfactor; //å¯æ¬å å­\nprivate final map<integer, list<integer>>replicasassignments; //åéæ¹æ¡\nprivate map<string, string> configs=null; //å±æ§éç½®\n\n\n1\n2\n3\n4\n5\n\n\nåkafka-topics.shèæ¬ä¸æ ·ï¼å¯ä»¥éè¿æå®ååºæ°åå¯æ¬å å­æ¥åå»ºä¸ä¸ªä¸»é¢ï¼ä¹å¯ä»¥éè¿æå®ååºå¯æ¬çå·ä½æ¹æ¡æ¥åå»ºä¸ä¸ªä¸»é¢ï¼æ¯å¦å°ç¬¬â¢è¡æ¿æ¢ä¸ºä¸é¢çåå®¹ã\n\nmap<integer, list<integer>>replicaassignment=new hashmap<>();\n        replicaassignment.put(0,collections.singletonlist(0)); // ååº 0 çå¯æ¬åéå° broker 0\n        replicaassignment.put(1,collections.singletonlist(1)); // ååº 1 çå¯æ¬åéå° broker 1\n        newtopic newtopic=new newtopic("my-topic",replicaassignment);\n\n\n1\n2\n3\n4\n\n\nä¹å¯ä»¥å¨åå»ºä¸»é¢æ¶æå®éè¦è¦ççéç½®ï¼æ¯å¦è¦çcleanup.policyéç½®ï¼éè¦å¨ç¬¬â¢è¡åç¬¬â£è¡ä¹é´å å¥å¦ä¸ä»£ç ã\n\n        // åå»ºä¸ä¸ªèªå®ä¹çéç½®\n        map<string, string> topicconfig=new hashmap<>();\n        topicconfig.put("cleanup.policy","compact,delete");\n        // æ·»å æ´å¤çèªå®ä¹éç½®...\n\n        // åå»ºä¸ä¸ª newtopic å¯¹è±¡æ¥æè¿°è¦åå»ºçä¸»é¢\n        newtopic newtopic=new newtopic("my-topic",replicaassignment);\n        newtopic.configs(topicconfig);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nç¬¬â£è¡æ¯çæ­£åå»ºä¸»é¢çæ ¸å¿ãkafkaadminclientåé¨ä½¿ç¨kafkaçä¸å¥èªå®ä¹äºè¿å¶åè®®æ¥å®ç°è¯¸å¦åå»ºä¸»é¢çç®¡çå¨ä½ãä»ä¸»è¦çå®ç°æ­¥éª¤å¦ä¸ï¼\n\n 1. å®¢æ·ç«¯æ ¹æ®æ¹æ³è°ç¨åå»ºå¯¹åºçåè®®è¯·æ±ï¼æ¯å¦åå»ºä¸»é¢çcreatetopics()æ¹æ³ï¼å¶åé¨å°±æ¯åécreatetopicsrequestè¯·æ±ã\n 2. å®¢æ·ç«¯å°è¯·æ±åéå°æå¡ç«¯ã\n 3. æå¡ç«¯å¤çç¸åºçè¯·æ±å¹¶è¿åååºï¼æ¯å¦ä¸è¿ä¸ªcreatetopicsrequestè¯·æ±å¯¹åºçå°±æ¯createtopicsresponseã\n 4. å®¢æ·ç«¯æ¥æ¶ç¸åºçååºå¹¶è¿è¡è§£æå¤çãååè®®ç¸å³çè¯·æ±åç¸åºçç±»åºæ¬é½å¨requestsåä¸ï¼abstractrequeståabstractresponseæ¯è¿äºè¯·æ±åååºç±»çåºæ¬ç¶ç±»ã\n\nç¬¬â£è¡çè¿åå¼æ¯createtopicsresultç±»åï¼å·ä½å®ä¹å¦ä¸ã\n\npublic class createtopicsresult {\n    private final map<string, kafkafuture<void>> futures;\n\n    createtopicsresult(map<string, kafkafuture<void>> futures) {\n        this.futures = futures;\n    }\n\n    /**\n     * return a map from topic names to futures, which can be used to check the status of individual\n     * topic creations.\n     */\n    public map<string, kafkafuture<void>> values() {\n        return futures;\n    }\n\n    /**\n     * return a future which succeeds if all the topic creations succeed.\n     */\n    public kafkafuture<void> all() {\n        return kafkafuture.allof(futures.values().toarray(new kafkafuture[0]));\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n\n\ncreatetopicsresultä¸­çæ¹æ³è¿æ¯éå¯¹æååéfuturesçæä½ï¼å¨æªæ¥ççæ¬ä¸­ï¼ä¼æè®¡åçå°kafkafutureæ¿æ¢æcompletablefutureã\n\nå¨ä½¿ç¨kafkaadminclientä¹åè®°å¾è¦è°ç¨close()æ¹æ³éæ¾èµæºã\n\næ¥ä¸æ¥æ¥çåååå»ºçä¸»é¢çåºæ¬éç½®ã\n\npublic class describekafkatopicconfig {\n    public static void main(string[] args) {\n        // éç½® kafkaadminclient çå±æ§\n        properties properties = new properties();\n        properties.put("bootstrap.servers", "localhost:9092"); // æå® kafka éç¾¤çå°å\n\n        // åå»º kafkaadminclient\n        adminclient adminclient = adminclient.create(properties);\n\n        // åå»ºä¸ä¸ª configresource ä»¥æè¿°è¦è·åéç½®çä¸»é¢\n        configresource configresource = new configresource(type.topic, "my-topic");\n\n        // ä½¿ç¨ kafkaadminclient è·åä¸»é¢çéç½®\n        describeconfigsresult describeconfigsresult = adminclient.describeconfigs(collections.singleton(configresource));\n\n        try {\n            // è·åéç½®ä¿¡æ¯\n            map<configresource, config> configs = describeconfigsresult.all().get();\n            config topicconfig = configs.get(configresource);\n\n            // æå°éç½®ä¿¡æ¯\n            for (configentry configentry : topicconfig.entries()) {\n                system.out.println(configentry.name() + " = " + configentry.value());\n            }\n        } catch (exception e) {\n            e.printstacktrace();\n            system.err.println("è·åä¸»é¢éç½®å¤±è´¥: " + e.getmessage());\n        } finally {\n            adminclient.close(); // å³é­ kafkaadminclient\n        }\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n\n\næç»çè¾åºç»æä¸ä¼åªååºè¢«è¦ççéç½®ä¿¡æ¯ï¼èæ¯ä¼ååºä¸»ä½ä¸­çææçéç½®ä¿¡æ¯ã\n\nalterconfig()æ¹æ³çä½¿ç¨ä¹æ¯è¾ç®åã\n\npublic class restorekafkatopicconfigtodefault {\n    public static void main(string[] args) {\n        // éç½® kafkaadminclient çå±æ§\n        properties properties = new properties();\n        properties.put("bootstrap.servers", "localhost:9092"); // æå® kafka éç¾¤çå°å\n\n        // åå»º kafkaadminclient\n        adminclient adminclient = adminclient.create(properties);\n\n        // åå»ºä¸ä¸ª configresource ä»¥æè¿°è¦è¿åéç½®çä¸»é¢\n        configresource configresource = new configresource(type.topic, "my-topic");\n\n        // è·åé»è®¤éç½®å¼\n        describeconfigsresult describeconfigsresult = adminclient.describeconfigs(collections.singleton(configresource));\n        config defaultconfig = null;\n        try {\n            map<configresource, config> configs = describeconfigsresult.all().get();\n            defaultconfig = configs.get(configresource);\n        } catch (exception e) {\n            e.printstacktrace();\n            system.err.println("è·åé»è®¤éç½®å¤±è´¥: " + e.getmessage());\n            return;\n        }\n\n        // åå»ºä¸ä¸ª alterconfigop æ¥è¿åéç½®å°é»è®¤å¼\n        alterconfigop alterconfigop = new alterconfigop(defaultconfig.entries(), configsource.default_configs);\n\n        // ä½¿ç¨ kafkaadminclient æ´æ°ä¸»é¢çéç½®\n        map<configresource, collection<alterconfigop>> configupdates = new hashmap<>();\n        configupdates.put(configresource, collections.singleton(alterconfigop));\n\n        alterconfigsresult alterconfigsresult = adminclient.incrementalalterconfigs(configupdates);\n\n        try {\n            alterconfigsresult.all().get(); // é»å¡ç­å¾éç½®æ´æ°å®æ\n            system.out.println("ä¸»é¢éç½®å·²è¿åå°é»è®¤å¼ï¼");\n        } catch (exception e) {\n            e.printstacktrace();\n            system.err.println("è¿åä¸»é¢éç½®å¤±è´¥: " + e.getmessage());\n        } finally {\n            adminclient.close(); // å³é­ kafkaadminclient\n        }\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n\n\n----------------------------------------\n\n\n# 2.ä¸»é¢åæ³æ§éªè¯\n\nkafkaçbrokerç«¯æè¿æ ·ä¸ä¸ªåæ°create.topic.policy.class.nameï¼é»è®¤å¼ä¸ºnullï¼ä»æä¾äºä¸ä¸ªå¥å£æ¥éªè¯ä¸»é¢åå»ºçåæ³æ§ãåªéè¦èªå®ä¹å®ç°createtopicpolicyæ¥å£ï¼ç¶åå°è¿ä¸ªç±»çå¨éå®ç±»åéç½®å°create.topic.policy.class.nameåæ°ã\n\nå¯¹äºcreatetopicpolicyæ¥å£çå ä¸ªæ¹æ³ï¼\n\n 1. configure()æ¹æ³ä¼å¨kafkaæå¡å¯å¨çæ¶åæ§è¡ã\n 2. validate()æ¹æ³ç¨æ¥é´å®ä¸»é¢åæ°çåæ³æ§ï¼å¨åå»ºä¸»é¢çæ¶åæ§è¡ã\n 3. close()æ¹æ³å¨å³é­kafkaæå¡æ¶æ§è¡ã\n\npublic interface createtopicpolicy extends configurable, autocloseable {\n    void validate(requestmetadata requestmetadata) throws policyviolationexception;\n}\n\n\n1\n2\n3\n\n\n----------------------------------------',charsets:{cjk:!0},lastUpdated:"2023/11/04, 10:52:44",lastUpdatedTimestamp:1699066364e3},{title:"æ¶è´¹è-å®¢æ·ç«¯å¼å-åæ°è¯´æ",frontmatter:{title:"æ¶è´¹è-å®¢æ·ç«¯å¼å-åæ°è¯´æ",date:"2023-01-01T00:00:00.000Z",tags:["Kafka","æ¶æ¯éå"],categories:["Kafka"],description:"æ¶è´¹è-å®¢æ·ç«¯å¼å-åæ°è¯´æ",toc_number:!1,author:{name:"huidong.yin",link:"https://huidongyin.github.io"},permalink:"/pages/7ece0102-a50f-3e0c-be18-9f58eb0723e1/"},regularPath:"/03.%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97/00.Kafka/11.%E6%B6%88%E8%B4%B9%E8%80%85-%E5%AE%A2%E6%88%B7%E7%AB%AF%E5%BC%80%E5%8F%91-%E5%8F%82%E6%95%B0%E8%AF%B4%E6%98%8E.html",relativePath:"03.æ¶æ¯éå/00.Kafka/11.æ¶è´¹è-å®¢æ·ç«¯å¼å-åæ°è¯´æ.md",key:"v-3dcceb24",path:"/pages/7ece0102-a50f-3e0c-be18-9f58eb0723e1/",headers:[{level:4,title:"1) fetch.min.bytes",slug:"_1-fetch-min-bytes",normalizedTitle:"1) fetch.min.bytes",charIndex:160},{level:4,title:"2) fetch.max.bytes",slug:"_2-fetch-max-bytes",normalizedTitle:"2) fetch.max.bytes",charIndex:435},{level:4,title:"3) fetch.max.wait.ms",slug:"_3-fetch-max-wait-ms",normalizedTitle:"3) fetch.max.wait.ms",charIndex:805},{level:4,title:"4) max.partition.fetch.bytes",slug:"_4-max-partition-fetch-bytes",normalizedTitle:"4) max.partition.fetch.bytes",charIndex:1141},{level:4,title:"5) max.poll.records",slug:"_5-max-poll-records",normalizedTitle:"5) max.poll.records",charIndex:1404},{level:4,title:"6) connections.max.idle.ms",slug:"_6-connections-max-idle-ms",normalizedTitle:"6) connections.max.idle.ms",charIndex:1553},{level:4,title:"7) exclude.internal.topics",slug:"_7-exclude-internal-topics",normalizedTitle:"7) exclude.internal.topics",charIndex:1671},{level:4,title:"8) receive.buffer.bytes",slug:"_8-receive-buffer-bytes",normalizedTitle:"8) receive.buffer.bytes",charIndex:1953},{level:4,title:"9) send.buffer.bytes",slug:"_9-send-buffer-bytes",normalizedTitle:"9) send.buffer.bytes",charIndex:2140},{level:4,title:"10) request.timeout.ms",slug:"_10-request-timeout-ms",normalizedTitle:"10) request.timeout.ms",charIndex:2314},{level:4,title:"11) metadata.max.age.ms",slug:"_11-metadata-max-age-ms",normalizedTitle:"11) metadata.max.age.ms",charIndex:2429},{level:4,title:"12) reconnect.backoff.ms",slug:"_12-reconnect-backoff-ms",normalizedTitle:"12) reconnect.backoff.ms",charIndex:2595},{level:4,title:"13) retry.backoff.ms",slug:"_13-retry-backoff-ms",normalizedTitle:"13) retry.backoff.ms",charIndex:2749},{level:4,title:"14) isolation.level",slug:"_14-isolation-level",normalizedTitle:"14) isolation.level",charIndex:2888},{level:4,title:"15) æ±æ»",slug:"_15-æ±æ»",normalizedTitle:"15) æ±æ»",charIndex:3154}],headersStr:"1) fetch.min.bytes 2) fetch.max.bytes 3) fetch.max.wait.ms 4) max.partition.fetch.bytes 5) max.poll.records 6) connections.max.idle.ms 7) exclude.internal.topics 8) receive.buffer.bytes 9) send.buffer.bytes 10) request.timeout.ms 11) metadata.max.age.ms 12) reconnect.backoff.ms 13) retry.backoff.ms 14) isolation.level 15) æ±æ»",content:'å¨ KafkaConsumer ä¸­ï¼é¤äºåé¢æåç4ä¸ªé»è®¤çå®¢æ·ç«¯åæ°ï¼å¤§é¨åçåæ°é½æåççé»è®¤å¼ï¼ä¸è¬æä»¬ä¹ä¸éè¦å»ä¿®æ¹å®ä»¬ãä¸è¿äºè§£è¿äºåæ°å¯ä»¥è®©æä»¬æ´å¥½å°ä½¿ç¨æ¶è´¹èå®¢æ·ç«¯ï¼å¶ä¸­è¿æä¸äºéè¦çåæ°æ¶åç¨åºçå¯ç¨æ§åæ§è½ï¼å¦æè½å¤çç»ææ¡å®ä»¬ï¼ä¹å¯ä»¥è®©æä»¬å¨ç¼åç¸å³çç¨åºæ¶è½å¤æ´å¥½å°è¿è¡æ§è½è°ä¼ä¸æéææ¥ã\n\n# 1) fetch.min.bytes\n\nè¯¥åæ°ç¨æ¥éç½® Consumer å¨ä¸æ¬¡æåè¯·æ±(è°ç¨ poll()æ¹æ³)ä¸­è½ä» Kafka ä¸­æåçæå°æ°æ®éï¼é»è®¤å¼ä¸º 1(B)ãKafka å¨æ¶å°Consumerçæåè¯·æ±æ¶ï¼å¦æè¿åç»Consumerçæ°æ®éå°äºè¿ä¸ªåæ°æéç½®çå¼ï¼é£ä¹å®å°±éè¦è¿è¡ç­å¾ï¼ç´å°æ°æ®éæ»¡è¶³è¿ä¸ªåæ°çéç½®å¤§å°ãå¯ä»¥éå½è°å¤§è¿ä¸ªåæ°çå¼ä»¥æé«ä¸å®çååéï¼ä¸è¿ä¹ä¼é æé¢å¤çå»¶è¿ (latency)ï¼å¯¹äºå»¶è¿ææçåºç¨å¯è½å°±ä¸å¯åäºã\n\n----------------------------------------\n\n# 2) fetch.max.bytes\n\nè¯¥åæ°ä¸ fetch.min.bytes åæ°å¯¹åº,å®ç¨æ¥éç½® Consumerå¨ä¸æ¬¡æåè¯·æ±ä¸­ä» Kafkaä¸­æåçæå¤§æ°æ®éï¼é»è®¤å¼ä¸º 52428800(B)ï¼ä¹å°±æ¯ 50MBãå¦æè¿ä¸ªåæ°è®¾ç½®çå¼æ¯ä»»ä½ä¸æ¡åå¥ Kafka ä¸­çæ¶æ¯è¦å°ï¼é£ä¹ä¼ä¸ä¼é ææ æ³æ¶è´¹å¢? **è¯¥åæ°è®¾å®çä¸æ¯ç»å¯¹çæå¤§å¼ï¼å¦æå¨ç¬¬ä¸ä¸ªéç©ºååºä¸­æåçç¬¬ä¸æ¡æ¶æ¯å¤§äºè¯¥å¼,é£ä¹è¯¥æ¶æ¯å°ä»ç¶è¿åï¼ä»¥ç¡®ä¿æ¶è´¹èç»§ç»­å·¥ä½ã**ä¹å°±æ¯è¯´ï¼ä¸é¢é®é¢çç­æ¡æ¯å¯ä»¥æ­£å¸¸æ¶è´¹ãä¸æ­¤ç¸å³çï¼Kafka ä¸­æè½æ¥æ¶çæå¤§æ¶æ¯çå¤§å°éè¿æå¡ç«¯åæ° message.max.bytes (å¯¹åºäºä¸»é¢ç«¯åæ° max.message.bytes)æ¥è®¾ç½®ã\n\n----------------------------------------\n\n# 3) fetch.max.wait.ms\n\nè¿ä¸ªåæ°ä¹å fetch.min.bytes åæ°æå³ï¼å¦æ Kafka ä»ä»åè fetch.min.bytesåæ°çè¦æ±ï¼é£ä¹æå¯è½ä¼ä¸ç´é»å¡ç­å¾èæ æ³åéååºç»Consumerï¼æ¾ç¶è¿æ¯ä¸åççãfetch.max.wait.ms åæ°ç¨äºæå® Kafkaçç­å¾æ¶é´ï¼é»è®¤å¼ä¸º500 (ms)ãå¦æ Kafkaä¸­æ²¡æè¶³å¤å¤çæ¶æ¯èæ»¡è¶³ä¸äº fetch.min.bytes åæ°çè¦æ±ï¼é£ä¹æç»ä¼ç­å¾500msãè¿ä¸ªåæ°çè®¾å®å Consumer ä¸ Kafkaä¹é´çå»¶è¿ä¹æå³ç³»ï¼å¦æä¸å¡åºç¨å¯¹å»¶è¿ææï¼é£ä¹å¯ä»¥éå½è°å°è¿ä¸ªåæ°ã\n\n----------------------------------------\n\n# 4) max.partition.fetch.bytes\n\nè¿ä¸ªåæ°ç¨æ¥éç½®ä»æ¯ä¸ªååºéè¿åç» Consumer çæå¤§æ°æ®éï¼é»è®¤å¼ä¸º 1048576(B)ï¼å³ IMBãè¿ä¸ªåæ°ä¸ fetch.max.bytesåæ°ç¸ä¼¼ï¼åªä¸è¿åèç¨æ¥éå¶ä¸æ¬¡æåä¸­æ¯ä¸ªååºçæ¶æ¯å¤§å°ï¼èåèç¨æ¥éå¶ä¸æ¬¡æåä¸­æ´ä½æ¶æ¯çå¤§å°ãåæ ·ï¼å¦æè¿ä¸ªåæ°è®¾å®çå¼æ¯æ¶æ¯çå¤§å°è¦å°ï¼é£ä¹ä¹ä¸ä¼é ææ æ³æ¶è´¹ï¼Kafkaä¸ºäºä¿ææ¶è´¹é»è¾çæ­£å¸¸è¿è½¬ä¸ä¼å¯¹å¼ºç¡¬çéå¶ã\n\n----------------------------------------\n\n# 5) max.poll.records\n\nè¿ä¸ªåæ°ç¨æ¥éç½® Consumer å¨ä¸æ¬¡æåè¯·æ±ä¸­æåçæå¤§æ¶æ¯æ°ï¼é»è®¤å¼ä¸º 500(æ¡)ãå¦ææ¶æ¯çå¤§å°é½æ¯è¾å°ï¼åå¯ä»¥éå½è°å¤§è¿ä¸ªåæ°å¼æ¥æåä¸å®çæ¶è´¹éåº¦ã\n\n----------------------------------------\n\n# 6) connections.max.idle.ms\n\nè¿ä¸ªåæ°ç¨æ¥æå®å¨å¤ä¹ä¹åå³é­é²ç½®çè¿æ¥ï¼é»è®¤å¼æ¯ 540000 (ms)ï¼å³ 9åéã\n\n----------------------------------------\n\n# 7) exclude.internal.topics\n\nKafka ä¸­æä¸¤ä¸ªåé¨çä¸»é¢: _consumer_offsets å _transaction_stateãexclude.internal.topicsç¨æ¥æå®Kafkaä¸­çåé¨ä¸»é¢æ¯å¦å¯ä»¥åæ¶è´¹èå¬å¼ï¼é»è®¤å¼ä¸º trueãå¦æè®¾ç½®ä¸º trueï¼é£ä¹è½ä½¿ç¨ subscribe(Collection)çæ¹å¼èä¸è½ä½¿ç¨ subscribe(Pattern)çæ¹å¼æ¥è®¢éåé¨ä¸»é¢,è®¾ç½® false åæ²¡æè¿ä¸ªéå¶ã\n\n----------------------------------------\n\n# 8) receive.buffer.bytes\n\nè¿ä¸ªåæ°ç¨æ¥è®¾ç½® Socket æ¥æ¶æ¶æ¯ç¼å²åº(SO_RECBUF)çå¤§å°ï¼é»è®¤å¼ä¸º 65536(B)å³ 64KBãå¦æè®¾ç½®ä¸º-1ï¼åä½¿ç¨æä½ç³»ç»çé»è®¤å¼ãå¦æConsumerä¸ Kafka å¤äºä¸åçæºæ¿åå¯ä»¥éå½è°å¤§è¿ä¸ªåæ°å¼ã\n\n----------------------------------------\n\n# 9) send.buffer.bytes\n\nè¿ä¸ªåæ°ç¨æ¥è®¾ç½® Socket åéæ¶æ¯ç¼å²åº(SO_SNDBUF)çå¤§å°ï¼é»è®¤å¼ä¸º 131072(B)å³ 128KBãä¸receive.buffer.bytesåæ°ä¸æ ·ï¼å¦æè®¾ç½®ä¸º-1ï¼åä½¿ç¨æä½ç³»ç»çé»è®¤å¼ã\n\n----------------------------------------\n\n# 10) request.timeout.ms\n\nè¿ä¸ªåæ°ç¨æ¥éç½® Consumer ç­å¾è¯·æ±ååºçæé¿æ¶é´ï¼é»è®¤å¼ä¸º 30000(ms)ã\n\n----------------------------------------\n\n# 11) metadata.max.age.ms\n\nè¿ä¸ªåæ°ç¨æ¥éç½®åæ°æ®çè¿ææ¶é´ï¼é»è®¤å¼ä¸º 300000(ms)ï¼å³ 5 åéãå¦æåæ°æ®å¨æ­¤åæ°æéå®çæ¶é´èå´åæ²¡æè¿è¡æ´æ°ï¼åä¼è¢«å¼ºå¶æ´æ°ï¼å³ä½¿æ²¡æä»»ä½ååºååæææ°brokerå å¥ã\n\n----------------------------------------\n\n# 12) reconnect.backoff.ms\n\nè¿ä¸ªåæ°ç¨æ¥éç½®å°è¯éæ°è¿æ¥æå®ä¸»æºä¹åçç­å¾æ¶é´(ä¹ç§°ä¸ºéé¿æ¶é´)ï¼é¿åé¢ç¹å°è¿æ¥ä¸»æºï¼é»è®¤å¼ä¸º 50(ms)ãè¿ç§æºå¶éç¨äºæ¶è´¹èåbrokeråéçææè¯·æ±ã\n\n----------------------------------------\n\n# 13) retry.backoff.ms\n\nè¿ä¸ªåæ°ç¨æ¥éç½®å°è¯éæ°åéå¤±è´¥çè¯·æ±å°æå®çä¸»é¢ååºä¹åçç­å¾ (éé¿)æ¶é´ï¼é¿åå¨æäºæéæåµä¸é¢ç¹å°éå¤åéï¼é»è®¤å¼ä¸º100 (ms)ã\n\n----------------------------------------\n\n# 14) isolation.level\n\nè¿ä¸ªåæ°ç¨æ¥éç½®æ¶è´¹èçäºå¡éç¦»çº§å«ãå­ç¬¦ä¸²ç±»åï¼ææå¼ä¸ºread_uncommittedåread_committedï¼è¡¨ç¤ºæ¶è´¹èææ¶è´¹å°çä½ç½®ï¼å¦æè®¾ç½®ä¸ºread_committedï¼é£ä¹æ¶è´¹èå°±ä¼å¿½ç¥äºå¡æªæäº¤çæ¶æ¯ï¼å³åªè½æ¶è´¹å° LSO (LastStableOffset)çä½ç½®ï¼é»è®¤æåµä¸ä¸ºread_uncommittedï¼å³å¯ä»¥æ¶è´¹å° HW (High Watermark)å¤çä½ç½®ã\n\n----------------------------------------\n\n# 15) æ±æ»\n\nåæ°åç§°                            é»è®¤å¼                                               åæ°éä¹\nbootstrap.servers               ""                                                æå®è¿æ¥ Kafka éç¾¤æéçbroker å°åæ¸å\nkey.deserializer                                                                  æ¶æ¯ä¸­ key\n                                                                                  æå¯¹åºçååºååç±»ï¼éè¦å®ç°org.apache.kafka.common.serialization.Deserializeræ¥å£\nvalue.deserializer                                                                æ¶æ¯ä¸­ key\n                                                                                  æå¯¹åºçååºååç±»ï¼éè¦å®ç°org.apache.kafka.common.serialization.Deserializeræ¥å£\ngroup.id                        ""                                                æ­¤æ¶è´¹èæé¶å±çæ¶è´¹ç»çå¯ä¸æ è¯ï¼å³æ¶è´¹ç»çåç§°\nclient.id                       ""                                                æ¶è´¹èå®¢æ·ç«¯ç id\nheartbeat.interval.ms           3000                                              å½ä½¿ç¨ Kafka\n                                                                                  çåç»ç®¡çåè½æ¶ï¼å¿è·³å°æ¶è´¹èåè°å¨ä¹é´çé¢è®¡æ¶é´ãå¿è·³ç¨äºç¡®ä¿æ¶è´¹èçä¼è¯ä¿ææ´»å¨ç¶æï¼å½ææ°æ¶è´¹èå å¥æç¦»å¼ç»æ¶æ¹ä¾¿éæ°å¹³è¡¡ãè¯¥å¼å¿é¡»æ¯session.timeout.mså°ï¼éå¸¸ä¸é«äº\n                                                                                  1/3ãå®å¯ä»¥è°æ´å¾æ´ä½ï¼ä»¥æ§å¶æ­£å¸¸éæ°å¹³è¡¡çé¢ææ¶é´\nsession.timeout.ms              10000                                             ç»ç®¡çåè®®ä¸­ç¨æ¥æ£æµæ¶è´¹èæ¯å¦å¤±æçè¶æ¶æ¶é´\nmax.poll.interval.ms            300000                                            å½éè¿æ¶è´¹ç»ç®¡çæ¶è´¹èæ¶ï¼è¯¥éç½®æå®æåæ¶æ¯çº¿ç¨æé¿ç©ºé²æ¶é´ï¼è¥è¶è¿è¿ä¸ªæ¶é´é´éè¿æ²¡æåèµ· poll\n                                                                                  æä½ï¼åæ¶è´¹ç»è®¤ä¸ºè¯¥æ¶è´¹èå·²ç¦»å¼äºæ¶è´¹ç»ï¼å°è¿è¡ååè¡¡æä½\nauto.offset.reset               latest                                            åæ°å¼ä¸ºå­ç¬¦ä¸²ç±»åï¼ææå¼ä¸ºearliest latest noneï¼éç½®ä¸ºå¶ä½å¼ä¼æ¥åºå¼å¸¸\nenable.auto.commit              true                                              boolean ç±»åï¼éç½®æ¯å¦å¼å¯èªå¨æäº¤æ¶è´¹ä½ç¹çåè½ï¼é»è®¤å¼å¯\nauto.commit.interval.ms         5000                                              å½enbale.auto.commit åæ°è®¾ç½®ä¸º true\n                                                                                  æ¶æçæ,è¡¨ç¤ºå¼å¯èªå¨æäº¤æ¶è´¹ä½ç¹åè½æ¶èªå¨æäº¤æ¶è´¹ä½ç¹çæ¶é´é´é\npartition.assignment.strategy   org.apache.kafka.clients.consumer.RangeAssignor   æ¶è´¹èçååºåéç­ç¥\ninterceptor.class               ""                                                ç¨æ¥éç½®æ¶è´¹èå®¢æ·ç«¯çæ¦æªå¨\n\n----------------------------------------',normalizedContent:'å¨ kafkaconsumer ä¸­ï¼é¤äºåé¢æåç4ä¸ªé»è®¤çå®¢æ·ç«¯åæ°ï¼å¤§é¨åçåæ°é½æåççé»è®¤å¼ï¼ä¸è¬æä»¬ä¹ä¸éè¦å»ä¿®æ¹å®ä»¬ãä¸è¿äºè§£è¿äºåæ°å¯ä»¥è®©æä»¬æ´å¥½å°ä½¿ç¨æ¶è´¹èå®¢æ·ç«¯ï¼å¶ä¸­è¿æä¸äºéè¦çåæ°æ¶åç¨åºçå¯ç¨æ§åæ§è½ï¼å¦æè½å¤çç»ææ¡å®ä»¬ï¼ä¹å¯ä»¥è®©æä»¬å¨ç¼åç¸å³çç¨åºæ¶è½å¤æ´å¥½å°è¿è¡æ§è½è°ä¼ä¸æéææ¥ã\n\n# 1) fetch.min.bytes\n\nè¯¥åæ°ç¨æ¥éç½® consumer å¨ä¸æ¬¡æåè¯·æ±(è°ç¨ poll()æ¹æ³)ä¸­è½ä» kafka ä¸­æåçæå°æ°æ®éï¼é»è®¤å¼ä¸º 1(b)ãkafka å¨æ¶å°consumerçæåè¯·æ±æ¶ï¼å¦æè¿åç»consumerçæ°æ®éå°äºè¿ä¸ªåæ°æéç½®çå¼ï¼é£ä¹å®å°±éè¦è¿è¡ç­å¾ï¼ç´å°æ°æ®éæ»¡è¶³è¿ä¸ªåæ°çéç½®å¤§å°ãå¯ä»¥éå½è°å¤§è¿ä¸ªåæ°çå¼ä»¥æé«ä¸å®çååéï¼ä¸è¿ä¹ä¼é æé¢å¤çå»¶è¿ (latency)ï¼å¯¹äºå»¶è¿ææçåºç¨å¯è½å°±ä¸å¯åäºã\n\n----------------------------------------\n\n# 2) fetch.max.bytes\n\nè¯¥åæ°ä¸ fetch.min.bytes åæ°å¯¹åº,å®ç¨æ¥éç½® consumerå¨ä¸æ¬¡æåè¯·æ±ä¸­ä» kafkaä¸­æåçæå¤§æ°æ®éï¼é»è®¤å¼ä¸º 52428800(b)ï¼ä¹å°±æ¯ 50mbãå¦æè¿ä¸ªåæ°è®¾ç½®çå¼æ¯ä»»ä½ä¸æ¡åå¥ kafka ä¸­çæ¶æ¯è¦å°ï¼é£ä¹ä¼ä¸ä¼é ææ æ³æ¶è´¹å¢? **è¯¥åæ°è®¾å®çä¸æ¯ç»å¯¹çæå¤§å¼ï¼å¦æå¨ç¬¬ä¸ä¸ªéç©ºååºä¸­æåçç¬¬ä¸æ¡æ¶æ¯å¤§äºè¯¥å¼,é£ä¹è¯¥æ¶æ¯å°ä»ç¶è¿åï¼ä»¥ç¡®ä¿æ¶è´¹èç»§ç»­å·¥ä½ã**ä¹å°±æ¯è¯´ï¼ä¸é¢é®é¢çç­æ¡æ¯å¯ä»¥æ­£å¸¸æ¶è´¹ãä¸æ­¤ç¸å³çï¼kafka ä¸­æè½æ¥æ¶çæå¤§æ¶æ¯çå¤§å°éè¿æå¡ç«¯åæ° message.max.bytes (å¯¹åºäºä¸»é¢ç«¯åæ° max.message.bytes)æ¥è®¾ç½®ã\n\n----------------------------------------\n\n# 3) fetch.max.wait.ms\n\nè¿ä¸ªåæ°ä¹å fetch.min.bytes åæ°æå³ï¼å¦æ kafka ä»ä»åè fetch.min.bytesåæ°çè¦æ±ï¼é£ä¹æå¯è½ä¼ä¸ç´é»å¡ç­å¾èæ æ³åéååºç»consumerï¼æ¾ç¶è¿æ¯ä¸åççãfetch.max.wait.ms åæ°ç¨äºæå® kafkaçç­å¾æ¶é´ï¼é»è®¤å¼ä¸º500 (ms)ãå¦æ kafkaä¸­æ²¡æè¶³å¤å¤çæ¶æ¯èæ»¡è¶³ä¸äº fetch.min.bytes åæ°çè¦æ±ï¼é£ä¹æç»ä¼ç­å¾500msãè¿ä¸ªåæ°çè®¾å®å consumer ä¸ kafkaä¹é´çå»¶è¿ä¹æå³ç³»ï¼å¦æä¸å¡åºç¨å¯¹å»¶è¿ææï¼é£ä¹å¯ä»¥éå½è°å°è¿ä¸ªåæ°ã\n\n----------------------------------------\n\n# 4) max.partition.fetch.bytes\n\nè¿ä¸ªåæ°ç¨æ¥éç½®ä»æ¯ä¸ªååºéè¿åç» consumer çæå¤§æ°æ®éï¼é»è®¤å¼ä¸º 1048576(b)ï¼å³ imbãè¿ä¸ªåæ°ä¸ fetch.max.bytesåæ°ç¸ä¼¼ï¼åªä¸è¿åèç¨æ¥éå¶ä¸æ¬¡æåä¸­æ¯ä¸ªååºçæ¶æ¯å¤§å°ï¼èåèç¨æ¥éå¶ä¸æ¬¡æåä¸­æ´ä½æ¶æ¯çå¤§å°ãåæ ·ï¼å¦æè¿ä¸ªåæ°è®¾å®çå¼æ¯æ¶æ¯çå¤§å°è¦å°ï¼é£ä¹ä¹ä¸ä¼é ææ æ³æ¶è´¹ï¼kafkaä¸ºäºä¿ææ¶è´¹é»è¾çæ­£å¸¸è¿è½¬ä¸ä¼å¯¹å¼ºç¡¬çéå¶ã\n\n----------------------------------------\n\n# 5) max.poll.records\n\nè¿ä¸ªåæ°ç¨æ¥éç½® consumer å¨ä¸æ¬¡æåè¯·æ±ä¸­æåçæå¤§æ¶æ¯æ°ï¼é»è®¤å¼ä¸º 500(æ¡)ãå¦ææ¶æ¯çå¤§å°é½æ¯è¾å°ï¼åå¯ä»¥éå½è°å¤§è¿ä¸ªåæ°å¼æ¥æåä¸å®çæ¶è´¹éåº¦ã\n\n----------------------------------------\n\n# 6) connections.max.idle.ms\n\nè¿ä¸ªåæ°ç¨æ¥æå®å¨å¤ä¹ä¹åå³é­é²ç½®çè¿æ¥ï¼é»è®¤å¼æ¯ 540000 (ms)ï¼å³ 9åéã\n\n----------------------------------------\n\n# 7) exclude.internal.topics\n\nkafka ä¸­æä¸¤ä¸ªåé¨çä¸»é¢: _consumer_offsets å _transaction_stateãexclude.internal.topicsç¨æ¥æå®kafkaä¸­çåé¨ä¸»é¢æ¯å¦å¯ä»¥åæ¶è´¹èå¬å¼ï¼é»è®¤å¼ä¸º trueãå¦æè®¾ç½®ä¸º trueï¼é£ä¹è½ä½¿ç¨ subscribe(collection)çæ¹å¼èä¸è½ä½¿ç¨ subscribe(pattern)çæ¹å¼æ¥è®¢éåé¨ä¸»é¢,è®¾ç½® false åæ²¡æè¿ä¸ªéå¶ã\n\n----------------------------------------\n\n# 8) receive.buffer.bytes\n\nè¿ä¸ªåæ°ç¨æ¥è®¾ç½® socket æ¥æ¶æ¶æ¯ç¼å²åº(so_recbuf)çå¤§å°ï¼é»è®¤å¼ä¸º 65536(b)å³ 64kbãå¦æè®¾ç½®ä¸º-1ï¼åä½¿ç¨æä½ç³»ç»çé»è®¤å¼ãå¦æconsumerä¸ kafka å¤äºä¸åçæºæ¿åå¯ä»¥éå½è°å¤§è¿ä¸ªåæ°å¼ã\n\n----------------------------------------\n\n# 9) send.buffer.bytes\n\nè¿ä¸ªåæ°ç¨æ¥è®¾ç½® socket åéæ¶æ¯ç¼å²åº(so_sndbuf)çå¤§å°ï¼é»è®¤å¼ä¸º 131072(b)å³ 128kbãä¸receive.buffer.bytesåæ°ä¸æ ·ï¼å¦æè®¾ç½®ä¸º-1ï¼åä½¿ç¨æä½ç³»ç»çé»è®¤å¼ã\n\n----------------------------------------\n\n# 10) request.timeout.ms\n\nè¿ä¸ªåæ°ç¨æ¥éç½® consumer ç­å¾è¯·æ±ååºçæé¿æ¶é´ï¼é»è®¤å¼ä¸º 30000(ms)ã\n\n----------------------------------------\n\n# 11) metadata.max.age.ms\n\nè¿ä¸ªåæ°ç¨æ¥éç½®åæ°æ®çè¿ææ¶é´ï¼é»è®¤å¼ä¸º 300000(ms)ï¼å³ 5 åéãå¦æåæ°æ®å¨æ­¤åæ°æéå®çæ¶é´èå´åæ²¡æè¿è¡æ´æ°ï¼åä¼è¢«å¼ºå¶æ´æ°ï¼å³ä½¿æ²¡æä»»ä½ååºååæææ°brokerå å¥ã\n\n----------------------------------------\n\n# 12) reconnect.backoff.ms\n\nè¿ä¸ªåæ°ç¨æ¥éç½®å°è¯éæ°è¿æ¥æå®ä¸»æºä¹åçç­å¾æ¶é´(ä¹ç§°ä¸ºéé¿æ¶é´)ï¼é¿åé¢ç¹å°è¿æ¥ä¸»æºï¼é»è®¤å¼ä¸º 50(ms)ãè¿ç§æºå¶éç¨äºæ¶è´¹èåbrokeråéçææè¯·æ±ã\n\n----------------------------------------\n\n# 13) retry.backoff.ms\n\nè¿ä¸ªåæ°ç¨æ¥éç½®å°è¯éæ°åéå¤±è´¥çè¯·æ±å°æå®çä¸»é¢ååºä¹åçç­å¾ (éé¿)æ¶é´ï¼é¿åå¨æäºæéæåµä¸é¢ç¹å°éå¤åéï¼é»è®¤å¼ä¸º100 (ms)ã\n\n----------------------------------------\n\n# 14) isolation.level\n\nè¿ä¸ªåæ°ç¨æ¥éç½®æ¶è´¹èçäºå¡éç¦»çº§å«ãå­ç¬¦ä¸²ç±»åï¼ææå¼ä¸ºread_uncommittedåread_committedï¼è¡¨ç¤ºæ¶è´¹èææ¶è´¹å°çä½ç½®ï¼å¦æè®¾ç½®ä¸ºread_committedï¼é£ä¹æ¶è´¹èå°±ä¼å¿½ç¥äºå¡æªæäº¤çæ¶æ¯ï¼å³åªè½æ¶è´¹å° lso (laststableoffset)çä½ç½®ï¼é»è®¤æåµä¸ä¸ºread_uncommittedï¼å³å¯ä»¥æ¶è´¹å° hw (high watermark)å¤çä½ç½®ã\n\n----------------------------------------\n\n# 15) æ±æ»\n\nåæ°åç§°                            é»è®¤å¼                                               åæ°éä¹\nbootstrap.servers               ""                                                æå®è¿æ¥ kafka éç¾¤æéçbroker å°åæ¸å\nkey.deserializer                                                                  æ¶æ¯ä¸­ key\n                                                                                  æå¯¹åºçååºååç±»ï¼éè¦å®ç°org.apache.kafka.common.serialization.deserializeræ¥å£\nvalue.deserializer                                                                æ¶æ¯ä¸­ key\n                                                                                  æå¯¹åºçååºååç±»ï¼éè¦å®ç°org.apache.kafka.common.serialization.deserializeræ¥å£\ngroup.id                        ""                                                æ­¤æ¶è´¹èæé¶å±çæ¶è´¹ç»çå¯ä¸æ è¯ï¼å³æ¶è´¹ç»çåç§°\nclient.id                       ""                                                æ¶è´¹èå®¢æ·ç«¯ç id\nheartbeat.interval.ms           3000                                              å½ä½¿ç¨ kafka\n                                                                                  çåç»ç®¡çåè½æ¶ï¼å¿è·³å°æ¶è´¹èåè°å¨ä¹é´çé¢è®¡æ¶é´ãå¿è·³ç¨äºç¡®ä¿æ¶è´¹èçä¼è¯ä¿ææ´»å¨ç¶æï¼å½ææ°æ¶è´¹èå å¥æç¦»å¼ç»æ¶æ¹ä¾¿éæ°å¹³è¡¡ãè¯¥å¼å¿é¡»æ¯session.timeout.mså°ï¼éå¸¸ä¸é«äº\n                                                                                  1/3ãå®å¯ä»¥è°æ´å¾æ´ä½ï¼ä»¥æ§å¶æ­£å¸¸éæ°å¹³è¡¡çé¢ææ¶é´\nsession.timeout.ms              10000                                             ç»ç®¡çåè®®ä¸­ç¨æ¥æ£æµæ¶è´¹èæ¯å¦å¤±æçè¶æ¶æ¶é´\nmax.poll.interval.ms            300000                                            å½éè¿æ¶è´¹ç»ç®¡çæ¶è´¹èæ¶ï¼è¯¥éç½®æå®æåæ¶æ¯çº¿ç¨æé¿ç©ºé²æ¶é´ï¼è¥è¶è¿è¿ä¸ªæ¶é´é´éè¿æ²¡æåèµ· poll\n                                                                                  æä½ï¼åæ¶è´¹ç»è®¤ä¸ºè¯¥æ¶è´¹èå·²ç¦»å¼äºæ¶è´¹ç»ï¼å°è¿è¡ååè¡¡æä½\nauto.offset.reset               latest                                            åæ°å¼ä¸ºå­ç¬¦ä¸²ç±»åï¼ææå¼ä¸ºearliest latest noneï¼éç½®ä¸ºå¶ä½å¼ä¼æ¥åºå¼å¸¸\nenable.auto.commit              true                                              boolean ç±»åï¼éç½®æ¯å¦å¼å¯èªå¨æäº¤æ¶è´¹ä½ç¹çåè½ï¼é»è®¤å¼å¯\nauto.commit.interval.ms         5000                                              å½enbale.auto.commit åæ°è®¾ç½®ä¸º true\n                                                                                  æ¶æçæ,è¡¨ç¤ºå¼å¯èªå¨æäº¤æ¶è´¹ä½ç¹åè½æ¶èªå¨æäº¤æ¶è´¹ä½ç¹çæ¶é´é´é\npartition.assignment.strategy   org.apache.kafka.clients.consumer.rangeassignor   æ¶è´¹èçååºåéç­ç¥\ninterceptor.class               ""                                                ç¨æ¥éç½®æ¶è´¹èå®¢æ·ç«¯çæ¦æªå¨\n\n----------------------------------------',charsets:{cjk:!0},lastUpdated:"2023/11/04, 10:52:44",lastUpdatedTimestamp:1699066364e3},{title:"ååº-ååºç®¡ç",frontmatter:{title:"ååº-ååºç®¡ç",date:"2023-01-01T00:00:00.000Z",tags:["Kafka","æ¶æ¯éå"],categories:["Kafka"],description:"ååº-ååºç®¡ç",toc_number:!1,author:{name:"huidong.yin",link:"https://huidongyin.github.io"},permalink:"/pages/14a08dc7-2466-3341-b742-a0ba9b8b26c3/"},regularPath:"/03.%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97/00.Kafka/14.%E5%88%86%E5%8C%BA-%E5%88%86%E5%8C%BA%E7%AE%A1%E7%90%86.html",relativePath:"03.æ¶æ¯éå/00.Kafka/14.ååº-ååºç®¡ç.md",key:"v-c52462c8",path:"/pages/14a08dc7-2466-3341-b742-a0ba9b8b26c3/",headers:[{level:2,title:"1.ä¼åå¯æ¬çéä¸¾",slug:"_1-ä¼åå¯æ¬çéä¸¾",normalizedTitle:"1.ä¼åå¯æ¬çéä¸¾",charIndex:2},{level:2,title:"2.ååºéåé",slug:"_2-ååºéåé",normalizedTitle:"2.ååºéåé",charIndex:1736},{level:2,title:"3.å¤å¶éæµ",slug:"_3-å¤å¶éæµ",normalizedTitle:"3.å¤å¶éæµ",charIndex:7257},{level:3,title:"3.1kafka-configs.shèæ¬å®ç°å¤å¶éæµ",slug:"_3-1kafka-configs-shèæ¬å®ç°å¤å¶éæµ",normalizedTitle:"3.1kafka-configs.shèæ¬å®ç°å¤å¶éæµ",charIndex:7600},{level:3,title:"3.2kafka-reassign-partitions.shèæ¬å®ç°éæµ",slug:"_3-2kafka-reassign-partitions-shèæ¬å®ç°éæµ",normalizedTitle:"3.2kafka-reassign-partitions.shèæ¬å®ç°éæµ",charIndex:14022},{level:2,title:"4.ä¿®æ¹å¯æ¬å å­",slug:"_4-ä¿®æ¹å¯æ¬å å­",normalizedTitle:"4.ä¿®æ¹å¯æ¬å å­",charIndex:16313}],headersStr:"1.ä¼åå¯æ¬çéä¸¾ 2.ååºéåé 3.å¤å¶éæµ 3.1kafka-configs.shèæ¬å®ç°å¤å¶éæµ 3.2kafka-reassign-partitions.shèæ¬å®ç°éæµ 4.ä¿®æ¹å¯æ¬å å­",content:'# 1.ä¼åå¯æ¬çéä¸¾\n\nååºä½¿ç¨å¤å¯æ¬æºå¶æ¥æåå¯é æ§ï¼ä½æ¯åªæleaderå¯æ¬å¯¹å¤æä¾è¯»åæå¡ï¼èfollowerå¯æ¬åªè´è´£å¨åé¨è¿è¡æ¶æ¯åæ­¥ãå¦æä¸ä¸ªååºçleaderå¯æ¬ä¸å¯ç¨ï¼é£ä¹å°±æå³çæ´ä¸ªååºä¸å¯ç¨ï¼æ­¤æ¶å°±éè¦kafkaä»å©ä½çfollowerå¯æ¬ä¸­æéä¸ä¸ªæ°çleaderå¯æ¬æ¥ç»§ç»­å¯¹å¤æä¾æå¡ãä»æç§è§åº¦è®²ï¼brokerèç¹ä¸­çleaderå¯æ¬ä¸ªæ°çå¤å°å³å®äºè¿ä¸ªèç¹è´è½½çé«ä½ã\n\nå¨åå»ºTopicçæ¶åï¼è¯¥Topicçååºä»¥åå¯æ¬ä¼å°½å¯è½ååçåå¸å°kafkaéç¾¤çåä¸ªbrokerèç¹ä¸ï¼å¯¹åºçleaderå¯æ¬çåéä¹æ¯è¾ååã\n\n**éå¯¹åä¸ä¸ªååºèè¨ï¼åä¸ä¸ªbrokerèç¹ä¸­ä¸å¯è½åºç°ä»çå¤ä¸ªå¯æ¬ã**å³kafkaéç¾¤çä¸ä¸ªbrokerä¸­æå¤åªè½æå®çä¸ä¸ªå¯æ¬ï¼æä»¬å¯ä»¥å°leaderå¯æ¬æå¨çèç¹å«åååºçleaderèç¹ï¼èfollowerèç¹æå¨çbrokerèç¹å¯ä»¥å«åååºçfollowerèç¹ã\n\nå¦ækafkaéç¾¤ä¸­çæä¸ä¸ªbrokerææäºï¼ä¹å°±æ¯ååºçleaderèç¹ä¸çº¿ï¼å¶ä¸­ä¸ä¸ªfollowerèç¹å°±ä¼æä¸ºæ°çleaderèç¹ï¼è¿æ ·ä¼å¯¼è´éç¾¤çè´è½½ä¸åè¡¡ï¼ä»èå½±åæ´ä½çå¥å£®æ§åç¨³å®æ§ãå½åæ¥çleaderèç¹æ¢å¤ä¹åéæ°å å¥éç¾¤æ¶ï¼ä»åªè½æä¸ºä¸ä¸ªæ°çfollowerèç¹èä¸åå¯¹å¤æä¾æå¡ã\n\nä¸ºäºæææ²»çè´è½½å¤±è¡¡çæåµï¼kafkaå¼å¥äºä¼åå¯æ¬ï¼preferred replicaï¼çæ¦å¿µãæè°çä¼åå¯æ¬æ¯æå¨ARéåä¸­çç¬¬ä¸ä¸ªå¯æ¬ãçæ³æåµä¸ä¼åå¯æ¬å°±æ¯è¯¥ååºçleaderå¯æ¬ï¼æä»¥ä¹å¯ä»¥ç§°ä¸ºpreferred leaderãkafkaè¦ç¡®ä¿ææä¸»é¢çä¼åå¯æ¬å¨éç¾¤ä¸­åååå¸ï¼è¿æ ·å°±ä¿è¯äºææååºçleaderåååå¸ãå¦æleaderåå¸è¿äºéä¸­ï¼å°±ä¼é æéç¾¤è´è½½ä¸åè¡¡ã\n\næè°ä¼åå¯æ¬çéä¸¾æ¯æéè¿ä¸å®çæ¹å¼ä¿ä½¿ä¼åå¯æ¬éä¸¾ä¸ºleaderå¯æ¬ï¼ä»¥æ­¤æ¥ä¿è¿éç¾¤çè´è½½åè¡¡ï¼è¿ä¸è¡ä¸ºä¹å«åååºå¹³è¡¡ã\n\n> ååºå¹³è¡¡å¹¶ä¸æå³kafkaéç¾¤çè´è½½åè¡¡ï¼å ä¸ºè¿è¦èèéç¾¤ä¸­çååºåéæ¯å¦åè¡¡ãå¦å¤æ¯ä¸ªååºleaderå¯æ¬çè´è½½ä¹æ¯ä¸åçï¼ä¹å°±æ¯è¯´ï¼å°±ç®éç¾¤ä¸­ååºåéåè¡¡ï¼leaderåéåè¡¡ï¼ä¹ä¸è½ä¿è¯æ´ä¸ªéç¾¤çè´è½½å°±æ¯åè¡¡çã\n\nå¨kafkaä¸­å¯ä»¥æä¾ååºèªå¨å¹³è¡¡çåè½ï¼rebalanceï¼ï¼ä¸æ­¤å¯¹åºçbrokerç«¯åæ°æ¯auto.leader.rebalance.enableï¼é»è®¤ä¸ºtrueãå¦æå¼å¯ååºèªå¨å¹³è¡¡ï¼kafkaæ§å¶å¨ä¼å¼å¯ä¸ä¸ªå®æ¶ä»»å¡ï¼è½®è¯¢ææçbrokerèç¹ï¼è®¡ç®æ¯ä¸ªbrokerèç¹çååºä¸å¹³è¡¡çï¼brokerçä¸å¹³è¡¡ç=éä¼åå¯æ¬çleaderä¸ªæ°/ååºæ»æ°ï¼æ¯å¦è¶è¿leader.imbalance.per.broker.percentageåæ°éç½®çæ¯å¼ï¼é»è®¤ç¾åä¹åï¼å¦æè¶è¿è¿ä¸ªå¼ï¼ä¼èªå¨æ§è¡ä¼åå¯æ¬çéä¸¾å¨ä½ä»¥æ±ååºå¹³è¡¡ãæ§è¡å¨æç±åæ°leader.imbalance.check.interval.secondsæ§å¶ï¼é»è®¤300sã\n\nçäº§ç¯å¢ä¸å»ºè®®å¼å¯rebalanceåè½ï¼å¯è½å¼èµ·è´é¢çæ§è½é®é¢ï¼ä¹æå¯è½å¼èµ·å®¢æ·ç«¯ä¸å®æ¶é´çé»å¡ãå ä¸ºæ§è¡çæ¶é´æ æ³èªä¸»ææ§ï¼å¦æå¨å¤§ä¿æé´æ§è¡rebalanceå¯è½ä¼é æä¸å¡é»å¡ï¼é¢ç¹è¶æ¶çé£é©ãååºåå¯æ¬çåè¡¡ä¹ä¸è½ç¡®ä¿éç¾¤æ´ä½çåè¡¡ï¼å¹¶ä¸éç¾¤ä¸­ä¸å®ç¨åº¦ä¸çä¸åè¡¡æ¯å¯ä»¥æ¥åçï¼ä¸ºé²æ­¢å³é®æ¶å»åºé®é¢ï¼å»ºè®®æå¨æ§è¡ååºå¹³è¡¡ã\n\nkafkaä¸­çkafka-perferred-replica-election.shèæ¬æä¾äºå¯¹ååºleaderå¯æ¬è¿è¡éæ°å¹³è¡¡çåè½ãä¼åå¯æ¬çéä¸¾è¿ç¨æ¯ä¸ä¸ªå®å¨çè¿ç¨ï¼kafkaå®¢æ·ç«¯å¯ä»¥èªå¨æç¥ååºleaderå¯æ¬çåæ´ã\n\n./kafka-preferred-replica-election.sh --zookeeper kafka-zookeeper:2181/kafka\n\n\n1\n\n\n> å¨æ°çæ¬çkafkaä¸­ï¼è¿ä¸ªèæ¬å·²ç»è¿æäºï¼æ¨èä½¿ç¨kafka-leader-election.shèæ¬ã\n\n----------------------------------------\n\n\n# 2.ååºéåé\n\nå½éç¾¤ä¸çæä¸ªbrokerèç¹çªç¶ä¸çº¿ï¼å¦æèç¹ä¸çååºæ¯åå¯æ¬çï¼é£ä¹è¿äºååºå°±åçä¸å¯ç¨äºï¼ç¸åºçæ°æ®ä¹å°±å¤äºä¸¢å¤±ç¶æï¼å¦æèç¹ä¸çååºæ¯å¤å¯æ¬çï¼é£ä¹ä½äºè¿ä¸ªbrokerä¸çleaderå¯æ¬çè§è²ä¼è½¬äº¤ç»éç¾¤çå¶ä»followerå¯æ¬ä¸­ãæ»ä¹ï¼è¿ä¸ªèç¹ä¸çååºå¯æ¬é½å¤äºå¤±æç¶æï¼kafkaå¹¶ä¸ä¼å°è¿äºå¤±æçååºå¯æ¬èªå¨çè¿ç§»å°éç¾¤ä¸­å©ä½çå¯ç¨brokerä¸ï¼å¦ææ¾ä»»ä¸ç®¡ï¼ä¸ä»ä¼å½±åæ´ä¸ªéç¾¤çè´è½½åè¡¡ï¼è¿ä¼å½±åæ´ä½æå¡çå¯ç¨æ§åå¯é æ§ã\n\nå½è¦å¯¹éç¾¤ä¸­çä¸ä¸ªèç¹è¿è¡æè®¡åçä¸çº¿æä½çæ¶åï¼ä¸ºäºä¿è¯ååºå¯æ¬çåçåéï¼æä»¬å¸æéè¿æç§æ¹å¼è½å¤å°è¯¥èç¹ä¸çååºå¯æ¬è¿ç§»å°å¶ä»çå¯ç¨èç¹ä¸ã\n\nå½éç¾¤ä¸­æ°å¢brokeræ¶ï¼åªææ°åå»ºçä¸»é¢ååºæå¯è½è¢«åéå°è¿ä¸ªèç¹ä¸ï¼ä¹åçä¸»é¢ååºå¹¶ä¸ä¼èªå¨åéå°æ°å å¥çèç¹ï¼å ä¸ºå¨ä»ä»¬è¢«åå»ºæ¶è¿æ²¡æè¿ä¸ªæ°èç¹ï¼è¿æ ·æ°èç¹çè´è½½åååèç¹ä¹é´çè´è½½ä¹é´ä¸¥éä¸å¹³è¡¡ã\n\nä¸ºäºè§£å³ä¸è¿°é®é¢ï¼éè¦è®©ååºå¯æ¬åæ¬¡è¿è¡åçåéï¼ä¹å°±æ¯æè°çååºéåéãkafkaæä¾äº kafka-reassign-partition.shèæ¬æ¥æ§è¡ååºéåéçå·¥ä½ï¼ä»å¯ä»¥å¨éç¾¤æ©å®¹ï¼brokerèç¹å¤±æçåºæ¯ä¸å¯¹ååºè¿è¡è¿ç§»ãkafka-reassign-partition.shèæ¬ä½¿ç¨åä¸º3ä¸ªæ­¥éª¤ï¼\n\n 1. åå»ºéè¦ä¸ä¸ªåå«ä¸»é¢æ¸åçJSONæä»¶ã\n 2. æ ¹æ®ä¸»é¢æ¸ååbrokerèç¹æ¸åçæä¸ä»½éåéæ¹æ¡ã\n 3. æ ¹æ®è¿ä»½æ¹æ¡æ§è¡å·ä½çåéå¨ä½ã\n\nä¸é¢éè¿ä¸ä¸ªå·ä½çæ¡ä¾æ¥æ¼ç¤º kafka-reassign-partition.sh èæ¬çç¨æ³ã\n\n 1. é¦åå¨ä¸ä¸ªç±ä¸ä¸ªbrokerèç¹ç»æçéç¾¤ä¸­åå»ºä¸ä¸ªTopic topic-reassignï¼ä¸»é¢ä¸­åå«4ä¸ªååºåä¸¤ä¸ªå¯æ¬ã\n\nroot@b531dc9d377f:/opt/kafka_2.13-2.8.1/bin# ./kafka-topics.sh --zookeeper kafka-zookeeper:2181/kafka --create --topic topic-reassign --replication-factor 2 --partitions 4\n\nroot@b531dc9d377f:/opt/kafka_2.13-2.8.1/bin# ./kafka-topics.sh --zookeeper kafka-zookeeper:2181/kafka --describe --topic topic-reassign\nTopic: topic-reassign\tTopicId: K1UON9X_QbaqfVbOV4skdw\tPartitionCount: 4\tReplicationFactor: 2\tConfigs: \n\tTopic: topic-reassign\tPartition: 0\tLeader: 0\tReplicas: 0,1\tIsr: 0,1\n\tTopic: topic-reassign\tPartition: 1\tLeader: 1\tReplicas: 1,2\tIsr: 1,2\n\tTopic: topic-reassign\tPartition: 2\tLeader: 2\tReplicas: 2,0\tIsr: 2,0\n\tTopic: topic-reassign\tPartition: 3\tLeader: 0\tReplicas: 0,2\tIsr: 0,2\nroot@b531dc9d377f:/opt/kafka_2.13-2.8.1/bin#\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\nå¯ä»¥è§å¯å°Topictopic-reassignå¨3ä¸ªèç¹ä¸é½æå¯¹åºçååºå¯æ¬åå¸ãç±äºæç§åå ï¼æä»¬æ³è¦ä¸çº¿å¶ä¸­ä¸å°brokerï¼å¨æ­¤ä¹åï¼æä»¬éè¦å°ä¸é¢çååºå¯æ¬è¿ç§»åºå»ãä½¿ç¨kafka-reassign-partition.shèæ¬çç¬¬ä¸æ­¥å°±æ¯è¦åå»ºä¸ä¸ªJSONæä»¶ï¼æä»¶åå®¹ä¸ºè¦è¿è¡ååºéæ°åéçä¸»é¢æ¸åã\n\n{\n  "topics": [\n    {\n      "topic": "topic-reassign"\n    }\n  ],\n  "version": 1\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nç¬¬äºæ­¥å°±æ¯æ ¹æ®è¿ä¸ªJSONæä»¶åæå®æè¦åéçbrokerèç¹åè¡¨æ¥çæä¸ä»½åéçéåéæ¹æ¡ã\n\n./kafka-reassign-partitions.sh --zookeeper kafka-zookeeper:2181/kafka --generate --topics-to-move-json-file reassign.json --broker-list 0,2\n\nCurrent partition replica assignment\n{"version":1,"partitions":[{"topic":"topic-reassign","partition":0,"replicas":[0,1],"log_dirs":["any","any"]},{"topic":"topic-reassign","partition":1,"replicas":[1,2],"log_dirs":["any","any"]},{"topic":"topic-reassign","partition":2,"replicas":[2,0],"log_dirs":["any","any"]},{"topic":"topic-reassign","partition":3,"replicas":[0,2],"log_dirs":["any","any"]}]}\n\nProposed partition reassignment configuration\n{"version":1,"partitions":[{"topic":"topic-reassign","partition":0,"replicas":[2,0],"log_dirs":["any","any"]},{"topic":"topic-reassign","partition":1,"replicas":[0,2],"log_dirs":["any","any"]},{"topic":"topic-reassign","partition":2,"replicas":[2,0],"log_dirs":["any","any"]},{"topic":"topic-reassign","partition":3,"replicas":[0,2],"log_dirs":["any","any"]}]}\nroot@b531dc9d377f:/opt/kafka_2.13-2.8.1/bin#\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n> broker-list åæ°æå®æè¦åéçbrokerèç¹åè¡¨ã\n\nä¸é¢ç¤ºä¾æå°åºä¸¤ä¸ªjsonçåå®¹ï¼ç¬¬ä¸ä¸ªè¡¨ç¤ºå½åååºå¯æ¬åéæåµï¼ç¬¬äºä¸ªè¡¨ç¤ºéåéçæ°æ¹æ¡ãæä»¬å°æ°æ¹æ¡ä¿å­å°ä¸ä¸ªåä¸ºproject.jsonçæä»¶ã\n\nç¬¬ä¸æ­¥æ§è¡å·ä½çéåéå¨ä½ï¼\n\nroot@b531dc9d377f:/opt/kafka_2.13-2.8.1/bin#./kafka-reassign-partitions.sh --zookeeper kafka-zookeeper:2181/kafka --execute --reassignment-json-file project.json\n\nCurrent partition replica assignment\n\n{"version":1,"partitions":[{"topic":"topic-reassign","partition":0,"replicas":[0,1],"log_dirs":["any","any"]},{"topic":"topic-reassign","partition":1,"replicas":[1,2],"log_dirs":["any","any"]},{"topic":"topic-reassign","partition":2,"replicas":[2,0],"log_dirs":["any","any"]},{"topic":"topic-reassign","partition":3,"replicas":[0,2],"log_dirs":["any","any"]}]}\n\nSave this to use as the --reassignment-json-file option during rollback\nSuccessfully started partition reassignments for topic-reassign-0,topic-reassign-1,topic-reassign-2,topic-reassign-3\nroot@b531dc9d377f:/opt/kafka_2.13-2.8.1/bin#\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\nåæ¬¡æ¥çTopictopic-reassignçå·ä½ä¿¡æ¯ï¼\n\nroot@b531dc9d377f:/opt/kafka_2.13-2.8.1/bin# ./kafka-topics.sh --zookeeper kafka-zookeeper:2181/kafka --describe --topic topic-reassign\nTopic: topic-reassign\tTopicId: K1UON9X_QbaqfVbOV4skdw\tPartitionCount: 4\tReplicationFactor: 2\tConfigs: \n\tTopic: topic-reassign\tPartition: 0\tLeader: 2\tReplicas: 2,0\tIsr: 0,2\n\tTopic: topic-reassign\tPartition: 1\tLeader: 0\tReplicas: 0,2\tIsr: 2,0\n\tTopic: topic-reassign\tPartition: 2\tLeader: 2\tReplicas: 2,0\tIsr: 2,0\n\tTopic: topic-reassign\tPartition: 3\tLeader: 0\tReplicas: 0,2\tIsr: 0,2\nroot@b531dc9d377f:/opt/kafka_2.13-2.8.1/bin#\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\nå¯ä»¥çå°ä¸»é¢ä¸­çææååºå¯æ¬é½åªå¨0å2çbrokerèç¹ä¸åå¸äºã\n\né¤äºè®©èæ¬èªå¨çæåéæ¹æ¡ï¼ç¨æ·è¿å¯ä»¥èªå®ä¹éåéæ¹æ¡ï¼è¿æ ·å°±ä¸éè¦æå®ç¬¬ä¸æ­¥åç¬¬äºæ­¥äºã\n\nååºéåéçåºæ¬åçæ¯åéè¿æ§å¶å¨ä¸ºæ¯ä¸ªååºæ·»å æ°å¯æ¬ï¼å¢å å¯æ¬å å­ï¼ï¼æ°çå¯æ¬å°ä»ååºçleaderå¯æ¬é£éå¤å¶ææçæ°æ®ãæ ¹æ®ååºçå¤§å°ä¸åï¼å¤å¶è¿ç¨å¯è½è¦è±ä¸äºæ¶é´ï¼å ä¸ºæ°æ®æ¯éè¿ç½ç»å¤å¶å°æ°çå¯æ¬ä¸çãå¨å¤å¶å®æä¹åï¼æ§å¶å¨å°æ§çå¯æ¬ä»å¯æ¬æ¸åä¸­ç§»é¤ï¼æ¢å¤ä¸ºåæ¥çå¯æ¬å å­ï¼ãæ³¨æéåéè¿ç¨ä¸­è¦ç¡®ä¿æè¶³å¤çç©ºé´ã\n\nå¯¹äºååºéåéèè¨ï¼è¿æå¯éçç¬¬åæ­¥ï¼éªè¯æ¥çååºéåéçè¿åº¦ï¼åªéè¦å°ä¸é¢çexecuteæ¿æ¢æverifyå³å¯ã\n\nroot@b531dc9d377f:/opt/kafka_2.13-2.8.1/bin# ./kafka-reassign-partitions.sh --zookeeper kafka-zookeeper:2181/kafka --verify --reassignment-json-file project.json\n\nStatus of partition reassignment:\nReassignment of partition topic-reassign-0 is complete.\nReassignment of partition topic-reassign-1 is complete.\nReassignment of partition topic-reassign-2 is complete.\nReassignment of partition topic-reassign-3 is complete.\nClearing broker-level throttles on brokers 0,1,2\nClearing topic-level throttles on topic topic-reassign\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\nååºéåéå¯¹éç¾¤æ§è½æå¾å¤§å½±åï¼éè¦å ç¨é¢å¤çèµæºï¼æ¯å¦ç½ç»åç£çãå¨å®éæä½ä¸­ï¼æä»¬å°éä½éåéçç²åº¦ï¼åæå¤ä¸ªå°æ¹æ¬¡æ¥æ§è¡ï¼ä»¥æ­¤æ¥å°è´é¢å½±åéå°æä½ã\n\nå¦æè¦å°æä¸ªbrokerä¸çº¿ï¼é£ä¹å¨æ§è¡ååºéåéå¨ä½ä¹åæå¥½åå³é­æèéå¯brokerï¼è¿æ ·è¿ä¸ªbrokerå°±ä¸å¨æ¯ä»»ä½ååºçleaderèç¹äºï¼ä»çååºå°±å¯ä»¥è¢«åéç»éç¾¤ä¸­çå¶ä»brokerãè¿æ ·å¯ä»¥åå°brokerä¹é´çæµéå¤å¶ï¼ä»¥æ­¤æåéåéçæ§è½ï¼ä»¥ååå°å¯¹éç¾¤çå½±åã\n\n----------------------------------------\n\n\n# 3.å¤å¶éæµ\n\nååºéåéçæ¬è´¨å¨äºæ°æ®å¤å¶ï¼åå¢å æ°çå¯æ¬ï¼ç¶åè¿è¡æ°æ®åæ­¥ï¼æåå é¤æ§çå¯æ¬æ¥è¾¾å°æç»ç®çãæ°æ®å¤å¶ä¼å ç¨é¢å¤çèµæºï¼å¦æéåéçéå¤ªå¤§å¿ç¶ä¼ä¸¥éå½±åæ´ä½æ§è½ï¼å°¤å¶æ¯å¤äºä¸å¡é«å³°æçæ¶åãåå°éåéçç²åº¦ï¼ä»¥å°æ¹æ¬¡çæ¹å¼æ¥æä½æ¯ä¸ç§å¯è¡çè§£å³æè·¯ãå¦æéç¾¤ä¸­æä¸ªä¸»é¢æèæä¸ªååºçæµéå¨ä¸æ®µæ¶é´ç¹å«å¤§ï¼é£ä¹åªé åå°ç²åº¦æ¯ä¸è¶³ä»¥åºå¯¹çï¼è¿æ¶å°±éè¦æä¸ä¸ªéæµçæºå¶ï¼å¯ä»¥å¯¹å¯æ¬é´çå¤å¶æµéå ä»¥éå¶æ¥ä¿è¯éåéæé´æ´ä½æå¡ä¸ä¼åå°å¤ªå¤§çå½±åã\n\nå¯æ¬é´çå¤å¶éæµæä¸¤ç§å®ç°æ¹å¼ï¼kafka-configs.shèæ¬åkafka-reassign-partitions.shèæ¬ã\n\n----------------------------------------\n\n\n# 3.1kafka-configs.shèæ¬å®ç°å¤å¶éæµ\n\nkafka-configs.shèæ¬ä¸»è¦ä»¥å¨æéç½®çæ¹å¼æ¥è¾¾å°éæµçç®çï¼å¨brokerçº§å«æä¸¤ä¸ªä¸å¤å¶éæµç¸å³çéç½®åæ°ï¼follower.replication.throttled.rateåleader.replication.throttled.rateï¼åèç¨äºè®¾ç½®followerå¯æ¬å¤å¶çéåº¦ï¼åèç¨äºè®¾ç½®leaderå¯æ¬ä¼ è¾çéåº¦ï¼åä½æ¯B/sãéå¸¸ä¸¤èçéç½®å¼ç¸åãä¸é¢çç¤ºä¾ä¸­å°æä¸ªbrokerä¸­çleaderå¯æ¬åfollowerå¯æ¬çå¤å¶éåº¦éå¶å¨1024B/sä¹åï¼å³1KB/sã\n\nroot@b531dc9d377f:/opt/kafka_2.13-2.8.1/bin# ./kafka-configs.sh --zookeeper kafka-zookeeper:2181/kafka --entity-type brokers --entity-name 1 --alter --add-config follower.replication.throttled.rate=1024,leader.replication.throttled.rate=1024\nCompleted updating config for entity: brokers \'1\'.\nroot@b531dc9d377f:/opt/kafka_2.13-2.8.1/bin#\n\n\n1\n2\n3\n\n\næä»¬åæ¥æ¥çä¸ä¸brokerä¸­ååæ·»å çéç½®ï¼\n\nroot@b531dc9d377f:/opt/kafka_2.13-2.8.1/bin# ./kafka-configs.sh --zookeeper kafka-zookeeper:2181/kafka --entity-type brokers --entity-name 1 --describe\nConfigs for brokers \'1\' are leader.replication.throttled.rate=1024,follower.replication.throttled.rate=1024\nroot@b531dc9d377f:/opt/kafka_2.13-2.8.1/bin#\n\n\n1\n2\n3\n\n\nå é¤ååæ·»å çéç½®ä¹å¾ç®åï¼\n\nroot@b531dc9d377f:/opt/kafka_2.13-2.8.1/bin# ./kafka-configs.sh --zookeeper kafka-zookeeper:2181/kafka --entity-type brokers --entity-name 1 --alter --delete-config follower.replication.throttled.rate,leader.replication.throttled.rate\n\nCompleted updating config for entity: brokers \'1\'.\nroot@b531dc9d377f:/opt/kafka_2.13-2.8.1/bin#\n\n\n1\n2\n3\n4\n\n\nå¨ä¸»é¢çº§å«ä¹æä¸¤ä¸ªç¸å³åæ°æ¥éå¶å¤å¶çéåº¦ï¼leader.replication.throttled.replicaså follower.replication.throttled.replicasï¼ä»ä»¬åå«ç¨æ¥éç½®è¢«éå¶éåº¦çä¸»é¢æå¯¹åºçleaderå¯æ¬åè¡¨åfollowerå¯æ¬åè¡¨ãä¸ºäºæ¼ç¤ºç¨æ³ï¼åæ¥åå»ºä¸ä¸ªååºæ°ä¸º3å¯æ¬æ°ä¸º2çä¸»é¢topic-throttleï¼å¹¶æ¥çä»çè¯¦ç»ä¿¡æ¯ã\n\nroot@b531dc9d377f:/opt/kafka_2.13-2.8.1/bin# ./kafka-topics.sh --zookeeper kafka-zookeeper:2181/kafka --create --topic topic-throttle --replication-factor 2 --partitions 3\nCreated topic topic-throttle.\nroot@b531dc9d377f:/opt/kafka_2.13-2.8.1/bin# ./kafka-topics.sh --zookeeper kafka-zookeeper:2181/kafka --describe --topic topic-throttle\nTopic: topic-throttle\tTopicId: 2LpemHVoTVe6BbgSFNDjFA\tPartitionCount: 3\tReplicationFactor: 2\tConfigs: \n\tTopic: topic-throttle\tPartition: 0\tLeader: 2\tReplicas: 2,1\tIsr: 2,1\n\tTopic: topic-throttle\tPartition: 1\tLeader: 0\tReplicas: 0,2\tIsr: 0,2\n\tTopic: topic-throttle\tPartition: 2\tLeader: 1\tReplicas: 1,0\tIsr: 1,0\nroot@b531dc9d377f:/opt/kafka_2.13-2.8.1/bin#\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nä¸»é¢topic-throttleçä¸ä¸ªååºæå¯¹åºçleaderèç¹åå«ä¸º0ï¼1ï¼,2ï¼å³ååºä¸ä»£ççæ å°å³ç³»ä¸º0:2,1:0,2:1ï¼èå¯¹åºçfollowerèç¹åå«ä¸º1,2,0ï¼ç¸å³çååºä¸ä»£ççæ å°å³ç³»ä¸º0:1,1:2,2:0ï¼é£ä¹æ­¤ä¸»é¢çéæµå¯æ¬åè¡¨åå·ä½çæä½ç»èå¦ä¸ï¼\n\nroot@b531dc9d377f:/opt/kafka_2.13-2.8.1/bin# ./kafka-configs.sh --zookeeper kafka-zookeeper:2181/kafka --entity-type topics --entity-name topic-throttle --alter --add-config leader.replication.throttled.replicas=[0:0,1:1,2:2],follower.replication.throttled.replicas=[0:1,1:2,2:0]\n\nCompleted updating config for entity: topic \'topic-throttle\'.\nroot@b531dc9d377f:/opt/kafka_2.13-2.8.1/bin#\n\n\n1\n2\n3\n4\n\n\nå¨äºè§£äºä¸éæµç¸å³ç4ä¸ªéç½®åæ°åï¼æä»¬æ¼ç¤ºä¸ä¸å¸¦æéæµçååºéåéçç¨æ³ãé¦åæç§ä¸ä¸èçç©æ³åå»ºä¸ä¸ªåå«å¯è¡æ§æ¹æ¡çproject.jsonæä»¶ï¼åå®¹å¦ä¸ï¼\n\n{\n  "version": 1,\n  "partitions": [\n    {\n      "topic": "topic-throttle",\n      "partition": 1,\n      "replicas": [\n        2,\n        0\n      ],\n      "log_dirs": [\n        "any",\n        "any"\n      ]\n    },\n    {\n      "topic": "topic-throttle",\n      "partition": 0,\n      "replicas": [\n        0,\n        2\n      ],\n      "log_dirs": [\n        "any",\n        "any"\n      ]\n    },\n    {\n      "topic": "topic-throttle",\n      "partition": 2,\n      "replicas": [\n        0,\n        2\n      ],\n      "log_dirs": [\n        "any",\n        "any"\n      ]\n    }\n  ]\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n\n\næ¥ä¸æ¥è®¾ç½®è¢«éæµçå¯æ¬åè¡¨ï¼è¿éè¦æ³¨æï¼é¦åçä¸ä¸éåéåååéåçååºå¯æ¬å¯¹æ¯ï¼è¯¦ç»å¦ä¸ï¼\n\npartition   éåéåçAR   åéåçé¢æAR\n0             0ï¼1         0ï¼2 \n1             1ï¼2         2ï¼0\n2             2ï¼0         0ï¼2\n\n\n1\n2\n3\n4\n\n\nå¦æååºéæ°åéä¼å¼èµ·æä¸ªååºARéååæ´ï¼é£ä¹è¿ä¸ªååºä¸­çleaderæå³çéå¶ä¼åºç¨äºéåéåçææå¯æ¬ï¼å ä¸ºä»»ä½ä¸ä¸ªå¯æ¬é½è¯å¢ä¸ªæ¯leaderï¼èä¸followeræå³çéå¶ä¼åºç¨äºææç§»å¨çç®çå°ãä¸¾ä¸ªä¾å­ï¼å¯¹äºä¸é¢çå¸å±å¯¹æ¯èè¨ï¼ååº0éåéçARä¸º[0,1]ï¼éåéåçARä¸º[0,2]ï¼é£ä¹è¿éçç®çå°å°±æ¯æ°å¢ç2.ä¹å°±æ¯è¯´ï¼å¯¹ååº0èè¨ï¼leader.replication.throttled.replicaséç½®ä¸º[0:0,0:1]ï¼follower.replication.throttled.replicaséç½®ä¸º[0:2]ãåçå¯¹äºååº1èè¨ï¼leader.replication.throttled.replicaséç½®ä¸º[1:1ï¼1:2]ï¼follower.replication.throttled.replicaséç½®ä¸º[1:0]ãååº3çARéåæ²¡æä»»ä½ååï¼è¿éå¯ä»¥å¿½ç¥ã\n\nè·åéæµå¯æ¬åè¡¨ä¹åï¼æä»¬å°±å¯ä»¥æ§è¡å·ä½çæä½äºï¼\n\nroot@b531dc9d377f:/opt/kafka_2.13-2.8.1/bin# ./kafka-configs.sh --zookeeper kafka-zookeeper:2181/kafka --entity-type topics --entity-name topic-throttle --alter --add-config leader.replication.throttled.replicas=[1:1,1:2,0:0,0:1],follower.replication.throttled.replicas=[1:0,0:2]\n\nCompleted updating config for entity: topic \'topic-throttle\'.\nroot@b531dc9d377f:/opt/kafka_2.13-2.8.1/bin#\n\n\n1\n2\n3\n4\n\n\næ¥ä¸æ¥å¨è®¾ç½®broker2çå¤å¶éåº¦ä¸º10B/sï¼è¿æ ·å¨ä¸é¢çæä½ä¸­å¯ä»¥å¾æ¹ä¾¿çè§å¯éæµä¸ä¸éæµçä¸åï¼\n\nroot@b531dc9d377f:/opt/kafka_2.13-2.8.1/bin# ./kafka-configs.sh --zookeeper kafka-zookeeper:2181/kafka --entity-type brokers --entity-name 2 --alter --add-config leader.replication.throttled.rate=10,follower.replication.throttled.rate=10\n\nCompleted updating config for entity: brokers \'2\'.\nroot@b531dc9d377f:/opt/kafka_2.13-2.8.1/bin#\n\n\n1\n2\n3\n4\n\n\nå¨æ§è¡å·ä½çéåéæä½ä¹åï¼æä»¬éè¦å¼å¯ä¸ä¸ªçäº§èåä¸»é¢topic-throttleä¸­åéä¸æ¹æ¶æ¯ï¼è¿æ ·å¯ä»¥æ¹ä¾¿è§å¯æ­£å¨è¿è¡æ°æ®å¤å¶çè¿ç¨ã\n\nä¹åæä»¬å¨æ§è¡æ­£å¸¸çååºéæ°åéçæä½ï¼\n\nroot@b531dc9d377f:/opt/kafka_2.13-2.8.1/bin# ./kafka-reassign-partitions.sh --zookeeper kafka-zookeeper:2181/kafka --execute --reassignment-json-file project.json\n\nCurrent partition replica assignment\n\n{"version":1,"partitions":[{"topic":"topic-throttle","partition":0,"replicas":[2,1],"log_dirs":["any","any"]},{"topic":"topic-throttle","partition":1,"replicas":[0,2],"log_dirs":["any","any"]},{"topic":"topic-throttle","partition":2,"replicas":[1,0],"log_dirs":["any","any"]}]}\n\nSave this to use as the --reassignment-json-file option during rollback\nSuccessfully started partition reassignments for topic-throttle-0,topic-throttle-1,topic-throttle-2\nroot@b531dc9d377f:/opt/kafka_2.13-2.8.1/bin#\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\næ§è¡ä¹åå¯ä»¥æ¥çæ§è¡çè¿åº¦ï¼\n\nroot@b531dc9d377f:/opt/kafka_2.13-2.8.1/bin# ./kafka-reassign-partitions.sh --zookeeper kafka-zookeeper:2181/kafka --verify --reassignment-json-file project.json\n\nStatus of partition reassignment:\nReassignment of partition topic-throttle-0 is complete.\nReassignment of partition topic-throttle-1 is complete.\nReassignment of partition topic-throttle-2 is complete.\nClearing broker-level throttles on brokers 0,1,2\nClearing topic-level throttles on topic topic-throttle\nroot@b531dc9d377f:/opt/kafka_2.13-2.8.1/bin#\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\næ³¨æå°æåä¸¤è¡ï¼æç¤ºä¹åéå¯¹brokeråtopicçº§å«åçä¸¤ä¸ªéæµæä½å·²ç»ç§»é¤äºã\n\n----------------------------------------\n\n\n# 3.2kafka-reassign-partitions.shèæ¬å®ç°éæµ\n\nkafka-reassign-partitions.shèæ¬ä¹æä¾äºéæµåè½ï¼åªéè¦ä¸ä¸ªåæ°throttleåæ°å³å¯ã\n\nroot@b531dc9d377f:/opt/kafka_2.13-2.8.1/bin# ./kafka-reassign-partitions.sh --zookeeper kafka-zookeeper:2181/kafka --execute --reassignment-json-file project.json --throttle 10\n\nCurrent partition replica assignment\n\n{"version":1,"partitions":[{"topic":"topic-throttle","partition":0,"replicas":[0,2],"log_dirs":["any","any"]},{"topic":"topic-throttle","partition":1,"replicas":[2,0],"log_dirs":["any","any"]},{"topic":"topic-throttle","partition":2,"replicas":[0,2],"log_dirs":["any","any"]}]}\n\nSave this to use as the --reassignment-json-file option during rollback\nWarning: You must run --verify periodically, until the reassignment completes, to ensure the throttle is removed.\nThe inter-broker throttle limit was set to 10 B/s\nSuccessfully started partition reassignments for topic-throttle-0,topic-throttle-1,topic-throttle-2\nroot@b531dc9d377f:/opt/kafka_2.13-2.8.1/bin#\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\nä¸é¢çä¿¡æ¯åå«äºæç¡®çè­¦åä¿¡æ¯ï¼éè¦å¨æè¡çæ§è¡æ¥çè¿åº¦çå½ä»¤ç´å°éåéå®æï¼è¿æ ·å¯ä»¥ç¡®ä¿éæµè®¾ç½®è¢«ç§»é¤ãä¹å°±æ¯è¯´ä½¿ç¨è¿ç§æ¹å¼çéæµåæ ·éè¦æ¾å¼çæ§è¡æäºæä½ä»¥ä¾¿å¨éåéå®æä¹åå¯ä»¥å é¤éæµçè®¾ç½®ãä¸é¢çä¿¡æ¯è¿åç¥äºç®åéæµçéåº¦ä¸éä¸º10B/sã\n\nå¦ææ³å¨éåéæé´ä¿®æ¹éå¶æ¥å¢å ååéï¼ä»¥ä¾¿å®æçæ´å¿«ï¼åå¯ä»¥éæ°è¿è¡kafka-reassign-partitions.shèæ¬çexecuteå½ä»¤ï¼ä½¿ç¨ç¸åçreassignment-json-fileã\n\nroot@b531dc9d377f:/opt/kafka_2.13-2.8.1/bin# ./kafka-reassign-partitions.sh --zookeeper kafka-zookeeper:2181/kafka --execute --reassignment-json-file project.json --throttle 1024\n\nCurrent partition replica assignment\n\n{"version":1,"partitions":[{"topic":"topic-throttle","partition":0,"replicas":[0,2],"log_dirs":["any","any"]},{"topic":"topic-throttle","partition":1,"replicas":[2,0],"log_dirs":["any","any"]},{"topic":"topic-throttle","partition":2,"replicas":[0,2],"log_dirs":["any","any"]}]}\n\nSave this to use as the --reassignment-json-file option during rollback\nWarning: You must run --verify periodically, until the reassignment completes, to ensure the throttle is removed.\nThe inter-broker throttle limit was set to 1024 B/s\nSuccessfully started partition reassignments for topic-throttle-0,topic-throttle-1,topic-throttle-2\nroot@b531dc9d377f:/opt/kafka_2.13-2.8.1/bin#\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\nè¿æ ·éæµéåº¦ä¸éä¸º1024ãå¶å®kafka-reassign-partitions.shèæ¬çå®ç°åçå°±æ¯éç½®ä¸éæµç¸å³ç4ä¸ªåæ°ï¼ç¸æ¯äºkafka-configs.shèæ¬çæ¹å¼æ´å ç®åä¸å®¹æåºéã\n\n----------------------------------------\n\n\n# 4.ä¿®æ¹å¯æ¬å å­\n\nå¨åå»ºä¸»é¢ä¹åæä»¬è¿å¯ä»¥ä¿®æ¹ååºçä¸ªæ°ï¼åæ ·å¯ä»¥ä¿®æ¹å¯æ¬å å­(å¯æ¬æ°)ãä¿®æ¹å¯æ¬å å­çä½¿ç¨åºæ¯ä¹å¾å¤ï¼æ¯å¦å¨åå»ºä¸»é¢æ¶å¡«åäºéè¯¯çå¯æ¬å å­æ°èéè¦ä¿®æ¹ï¼åæ¯å¦è¿è¡æ®µæ¶é´ä¹åæ³è¦éè¿å¢å å¯æ¬å å­æ°æ¥æé«å®¹éæ§åå¯é æ§ã\n\næ¬èä¸­ä¿®æ¹å¯æ¬å å­çåè½ä¹æ¯éè¿éåéæä½¿ç¨ç kafka-reassign-partition.shèæ¬å®ç°çãåè¿å¤´æ¥çä¸ä¸èç¨å°çproject.jsonæä»¶ã\n\n{\n  "version": 1,\n  "partitions": [\n    {\n      "topic": "topic-throttle",\n      "partition": 1,\n      "replicas": [\n        2,\n        0\n      ],\n      "log_dirs": [\n        "any",\n        "any"\n      ]\n    },\n    {\n      "topic": "topic-throttle",\n      "partition": 0,\n      "replicas": [\n        0,\n        2\n      ],\n      "log_dirs": [\n        "any",\n        "any"\n      ]\n    },\n    {\n      "topic": "topic-throttle",\n      "partition": 2,\n      "replicas": [\n        0,\n        2\n      ],\n      "log_dirs": [\n        "any",\n        "any"\n      ]\n    }\n  ]\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n\n\nå¯ä»¥è§å¯å°JSON åå®¹éç replicas é½æ¯ 2 ä¸ªå¯æ¬ï¼æä»¬å¯ä»¥èªè¡æ·»å ä¸ä¸ªå¯æ¬ï¼æ¯å¦å¯¹ååº 1 èè¨ï¼å¯ä»¥æ¹æä¸é¢çåå®¹:\n\n    {\n  "topic": "topic-throttle",\n  "partition": 1,\n  "replicas": [\n    2,\n    1,\n    0\n  ],\n  "log_dirs": [\n    "any",\n    "any",\n    "any"\n  ]\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\næä»¬å¯ä»¥å°å¶ä»ååºç replicas åå®¹ä¹æ¹æ[0,1,2]ï¼è¿æ ·æ¯ä¸ªååºçå¯æ¬å å­å°±é½ä» 2å¢å å°äº3ãæ³¨æå¢å å¯æ¬å å­æ¶ä¹è¦å¨ log_dirs ä¸­æ·»å ä¸ä¸ªanyï¼è¿ä¸ª log_dirs ä»£è¡¨kafkaä¸­çæ¥å¿æ¥å½ï¼å¯¹åºäº broker ç«¯ç log.diræ log.dirs åæ°çéç½®å¼ï¼å¦æä¸éè¦å³æ³¨æ­¤æ¹é¢çç»èï¼é£ä¹å¯ä»¥ç®åå°è®¾ç½®ä¸º anyãæä»¬å°ä¿®æ¹åçJSONåå®¹ä¿å­ä¸ºæ°add.json æä»¶ãå¨æ§è¡ kafka-reassign-partition.sh èæ¬åï¼ä¸»é¢ topic-throttleçè¯¦ç»ä¿¡æ¯(å¯æ¬å å­ä¸º2) å¦ä¸:\n\nroot@101ed4754423:/opt/kafka_2.13-2.8.1/bin# ./kafka-topics.sh --zookeeper kafka-zookeeper:2181 --describe --topic topic-throttle\nTopic: topic-throttle\tTopicId: 7HSKjZkrRhiiGTGl7mZeVA\tPartitionCount: 3\tReplicationFactor: 2\tConfigs: \n\tTopic: topic-throttle\tPartition: 0\tLeader: 1\tReplicas: 1,2\tIsr: 1,2\n\tTopic: topic-throttle\tPartition: 1\tLeader: 2\tReplicas: 2,0\tIsr: 2,0\n\tTopic: topic-throttle\tPartition: 2\tLeader: 0\tReplicas: 0,1\tIsr: 0,1\nroot@101ed4754423:/opt/kafka_2.13-2.8.1/bin# \n\n\n1\n2\n3\n4\n5\n6\n\n\næ§è¡kafka-reassign-partition.sh èæ¬çexecuteã\n\nroot@101ed4754423:/opt/kafka_2.13-2.8.1/bin# ./kafka-reassign-partitions.sh --zookeeper kafka-zookeeper:2181 --execute --reassignment-json-file add.json\n\nCurrent partition replica assignment\n\n{"version":1,"partitions":[{"topic":"topic-throttle","partition":0,"replicas":[1,2],"log_dirs":["any","any"]},{"topic":"topic-throttle","partition":1,"replicas":[2,0],"log_dirs":["any","any"]},{"topic":"topic-throttle","partition":2,"replicas":[0,1],"log_dirs":["any","any"]}]}\n\nSave this to use as the --reassignment-json-file option during rollback\nSuccessfully started partition reassignments for topic-throttle-0,topic-throttle-1,topic-throttle-2\nroot@101ed4754423:/opt/kafka_2.13-2.8.1/bin# \n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\næ§è¡ä¹ååæ¬¡æ¥çä¸»é¢ topic-throttle çè¯¦ç»ä¿¡æ¯ã\n\nroot@101ed4754423:/opt/kafka_2.13-2.8.1/bin# ./kafka-topics.sh --zookeeper kafka-zookeeper:2181 --describe --topic topic-throttle\nTopic: topic-throttle\tTopicId: 7HSKjZkrRhiiGTGl7mZeVA\tPartitionCount: 3\tReplicationFactor: 3\tConfigs: \n\tTopic: topic-throttle\tPartition: 0\tLeader: 1\tReplicas: 0,1,2\tIsr: 1,2,0\n\tTopic: topic-throttle\tPartition: 1\tLeader: 2\tReplicas: 2,1,0\tIsr: 2,0,1\n\tTopic: topic-throttle\tPartition: 2\tLeader: 0\tReplicas: 0,1,2\tIsr: 0,1,2\n\n\n1\n2\n3\n4\n5\n\n\nå¯ä»¥çå°ç¸åºçå¯æ¬å å­æ°å·²ç»å¢å å°3äºã\n\nä¸ä¿®æ¹ååºæ°ä¸åçæ¯ï¼å¯æ¬æ°è¿å¯ä»¥åå°ï¼è¿éæä»¬éè¿kafka-reassign-partition.shèæ¬æ¥åå°ååºçå¯æ¬å å­ãåæ¬¡ä¿®æ¹project.jsonæä»¶ä¸­çåå®¹ï¼åå®¹åèå¦ä¸ï¼\n\n{\n  "version": 1,\n  "partitions": [\n    {\n      "topic": "topic-throttle",\n      "partition": 1,\n      "replicas": [\n        2\n      ],\n      "log_dirs": [\n        "any"\n      ]\n    },\n    {\n      "topic": "topic-throttle",\n      "partition": 0,\n      "replicas": [\n        1\n      ],\n      "log_dirs": [\n        "any"\n      ]\n    },\n    {\n      "topic": "topic-throttle",\n      "partition": 2,\n      "replicas": [\n        0\n      ],\n      "log_dirs": [\n        "any"\n      ]\n    }\n  ]\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n\n\nåæ¬¡æ§è¡kafka-reassign-partition.sh èæ¬çexecuteã\n\nroot@101ed4754423:/opt/kafka_2.13-2.8.1/bin# ./kafka-reassign-partitions.sh --zookeeper kafka-zookeeper:2181 --execute --reassignment-json-file add.json\n\nCurrent partition replica assignment\n\n{"version":1,"partitions":[{"topic":"topic-throttle","partition":0,"replicas":[0,1,2],"log_dirs":["any","any","any"]},{"topic":"topic-throttle","partition":1,"replicas":[2,1,0],"log_dirs":["any","any","any"]},{"topic":"topic-throttle","partition":2,"replicas":[0,1,2],"log_dirs":["any","any","any"]}]}\n\nSave this to use as the --reassignment-json-file option during rollback\nSuccessfully started partition reassignments for topic-throttle-0,topic-throttle-1,topic-throttle-2\nroot@101ed4754423:/opt/kafka_2.13-2.8.1/bin# \n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\nä¸»é¢topic-throttleçè¯¦ç»ä¿¡æ¯å¦ä¸ï¼\n\nroot@101ed4754423:/opt/kafka_2.13-2.8.1/bin# ./kafka-topics.sh --zookeeper kafka-zookeeper:2181 --describe --topic topic-throttle\nTopic: topic-throttle\tTopicId: 7HSKjZkrRhiiGTGl7mZeVA\tPartitionCount: 3\tReplicationFactor: 1\tConfigs: \n\tTopic: topic-throttle\tPartition: 0\tLeader: 1\tReplicas: 1\tIsr: 1\n\tTopic: topic-throttle\tPartition: 1\tLeader: 2\tReplicas: 2\tIsr: 2\n\tTopic: topic-throttle\tPartition: 2\tLeader: 0\tReplicas: 0\tIsr: 0\n\n\n1\n2\n3\n4\n5\n\n\nå¯ä»¥çå°ä¸»é¢ topic-throttle çå¯æ¬å å­åè¢«ä¿®æ¹ä¸º 1 äºãæä»¬æ§è¡kafka-reassign-partition.sh èæ¬(execute)æä½¿ç¨çåéæ¹æ¡é½æ¯æå¨ä¿®æ¹çï¼å¨å¢å å¯æ¬å å­çæ¶åç±äºæ´ä¸ªç¤ºä¾éç¾¤ä¸­åªæ 3ä¸ª broker èç¹ï¼ä» 2 å¢å å° 3åªéå¡«æ»¡å¯æ¬å³å¯ãåè,ç¤ºä¾ä¸­åå°å¯æ¬å å­çæ¶åæ¹æäº 1ï¼è¿æ ·å¯ä»¥ç®åå°æåä¸ª brokerèç¹è½®è¯¢ä¸éï¼å¦æ­¤ä¹å°±ä¸å¤ªä¼æè´è½½ä¸åè¡¡çå½±åãä¸è¿å¨çå®åºç¨ä¸­ï¼å¯è½é¢å¯¹çæ¯ä¸ä¸ªåå«äºå åä¸ª broker èç¹çéç¾¤ï¼å°å¯æ¬æ°ä»2 ä¿®æ¹ä¸º 5ï¼æèä» 4 ä¿®æ¹ä¸º 3 çæ¶åï¼å¦ä½è¿è¡åççåéæ¯ä¸ä¸ªå³é®çé®é¢ãæä»¬å¯ä»¥éè¿ç¨åºæ¥è®¡ç®åºåéæ¹æ¡ï¼åè®¾å·²ç»ç¡®å®äºä¸»é¢çååºæ°ãå¯æ¬å å­æ°éåå¯ç¨çBroker æ°ã\n\npublic class KafkaReplicaAssignment {\n\n    public static void main(String[] args) {\n        int partitions = 10; // ä¸»é¢çååºæ°\n        int replicationFactor = 2; // å¯æ¬å å­æ°é\n        int brokers = 4; // å¯ç¨ç Broker æ°\n\n        List<List<Integer>> replicaAssignment = replicaAssignment(brokers, replicationFactor, partitions);\n\n        // æå°ååºçå¯æ¬åé\n        for (int partition = 0; partition < partitions; partition++) {\n            List<Integer> replicas = replicaAssignment.get(partition);\n            System.out.println("Partition " + partition + " replicas: " + replicas);\n        }\n    }\n\n    public static List<List<Integer>> replicaAssignment(int brokers, int factor, int partitions) {\n        List<List<Integer>> replicaAssignment = new ArrayList<>();\n        for (int partition = 0; partition < partitions; partition++) {\n            List<Integer> replicas = new ArrayList<>();\n            for (int i = 0; i < factor; i++) {\n                replicas.add((partition + i) % brokers);\n            }\n            replicaAssignment.add(replicas);\n        }\n        return replicaAssignment;\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n\n\n----------------------------------------',normalizedContent:'# 1.ä¼åå¯æ¬çéä¸¾\n\nååºä½¿ç¨å¤å¯æ¬æºå¶æ¥æåå¯é æ§ï¼ä½æ¯åªæleaderå¯æ¬å¯¹å¤æä¾è¯»åæå¡ï¼èfollowerå¯æ¬åªè´è´£å¨åé¨è¿è¡æ¶æ¯åæ­¥ãå¦æä¸ä¸ªååºçleaderå¯æ¬ä¸å¯ç¨ï¼é£ä¹å°±æå³çæ´ä¸ªååºä¸å¯ç¨ï¼æ­¤æ¶å°±éè¦kafkaä»å©ä½çfollowerå¯æ¬ä¸­æéä¸ä¸ªæ°çleaderå¯æ¬æ¥ç»§ç»­å¯¹å¤æä¾æå¡ãä»æç§è§åº¦è®²ï¼brokerèç¹ä¸­çleaderå¯æ¬ä¸ªæ°çå¤å°å³å®äºè¿ä¸ªèç¹è´è½½çé«ä½ã\n\nå¨åå»ºtopicçæ¶åï¼è¯¥topicçååºä»¥åå¯æ¬ä¼å°½å¯è½ååçåå¸å°kafkaéç¾¤çåä¸ªbrokerèç¹ä¸ï¼å¯¹åºçleaderå¯æ¬çåéä¹æ¯è¾ååã\n\n**éå¯¹åä¸ä¸ªååºèè¨ï¼åä¸ä¸ªbrokerèç¹ä¸­ä¸å¯è½åºç°ä»çå¤ä¸ªå¯æ¬ã**å³kafkaéç¾¤çä¸ä¸ªbrokerä¸­æå¤åªè½æå®çä¸ä¸ªå¯æ¬ï¼æä»¬å¯ä»¥å°leaderå¯æ¬æå¨çèç¹å«åååºçleaderèç¹ï¼èfollowerèç¹æå¨çbrokerèç¹å¯ä»¥å«åååºçfollowerèç¹ã\n\nå¦ækafkaéç¾¤ä¸­çæä¸ä¸ªbrokerææäºï¼ä¹å°±æ¯ååºçleaderèç¹ä¸çº¿ï¼å¶ä¸­ä¸ä¸ªfollowerèç¹å°±ä¼æä¸ºæ°çleaderèç¹ï¼è¿æ ·ä¼å¯¼è´éç¾¤çè´è½½ä¸åè¡¡ï¼ä»èå½±åæ´ä½çå¥å£®æ§åç¨³å®æ§ãå½åæ¥çleaderèç¹æ¢å¤ä¹åéæ°å å¥éç¾¤æ¶ï¼ä»åªè½æä¸ºä¸ä¸ªæ°çfollowerèç¹èä¸åå¯¹å¤æä¾æå¡ã\n\nä¸ºäºæææ²»çè´è½½å¤±è¡¡çæåµï¼kafkaå¼å¥äºä¼åå¯æ¬ï¼preferred replicaï¼çæ¦å¿µãæè°çä¼åå¯æ¬æ¯æå¨aréåä¸­çç¬¬ä¸ä¸ªå¯æ¬ãçæ³æåµä¸ä¼åå¯æ¬å°±æ¯è¯¥ååºçleaderå¯æ¬ï¼æä»¥ä¹å¯ä»¥ç§°ä¸ºpreferred leaderãkafkaè¦ç¡®ä¿ææä¸»é¢çä¼åå¯æ¬å¨éç¾¤ä¸­åååå¸ï¼è¿æ ·å°±ä¿è¯äºææååºçleaderåååå¸ãå¦æleaderåå¸è¿äºéä¸­ï¼å°±ä¼é æéç¾¤è´è½½ä¸åè¡¡ã\n\næè°ä¼åå¯æ¬çéä¸¾æ¯æéè¿ä¸å®çæ¹å¼ä¿ä½¿ä¼åå¯æ¬éä¸¾ä¸ºleaderå¯æ¬ï¼ä»¥æ­¤æ¥ä¿è¿éç¾¤çè´è½½åè¡¡ï¼è¿ä¸è¡ä¸ºä¹å«åååºå¹³è¡¡ã\n\n> ååºå¹³è¡¡å¹¶ä¸æå³kafkaéç¾¤çè´è½½åè¡¡ï¼å ä¸ºè¿è¦èèéç¾¤ä¸­çååºåéæ¯å¦åè¡¡ãå¦å¤æ¯ä¸ªååºleaderå¯æ¬çè´è½½ä¹æ¯ä¸åçï¼ä¹å°±æ¯è¯´ï¼å°±ç®éç¾¤ä¸­ååºåéåè¡¡ï¼leaderåéåè¡¡ï¼ä¹ä¸è½ä¿è¯æ´ä¸ªéç¾¤çè´è½½å°±æ¯åè¡¡çã\n\nå¨kafkaä¸­å¯ä»¥æä¾ååºèªå¨å¹³è¡¡çåè½ï¼rebalanceï¼ï¼ä¸æ­¤å¯¹åºçbrokerç«¯åæ°æ¯auto.leader.rebalance.enableï¼é»è®¤ä¸ºtrueãå¦æå¼å¯ååºèªå¨å¹³è¡¡ï¼kafkaæ§å¶å¨ä¼å¼å¯ä¸ä¸ªå®æ¶ä»»å¡ï¼è½®è¯¢ææçbrokerèç¹ï¼è®¡ç®æ¯ä¸ªbrokerèç¹çååºä¸å¹³è¡¡çï¼brokerçä¸å¹³è¡¡ç=éä¼åå¯æ¬çleaderä¸ªæ°/ååºæ»æ°ï¼æ¯å¦è¶è¿leader.imbalance.per.broker.percentageåæ°éç½®çæ¯å¼ï¼é»è®¤ç¾åä¹åï¼å¦æè¶è¿è¿ä¸ªå¼ï¼ä¼èªå¨æ§è¡ä¼åå¯æ¬çéä¸¾å¨ä½ä»¥æ±ååºå¹³è¡¡ãæ§è¡å¨æç±åæ°leader.imbalance.check.interval.secondsæ§å¶ï¼é»è®¤300sã\n\nçäº§ç¯å¢ä¸å»ºè®®å¼å¯rebalanceåè½ï¼å¯è½å¼èµ·è´é¢çæ§è½é®é¢ï¼ä¹æå¯è½å¼èµ·å®¢æ·ç«¯ä¸å®æ¶é´çé»å¡ãå ä¸ºæ§è¡çæ¶é´æ æ³èªä¸»ææ§ï¼å¦æå¨å¤§ä¿æé´æ§è¡rebalanceå¯è½ä¼é æä¸å¡é»å¡ï¼é¢ç¹è¶æ¶çé£é©ãååºåå¯æ¬çåè¡¡ä¹ä¸è½ç¡®ä¿éç¾¤æ´ä½çåè¡¡ï¼å¹¶ä¸éç¾¤ä¸­ä¸å®ç¨åº¦ä¸çä¸åè¡¡æ¯å¯ä»¥æ¥åçï¼ä¸ºé²æ­¢å³é®æ¶å»åºé®é¢ï¼å»ºè®®æå¨æ§è¡ååºå¹³è¡¡ã\n\nkafkaä¸­çkafka-perferred-replica-election.shèæ¬æä¾äºå¯¹ååºleaderå¯æ¬è¿è¡éæ°å¹³è¡¡çåè½ãä¼åå¯æ¬çéä¸¾è¿ç¨æ¯ä¸ä¸ªå®å¨çè¿ç¨ï¼kafkaå®¢æ·ç«¯å¯ä»¥èªå¨æç¥ååºleaderå¯æ¬çåæ´ã\n\n./kafka-preferred-replica-election.sh --zookeeper kafka-zookeeper:2181/kafka\n\n\n1\n\n\n> å¨æ°çæ¬çkafkaä¸­ï¼è¿ä¸ªèæ¬å·²ç»è¿æäºï¼æ¨èä½¿ç¨kafka-leader-election.shèæ¬ã\n\n----------------------------------------\n\n\n# 2.ååºéåé\n\nå½éç¾¤ä¸çæä¸ªbrokerèç¹çªç¶ä¸çº¿ï¼å¦æèç¹ä¸çååºæ¯åå¯æ¬çï¼é£ä¹è¿äºååºå°±åçä¸å¯ç¨äºï¼ç¸åºçæ°æ®ä¹å°±å¤äºä¸¢å¤±ç¶æï¼å¦æèç¹ä¸çååºæ¯å¤å¯æ¬çï¼é£ä¹ä½äºè¿ä¸ªbrokerä¸çleaderå¯æ¬çè§è²ä¼è½¬äº¤ç»éç¾¤çå¶ä»followerå¯æ¬ä¸­ãæ»ä¹ï¼è¿ä¸ªèç¹ä¸çååºå¯æ¬é½å¤äºå¤±æç¶æï¼kafkaå¹¶ä¸ä¼å°è¿äºå¤±æçååºå¯æ¬èªå¨çè¿ç§»å°éç¾¤ä¸­å©ä½çå¯ç¨brokerä¸ï¼å¦ææ¾ä»»ä¸ç®¡ï¼ä¸ä»ä¼å½±åæ´ä¸ªéç¾¤çè´è½½åè¡¡ï¼è¿ä¼å½±åæ´ä½æå¡çå¯ç¨æ§åå¯é æ§ã\n\nå½è¦å¯¹éç¾¤ä¸­çä¸ä¸ªèç¹è¿è¡æè®¡åçä¸çº¿æä½çæ¶åï¼ä¸ºäºä¿è¯ååºå¯æ¬çåçåéï¼æä»¬å¸æéè¿æç§æ¹å¼è½å¤å°è¯¥èç¹ä¸çååºå¯æ¬è¿ç§»å°å¶ä»çå¯ç¨èç¹ä¸ã\n\nå½éç¾¤ä¸­æ°å¢brokeræ¶ï¼åªææ°åå»ºçä¸»é¢ååºæå¯è½è¢«åéå°è¿ä¸ªèç¹ä¸ï¼ä¹åçä¸»é¢ååºå¹¶ä¸ä¼èªå¨åéå°æ°å å¥çèç¹ï¼å ä¸ºå¨ä»ä»¬è¢«åå»ºæ¶è¿æ²¡æè¿ä¸ªæ°èç¹ï¼è¿æ ·æ°èç¹çè´è½½åååèç¹ä¹é´çè´è½½ä¹é´ä¸¥éä¸å¹³è¡¡ã\n\nä¸ºäºè§£å³ä¸è¿°é®é¢ï¼éè¦è®©ååºå¯æ¬åæ¬¡è¿è¡åçåéï¼ä¹å°±æ¯æè°çååºéåéãkafkaæä¾äº kafka-reassign-partition.shèæ¬æ¥æ§è¡ååºéåéçå·¥ä½ï¼ä»å¯ä»¥å¨éç¾¤æ©å®¹ï¼brokerèç¹å¤±æçåºæ¯ä¸å¯¹ååºè¿è¡è¿ç§»ãkafka-reassign-partition.shèæ¬ä½¿ç¨åä¸º3ä¸ªæ­¥éª¤ï¼\n\n 1. åå»ºéè¦ä¸ä¸ªåå«ä¸»é¢æ¸åçjsonæä»¶ã\n 2. æ ¹æ®ä¸»é¢æ¸ååbrokerèç¹æ¸åçæä¸ä»½éåéæ¹æ¡ã\n 3. æ ¹æ®è¿ä»½æ¹æ¡æ§è¡å·ä½çåéå¨ä½ã\n\nä¸é¢éè¿ä¸ä¸ªå·ä½çæ¡ä¾æ¥æ¼ç¤º kafka-reassign-partition.sh èæ¬çç¨æ³ã\n\n 1. é¦åå¨ä¸ä¸ªç±ä¸ä¸ªbrokerèç¹ç»æçéç¾¤ä¸­åå»ºä¸ä¸ªtopic topic-reassignï¼ä¸»é¢ä¸­åå«4ä¸ªååºåä¸¤ä¸ªå¯æ¬ã\n\nroot@b531dc9d377f:/opt/kafka_2.13-2.8.1/bin# ./kafka-topics.sh --zookeeper kafka-zookeeper:2181/kafka --create --topic topic-reassign --replication-factor 2 --partitions 4\n\nroot@b531dc9d377f:/opt/kafka_2.13-2.8.1/bin# ./kafka-topics.sh --zookeeper kafka-zookeeper:2181/kafka --describe --topic topic-reassign\ntopic: topic-reassign\ttopicid: k1uon9x_qbaqfvbov4skdw\tpartitioncount: 4\treplicationfactor: 2\tconfigs: \n\ttopic: topic-reassign\tpartition: 0\tleader: 0\treplicas: 0,1\tisr: 0,1\n\ttopic: topic-reassign\tpartition: 1\tleader: 1\treplicas: 1,2\tisr: 1,2\n\ttopic: topic-reassign\tpartition: 2\tleader: 2\treplicas: 2,0\tisr: 2,0\n\ttopic: topic-reassign\tpartition: 3\tleader: 0\treplicas: 0,2\tisr: 0,2\nroot@b531dc9d377f:/opt/kafka_2.13-2.8.1/bin#\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\nå¯ä»¥è§å¯å°topictopic-reassignå¨3ä¸ªèç¹ä¸é½æå¯¹åºçååºå¯æ¬åå¸ãç±äºæç§åå ï¼æä»¬æ³è¦ä¸çº¿å¶ä¸­ä¸å°brokerï¼å¨æ­¤ä¹åï¼æä»¬éè¦å°ä¸é¢çååºå¯æ¬è¿ç§»åºå»ãä½¿ç¨kafka-reassign-partition.shèæ¬çç¬¬ä¸æ­¥å°±æ¯è¦åå»ºä¸ä¸ªjsonæä»¶ï¼æä»¶åå®¹ä¸ºè¦è¿è¡ååºéæ°åéçä¸»é¢æ¸åã\n\n{\n  "topics": [\n    {\n      "topic": "topic-reassign"\n    }\n  ],\n  "version": 1\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nç¬¬äºæ­¥å°±æ¯æ ¹æ®è¿ä¸ªjsonæä»¶åæå®æè¦åéçbrokerèç¹åè¡¨æ¥çæä¸ä»½åéçéåéæ¹æ¡ã\n\n./kafka-reassign-partitions.sh --zookeeper kafka-zookeeper:2181/kafka --generate --topics-to-move-json-file reassign.json --broker-list 0,2\n\ncurrent partition replica assignment\n{"version":1,"partitions":[{"topic":"topic-reassign","partition":0,"replicas":[0,1],"log_dirs":["any","any"]},{"topic":"topic-reassign","partition":1,"replicas":[1,2],"log_dirs":["any","any"]},{"topic":"topic-reassign","partition":2,"replicas":[2,0],"log_dirs":["any","any"]},{"topic":"topic-reassign","partition":3,"replicas":[0,2],"log_dirs":["any","any"]}]}\n\nproposed partition reassignment configuration\n{"version":1,"partitions":[{"topic":"topic-reassign","partition":0,"replicas":[2,0],"log_dirs":["any","any"]},{"topic":"topic-reassign","partition":1,"replicas":[0,2],"log_dirs":["any","any"]},{"topic":"topic-reassign","partition":2,"replicas":[2,0],"log_dirs":["any","any"]},{"topic":"topic-reassign","partition":3,"replicas":[0,2],"log_dirs":["any","any"]}]}\nroot@b531dc9d377f:/opt/kafka_2.13-2.8.1/bin#\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n> broker-list åæ°æå®æè¦åéçbrokerèç¹åè¡¨ã\n\nä¸é¢ç¤ºä¾æå°åºä¸¤ä¸ªjsonçåå®¹ï¼ç¬¬ä¸ä¸ªè¡¨ç¤ºå½åååºå¯æ¬åéæåµï¼ç¬¬äºä¸ªè¡¨ç¤ºéåéçæ°æ¹æ¡ãæä»¬å°æ°æ¹æ¡ä¿å­å°ä¸ä¸ªåä¸ºproject.jsonçæä»¶ã\n\nç¬¬ä¸æ­¥æ§è¡å·ä½çéåéå¨ä½ï¼\n\nroot@b531dc9d377f:/opt/kafka_2.13-2.8.1/bin#./kafka-reassign-partitions.sh --zookeeper kafka-zookeeper:2181/kafka --execute --reassignment-json-file project.json\n\ncurrent partition replica assignment\n\n{"version":1,"partitions":[{"topic":"topic-reassign","partition":0,"replicas":[0,1],"log_dirs":["any","any"]},{"topic":"topic-reassign","partition":1,"replicas":[1,2],"log_dirs":["any","any"]},{"topic":"topic-reassign","partition":2,"replicas":[2,0],"log_dirs":["any","any"]},{"topic":"topic-reassign","partition":3,"replicas":[0,2],"log_dirs":["any","any"]}]}\n\nsave this to use as the --reassignment-json-file option during rollback\nsuccessfully started partition reassignments for topic-reassign-0,topic-reassign-1,topic-reassign-2,topic-reassign-3\nroot@b531dc9d377f:/opt/kafka_2.13-2.8.1/bin#\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\nåæ¬¡æ¥çtopictopic-reassignçå·ä½ä¿¡æ¯ï¼\n\nroot@b531dc9d377f:/opt/kafka_2.13-2.8.1/bin# ./kafka-topics.sh --zookeeper kafka-zookeeper:2181/kafka --describe --topic topic-reassign\ntopic: topic-reassign\ttopicid: k1uon9x_qbaqfvbov4skdw\tpartitioncount: 4\treplicationfactor: 2\tconfigs: \n\ttopic: topic-reassign\tpartition: 0\tleader: 2\treplicas: 2,0\tisr: 0,2\n\ttopic: topic-reassign\tpartition: 1\tleader: 0\treplicas: 0,2\tisr: 2,0\n\ttopic: topic-reassign\tpartition: 2\tleader: 2\treplicas: 2,0\tisr: 2,0\n\ttopic: topic-reassign\tpartition: 3\tleader: 0\treplicas: 0,2\tisr: 0,2\nroot@b531dc9d377f:/opt/kafka_2.13-2.8.1/bin#\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\nå¯ä»¥çå°ä¸»é¢ä¸­çææååºå¯æ¬é½åªå¨0å2çbrokerèç¹ä¸åå¸äºã\n\né¤äºè®©èæ¬èªå¨çæåéæ¹æ¡ï¼ç¨æ·è¿å¯ä»¥èªå®ä¹éåéæ¹æ¡ï¼è¿æ ·å°±ä¸éè¦æå®ç¬¬ä¸æ­¥åç¬¬äºæ­¥äºã\n\nååºéåéçåºæ¬åçæ¯åéè¿æ§å¶å¨ä¸ºæ¯ä¸ªååºæ·»å æ°å¯æ¬ï¼å¢å å¯æ¬å å­ï¼ï¼æ°çå¯æ¬å°ä»ååºçleaderå¯æ¬é£éå¤å¶ææçæ°æ®ãæ ¹æ®ååºçå¤§å°ä¸åï¼å¤å¶è¿ç¨å¯è½è¦è±ä¸äºæ¶é´ï¼å ä¸ºæ°æ®æ¯éè¿ç½ç»å¤å¶å°æ°çå¯æ¬ä¸çãå¨å¤å¶å®æä¹åï¼æ§å¶å¨å°æ§çå¯æ¬ä»å¯æ¬æ¸åä¸­ç§»é¤ï¼æ¢å¤ä¸ºåæ¥çå¯æ¬å å­ï¼ãæ³¨æéåéè¿ç¨ä¸­è¦ç¡®ä¿æè¶³å¤çç©ºé´ã\n\nå¯¹äºååºéåéèè¨ï¼è¿æå¯éçç¬¬åæ­¥ï¼éªè¯æ¥çååºéåéçè¿åº¦ï¼åªéè¦å°ä¸é¢çexecuteæ¿æ¢æverifyå³å¯ã\n\nroot@b531dc9d377f:/opt/kafka_2.13-2.8.1/bin# ./kafka-reassign-partitions.sh --zookeeper kafka-zookeeper:2181/kafka --verify --reassignment-json-file project.json\n\nstatus of partition reassignment:\nreassignment of partition topic-reassign-0 is complete.\nreassignment of partition topic-reassign-1 is complete.\nreassignment of partition topic-reassign-2 is complete.\nreassignment of partition topic-reassign-3 is complete.\nclearing broker-level throttles on brokers 0,1,2\nclearing topic-level throttles on topic topic-reassign\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\nååºéåéå¯¹éç¾¤æ§è½æå¾å¤§å½±åï¼éè¦å ç¨é¢å¤çèµæºï¼æ¯å¦ç½ç»åç£çãå¨å®éæä½ä¸­ï¼æä»¬å°éä½éåéçç²åº¦ï¼åæå¤ä¸ªå°æ¹æ¬¡æ¥æ§è¡ï¼ä»¥æ­¤æ¥å°è´é¢å½±åéå°æä½ã\n\nå¦æè¦å°æä¸ªbrokerä¸çº¿ï¼é£ä¹å¨æ§è¡ååºéåéå¨ä½ä¹åæå¥½åå³é­æèéå¯brokerï¼è¿æ ·è¿ä¸ªbrokerå°±ä¸å¨æ¯ä»»ä½ååºçleaderèç¹äºï¼ä»çååºå°±å¯ä»¥è¢«åéç»éç¾¤ä¸­çå¶ä»brokerãè¿æ ·å¯ä»¥åå°brokerä¹é´çæµéå¤å¶ï¼ä»¥æ­¤æåéåéçæ§è½ï¼ä»¥ååå°å¯¹éç¾¤çå½±åã\n\n----------------------------------------\n\n\n# 3.å¤å¶éæµ\n\nååºéåéçæ¬è´¨å¨äºæ°æ®å¤å¶ï¼åå¢å æ°çå¯æ¬ï¼ç¶åè¿è¡æ°æ®åæ­¥ï¼æåå é¤æ§çå¯æ¬æ¥è¾¾å°æç»ç®çãæ°æ®å¤å¶ä¼å ç¨é¢å¤çèµæºï¼å¦æéåéçéå¤ªå¤§å¿ç¶ä¼ä¸¥éå½±åæ´ä½æ§è½ï¼å°¤å¶æ¯å¤äºä¸å¡é«å³°æçæ¶åãåå°éåéçç²åº¦ï¼ä»¥å°æ¹æ¬¡çæ¹å¼æ¥æä½æ¯ä¸ç§å¯è¡çè§£å³æè·¯ãå¦æéç¾¤ä¸­æä¸ªä¸»é¢æèæä¸ªååºçæµéå¨ä¸æ®µæ¶é´ç¹å«å¤§ï¼é£ä¹åªé åå°ç²åº¦æ¯ä¸è¶³ä»¥åºå¯¹çï¼è¿æ¶å°±éè¦æä¸ä¸ªéæµçæºå¶ï¼å¯ä»¥å¯¹å¯æ¬é´çå¤å¶æµéå ä»¥éå¶æ¥ä¿è¯éåéæé´æ´ä½æå¡ä¸ä¼åå°å¤ªå¤§çå½±åã\n\nå¯æ¬é´çå¤å¶éæµæä¸¤ç§å®ç°æ¹å¼ï¼kafka-configs.shèæ¬åkafka-reassign-partitions.shèæ¬ã\n\n----------------------------------------\n\n\n# 3.1kafka-configs.shèæ¬å®ç°å¤å¶éæµ\n\nkafka-configs.shèæ¬ä¸»è¦ä»¥å¨æéç½®çæ¹å¼æ¥è¾¾å°éæµçç®çï¼å¨brokerçº§å«æä¸¤ä¸ªä¸å¤å¶éæµç¸å³çéç½®åæ°ï¼follower.replication.throttled.rateåleader.replication.throttled.rateï¼åèç¨äºè®¾ç½®followerå¯æ¬å¤å¶çéåº¦ï¼åèç¨äºè®¾ç½®leaderå¯æ¬ä¼ è¾çéåº¦ï¼åä½æ¯b/sãéå¸¸ä¸¤èçéç½®å¼ç¸åãä¸é¢çç¤ºä¾ä¸­å°æä¸ªbrokerä¸­çleaderå¯æ¬åfollowerå¯æ¬çå¤å¶éåº¦éå¶å¨1024b/sä¹åï¼å³1kb/sã\n\nroot@b531dc9d377f:/opt/kafka_2.13-2.8.1/bin# ./kafka-configs.sh --zookeeper kafka-zookeeper:2181/kafka --entity-type brokers --entity-name 1 --alter --add-config follower.replication.throttled.rate=1024,leader.replication.throttled.rate=1024\ncompleted updating config for entity: brokers \'1\'.\nroot@b531dc9d377f:/opt/kafka_2.13-2.8.1/bin#\n\n\n1\n2\n3\n\n\næä»¬åæ¥æ¥çä¸ä¸brokerä¸­ååæ·»å çéç½®ï¼\n\nroot@b531dc9d377f:/opt/kafka_2.13-2.8.1/bin# ./kafka-configs.sh --zookeeper kafka-zookeeper:2181/kafka --entity-type brokers --entity-name 1 --describe\nconfigs for brokers \'1\' are leader.replication.throttled.rate=1024,follower.replication.throttled.rate=1024\nroot@b531dc9d377f:/opt/kafka_2.13-2.8.1/bin#\n\n\n1\n2\n3\n\n\nå é¤ååæ·»å çéç½®ä¹å¾ç®åï¼\n\nroot@b531dc9d377f:/opt/kafka_2.13-2.8.1/bin# ./kafka-configs.sh --zookeeper kafka-zookeeper:2181/kafka --entity-type brokers --entity-name 1 --alter --delete-config follower.replication.throttled.rate,leader.replication.throttled.rate\n\ncompleted updating config for entity: brokers \'1\'.\nroot@b531dc9d377f:/opt/kafka_2.13-2.8.1/bin#\n\n\n1\n2\n3\n4\n\n\nå¨ä¸»é¢çº§å«ä¹æä¸¤ä¸ªç¸å³åæ°æ¥éå¶å¤å¶çéåº¦ï¼leader.replication.throttled.replicaså follower.replication.throttled.replicasï¼ä»ä»¬åå«ç¨æ¥éç½®è¢«éå¶éåº¦çä¸»é¢æå¯¹åºçleaderå¯æ¬åè¡¨åfollowerå¯æ¬åè¡¨ãä¸ºäºæ¼ç¤ºç¨æ³ï¼åæ¥åå»ºä¸ä¸ªååºæ°ä¸º3å¯æ¬æ°ä¸º2çä¸»é¢topic-throttleï¼å¹¶æ¥çä»çè¯¦ç»ä¿¡æ¯ã\n\nroot@b531dc9d377f:/opt/kafka_2.13-2.8.1/bin# ./kafka-topics.sh --zookeeper kafka-zookeeper:2181/kafka --create --topic topic-throttle --replication-factor 2 --partitions 3\ncreated topic topic-throttle.\nroot@b531dc9d377f:/opt/kafka_2.13-2.8.1/bin# ./kafka-topics.sh --zookeeper kafka-zookeeper:2181/kafka --describe --topic topic-throttle\ntopic: topic-throttle\ttopicid: 2lpemhvotve6bbgsfndjfa\tpartitioncount: 3\treplicationfactor: 2\tconfigs: \n\ttopic: topic-throttle\tpartition: 0\tleader: 2\treplicas: 2,1\tisr: 2,1\n\ttopic: topic-throttle\tpartition: 1\tleader: 0\treplicas: 0,2\tisr: 0,2\n\ttopic: topic-throttle\tpartition: 2\tleader: 1\treplicas: 1,0\tisr: 1,0\nroot@b531dc9d377f:/opt/kafka_2.13-2.8.1/bin#\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nä¸»é¢topic-throttleçä¸ä¸ªååºæå¯¹åºçleaderèç¹åå«ä¸º0ï¼1ï¼,2ï¼å³ååºä¸ä»£ççæ å°å³ç³»ä¸º0:2,1:0,2:1ï¼èå¯¹åºçfollowerèç¹åå«ä¸º1,2,0ï¼ç¸å³çååºä¸ä»£ççæ å°å³ç³»ä¸º0:1,1:2,2:0ï¼é£ä¹æ­¤ä¸»é¢çéæµå¯æ¬åè¡¨åå·ä½çæä½ç»èå¦ä¸ï¼\n\nroot@b531dc9d377f:/opt/kafka_2.13-2.8.1/bin# ./kafka-configs.sh --zookeeper kafka-zookeeper:2181/kafka --entity-type topics --entity-name topic-throttle --alter --add-config leader.replication.throttled.replicas=[0:0,1:1,2:2],follower.replication.throttled.replicas=[0:1,1:2,2:0]\n\ncompleted updating config for entity: topic \'topic-throttle\'.\nroot@b531dc9d377f:/opt/kafka_2.13-2.8.1/bin#\n\n\n1\n2\n3\n4\n\n\nå¨äºè§£äºä¸éæµç¸å³ç4ä¸ªéç½®åæ°åï¼æä»¬æ¼ç¤ºä¸ä¸å¸¦æéæµçååºéåéçç¨æ³ãé¦åæç§ä¸ä¸èçç©æ³åå»ºä¸ä¸ªåå«å¯è¡æ§æ¹æ¡çproject.jsonæä»¶ï¼åå®¹å¦ä¸ï¼\n\n{\n  "version": 1,\n  "partitions": [\n    {\n      "topic": "topic-throttle",\n      "partition": 1,\n      "replicas": [\n        2,\n        0\n      ],\n      "log_dirs": [\n        "any",\n        "any"\n      ]\n    },\n    {\n      "topic": "topic-throttle",\n      "partition": 0,\n      "replicas": [\n        0,\n        2\n      ],\n      "log_dirs": [\n        "any",\n        "any"\n      ]\n    },\n    {\n      "topic": "topic-throttle",\n      "partition": 2,\n      "replicas": [\n        0,\n        2\n      ],\n      "log_dirs": [\n        "any",\n        "any"\n      ]\n    }\n  ]\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n\n\næ¥ä¸æ¥è®¾ç½®è¢«éæµçå¯æ¬åè¡¨ï¼è¿éè¦æ³¨æï¼é¦åçä¸ä¸éåéåååéåçååºå¯æ¬å¯¹æ¯ï¼è¯¦ç»å¦ä¸ï¼\n\npartition   éåéåçar   åéåçé¢æar\n0             0ï¼1         0ï¼2 \n1             1ï¼2         2ï¼0\n2             2ï¼0         0ï¼2\n\n\n1\n2\n3\n4\n\n\nå¦æååºéæ°åéä¼å¼èµ·æä¸ªååºaréååæ´ï¼é£ä¹è¿ä¸ªååºä¸­çleaderæå³çéå¶ä¼åºç¨äºéåéåçææå¯æ¬ï¼å ä¸ºä»»ä½ä¸ä¸ªå¯æ¬é½è¯å¢ä¸ªæ¯leaderï¼èä¸followeræå³çéå¶ä¼åºç¨äºææç§»å¨çç®çå°ãä¸¾ä¸ªä¾å­ï¼å¯¹äºä¸é¢çå¸å±å¯¹æ¯èè¨ï¼ååº0éåéçarä¸º[0,1]ï¼éåéåçarä¸º[0,2]ï¼é£ä¹è¿éçç®çå°å°±æ¯æ°å¢ç2.ä¹å°±æ¯è¯´ï¼å¯¹ååº0èè¨ï¼leader.replication.throttled.replicaséç½®ä¸º[0:0,0:1]ï¼follower.replication.throttled.replicaséç½®ä¸º[0:2]ãåçå¯¹äºååº1èè¨ï¼leader.replication.throttled.replicaséç½®ä¸º[1:1ï¼1:2]ï¼follower.replication.throttled.replicaséç½®ä¸º[1:0]ãååº3çaréåæ²¡æä»»ä½ååï¼è¿éå¯ä»¥å¿½ç¥ã\n\nè·åéæµå¯æ¬åè¡¨ä¹åï¼æä»¬å°±å¯ä»¥æ§è¡å·ä½çæä½äºï¼\n\nroot@b531dc9d377f:/opt/kafka_2.13-2.8.1/bin# ./kafka-configs.sh --zookeeper kafka-zookeeper:2181/kafka --entity-type topics --entity-name topic-throttle --alter --add-config leader.replication.throttled.replicas=[1:1,1:2,0:0,0:1],follower.replication.throttled.replicas=[1:0,0:2]\n\ncompleted updating config for entity: topic \'topic-throttle\'.\nroot@b531dc9d377f:/opt/kafka_2.13-2.8.1/bin#\n\n\n1\n2\n3\n4\n\n\næ¥ä¸æ¥å¨è®¾ç½®broker2çå¤å¶éåº¦ä¸º10b/sï¼è¿æ ·å¨ä¸é¢çæä½ä¸­å¯ä»¥å¾æ¹ä¾¿çè§å¯éæµä¸ä¸éæµçä¸åï¼\n\nroot@b531dc9d377f:/opt/kafka_2.13-2.8.1/bin# ./kafka-configs.sh --zookeeper kafka-zookeeper:2181/kafka --entity-type brokers --entity-name 2 --alter --add-config leader.replication.throttled.rate=10,follower.replication.throttled.rate=10\n\ncompleted updating config for entity: brokers \'2\'.\nroot@b531dc9d377f:/opt/kafka_2.13-2.8.1/bin#\n\n\n1\n2\n3\n4\n\n\nå¨æ§è¡å·ä½çéåéæä½ä¹åï¼æä»¬éè¦å¼å¯ä¸ä¸ªçäº§èåä¸»é¢topic-throttleä¸­åéä¸æ¹æ¶æ¯ï¼è¿æ ·å¯ä»¥æ¹ä¾¿è§å¯æ­£å¨è¿è¡æ°æ®å¤å¶çè¿ç¨ã\n\nä¹åæä»¬å¨æ§è¡æ­£å¸¸çååºéæ°åéçæä½ï¼\n\nroot@b531dc9d377f:/opt/kafka_2.13-2.8.1/bin# ./kafka-reassign-partitions.sh --zookeeper kafka-zookeeper:2181/kafka --execute --reassignment-json-file project.json\n\ncurrent partition replica assignment\n\n{"version":1,"partitions":[{"topic":"topic-throttle","partition":0,"replicas":[2,1],"log_dirs":["any","any"]},{"topic":"topic-throttle","partition":1,"replicas":[0,2],"log_dirs":["any","any"]},{"topic":"topic-throttle","partition":2,"replicas":[1,0],"log_dirs":["any","any"]}]}\n\nsave this to use as the --reassignment-json-file option during rollback\nsuccessfully started partition reassignments for topic-throttle-0,topic-throttle-1,topic-throttle-2\nroot@b531dc9d377f:/opt/kafka_2.13-2.8.1/bin#\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\næ§è¡ä¹åå¯ä»¥æ¥çæ§è¡çè¿åº¦ï¼\n\nroot@b531dc9d377f:/opt/kafka_2.13-2.8.1/bin# ./kafka-reassign-partitions.sh --zookeeper kafka-zookeeper:2181/kafka --verify --reassignment-json-file project.json\n\nstatus of partition reassignment:\nreassignment of partition topic-throttle-0 is complete.\nreassignment of partition topic-throttle-1 is complete.\nreassignment of partition topic-throttle-2 is complete.\nclearing broker-level throttles on brokers 0,1,2\nclearing topic-level throttles on topic topic-throttle\nroot@b531dc9d377f:/opt/kafka_2.13-2.8.1/bin#\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\næ³¨æå°æåä¸¤è¡ï¼æç¤ºä¹åéå¯¹brokeråtopicçº§å«åçä¸¤ä¸ªéæµæä½å·²ç»ç§»é¤äºã\n\n----------------------------------------\n\n\n# 3.2kafka-reassign-partitions.shèæ¬å®ç°éæµ\n\nkafka-reassign-partitions.shèæ¬ä¹æä¾äºéæµåè½ï¼åªéè¦ä¸ä¸ªåæ°throttleåæ°å³å¯ã\n\nroot@b531dc9d377f:/opt/kafka_2.13-2.8.1/bin# ./kafka-reassign-partitions.sh --zookeeper kafka-zookeeper:2181/kafka --execute --reassignment-json-file project.json --throttle 10\n\ncurrent partition replica assignment\n\n{"version":1,"partitions":[{"topic":"topic-throttle","partition":0,"replicas":[0,2],"log_dirs":["any","any"]},{"topic":"topic-throttle","partition":1,"replicas":[2,0],"log_dirs":["any","any"]},{"topic":"topic-throttle","partition":2,"replicas":[0,2],"log_dirs":["any","any"]}]}\n\nsave this to use as the --reassignment-json-file option during rollback\nwarning: you must run --verify periodically, until the reassignment completes, to ensure the throttle is removed.\nthe inter-broker throttle limit was set to 10 b/s\nsuccessfully started partition reassignments for topic-throttle-0,topic-throttle-1,topic-throttle-2\nroot@b531dc9d377f:/opt/kafka_2.13-2.8.1/bin#\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\nä¸é¢çä¿¡æ¯åå«äºæç¡®çè­¦åä¿¡æ¯ï¼éè¦å¨æè¡çæ§è¡æ¥çè¿åº¦çå½ä»¤ç´å°éåéå®æï¼è¿æ ·å¯ä»¥ç¡®ä¿éæµè®¾ç½®è¢«ç§»é¤ãä¹å°±æ¯è¯´ä½¿ç¨è¿ç§æ¹å¼çéæµåæ ·éè¦æ¾å¼çæ§è¡æäºæä½ä»¥ä¾¿å¨éåéå®æä¹åå¯ä»¥å é¤éæµçè®¾ç½®ãä¸é¢çä¿¡æ¯è¿åç¥äºç®åéæµçéåº¦ä¸éä¸º10b/sã\n\nå¦ææ³å¨éåéæé´ä¿®æ¹éå¶æ¥å¢å ååéï¼ä»¥ä¾¿å®æçæ´å¿«ï¼åå¯ä»¥éæ°è¿è¡kafka-reassign-partitions.shèæ¬çexecuteå½ä»¤ï¼ä½¿ç¨ç¸åçreassignment-json-fileã\n\nroot@b531dc9d377f:/opt/kafka_2.13-2.8.1/bin# ./kafka-reassign-partitions.sh --zookeeper kafka-zookeeper:2181/kafka --execute --reassignment-json-file project.json --throttle 1024\n\ncurrent partition replica assignment\n\n{"version":1,"partitions":[{"topic":"topic-throttle","partition":0,"replicas":[0,2],"log_dirs":["any","any"]},{"topic":"topic-throttle","partition":1,"replicas":[2,0],"log_dirs":["any","any"]},{"topic":"topic-throttle","partition":2,"replicas":[0,2],"log_dirs":["any","any"]}]}\n\nsave this to use as the --reassignment-json-file option during rollback\nwarning: you must run --verify periodically, until the reassignment completes, to ensure the throttle is removed.\nthe inter-broker throttle limit was set to 1024 b/s\nsuccessfully started partition reassignments for topic-throttle-0,topic-throttle-1,topic-throttle-2\nroot@b531dc9d377f:/opt/kafka_2.13-2.8.1/bin#\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\nè¿æ ·éæµéåº¦ä¸éä¸º1024ãå¶å®kafka-reassign-partitions.shèæ¬çå®ç°åçå°±æ¯éç½®ä¸éæµç¸å³ç4ä¸ªåæ°ï¼ç¸æ¯äºkafka-configs.shèæ¬çæ¹å¼æ´å ç®åä¸å®¹æåºéã\n\n----------------------------------------\n\n\n# 4.ä¿®æ¹å¯æ¬å å­\n\nå¨åå»ºä¸»é¢ä¹åæä»¬è¿å¯ä»¥ä¿®æ¹ååºçä¸ªæ°ï¼åæ ·å¯ä»¥ä¿®æ¹å¯æ¬å å­(å¯æ¬æ°)ãä¿®æ¹å¯æ¬å å­çä½¿ç¨åºæ¯ä¹å¾å¤ï¼æ¯å¦å¨åå»ºä¸»é¢æ¶å¡«åäºéè¯¯çå¯æ¬å å­æ°èéè¦ä¿®æ¹ï¼åæ¯å¦è¿è¡æ®µæ¶é´ä¹åæ³è¦éè¿å¢å å¯æ¬å å­æ°æ¥æé«å®¹éæ§åå¯é æ§ã\n\næ¬èä¸­ä¿®æ¹å¯æ¬å å­çåè½ä¹æ¯éè¿éåéæä½¿ç¨ç kafka-reassign-partition.shèæ¬å®ç°çãåè¿å¤´æ¥çä¸ä¸èç¨å°çproject.jsonæä»¶ã\n\n{\n  "version": 1,\n  "partitions": [\n    {\n      "topic": "topic-throttle",\n      "partition": 1,\n      "replicas": [\n        2,\n        0\n      ],\n      "log_dirs": [\n        "any",\n        "any"\n      ]\n    },\n    {\n      "topic": "topic-throttle",\n      "partition": 0,\n      "replicas": [\n        0,\n        2\n      ],\n      "log_dirs": [\n        "any",\n        "any"\n      ]\n    },\n    {\n      "topic": "topic-throttle",\n      "partition": 2,\n      "replicas": [\n        0,\n        2\n      ],\n      "log_dirs": [\n        "any",\n        "any"\n      ]\n    }\n  ]\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n\n\nå¯ä»¥è§å¯å°json åå®¹éç replicas é½æ¯ 2 ä¸ªå¯æ¬ï¼æä»¬å¯ä»¥èªè¡æ·»å ä¸ä¸ªå¯æ¬ï¼æ¯å¦å¯¹ååº 1 èè¨ï¼å¯ä»¥æ¹æä¸é¢çåå®¹:\n\n    {\n  "topic": "topic-throttle",\n  "partition": 1,\n  "replicas": [\n    2,\n    1,\n    0\n  ],\n  "log_dirs": [\n    "any",\n    "any",\n    "any"\n  ]\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\næä»¬å¯ä»¥å°å¶ä»ååºç replicas åå®¹ä¹æ¹æ[0,1,2]ï¼è¿æ ·æ¯ä¸ªååºçå¯æ¬å å­å°±é½ä» 2å¢å å°äº3ãæ³¨æå¢å å¯æ¬å å­æ¶ä¹è¦å¨ log_dirs ä¸­æ·»å ä¸ä¸ªanyï¼è¿ä¸ª log_dirs ä»£è¡¨kafkaä¸­çæ¥å¿æ¥å½ï¼å¯¹åºäº broker ç«¯ç log.diræ log.dirs åæ°çéç½®å¼ï¼å¦æä¸éè¦å³æ³¨æ­¤æ¹é¢çç»èï¼é£ä¹å¯ä»¥ç®åå°è®¾ç½®ä¸º anyãæä»¬å°ä¿®æ¹åçjsonåå®¹ä¿å­ä¸ºæ°add.json æä»¶ãå¨æ§è¡ kafka-reassign-partition.sh èæ¬åï¼ä¸»é¢ topic-throttleçè¯¦ç»ä¿¡æ¯(å¯æ¬å å­ä¸º2) å¦ä¸:\n\nroot@101ed4754423:/opt/kafka_2.13-2.8.1/bin# ./kafka-topics.sh --zookeeper kafka-zookeeper:2181 --describe --topic topic-throttle\ntopic: topic-throttle\ttopicid: 7hskjzkrrhiigtgl7mzeva\tpartitioncount: 3\treplicationfactor: 2\tconfigs: \n\ttopic: topic-throttle\tpartition: 0\tleader: 1\treplicas: 1,2\tisr: 1,2\n\ttopic: topic-throttle\tpartition: 1\tleader: 2\treplicas: 2,0\tisr: 2,0\n\ttopic: topic-throttle\tpartition: 2\tleader: 0\treplicas: 0,1\tisr: 0,1\nroot@101ed4754423:/opt/kafka_2.13-2.8.1/bin# \n\n\n1\n2\n3\n4\n5\n6\n\n\næ§è¡kafka-reassign-partition.sh èæ¬çexecuteã\n\nroot@101ed4754423:/opt/kafka_2.13-2.8.1/bin# ./kafka-reassign-partitions.sh --zookeeper kafka-zookeeper:2181 --execute --reassignment-json-file add.json\n\ncurrent partition replica assignment\n\n{"version":1,"partitions":[{"topic":"topic-throttle","partition":0,"replicas":[1,2],"log_dirs":["any","any"]},{"topic":"topic-throttle","partition":1,"replicas":[2,0],"log_dirs":["any","any"]},{"topic":"topic-throttle","partition":2,"replicas":[0,1],"log_dirs":["any","any"]}]}\n\nsave this to use as the --reassignment-json-file option during rollback\nsuccessfully started partition reassignments for topic-throttle-0,topic-throttle-1,topic-throttle-2\nroot@101ed4754423:/opt/kafka_2.13-2.8.1/bin# \n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\næ§è¡ä¹ååæ¬¡æ¥çä¸»é¢ topic-throttle çè¯¦ç»ä¿¡æ¯ã\n\nroot@101ed4754423:/opt/kafka_2.13-2.8.1/bin# ./kafka-topics.sh --zookeeper kafka-zookeeper:2181 --describe --topic topic-throttle\ntopic: topic-throttle\ttopicid: 7hskjzkrrhiigtgl7mzeva\tpartitioncount: 3\treplicationfactor: 3\tconfigs: \n\ttopic: topic-throttle\tpartition: 0\tleader: 1\treplicas: 0,1,2\tisr: 1,2,0\n\ttopic: topic-throttle\tpartition: 1\tleader: 2\treplicas: 2,1,0\tisr: 2,0,1\n\ttopic: topic-throttle\tpartition: 2\tleader: 0\treplicas: 0,1,2\tisr: 0,1,2\n\n\n1\n2\n3\n4\n5\n\n\nå¯ä»¥çå°ç¸åºçå¯æ¬å å­æ°å·²ç»å¢å å°3äºã\n\nä¸ä¿®æ¹ååºæ°ä¸åçæ¯ï¼å¯æ¬æ°è¿å¯ä»¥åå°ï¼è¿éæä»¬éè¿kafka-reassign-partition.shèæ¬æ¥åå°ååºçå¯æ¬å å­ãåæ¬¡ä¿®æ¹project.jsonæä»¶ä¸­çåå®¹ï¼åå®¹åèå¦ä¸ï¼\n\n{\n  "version": 1,\n  "partitions": [\n    {\n      "topic": "topic-throttle",\n      "partition": 1,\n      "replicas": [\n        2\n      ],\n      "log_dirs": [\n        "any"\n      ]\n    },\n    {\n      "topic": "topic-throttle",\n      "partition": 0,\n      "replicas": [\n        1\n      ],\n      "log_dirs": [\n        "any"\n      ]\n    },\n    {\n      "topic": "topic-throttle",\n      "partition": 2,\n      "replicas": [\n        0\n      ],\n      "log_dirs": [\n        "any"\n      ]\n    }\n  ]\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n\n\nåæ¬¡æ§è¡kafka-reassign-partition.sh èæ¬çexecuteã\n\nroot@101ed4754423:/opt/kafka_2.13-2.8.1/bin# ./kafka-reassign-partitions.sh --zookeeper kafka-zookeeper:2181 --execute --reassignment-json-file add.json\n\ncurrent partition replica assignment\n\n{"version":1,"partitions":[{"topic":"topic-throttle","partition":0,"replicas":[0,1,2],"log_dirs":["any","any","any"]},{"topic":"topic-throttle","partition":1,"replicas":[2,1,0],"log_dirs":["any","any","any"]},{"topic":"topic-throttle","partition":2,"replicas":[0,1,2],"log_dirs":["any","any","any"]}]}\n\nsave this to use as the --reassignment-json-file option during rollback\nsuccessfully started partition reassignments for topic-throttle-0,topic-throttle-1,topic-throttle-2\nroot@101ed4754423:/opt/kafka_2.13-2.8.1/bin# \n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\nä¸»é¢topic-throttleçè¯¦ç»ä¿¡æ¯å¦ä¸ï¼\n\nroot@101ed4754423:/opt/kafka_2.13-2.8.1/bin# ./kafka-topics.sh --zookeeper kafka-zookeeper:2181 --describe --topic topic-throttle\ntopic: topic-throttle\ttopicid: 7hskjzkrrhiigtgl7mzeva\tpartitioncount: 3\treplicationfactor: 1\tconfigs: \n\ttopic: topic-throttle\tpartition: 0\tleader: 1\treplicas: 1\tisr: 1\n\ttopic: topic-throttle\tpartition: 1\tleader: 2\treplicas: 2\tisr: 2\n\ttopic: topic-throttle\tpartition: 2\tleader: 0\treplicas: 0\tisr: 0\n\n\n1\n2\n3\n4\n5\n\n\nå¯ä»¥çå°ä¸»é¢ topic-throttle çå¯æ¬å å­åè¢«ä¿®æ¹ä¸º 1 äºãæä»¬æ§è¡kafka-reassign-partition.sh èæ¬(execute)æä½¿ç¨çåéæ¹æ¡é½æ¯æå¨ä¿®æ¹çï¼å¨å¢å å¯æ¬å å­çæ¶åç±äºæ´ä¸ªç¤ºä¾éç¾¤ä¸­åªæ 3ä¸ª broker èç¹ï¼ä» 2 å¢å å° 3åªéå¡«æ»¡å¯æ¬å³å¯ãåè,ç¤ºä¾ä¸­åå°å¯æ¬å å­çæ¶åæ¹æäº 1ï¼è¿æ ·å¯ä»¥ç®åå°æåä¸ª brokerèç¹è½®è¯¢ä¸éï¼å¦æ­¤ä¹å°±ä¸å¤ªä¼æè´è½½ä¸åè¡¡çå½±åãä¸è¿å¨çå®åºç¨ä¸­ï¼å¯è½é¢å¯¹çæ¯ä¸ä¸ªåå«äºå åä¸ª broker èç¹çéç¾¤ï¼å°å¯æ¬æ°ä»2 ä¿®æ¹ä¸º 5ï¼æèä» 4 ä¿®æ¹ä¸º 3 çæ¶åï¼å¦ä½è¿è¡åççåéæ¯ä¸ä¸ªå³é®çé®é¢ãæä»¬å¯ä»¥éè¿ç¨åºæ¥è®¡ç®åºåéæ¹æ¡ï¼åè®¾å·²ç»ç¡®å®äºä¸»é¢çååºæ°ãå¯æ¬å å­æ°éåå¯ç¨çbroker æ°ã\n\npublic class kafkareplicaassignment {\n\n    public static void main(string[] args) {\n        int partitions = 10; // ä¸»é¢çååºæ°\n        int replicationfactor = 2; // å¯æ¬å å­æ°é\n        int brokers = 4; // å¯ç¨ç broker æ°\n\n        list<list<integer>> replicaassignment = replicaassignment(brokers, replicationfactor, partitions);\n\n        // æå°ååºçå¯æ¬åé\n        for (int partition = 0; partition < partitions; partition++) {\n            list<integer> replicas = replicaassignment.get(partition);\n            system.out.println("partition " + partition + " replicas: " + replicas);\n        }\n    }\n\n    public static list<list<integer>> replicaassignment(int brokers, int factor, int partitions) {\n        list<list<integer>> replicaassignment = new arraylist<>();\n        for (int partition = 0; partition < partitions; partition++) {\n            list<integer> replicas = new arraylist<>();\n            for (int i = 0; i < factor; i++) {\n                replicas.add((partition + i) % brokers);\n            }\n            replicaassignment.add(replicas);\n        }\n        return replicaassignment;\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n\n\n----------------------------------------',charsets:{cjk:!0},lastUpdated:"2023/11/04, 10:52:44",lastUpdatedTimestamp:1699066364e3},{title:"ååº-å¦ä½éæ©åéçååºæ°",frontmatter:{title:"ååº-å¦ä½éæ©åéçååºæ°",date:"2023-01-01T00:00:00.000Z",tags:["Kafka","æ¶æ¯éå"],categories:["Kafka"],description:"ååº-å¦ä½éæ©åéçååºæ°",toc_number:!1,author:{name:"huidong.yin",link:"https://huidongyin.github.io"},permalink:"/pages/bd36a2fb-82ce-3f34-bf5a-91f5703e12a6/"},regularPath:"/03.%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97/00.Kafka/15.%E5%88%86%E5%8C%BA-%E5%A6%82%E4%BD%95%E9%80%89%E6%8B%A9%E5%90%88%E9%80%82%E7%9A%84%E5%88%86%E5%8C%BA%E6%95%B0.html",relativePath:"03.æ¶æ¯éå/00.Kafka/15.ååº-å¦ä½éæ©åéçååºæ°.md",key:"v-2a48cbdf",path:"/pages/bd36a2fb-82ce-3f34-bf5a-91f5703e12a6/",headers:[{level:2,title:"1.æ§è½æµè¯å·¥å·",slug:"_1-æ§è½æµè¯å·¥å·",normalizedTitle:"1.æ§è½æµè¯å·¥å·",charIndex:2},{level:2,title:"2.ååºæ°è¶å¤ååéå°±è¶é«ä¹",slug:"_2-ååºæ°è¶å¤ååéå°±è¶é«ä¹",normalizedTitle:"2.ååºæ°è¶å¤ååéå°±è¶é«ä¹",charIndex:14894},{level:2,title:"3.ååºæ°çä¸é",slug:"_3-ååºæ°çä¸é",normalizedTitle:"3.ååºæ°çä¸é",charIndex:16065},{level:2,title:"4.èéå ç´ ",slug:"_4-èéå ç´ ",normalizedTitle:"4.èéå ç´ ",charIndex:18502}],headersStr:"1.æ§è½æµè¯å·¥å· 2.ååºæ°è¶å¤ååéå°±è¶é«ä¹ 3.ååºæ°çä¸é 4.èéå ç´ ",content:"# 1.æ§è½æµè¯å·¥å·\n\næ¬èè¦è®¨è®ºçæ§è½æµè¯å·¥å·æ¯kafkaæ¬èº«æä¾ççäº§èæ§è½æµè¯ç kafka-producer-perf-test.shåç¨äºæ¶è´¹èæ§è½æµè¯çkafka-consumer-perf-test.shã\n\né¦åéè¿ä¸ä¸ªç¤ºä¾æ¥äºè§£ä¸ä¸kafka-producer-perf-test.shèæ¬çä½¿ç¨ãæä»¬åä¸ä¸ªåªæä¸ä¸ªååºåä¸ä¸ªå¯æ¬çä¸»é¢topic-1ä¸­åé1ä¸æ¡æ¶æ¯ï¼å¹¶ä¸æ¯æ¡æ¶æ¯å¤§å°ä¸º1024Bï¼çäº§èå¯¹åºçacksåæ°ä¸º1ã\n\nbash-5.1# ./kafka-producer-perf-test.sh --topic topic-1 --num-records 10000 --record-size 1024 --throughput -1 --producer-props bootstrap.servers=localhost:9092 acks=1\n4756 records sent, 913.4 records/sec (0.89 MB/sec), 2026.3 ms avg latency, 4547.0 ms max latency.\n4740 records sent, 942.2 records/sec (0.92 MB/sec), 6926.3 ms avg latency, 9514.0 ms max latency.\n10000 records sent, 932.227091 records/sec (0.91 MB/sec), 4734.96 ms avg latency, 9983.00 ms max latency, 4767 ms 50th, 9513 ms 95th, 9777 ms 99th, 9982 ms 99.9th.\nbash-5.1#\n\n\n1\n2\n3\n4\n5\n\n\nä¸é¢å¨ä½¿ç¨kafka-producer-perf-test.shèæ¬çæ¶åå¤äºä¸ä¸ªåæ°ï¼å¶ä¸­topicç¨æ¥æå®çäº§èåéæ¶æ¯çç®æ ä¸»é¢ï¼num-recordsç¨æ¥æå®åéæ¶æ¯çæ»æ¡æ°ï¼record-sizeç¨æ¥è®¾ç½®æ¯æ¡æ¶æ¯çå­èæ°ï¼produceer-propsåæ°ç¨æ¥æå®çäº§èçéç½®ï¼å¯ä»¥åæ¶æå®å¤ç»éç½®ï¼åç»éç½®ä¹é´ç¨ç©ºæ ¼åéï¼ä¸producer-propsåæ°å¯¹åºçè¿æä¸ä¸ªproducer.configåæ°ï¼ä»ç¨æ¥æå®çäº§èçéç½®æä»¶ï¼throughputåæ°ç¨æ¥è¿è¡éæµæ§å¶ï¼å½è®¾å®çå¼å°äº0æ¶ä¸éæµï¼å½è®¾å®çå¼å¤§äº0æ¶ï¼å½åéçååéå¤§äºè¯¥å¼æ¶ä¼è¢«éæµé»å¡ä¸æ®µæ¶é´ãä¸é¢çç¤ºä¾ä¸­è®¾ç½®äºthroughoutçå¼ä¸º100å­èï¼\n\nbash-5.1# ./kafka-producer-perf-test.sh --topic topic-1 --num-records 10000 --record-size 1024 --throughput 100 --producer-props bootstrap.servers=localhost:9092 acks=1\n502 records sent, 100.3 records/sec (0.10 MB/sec), 4.9 ms avg latency, 513.0 ms max latency.\n501 records sent, 100.0 records/sec (0.10 MB/sec), 1.3 ms avg latency, 2.0 ms max latency.\n500 records sent, 99.9 records/sec (0.10 MB/sec), 1.2 ms avg latency, 3.0 ms max latency.\n501 records sent, 100.2 records/sec (0.10 MB/sec), 1.2 ms avg latency, 3.0 ms max latency.\n500 records sent, 100.0 records/sec (0.10 MB/sec), 1.2 ms avg latency, 5.0 ms max latency.\n500 records sent, 100.0 records/sec (0.10 MB/sec), 1.2 ms avg latency, 4.0 ms max latency.\n500 records sent, 100.0 records/sec (0.10 MB/sec), 1.2 ms avg latency, 4.0 ms max latency.\n501 records sent, 100.1 records/sec (0.10 MB/sec), 1.1 ms avg latency, 4.0 ms max latency.\n500 records sent, 100.0 records/sec (0.10 MB/sec), 1.1 ms avg latency, 4.0 ms max latency.\n501 records sent, 100.0 records/sec (0.10 MB/sec), 1.2 ms avg latency, 5.0 ms max latency.\n500 records sent, 99.9 records/sec (0.10 MB/sec), 1.2 ms avg latency, 5.0 ms max latency.\n501 records sent, 100.1 records/sec (0.10 MB/sec), 1.1 ms avg latency, 2.0 ms max latency.\n501 records sent, 100.0 records/sec (0.10 MB/sec), 1.1 ms avg latency, 5.0 ms max latency.\n501 records sent, 100.1 records/sec (0.10 MB/sec), 1.1 ms avg latency, 3.0 ms max latency.\n500 records sent, 100.0 records/sec (0.10 MB/sec), 1.1 ms avg latency, 4.0 ms max latency.\n500 records sent, 99.9 records/sec (0.10 MB/sec), 1.1 ms avg latency, 2.0 ms max latency.\n501 records sent, 100.1 records/sec (0.10 MB/sec), 1.1 ms avg latency, 2.0 ms max latency.\n501 records sent, 100.1 records/sec (0.10 MB/sec), 1.1 ms avg latency, 4.0 ms max latency.\n500 records sent, 99.9 records/sec (0.10 MB/sec), 1.1 ms avg latency, 3.0 ms max latency.\n10000 records sent, 99.993000 records/sec (0.10 MB/sec), 1.34 ms avg latency, 513.00 ms max latency, 1 ms 50th, 2 ms 95th, 2 ms 99th, 26 ms 99.9th.\nbash-5.1#\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n\n\nkafka-producer-perf-test.shèæ¬ä¸­è¿æä¸ä¸ªæææçåæ°print-metricsï¼æå®äºè¿ä¸ªåæ°æ¶ä¼å¨æµè¯å®æä¹åæå°å¾å¤ææ ä¿¡æ¯ï¼å¯¹å¾å¤æµè¯ä»»å¡èè¨å·æä¸å®åèä»·å¼ã\n\nbash-5.1# ./kafka-producer-perf-test.sh --topic topic-1 --num-records 10000 --record-size 1024 --throughput -1 --print-metrics --producer-props bootstrap.servers=localhost:9092 acks=1\n4906 records sent, 969.0 records/sec (0.95 MB/sec), 1854.0 ms avg latency, 4444.0 ms max latency.\n4875 records sent, 940.0 records/sec (0.92 MB/sec), 6912.0 ms avg latency, 9593.0 ms max latency.\n10000 records sent, 955.474871 records/sec (0.93 MB/sec), 4489.89 ms avg latency, 9807.00 ms max latency, 4449 ms 50th, 9150 ms 95th, 9600 ms 99th, 9807 ms 99.9th.\n\nMetric Name                                                                         Value\napp-info:commit-id:{client-id=producer-1}                                         : 839b886f9b732b15\napp-info:start-time-ms:{client-id=producer-1}                                     : 1698903621840\napp-info:version:{client-id=producer-1}                                           : 2.8.1\nkafka-metrics-count:count:{client-id=producer-1}                                  : 102.000\nproducer-metrics:batch-size-avg:{client-id=producer-1}                            : 15548.256\nproducer-metrics:batch-size-max:{client-id=producer-1}                            : 15556.000\nproducer-metrics:batch-split-rate:{client-id=producer-1}                          : 0.000\nproducer-metrics:batch-split-total:{client-id=producer-1}                         : 0.000\nproducer-metrics:buffer-available-bytes:{client-id=producer-1}                    : 33554432.000\nproducer-metrics:buffer-exhausted-rate:{client-id=producer-1}                     : 0.000\nproducer-metrics:buffer-exhausted-total:{client-id=producer-1}                    : 0.000\nproducer-metrics:buffer-total-bytes:{client-id=producer-1}                        : 33554432.000\nproducer-metrics:bufferpool-wait-ratio:{client-id=producer-1}                     : 0.000\nproducer-metrics:bufferpool-wait-time-total:{client-id=producer-1}                : 0.000\nproducer-metrics:compression-rate-avg:{client-id=producer-1}                      : 1.000\nproducer-metrics:connection-close-rate:{client-id=producer-1}                     : 0.000\nproducer-metrics:connection-close-total:{client-id=producer-1}                    : 0.000\nproducer-metrics:connection-count:{client-id=producer-1}                          : 2.000\nproducer-metrics:connection-creation-rate:{client-id=producer-1}                  : 0.049\nproducer-metrics:connection-creation-total:{client-id=producer-1}                 : 2.000\nproducer-metrics:failed-authentication-rate:{client-id=producer-1}                : 0.000\nproducer-metrics:failed-authentication-total:{client-id=producer-1}               : 0.000\nproducer-metrics:failed-reauthentication-rate:{client-id=producer-1}              : 0.000\nproducer-metrics:failed-reauthentication-total:{client-id=producer-1}             : 0.000\nproducer-metrics:incoming-byte-rate:{client-id=producer-1}                        : 989.038\nproducer-metrics:incoming-byte-total:{client-id=producer-1}                       : 39699.000\nproducer-metrics:io-ratio:{client-id=producer-1}                                  : 0.002\nproducer-metrics:io-time-ns-avg:{client-id=producer-1}                            : 74919.058\nproducer-metrics:io-wait-ratio:{client-id=producer-1}                             : 0.236\nproducer-metrics:io-wait-time-ns-avg:{client-id=producer-1}                       : 7621808.752\nproducer-metrics:io-waittime-total:{client-id=producer-1}                         : 9557748175.000\nproducer-metrics:iotime-total:{client-id=producer-1}                              : 93948499.000\nproducer-metrics:metadata-age:{client-id=producer-1}                              : 10.037\nproducer-metrics:network-io-rate:{client-id=producer-1}                           : 33.382\nproducer-metrics:network-io-total:{client-id=producer-1}                          : 1340.000\nproducer-metrics:outgoing-byte-rate:{client-id=producer-1}                        : 259220.658\nproducer-metrics:outgoing-byte-total:{client-id=producer-1}                       : 10404858.000\nproducer-metrics:produce-throttle-time-avg:{client-id=producer-1}                 : 0.000\nproducer-metrics:produce-throttle-time-max:{client-id=producer-1}                 : 0.000\nproducer-metrics:reauthentication-latency-avg:{client-id=producer-1}              : NaN\nproducer-metrics:reauthentication-latency-max:{client-id=producer-1}              : NaN\nproducer-metrics:record-error-rate:{client-id=producer-1}                         : 0.000\nproducer-metrics:record-error-total:{client-id=producer-1}                        : 0.000\nproducer-metrics:record-queue-time-avg:{client-id=producer-1}                     : 4419.091\nproducer-metrics:record-queue-time-max:{client-id=producer-1}                     : 9601.000\nproducer-metrics:record-retry-rate:{client-id=producer-1}                         : 0.000\nproducer-metrics:record-retry-total:{client-id=producer-1}                        : 0.000\nproducer-metrics:record-send-rate:{client-id=producer-1}                          : 250.275\nproducer-metrics:record-send-total:{client-id=producer-1}                         : 10000.000\nproducer-metrics:record-size-avg:{client-id=producer-1}                           : 1110.000\nproducer-metrics:record-size-max:{client-id=producer-1}                           : 1110.000\nproducer-metrics:records-per-request-avg:{client-id=producer-1}                   : 14.993\nproducer-metrics:request-latency-avg:{client-id=producer-1}                       : 73.406\nproducer-metrics:request-latency-max:{client-id=producer-1}                       : 270.000\nproducer-metrics:request-rate:{client-id=producer-1}                              : 16.691\nproducer-metrics:request-size-avg:{client-id=producer-1}                          : 15529.639\nproducer-metrics:request-size-max:{client-id=producer-1}                          : 15607.000\nproducer-metrics:request-total:{client-id=producer-1}                             : 670.000\nproducer-metrics:requests-in-flight:{client-id=producer-1}                        : 0.000\nproducer-metrics:response-rate:{client-id=producer-1}                             : 16.692\nproducer-metrics:response-total:{client-id=producer-1}                            : 670.000\nproducer-metrics:select-rate:{client-id=producer-1}                               : 30.991\nproducer-metrics:select-total:{client-id=producer-1}                              : 1254.000\nproducer-metrics:successful-authentication-no-reauth-total:{client-id=producer-1} : 0.000\nproducer-metrics:successful-authentication-rate:{client-id=producer-1}            : 0.000\nproducer-metrics:successful-authentication-total:{client-id=producer-1}           : 0.000\nproducer-metrics:successful-reauthentication-rate:{client-id=producer-1}          : 0.000\nproducer-metrics:successful-reauthentication-total:{client-id=producer-1}         : 0.000\nproducer-metrics:waiting-threads:{client-id=producer-1}                           : 0.000\nproducer-node-metrics:incoming-byte-rate:{client-id=producer-1, node-id=node--1}  : 14.823\nproducer-node-metrics:incoming-byte-rate:{client-id=producer-1, node-id=node-0}   : 978.407\nproducer-node-metrics:incoming-byte-total:{client-id=producer-1, node-id=node--1} : 595.000\nproducer-node-metrics:incoming-byte-total:{client-id=producer-1, node-id=node-0}  : 39104.000\nproducer-node-metrics:outgoing-byte-rate:{client-id=producer-1, node-id=node--1}  : 2.591\nproducer-node-metrics:outgoing-byte-rate:{client-id=producer-1, node-id=node-0}   : 260307.573\nproducer-node-metrics:outgoing-byte-total:{client-id=producer-1, node-id=node--1} : 104.000\nproducer-node-metrics:outgoing-byte-total:{client-id=producer-1, node-id=node-0}  : 10404754.000\nproducer-node-metrics:request-latency-avg:{client-id=producer-1, node-id=node--1} : NaN\nproducer-node-metrics:request-latency-avg:{client-id=producer-1, node-id=node-0}  : 73.406\nproducer-node-metrics:request-latency-max:{client-id=producer-1, node-id=node--1} : NaN\nproducer-node-metrics:request-latency-max:{client-id=producer-1, node-id=node-0}  : 270.000\nproducer-node-metrics:request-rate:{client-id=producer-1, node-id=node--1}        : 0.050\nproducer-node-metrics:request-rate:{client-id=producer-1, node-id=node-0}         : 16.712\nproducer-node-metrics:request-size-avg:{client-id=producer-1, node-id=node--1}    : 52.000\nproducer-node-metrics:request-size-avg:{client-id=producer-1, node-id=node-0}     : 15575.979\nproducer-node-metrics:request-size-max:{client-id=producer-1, node-id=node--1}    : 54.000\nproducer-node-metrics:request-size-max:{client-id=producer-1, node-id=node-0}     : 15607.000\nproducer-node-metrics:request-total:{client-id=producer-1, node-id=node--1}       : 2.000\nproducer-node-metrics:request-total:{client-id=producer-1, node-id=node-0}        : 668.000\nproducer-node-metrics:response-rate:{client-id=producer-1, node-id=node--1}       : 0.050\nproducer-node-metrics:response-rate:{client-id=producer-1, node-id=node-0}        : 16.714\nproducer-node-metrics:response-total:{client-id=producer-1, node-id=node--1}      : 2.000\nproducer-node-metrics:response-total:{client-id=producer-1, node-id=node-0}       : 668.000\nproducer-topic-metrics:byte-rate:{client-id=producer-1, topic=topic-1}            : 259559.179\nproducer-topic-metrics:byte-total:{client-id=producer-1, topic=topic-1}           : 10370687.000\nproducer-topic-metrics:compression-rate:{client-id=producer-1, topic=topic-1}     : 1.000\nproducer-topic-metrics:record-error-rate:{client-id=producer-1, topic=topic-1}    : 0.000\nproducer-topic-metrics:record-error-total:{client-id=producer-1, topic=topic-1}   : 0.000\nproducer-topic-metrics:record-retry-rate:{client-id=producer-1, topic=topic-1}    : 0.000\nproducer-topic-metrics:record-retry-total:{client-id=producer-1, topic=topic-1}   : 0.000\nproducer-topic-metrics:record-send-rate:{client-id=producer-1, topic=topic-1}     : 250.282\nproducer-topic-metrics:record-send-total:{client-id=producer-1, topic=topic-1}    : 10000.000\nbash-5.1#\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n87\n88\n89\n90\n91\n92\n93\n94\n95\n96\n97\n98\n99\n100\n101\n102\n103\n104\n105\n106\n107\n108\n109\n\n\næä»¬æ¥çä¸ä¸kafka-producer-perf-test.shèæ¬çè¾åºä¿¡æ¯ï¼\n\n10000 records sent, 955.474871 records/sec (0.93 MB/sec), 4489.89 ms avg latency, 9807.00 ms max latency, 4449 ms 50th, 9150 ms 95th, 9600 ms 99th, 9807 ms 99.9th.\n\n\n1\n\n\nrecords sentè¡¨ç¤ºæµè¯æ¶åéçæ¶æ¯æ»æ°ï¼records/secè¡¨ç¤ºä»¥æ¯ç§åéçæ¶æ¯æ°æ¥ç»è®¡ååéï¼æ¬å·ä¸­çMB/secè¡¨ç¤ºä»¥æ¯ç§åéçæ¶æ¯å¤§å°æ¥ç»è®¡ååéï¼æ³¨æè¿ä¸¤èççº¬åº¦ï¼avg latencyè¡¨ç¤ºæ¶æ¯å¤ççå¹³åèæ¶ï¼max latencyè¡¨ç¤ºæ¶æ¯å¤ççæå¤§èæ¶ï¼50th, 95th ,99thåå«è¡¨ç¤ºP50ï¼P95ï¼P99ææ ã\n\nkafka-consumer-perf-test.shèæ¬çä½¿ç¨ä¹æ¯è¾ç®åï¼ä¸é¢çç¤ºä¾æ¼ç¤ºäºå¶ä½¿ç¨æ¹å¼ï¼\n\nbash-5.1# ./kafka-consumer-perf-test.sh --topic topic-1 --messages 10000 --broker-list localhost:9092\nstart.time, end.time, data.consumed.in.MB, MB.sec, data.consumed.in.nMsg, nMsg.sec, rebalance.time.ms, fetch.time.ms, fetch.MB.sec, fetch.nMsg.sec\n2023-11-02 05:48:03:299, 2023-11-02 05:48:15:277, 9.8096, 0.8190, 10045, 838.6208, 1578, 10400, 0.9432, 965.8654\nbash-5.1#\n\n\n1\n2\n3\n4\n\n\nç¤ºä¾ä¸­åªæ¯ç®åçæ¶è´¹ä¸»é¢topic-1ä¸­ç1ä¸æ¡æ¶æ¯ãèæ¬ä¸­è¿åå«äºå¾å¤å¶ä»çåæ°ãè¾åºç»æä¸­åå«äºå¤é¡¹ä¿¡æ¯ï¼å¯¹åºå³ç³»å¦ä¸ï¼\n\nSTART.TIME   END.TIME   DATA.CONSUMED.IN.MB   NMSG.SEC        REBALANCE.TIME.MS   FETCH.TIME.MS   FETCH.MB.SEC   FETCH.NMSG.SEC\nå¼å§è¿è¡æ¶é´       ç»ææ¶é´       æ¶è´¹çæ¶æ¯æ»é               ææ¶æ¯ä¸ªæ°è®¡ç®æ¶è´¹çååé   åå¹³è¡¡çæ¶é´              æåæ¶æ¯çæç»­æ¶é´       æ¯ç§æåæ¶æ¯çå­èæ°     æ¯ç§æåæ¶æ¯çä¸ªæ°\n\nå¶ä¸­fetch.time.ms=end.time-start.time-rebalance.time.msã\n\n----------------------------------------\n\n\n# 2.ååºæ°è¶å¤ååéå°±è¶é«ä¹\n\nååºæ¯kafkaä¸­æå°çå¹¶è¡æä½ååï¼å¯¹çäº§èèè¨ï¼æ¯ä¸ä¸ªååºçæ°æ®åå¥å®å¨æ¯å¯ä»¥å¹¶è¡åçï¼å¯¹æ¶è´¹èèè¨ï¼kafkaåªåè®¸åä¸ªååºä¸­çæ¶æ¯è¢«ä¸ä¸ªæ¶è´¹èçº¿ç¨æ¶è´¹ï¼ä¸ä¸ªæ¶è´¹èçæ¶è´¹å¹¶è¡åº¦å®å¨ä¾èµäºææ¶è´¹çååºæ°ãå¦æ­¤çæ¥ï¼å¦æä¸ä¸ªä¸»é¢ä¸­çååºæ°è¶å¤ï¼çè®ºä¸è½è¾¾å°çååéå°±è¶å¤§ï¼ä½æ¯å®éä¸å¹¶ä¸æ¯è¿æ ·ã\n\né¦ååå«åå»ºååºæ°ä¸º1ï¼20,50ï¼100ï¼200ï¼500,1000çä¸»é¢ï¼å¯¹åºçä¸»é¢åç§°åå«ä¸ºtopic-1,topic-20,topic-50,topic-100,topic-200,topic-500,topic-1000ï¼ææä¸»é¢çå¯æ¬å å­é½è®¾ç½®ä¸º1ã\n\næ¶æ¯ä¸­é´ä»¶çæ§è½ä¸è¬æ¯æååéãæå¼ç¡¬ä»¶èµæºçå½±åï¼æ¶æ¯åå¥çååéè¿ä¼æ¶å°æ¶æ¯å¤§å°ï¼æ¶æ¯åç¼©æ¹å¼ï¼æ¶æ¯åéæ¹å¼ï¼åæ­¥/å¼æ­¥ï¼ï¼æ¶æ¯ç¡®è®¤ç±»åï¼acksï¼ï¼å¯æ¬å å­ç­åæ°å½±åï¼ææçæµè¯é¤äºä¸»é¢çååºæ°ä¸åï¼å¶ä½çå ç´ é½ä¿æç¸åã\n\nä½¿ç¨kafka-producer-perf-test.shèæ¬åå«åè¿äºä¸»é¢ä¸­åé100ä¸æ¡æ¶æ¯ä½å¤§å°ä¸º1kbçæ¶æ¯ï¼æµè¯å½ä»¤å¦ä¸ï¼\n\n./kafka-producer-perf-test.sh --topic topic-xxx --num-records 1000000 --records-size 1024 --throughput -1 --producer-props bootstrap.servers=localhost:9092 acks=1\n\n\n1\n\n\nå¯¹äºçäº§èæµè¯çç»æï¼ä¸åçç¡¬ä»¶ç¯å¢ï¼çè³ä¸åæ¹æ¬¡çæµè¯å¾å°çæµè¯ç»æä¹ä¸ä¼å®å¨ç¸åï¼ä½æ¯æ»ä½è¶å¿æ¯åååéã\n\nååºæ°ä¸º1æ¶ååéæä½ï¼éçååºæ°çå¢é¿ï¼ç¸åºçååéä¹è·çä¸æ¶¨ãä¸æ¦ååºæ°è¶è¿äºæä¸ªéå¼ä¹åï¼æ´ä½çååéæ¯ä¸å¢åéçãä¹å°±æ¯è¯´å¹¶ä¸æ¯ååºæ°è¶å¤ååéè¶å¤§ãè¿éçååºæ°ä¸´çéå¼éå¯¹ä¸åçæµè¯ç¯å¢ä¹ä¼è¡¨ç°åºä¸åçç»æï¼å®éåºç¨ä¸­å¯ä»¥éè¿ç±»ä¼¼çæ¡ä¾æ¾å°ä¸ä¸ªåççä¸´çå¼åºé´ã\n\nå¯¹æ¶æ¯æ¶è´¹èèè¨åæ ·æååéæ¹é¢çèéãä½¿ç¨kafka-consumer-perf-test.shèæ¬åå«æ¶è´¹è¿äºä¸»é¢ä¸­ç100wæ¡æ¶æ¯ï¼å¯¹åºçæµè¯å½ä»¤å¦ä¸ï¼\n\n./kafka-consumer-perf-test.sh --topic topic-xxx --messages 1000000 --broker-list localhost:9092\n\n\n1\n\n\næ¶è´¹èçæµè¯ç»æä¹åçäº§èç±»ä¼¼ï¼æ»ä½è¶å¿ä¿æåååéãéçååºæ°çå¢å ï¼ç¸åºçååéä¹ä¼å¢é¿ï¼ä¸æ¦ååºæ°è¶è¿äºæä¸ªéå¼ï¼æ´ä½çååéæ¯ä¸ååéçï¼åæ ·è¯´æäºååºæ°è¶å¤å¹¶ä¸ä¼è®©ååéä¸ç´å¢é¿ã\n\n----------------------------------------\n\n\n# 3.ååºæ°çä¸é\n\nä¸å³çå¢å ååºæ°å¹¶ä¸è½ä½¿ååéä¸ç´å¾å°æåï¼å¹¶ä¸ååºæ°ä¹å¹¶ä¸è½ä¸ç´å¢å ï¼å¦æè¶è¿é»è®¤çéç½®å¼ï¼ä¼å¼èµ·kafkaè¿ç¨çå´©æºãå°è¯å¨kafkaä¸æ§è¡å¦ä¸å½ä»¤ï¼\n\n./kafka-topics.sh --zookeeper kafka-zookeeper:2181/kafka --create --topic topic-bomb --replication-factor 1 --partitions 10000\n\n\n1\n\n\næ§è¡å®æåä½¿ç¨jpså½ä»¤æèps -aux|grep kafkaå½ä»¤æ£æ¥kafkaè¿ç¨æ¯å¦è¿å­å¨ãä¸è¬æåµä¸ï¼ä¼åç°åæ¬è¿è¡å®å¥½çkafkaè¿ç¨å·²ç»å´©æºãåå»ºè¿ä¹å¤ååºæ¯ä¸æ¯å ä¸ºåå­ä¸è¶³èå¼èµ·çè¿ç¨å´©æºï¼å¶å®ä¸æ¯ï¼åå»ºè¿äºååºèå¼èµ·çåå­å¢é¿kafkaå®å¨coverçä½ã\n\nä¸ºäºåæçå®åå ï¼æä»¬å¯ä»¥æå¼kafkaçæå¡æ¥å¿æä»¶ï¼$KAFKA_HOME/logs/server.logï¼æ¥ææ¥é®é¢ï¼ä¼åç°æå¡æ¥å¿ä¸­åºç°å¤§éå¼å¸¸ï¼\n\njava.io.Exception:Too many open files\n\n\n1\n\n\nå¼å¸¸ä¸­æå³é®çä¿¡æ¯æ¯Too many open filesï¼è¿æ¯ä¸ç§å¸¸è§çLinuxç³»ç»éè¯¯ï¼éå¸¸æå³çæä»¶æè¿°ç¬¦ä¸è¶³ï¼ä»ä¸è¬åçå¨åå»ºè¿ç¨ï¼åå»ºSocketï¼æå¼æä»¶è¿äºåºæ¯ä¸ãå¨Linuxç³»ç»é»è®¤è®¾ç½®ä¸ï¼è¿ä¸ªæä»¶æè¿°ç¬¦çä¸ªæ°ä¸æ¯å¾å¤ï¼éè¿ä¸é¢çå½ä»¤å¯ä»¥æ¥çï¼\n\n[root@VM-24-3-centos ~]# ulimit -n\n1024\n[root@VM-24-3-centos ~]# ulimit -Sn \n1024\n[root@VM-24-3-centos ~]# ulimit -Hn\n4096\n\n\n1\n2\n3\n4\n5\n6\n\n\nSè¡¨ç¤ºå½åè½¯ä»¶éå¶ Hè¡¨ç¤ºç¡¬éå¶ãç¡¬éå¶è®¾å®ä¹åä¸è½åæ·»å ï¼èè½¯éå¶åå¯ä»¥å¢å å°ç¡¬éå¶è§å®çå¼ã\n\næ¥ä¸æ¥æä»¬æ¥éªè¯kafkaè¿ç¨çå´©æºæ¯å¦æ¯ç±äºæä»¶æè¿°ç¬¦ã\n\né¦åéè¿pså½ä»¤æ¥çkafkaè¿ç¨çå½åpidï¼\n\nroot@7b4579bd9e87:/# ps -aux | grep kafka\nroot         1 10.6  2.2 7871756 371664 ?   ....\n\n\n1\n2\n\n\næ¥çå½åkafkaè¿ç¨æå ç¨çæä»¶æè¿°ç¬¦ä¸ªæ°ï¼\n\nls /proc/1/fd | wc -l\n\n\n1\n\n\nå¨æ°å»ºä¸ä¸ªåªæä¸ä¸ªååºçä¸»é¢ï¼å¹¶æ¥çkafkaè¿ç¨æå ç¨çæä»¶æè¿°ç¬¦çä¸ªæ°ï¼\n\nroot@7b4579bd9e87:/opt/kafka_2.13-2.8.1/bin# ./kafka-topics.sh --zookeeper kafka-zookeeper:2181/kafka --create --topic topic-bomb-1 --replication-factor 1 --partitions 1\nCreated topic topic-bomb-1.\nroot@7b4579bd9e87:/opt/kafka_2.13-2.8.1/bin# ls /proc/1/fd | wc -l\n148\nroot@7b4579bd9e87:/opt/kafka_2.13-2.8.1/bin#\n\n\n1\n2\n3\n4\n5\n\n\nå¯ä»¥çå°å¢å äºä¸ä¸ªååºï¼å¯¹åºçä¹åªå¢å äºä¸ä¸ªæä»¶æè¿°ç¬¦ãä¹åæä»¬éè¿ulimitå½ä»¤å¯ä»¥çå°è½¯éå¶æ¯1024ï¼æä»¬åå»ºä¸ä¸ªå·æ829ä¸ªååºçä¸»é¢ï¼\n\nroot@7b4579bd9e87:/opt/kafka_2.13-2.8.1/bin# ./kafka-topics.sh --zookeeper kafka-zookeeper:2181/kafka --create --topic topic-bomb-2 --replication-factor 1 --partitions 829\n\n\n1\n\n\næ­¤æ¶kafkaè¿ç¨å ç¨äº1024ä¸ªæä»¶æè¿°ç¬¦ï¼å¹¶ä¸è¿è¡å®å¥½ãè¿æ¶æä»¬è¿å¯ä»¥èæ³å°ç¡¬éå¶4096è¿ä¸ªå³é®æ°å­ï¼æä»¬å¨åå»ºä¸ä¸ªåå«3071ä¸ªååºçä¸»é¢ï¼æ­¤æ¶å ç¨4095ä¸ªæä»¶æè¿°ç¬¦ã\n\nroot@7b4579bd9e87:/opt/kafka_2.13-2.8.1/bin# ./kafka-topics.sh --zookeeper kafka-zookeeper:2181/kafka --create --topic topic-bomb-3 --replication-factor 1 --partitions 3071\n\n\n1\n\n\nkafkaè¿ç¨ä¾æ§å®å¥½ï¼æä»¶æè¿°ç¬¦å ç¨ä¸º4095ï¼æåæä»¬å¨åå»ºä¸ä¸ªåªæä¸ä¸ªååºçä¸»é¢ï¼\n\nroot@7b4579bd9e87:/opt/kafka_2.13-2.8.1/bin# ./kafka-topics.sh --zookeeper kafka-zookeeper:2181/kafka --create --topic topic-bomb-4 --replication-factor 1 --partitions 1\n\n\n1\n\n\næ­¤æ¶kafkaè¿ç¨å·²ç»å´©æºï¼æ¥çè¿ç¨å·æ¶å·²ç»æ²¡æç¸å³ä¿¡æ¯ï¼æ¥çkafkaæ¥å¿è¿ä¼åç°åé¢çå¼å¸¸Too many open files ï¼è¡¨æå·²ç»è¾¾å°ä¸éã\n\nå¦ä½é¿åè¿ç§å¼å¸¸æåµï¼å¯¹äºä¸ä¸ªé«å¹¶åï¼é«æ§è½çåºç¨æ¥è¯´ï¼1024æè4096å¤ªå°äºï¼å¯ä»¥è®¾ç½®æ65535ï¼è¿æ ·è¶³ä»¥åºå¯¹å¤§å¤æ°çæåµã\n\nulimit -n 65535\n\n\n1\n\n\nlimits.confæä»¶ä¿®æ¹ä¹åéè¦éå¯æè½çæãlimits.confæä»¶ä¸ulimitå½ä»¤çåºå«å¨äºåèéå¯¹ææç¨æ·ï¼èä¸å¨ä»»ä½shellé½çæï¼åèåªéå¯¹ç¹å®ç¨æ·çå½åshellã\n\n----------------------------------------\n\n\n# 4.èéå ç´ \n\nå¦ä½éæ©åéçååºæ°ï¼çå·ä½æåµèå®ã\n\n 1. ä»ååéæ¹é¢èèï¼å¢å åéçååºæ°å¯ä»¥å¨ä¸å®ç¨åº¦ä¸æåæ´ä½çååéï¼ä½è¶è¿å¯¹åºçéå¼ä¹åååéä¸ååéãå¦æåºç¨å¯¹ååéæä¸å®ç¨åº¦ä¸çè¦æ±ï¼åå»ºè®®å¨åå¸ä¹åååæµã\n 2. æäºåºç¨åºæ¯ä¼è¦æ±ä¸»é¢ä¸­çæ¶æ¯é½è½ä¿è¯é¡ºåºæ§ï¼è¿ç§æåµä¸å¨åå»ºä¸»é¢æ¶å¯ä»¥è®¾å®ååºæ°ä¸º1ï¼éè¿ååºæåºæ§çè¿ä¸ç¹æ§æ¥è¾¾å°ä¸»é¢æåºæ§çç®çã\n\n> å½ç¶ååºä¹ä¸è½ä¸å³çå¢å ï¼ååºæ°ä¼å ç¨æä»¶æè¿°ç¬¦ï¼èä¸ä¸ªè¿ç¨æè½æ¯éçæä»¶æè¿°ç¬¦æ¯æéçï¼è¿ä¹æ¯éå¸¸æè¯´çæä»¶å¥æå¼éãå¨éæ©åéçååºæ°ä¹åï¼æå¥½å¨èéä¸ä¸å½åkafkaè¿ç¨ä¸­å·²ç»ä½¿ç¨çæä»¶æè¿°ç¬¦ä¸ªæ°ã\n\n3.ååºæ°çå¤å°è¿ä¼å½±åç³»ç»å¯ç¨æ§ãkafkaéè¿å¤å¯æ¬æºå¶å®ç°éç¾¤é«å¯ç¨ï¼æ¯ä¸ªååºé½ä¼æä¸å°å¤ä¸ªå¯æ¬ï¼æ¯ä¸ªå¯æ¬åå«å­å¨äºä¸åçbrokerèç¹ä¸ï¼å¹¶ä¸åªæleaderå¯æ¬å¯¹å¤æä¾æå¡ãå¨kafkaéç¾¤çåé¨ï¼ææçå¯æ¬é½éç¨èªå¨åçæ¹å¼è¿è¡ç®¡çï¼å¹¶ç¡®ä¿ææå¯æ¬ä¸­çæ°æ®é½è½ä¿æä¸å®ç¨åº¦ä¸çä¸åãå½brokeråçæéæ¶ï¼leaderèç¹ä¸çææååºå°ææ¶å¤äºä¸å¯ç¨ç¶æï¼æ­¤æ¶kafkaä¼èªå¨å¨å¶ä»followerå¯æ¬ä¹é´éä¸¾æ°çleaderç¨äºæ¥æ¶å¤é¨å®¢æ·ç«¯è¯·æ±ï¼æ´ä¸ªè¿ç¨ç±kafkaæ§å¶å¨è´è´£å®æï¼ååºå¨è¿è¡leaderè§è²åæ¢è¿ç¨ä¸­ä¼åå¾ä¸å¯ç¨ï¼ä¸è¿å¯¹äºåä¸ªååºèè¨è¿ä¸ªè¿ç¨éå¸¸ç­æï¼å¯¹ç¨æ·å¯ä»¥å¿½ç¥ä¸è®¡ãå¦æéç¾¤ä¸­çæä¸ªbrokerèç¹å®æºï¼é£ä¹ä¼æå¤§éååºåæ¶è¿è¡leaderè§è²åæ¢ï¼è¿ä¸ªåæ¢è¿ç¨ä¼ç¸å¯¹è¾é¿ï¼å¹¶ä¸å¨è¿ä¸ªæ¶é´çªå£åè¿äºååºä¼åå¾ä¸å¯ç¨ã\n\n> ååºæ°è¶å¤ä¹ä¼è®©kafkaçæ­£å¸¸å¯å¨åå³é­çèæ¶åå¾è¶é¿ï¼ä¸æ­¤åæ¶ï¼ä¸»é¢çååºæ°è¶å¤ä¸ä»ä¼å¢å æ¥å¿æ¸çèæ¶ï¼èä¸å¨è¢«å é¤æ¶ä¹ä¼èè´¹æ´å¤çæ¶é´ãå¯¹äºæ§çæ¬çå®¢æ·ç«¯èè¨ï¼ååºæ°å¤ä¹ä¼å¢å ä»ä»¬çå¼éï¼ä¸è¿è¿ä¸ç¹å¨æ°çæ¬çå®¢æ·ç«¯å¾å°äºææçæå¶ã\n\nå¦ä½éæ©åéçååºæ°ï¼\n\nä¸è¬æåµä¸ï¼æ ¹æ®é¢ä¼°çååéä»¥åæ¯å¦ä¸keyç¸å³çè§åæ¥è®¾å®ååºæ°å³å¯ï¼åæå¯ä»¥éè¿å¢å ååºæ°ï¼å¢å brokeræèååºéåéç­ææ®µæ¥è¿è¡æ¹è¿ãå¦æä¸å®è¦ä¸ä¸ªååï¼å»ºè®®å°åæ°è®¾ç½®ä¸ºéç¾¤ä¸­brokerçåæ°ï¼è³äºåæ°çéå®å¯ä»¥åèé¢ä¼°çååéãä¸è¿å¦æéç¾¤ä¸­çbrokerèç¹å¾å¤ï¼è¿ç§ååä¹ä¸éç¨ï¼å¨éå®ååºæ°æ¶è¿ä¸æ­¥å¯ä»¥å¼å¥æºæ¶ç­åèå ç´ ã\n\n----------------------------------------",normalizedContent:"# 1.æ§è½æµè¯å·¥å·\n\næ¬èè¦è®¨è®ºçæ§è½æµè¯å·¥å·æ¯kafkaæ¬èº«æä¾ççäº§èæ§è½æµè¯ç kafka-producer-perf-test.shåç¨äºæ¶è´¹èæ§è½æµè¯çkafka-consumer-perf-test.shã\n\né¦åéè¿ä¸ä¸ªç¤ºä¾æ¥äºè§£ä¸ä¸kafka-producer-perf-test.shèæ¬çä½¿ç¨ãæä»¬åä¸ä¸ªåªæä¸ä¸ªååºåä¸ä¸ªå¯æ¬çä¸»é¢topic-1ä¸­åé1ä¸æ¡æ¶æ¯ï¼å¹¶ä¸æ¯æ¡æ¶æ¯å¤§å°ä¸º1024bï¼çäº§èå¯¹åºçacksåæ°ä¸º1ã\n\nbash-5.1# ./kafka-producer-perf-test.sh --topic topic-1 --num-records 10000 --record-size 1024 --throughput -1 --producer-props bootstrap.servers=localhost:9092 acks=1\n4756 records sent, 913.4 records/sec (0.89 mb/sec), 2026.3 ms avg latency, 4547.0 ms max latency.\n4740 records sent, 942.2 records/sec (0.92 mb/sec), 6926.3 ms avg latency, 9514.0 ms max latency.\n10000 records sent, 932.227091 records/sec (0.91 mb/sec), 4734.96 ms avg latency, 9983.00 ms max latency, 4767 ms 50th, 9513 ms 95th, 9777 ms 99th, 9982 ms 99.9th.\nbash-5.1#\n\n\n1\n2\n3\n4\n5\n\n\nä¸é¢å¨ä½¿ç¨kafka-producer-perf-test.shèæ¬çæ¶åå¤äºä¸ä¸ªåæ°ï¼å¶ä¸­topicç¨æ¥æå®çäº§èåéæ¶æ¯çç®æ ä¸»é¢ï¼num-recordsç¨æ¥æå®åéæ¶æ¯çæ»æ¡æ°ï¼record-sizeç¨æ¥è®¾ç½®æ¯æ¡æ¶æ¯çå­èæ°ï¼produceer-propsåæ°ç¨æ¥æå®çäº§èçéç½®ï¼å¯ä»¥åæ¶æå®å¤ç»éç½®ï¼åç»éç½®ä¹é´ç¨ç©ºæ ¼åéï¼ä¸producer-propsåæ°å¯¹åºçè¿æä¸ä¸ªproducer.configåæ°ï¼ä»ç¨æ¥æå®çäº§èçéç½®æä»¶ï¼throughputåæ°ç¨æ¥è¿è¡éæµæ§å¶ï¼å½è®¾å®çå¼å°äº0æ¶ä¸éæµï¼å½è®¾å®çå¼å¤§äº0æ¶ï¼å½åéçååéå¤§äºè¯¥å¼æ¶ä¼è¢«éæµé»å¡ä¸æ®µæ¶é´ãä¸é¢çç¤ºä¾ä¸­è®¾ç½®äºthroughoutçå¼ä¸º100å­èï¼\n\nbash-5.1# ./kafka-producer-perf-test.sh --topic topic-1 --num-records 10000 --record-size 1024 --throughput 100 --producer-props bootstrap.servers=localhost:9092 acks=1\n502 records sent, 100.3 records/sec (0.10 mb/sec), 4.9 ms avg latency, 513.0 ms max latency.\n501 records sent, 100.0 records/sec (0.10 mb/sec), 1.3 ms avg latency, 2.0 ms max latency.\n500 records sent, 99.9 records/sec (0.10 mb/sec), 1.2 ms avg latency, 3.0 ms max latency.\n501 records sent, 100.2 records/sec (0.10 mb/sec), 1.2 ms avg latency, 3.0 ms max latency.\n500 records sent, 100.0 records/sec (0.10 mb/sec), 1.2 ms avg latency, 5.0 ms max latency.\n500 records sent, 100.0 records/sec (0.10 mb/sec), 1.2 ms avg latency, 4.0 ms max latency.\n500 records sent, 100.0 records/sec (0.10 mb/sec), 1.2 ms avg latency, 4.0 ms max latency.\n501 records sent, 100.1 records/sec (0.10 mb/sec), 1.1 ms avg latency, 4.0 ms max latency.\n500 records sent, 100.0 records/sec (0.10 mb/sec), 1.1 ms avg latency, 4.0 ms max latency.\n501 records sent, 100.0 records/sec (0.10 mb/sec), 1.2 ms avg latency, 5.0 ms max latency.\n500 records sent, 99.9 records/sec (0.10 mb/sec), 1.2 ms avg latency, 5.0 ms max latency.\n501 records sent, 100.1 records/sec (0.10 mb/sec), 1.1 ms avg latency, 2.0 ms max latency.\n501 records sent, 100.0 records/sec (0.10 mb/sec), 1.1 ms avg latency, 5.0 ms max latency.\n501 records sent, 100.1 records/sec (0.10 mb/sec), 1.1 ms avg latency, 3.0 ms max latency.\n500 records sent, 100.0 records/sec (0.10 mb/sec), 1.1 ms avg latency, 4.0 ms max latency.\n500 records sent, 99.9 records/sec (0.10 mb/sec), 1.1 ms avg latency, 2.0 ms max latency.\n501 records sent, 100.1 records/sec (0.10 mb/sec), 1.1 ms avg latency, 2.0 ms max latency.\n501 records sent, 100.1 records/sec (0.10 mb/sec), 1.1 ms avg latency, 4.0 ms max latency.\n500 records sent, 99.9 records/sec (0.10 mb/sec), 1.1 ms avg latency, 3.0 ms max latency.\n10000 records sent, 99.993000 records/sec (0.10 mb/sec), 1.34 ms avg latency, 513.00 ms max latency, 1 ms 50th, 2 ms 95th, 2 ms 99th, 26 ms 99.9th.\nbash-5.1#\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n\n\nkafka-producer-perf-test.shèæ¬ä¸­è¿æä¸ä¸ªæææçåæ°print-metricsï¼æå®äºè¿ä¸ªåæ°æ¶ä¼å¨æµè¯å®æä¹åæå°å¾å¤ææ ä¿¡æ¯ï¼å¯¹å¾å¤æµè¯ä»»å¡èè¨å·æä¸å®åèä»·å¼ã\n\nbash-5.1# ./kafka-producer-perf-test.sh --topic topic-1 --num-records 10000 --record-size 1024 --throughput -1 --print-metrics --producer-props bootstrap.servers=localhost:9092 acks=1\n4906 records sent, 969.0 records/sec (0.95 mb/sec), 1854.0 ms avg latency, 4444.0 ms max latency.\n4875 records sent, 940.0 records/sec (0.92 mb/sec), 6912.0 ms avg latency, 9593.0 ms max latency.\n10000 records sent, 955.474871 records/sec (0.93 mb/sec), 4489.89 ms avg latency, 9807.00 ms max latency, 4449 ms 50th, 9150 ms 95th, 9600 ms 99th, 9807 ms 99.9th.\n\nmetric name                                                                         value\napp-info:commit-id:{client-id=producer-1}                                         : 839b886f9b732b15\napp-info:start-time-ms:{client-id=producer-1}                                     : 1698903621840\napp-info:version:{client-id=producer-1}                                           : 2.8.1\nkafka-metrics-count:count:{client-id=producer-1}                                  : 102.000\nproducer-metrics:batch-size-avg:{client-id=producer-1}                            : 15548.256\nproducer-metrics:batch-size-max:{client-id=producer-1}                            : 15556.000\nproducer-metrics:batch-split-rate:{client-id=producer-1}                          : 0.000\nproducer-metrics:batch-split-total:{client-id=producer-1}                         : 0.000\nproducer-metrics:buffer-available-bytes:{client-id=producer-1}                    : 33554432.000\nproducer-metrics:buffer-exhausted-rate:{client-id=producer-1}                     : 0.000\nproducer-metrics:buffer-exhausted-total:{client-id=producer-1}                    : 0.000\nproducer-metrics:buffer-total-bytes:{client-id=producer-1}                        : 33554432.000\nproducer-metrics:bufferpool-wait-ratio:{client-id=producer-1}                     : 0.000\nproducer-metrics:bufferpool-wait-time-total:{client-id=producer-1}                : 0.000\nproducer-metrics:compression-rate-avg:{client-id=producer-1}                      : 1.000\nproducer-metrics:connection-close-rate:{client-id=producer-1}                     : 0.000\nproducer-metrics:connection-close-total:{client-id=producer-1}                    : 0.000\nproducer-metrics:connection-count:{client-id=producer-1}                          : 2.000\nproducer-metrics:connection-creation-rate:{client-id=producer-1}                  : 0.049\nproducer-metrics:connection-creation-total:{client-id=producer-1}                 : 2.000\nproducer-metrics:failed-authentication-rate:{client-id=producer-1}                : 0.000\nproducer-metrics:failed-authentication-total:{client-id=producer-1}               : 0.000\nproducer-metrics:failed-reauthentication-rate:{client-id=producer-1}              : 0.000\nproducer-metrics:failed-reauthentication-total:{client-id=producer-1}             : 0.000\nproducer-metrics:incoming-byte-rate:{client-id=producer-1}                        : 989.038\nproducer-metrics:incoming-byte-total:{client-id=producer-1}                       : 39699.000\nproducer-metrics:io-ratio:{client-id=producer-1}                                  : 0.002\nproducer-metrics:io-time-ns-avg:{client-id=producer-1}                            : 74919.058\nproducer-metrics:io-wait-ratio:{client-id=producer-1}                             : 0.236\nproducer-metrics:io-wait-time-ns-avg:{client-id=producer-1}                       : 7621808.752\nproducer-metrics:io-waittime-total:{client-id=producer-1}                         : 9557748175.000\nproducer-metrics:iotime-total:{client-id=producer-1}                              : 93948499.000\nproducer-metrics:metadata-age:{client-id=producer-1}                              : 10.037\nproducer-metrics:network-io-rate:{client-id=producer-1}                           : 33.382\nproducer-metrics:network-io-total:{client-id=producer-1}                          : 1340.000\nproducer-metrics:outgoing-byte-rate:{client-id=producer-1}                        : 259220.658\nproducer-metrics:outgoing-byte-total:{client-id=producer-1}                       : 10404858.000\nproducer-metrics:produce-throttle-time-avg:{client-id=producer-1}                 : 0.000\nproducer-metrics:produce-throttle-time-max:{client-id=producer-1}                 : 0.000\nproducer-metrics:reauthentication-latency-avg:{client-id=producer-1}              : nan\nproducer-metrics:reauthentication-latency-max:{client-id=producer-1}              : nan\nproducer-metrics:record-error-rate:{client-id=producer-1}                         : 0.000\nproducer-metrics:record-error-total:{client-id=producer-1}                        : 0.000\nproducer-metrics:record-queue-time-avg:{client-id=producer-1}                     : 4419.091\nproducer-metrics:record-queue-time-max:{client-id=producer-1}                     : 9601.000\nproducer-metrics:record-retry-rate:{client-id=producer-1}                         : 0.000\nproducer-metrics:record-retry-total:{client-id=producer-1}                        : 0.000\nproducer-metrics:record-send-rate:{client-id=producer-1}                          : 250.275\nproducer-metrics:record-send-total:{client-id=producer-1}                         : 10000.000\nproducer-metrics:record-size-avg:{client-id=producer-1}                           : 1110.000\nproducer-metrics:record-size-max:{client-id=producer-1}                           : 1110.000\nproducer-metrics:records-per-request-avg:{client-id=producer-1}                   : 14.993\nproducer-metrics:request-latency-avg:{client-id=producer-1}                       : 73.406\nproducer-metrics:request-latency-max:{client-id=producer-1}                       : 270.000\nproducer-metrics:request-rate:{client-id=producer-1}                              : 16.691\nproducer-metrics:request-size-avg:{client-id=producer-1}                          : 15529.639\nproducer-metrics:request-size-max:{client-id=producer-1}                          : 15607.000\nproducer-metrics:request-total:{client-id=producer-1}                             : 670.000\nproducer-metrics:requests-in-flight:{client-id=producer-1}                        : 0.000\nproducer-metrics:response-rate:{client-id=producer-1}                             : 16.692\nproducer-metrics:response-total:{client-id=producer-1}                            : 670.000\nproducer-metrics:select-rate:{client-id=producer-1}                               : 30.991\nproducer-metrics:select-total:{client-id=producer-1}                              : 1254.000\nproducer-metrics:successful-authentication-no-reauth-total:{client-id=producer-1} : 0.000\nproducer-metrics:successful-authentication-rate:{client-id=producer-1}            : 0.000\nproducer-metrics:successful-authentication-total:{client-id=producer-1}           : 0.000\nproducer-metrics:successful-reauthentication-rate:{client-id=producer-1}          : 0.000\nproducer-metrics:successful-reauthentication-total:{client-id=producer-1}         : 0.000\nproducer-metrics:waiting-threads:{client-id=producer-1}                           : 0.000\nproducer-node-metrics:incoming-byte-rate:{client-id=producer-1, node-id=node--1}  : 14.823\nproducer-node-metrics:incoming-byte-rate:{client-id=producer-1, node-id=node-0}   : 978.407\nproducer-node-metrics:incoming-byte-total:{client-id=producer-1, node-id=node--1} : 595.000\nproducer-node-metrics:incoming-byte-total:{client-id=producer-1, node-id=node-0}  : 39104.000\nproducer-node-metrics:outgoing-byte-rate:{client-id=producer-1, node-id=node--1}  : 2.591\nproducer-node-metrics:outgoing-byte-rate:{client-id=producer-1, node-id=node-0}   : 260307.573\nproducer-node-metrics:outgoing-byte-total:{client-id=producer-1, node-id=node--1} : 104.000\nproducer-node-metrics:outgoing-byte-total:{client-id=producer-1, node-id=node-0}  : 10404754.000\nproducer-node-metrics:request-latency-avg:{client-id=producer-1, node-id=node--1} : nan\nproducer-node-metrics:request-latency-avg:{client-id=producer-1, node-id=node-0}  : 73.406\nproducer-node-metrics:request-latency-max:{client-id=producer-1, node-id=node--1} : nan\nproducer-node-metrics:request-latency-max:{client-id=producer-1, node-id=node-0}  : 270.000\nproducer-node-metrics:request-rate:{client-id=producer-1, node-id=node--1}        : 0.050\nproducer-node-metrics:request-rate:{client-id=producer-1, node-id=node-0}         : 16.712\nproducer-node-metrics:request-size-avg:{client-id=producer-1, node-id=node--1}    : 52.000\nproducer-node-metrics:request-size-avg:{client-id=producer-1, node-id=node-0}     : 15575.979\nproducer-node-metrics:request-size-max:{client-id=producer-1, node-id=node--1}    : 54.000\nproducer-node-metrics:request-size-max:{client-id=producer-1, node-id=node-0}     : 15607.000\nproducer-node-metrics:request-total:{client-id=producer-1, node-id=node--1}       : 2.000\nproducer-node-metrics:request-total:{client-id=producer-1, node-id=node-0}        : 668.000\nproducer-node-metrics:response-rate:{client-id=producer-1, node-id=node--1}       : 0.050\nproducer-node-metrics:response-rate:{client-id=producer-1, node-id=node-0}        : 16.714\nproducer-node-metrics:response-total:{client-id=producer-1, node-id=node--1}      : 2.000\nproducer-node-metrics:response-total:{client-id=producer-1, node-id=node-0}       : 668.000\nproducer-topic-metrics:byte-rate:{client-id=producer-1, topic=topic-1}            : 259559.179\nproducer-topic-metrics:byte-total:{client-id=producer-1, topic=topic-1}           : 10370687.000\nproducer-topic-metrics:compression-rate:{client-id=producer-1, topic=topic-1}     : 1.000\nproducer-topic-metrics:record-error-rate:{client-id=producer-1, topic=topic-1}    : 0.000\nproducer-topic-metrics:record-error-total:{client-id=producer-1, topic=topic-1}   : 0.000\nproducer-topic-metrics:record-retry-rate:{client-id=producer-1, topic=topic-1}    : 0.000\nproducer-topic-metrics:record-retry-total:{client-id=producer-1, topic=topic-1}   : 0.000\nproducer-topic-metrics:record-send-rate:{client-id=producer-1, topic=topic-1}     : 250.282\nproducer-topic-metrics:record-send-total:{client-id=producer-1, topic=topic-1}    : 10000.000\nbash-5.1#\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n87\n88\n89\n90\n91\n92\n93\n94\n95\n96\n97\n98\n99\n100\n101\n102\n103\n104\n105\n106\n107\n108\n109\n\n\næä»¬æ¥çä¸ä¸kafka-producer-perf-test.shèæ¬çè¾åºä¿¡æ¯ï¼\n\n10000 records sent, 955.474871 records/sec (0.93 mb/sec), 4489.89 ms avg latency, 9807.00 ms max latency, 4449 ms 50th, 9150 ms 95th, 9600 ms 99th, 9807 ms 99.9th.\n\n\n1\n\n\nrecords sentè¡¨ç¤ºæµè¯æ¶åéçæ¶æ¯æ»æ°ï¼records/secè¡¨ç¤ºä»¥æ¯ç§åéçæ¶æ¯æ°æ¥ç»è®¡ååéï¼æ¬å·ä¸­çmb/secè¡¨ç¤ºä»¥æ¯ç§åéçæ¶æ¯å¤§å°æ¥ç»è®¡ååéï¼æ³¨æè¿ä¸¤èççº¬åº¦ï¼avg latencyè¡¨ç¤ºæ¶æ¯å¤ççå¹³åèæ¶ï¼max latencyè¡¨ç¤ºæ¶æ¯å¤ççæå¤§èæ¶ï¼50th, 95th ,99thåå«è¡¨ç¤ºp50ï¼p95ï¼p99ææ ã\n\nkafka-consumer-perf-test.shèæ¬çä½¿ç¨ä¹æ¯è¾ç®åï¼ä¸é¢çç¤ºä¾æ¼ç¤ºäºå¶ä½¿ç¨æ¹å¼ï¼\n\nbash-5.1# ./kafka-consumer-perf-test.sh --topic topic-1 --messages 10000 --broker-list localhost:9092\nstart.time, end.time, data.consumed.in.mb, mb.sec, data.consumed.in.nmsg, nmsg.sec, rebalance.time.ms, fetch.time.ms, fetch.mb.sec, fetch.nmsg.sec\n2023-11-02 05:48:03:299, 2023-11-02 05:48:15:277, 9.8096, 0.8190, 10045, 838.6208, 1578, 10400, 0.9432, 965.8654\nbash-5.1#\n\n\n1\n2\n3\n4\n\n\nç¤ºä¾ä¸­åªæ¯ç®åçæ¶è´¹ä¸»é¢topic-1ä¸­ç1ä¸æ¡æ¶æ¯ãèæ¬ä¸­è¿åå«äºå¾å¤å¶ä»çåæ°ãè¾åºç»æä¸­åå«äºå¤é¡¹ä¿¡æ¯ï¼å¯¹åºå³ç³»å¦ä¸ï¼\n\nstart.time   end.time   data.consumed.in.mb   nmsg.sec        rebalance.time.ms   fetch.time.ms   fetch.mb.sec   fetch.nmsg.sec\nå¼å§è¿è¡æ¶é´       ç»ææ¶é´       æ¶è´¹çæ¶æ¯æ»é               ææ¶æ¯ä¸ªæ°è®¡ç®æ¶è´¹çååé   åå¹³è¡¡çæ¶é´              æåæ¶æ¯çæç»­æ¶é´       æ¯ç§æåæ¶æ¯çå­èæ°     æ¯ç§æåæ¶æ¯çä¸ªæ°\n\nå¶ä¸­fetch.time.ms=end.time-start.time-rebalance.time.msã\n\n----------------------------------------\n\n\n# 2.ååºæ°è¶å¤ååéå°±è¶é«ä¹\n\nååºæ¯kafkaä¸­æå°çå¹¶è¡æä½ååï¼å¯¹çäº§èèè¨ï¼æ¯ä¸ä¸ªååºçæ°æ®åå¥å®å¨æ¯å¯ä»¥å¹¶è¡åçï¼å¯¹æ¶è´¹èèè¨ï¼kafkaåªåè®¸åä¸ªååºä¸­çæ¶æ¯è¢«ä¸ä¸ªæ¶è´¹èçº¿ç¨æ¶è´¹ï¼ä¸ä¸ªæ¶è´¹èçæ¶è´¹å¹¶è¡åº¦å®å¨ä¾èµäºææ¶è´¹çååºæ°ãå¦æ­¤çæ¥ï¼å¦æä¸ä¸ªä¸»é¢ä¸­çååºæ°è¶å¤ï¼çè®ºä¸è½è¾¾å°çååéå°±è¶å¤§ï¼ä½æ¯å®éä¸å¹¶ä¸æ¯è¿æ ·ã\n\né¦ååå«åå»ºååºæ°ä¸º1ï¼20,50ï¼100ï¼200ï¼500,1000çä¸»é¢ï¼å¯¹åºçä¸»é¢åç§°åå«ä¸ºtopic-1,topic-20,topic-50,topic-100,topic-200,topic-500,topic-1000ï¼ææä¸»é¢çå¯æ¬å å­é½è®¾ç½®ä¸º1ã\n\næ¶æ¯ä¸­é´ä»¶çæ§è½ä¸è¬æ¯æååéãæå¼ç¡¬ä»¶èµæºçå½±åï¼æ¶æ¯åå¥çååéè¿ä¼æ¶å°æ¶æ¯å¤§å°ï¼æ¶æ¯åç¼©æ¹å¼ï¼æ¶æ¯åéæ¹å¼ï¼åæ­¥/å¼æ­¥ï¼ï¼æ¶æ¯ç¡®è®¤ç±»åï¼acksï¼ï¼å¯æ¬å å­ç­åæ°å½±åï¼ææçæµè¯é¤äºä¸»é¢çååºæ°ä¸åï¼å¶ä½çå ç´ é½ä¿æç¸åã\n\nä½¿ç¨kafka-producer-perf-test.shèæ¬åå«åè¿äºä¸»é¢ä¸­åé100ä¸æ¡æ¶æ¯ä½å¤§å°ä¸º1kbçæ¶æ¯ï¼æµè¯å½ä»¤å¦ä¸ï¼\n\n./kafka-producer-perf-test.sh --topic topic-xxx --num-records 1000000 --records-size 1024 --throughput -1 --producer-props bootstrap.servers=localhost:9092 acks=1\n\n\n1\n\n\nå¯¹äºçäº§èæµè¯çç»æï¼ä¸åçç¡¬ä»¶ç¯å¢ï¼çè³ä¸åæ¹æ¬¡çæµè¯å¾å°çæµè¯ç»æä¹ä¸ä¼å®å¨ç¸åï¼ä½æ¯æ»ä½è¶å¿æ¯åååéã\n\nååºæ°ä¸º1æ¶ååéæä½ï¼éçååºæ°çå¢é¿ï¼ç¸åºçååéä¹è·çä¸æ¶¨ãä¸æ¦ååºæ°è¶è¿äºæä¸ªéå¼ä¹åï¼æ´ä½çååéæ¯ä¸å¢åéçãä¹å°±æ¯è¯´å¹¶ä¸æ¯ååºæ°è¶å¤ååéè¶å¤§ãè¿éçååºæ°ä¸´çéå¼éå¯¹ä¸åçæµè¯ç¯å¢ä¹ä¼è¡¨ç°åºä¸åçç»æï¼å®éåºç¨ä¸­å¯ä»¥éè¿ç±»ä¼¼çæ¡ä¾æ¾å°ä¸ä¸ªåççä¸´çå¼åºé´ã\n\nå¯¹æ¶æ¯æ¶è´¹èèè¨åæ ·æååéæ¹é¢çèéãä½¿ç¨kafka-consumer-perf-test.shèæ¬åå«æ¶è´¹è¿äºä¸»é¢ä¸­ç100wæ¡æ¶æ¯ï¼å¯¹åºçæµè¯å½ä»¤å¦ä¸ï¼\n\n./kafka-consumer-perf-test.sh --topic topic-xxx --messages 1000000 --broker-list localhost:9092\n\n\n1\n\n\næ¶è´¹èçæµè¯ç»æä¹åçäº§èç±»ä¼¼ï¼æ»ä½è¶å¿ä¿æåååéãéçååºæ°çå¢å ï¼ç¸åºçååéä¹ä¼å¢é¿ï¼ä¸æ¦ååºæ°è¶è¿äºæä¸ªéå¼ï¼æ´ä½çååéæ¯ä¸ååéçï¼åæ ·è¯´æäºååºæ°è¶å¤å¹¶ä¸ä¼è®©ååéä¸ç´å¢é¿ã\n\n----------------------------------------\n\n\n# 3.ååºæ°çä¸é\n\nä¸å³çå¢å ååºæ°å¹¶ä¸è½ä½¿ååéä¸ç´å¾å°æåï¼å¹¶ä¸ååºæ°ä¹å¹¶ä¸è½ä¸ç´å¢å ï¼å¦æè¶è¿é»è®¤çéç½®å¼ï¼ä¼å¼èµ·kafkaè¿ç¨çå´©æºãå°è¯å¨kafkaä¸æ§è¡å¦ä¸å½ä»¤ï¼\n\n./kafka-topics.sh --zookeeper kafka-zookeeper:2181/kafka --create --topic topic-bomb --replication-factor 1 --partitions 10000\n\n\n1\n\n\næ§è¡å®æåä½¿ç¨jpså½ä»¤æèps -aux|grep kafkaå½ä»¤æ£æ¥kafkaè¿ç¨æ¯å¦è¿å­å¨ãä¸è¬æåµä¸ï¼ä¼åç°åæ¬è¿è¡å®å¥½çkafkaè¿ç¨å·²ç»å´©æºãåå»ºè¿ä¹å¤ååºæ¯ä¸æ¯å ä¸ºåå­ä¸è¶³èå¼èµ·çè¿ç¨å´©æºï¼å¶å®ä¸æ¯ï¼åå»ºè¿äºååºèå¼èµ·çåå­å¢é¿kafkaå®å¨coverçä½ã\n\nä¸ºäºåæçå®åå ï¼æä»¬å¯ä»¥æå¼kafkaçæå¡æ¥å¿æä»¶ï¼$kafka_home/logs/server.logï¼æ¥ææ¥é®é¢ï¼ä¼åç°æå¡æ¥å¿ä¸­åºç°å¤§éå¼å¸¸ï¼\n\njava.io.exception:too many open files\n\n\n1\n\n\nå¼å¸¸ä¸­æå³é®çä¿¡æ¯æ¯too many open filesï¼è¿æ¯ä¸ç§å¸¸è§çlinuxç³»ç»éè¯¯ï¼éå¸¸æå³çæä»¶æè¿°ç¬¦ä¸è¶³ï¼ä»ä¸è¬åçå¨åå»ºè¿ç¨ï¼åå»ºsocketï¼æå¼æä»¶è¿äºåºæ¯ä¸ãå¨linuxç³»ç»é»è®¤è®¾ç½®ä¸ï¼è¿ä¸ªæä»¶æè¿°ç¬¦çä¸ªæ°ä¸æ¯å¾å¤ï¼éè¿ä¸é¢çå½ä»¤å¯ä»¥æ¥çï¼\n\n[root@vm-24-3-centos ~]# ulimit -n\n1024\n[root@vm-24-3-centos ~]# ulimit -sn \n1024\n[root@vm-24-3-centos ~]# ulimit -hn\n4096\n\n\n1\n2\n3\n4\n5\n6\n\n\nsè¡¨ç¤ºå½åè½¯ä»¶éå¶ hè¡¨ç¤ºç¡¬éå¶ãç¡¬éå¶è®¾å®ä¹åä¸è½åæ·»å ï¼èè½¯éå¶åå¯ä»¥å¢å å°ç¡¬éå¶è§å®çå¼ã\n\næ¥ä¸æ¥æä»¬æ¥éªè¯kafkaè¿ç¨çå´©æºæ¯å¦æ¯ç±äºæä»¶æè¿°ç¬¦ã\n\né¦åéè¿pså½ä»¤æ¥çkafkaè¿ç¨çå½åpidï¼\n\nroot@7b4579bd9e87:/# ps -aux | grep kafka\nroot         1 10.6  2.2 7871756 371664 ?   ....\n\n\n1\n2\n\n\næ¥çå½åkafkaè¿ç¨æå ç¨çæä»¶æè¿°ç¬¦ä¸ªæ°ï¼\n\nls /proc/1/fd | wc -l\n\n\n1\n\n\nå¨æ°å»ºä¸ä¸ªåªæä¸ä¸ªååºçä¸»é¢ï¼å¹¶æ¥çkafkaè¿ç¨æå ç¨çæä»¶æè¿°ç¬¦çä¸ªæ°ï¼\n\nroot@7b4579bd9e87:/opt/kafka_2.13-2.8.1/bin# ./kafka-topics.sh --zookeeper kafka-zookeeper:2181/kafka --create --topic topic-bomb-1 --replication-factor 1 --partitions 1\ncreated topic topic-bomb-1.\nroot@7b4579bd9e87:/opt/kafka_2.13-2.8.1/bin# ls /proc/1/fd | wc -l\n148\nroot@7b4579bd9e87:/opt/kafka_2.13-2.8.1/bin#\n\n\n1\n2\n3\n4\n5\n\n\nå¯ä»¥çå°å¢å äºä¸ä¸ªååºï¼å¯¹åºçä¹åªå¢å äºä¸ä¸ªæä»¶æè¿°ç¬¦ãä¹åæä»¬éè¿ulimitå½ä»¤å¯ä»¥çå°è½¯éå¶æ¯1024ï¼æä»¬åå»ºä¸ä¸ªå·æ829ä¸ªååºçä¸»é¢ï¼\n\nroot@7b4579bd9e87:/opt/kafka_2.13-2.8.1/bin# ./kafka-topics.sh --zookeeper kafka-zookeeper:2181/kafka --create --topic topic-bomb-2 --replication-factor 1 --partitions 829\n\n\n1\n\n\næ­¤æ¶kafkaè¿ç¨å ç¨äº1024ä¸ªæä»¶æè¿°ç¬¦ï¼å¹¶ä¸è¿è¡å®å¥½ãè¿æ¶æä»¬è¿å¯ä»¥èæ³å°ç¡¬éå¶4096è¿ä¸ªå³é®æ°å­ï¼æä»¬å¨åå»ºä¸ä¸ªåå«3071ä¸ªååºçä¸»é¢ï¼æ­¤æ¶å ç¨4095ä¸ªæä»¶æè¿°ç¬¦ã\n\nroot@7b4579bd9e87:/opt/kafka_2.13-2.8.1/bin# ./kafka-topics.sh --zookeeper kafka-zookeeper:2181/kafka --create --topic topic-bomb-3 --replication-factor 1 --partitions 3071\n\n\n1\n\n\nkafkaè¿ç¨ä¾æ§å®å¥½ï¼æä»¶æè¿°ç¬¦å ç¨ä¸º4095ï¼æåæä»¬å¨åå»ºä¸ä¸ªåªæä¸ä¸ªååºçä¸»é¢ï¼\n\nroot@7b4579bd9e87:/opt/kafka_2.13-2.8.1/bin# ./kafka-topics.sh --zookeeper kafka-zookeeper:2181/kafka --create --topic topic-bomb-4 --replication-factor 1 --partitions 1\n\n\n1\n\n\næ­¤æ¶kafkaè¿ç¨å·²ç»å´©æºï¼æ¥çè¿ç¨å·æ¶å·²ç»æ²¡æç¸å³ä¿¡æ¯ï¼æ¥çkafkaæ¥å¿è¿ä¼åç°åé¢çå¼å¸¸too many open files ï¼è¡¨æå·²ç»è¾¾å°ä¸éã\n\nå¦ä½é¿åè¿ç§å¼å¸¸æåµï¼å¯¹äºä¸ä¸ªé«å¹¶åï¼é«æ§è½çåºç¨æ¥è¯´ï¼1024æè4096å¤ªå°äºï¼å¯ä»¥è®¾ç½®æ65535ï¼è¿æ ·è¶³ä»¥åºå¯¹å¤§å¤æ°çæåµã\n\nulimit -n 65535\n\n\n1\n\n\nlimits.confæä»¶ä¿®æ¹ä¹åéè¦éå¯æè½çæãlimits.confæä»¶ä¸ulimitå½ä»¤çåºå«å¨äºåèéå¯¹ææç¨æ·ï¼èä¸å¨ä»»ä½shellé½çæï¼åèåªéå¯¹ç¹å®ç¨æ·çå½åshellã\n\n----------------------------------------\n\n\n# 4.èéå ç´ \n\nå¦ä½éæ©åéçååºæ°ï¼çå·ä½æåµèå®ã\n\n 1. ä»ååéæ¹é¢èèï¼å¢å åéçååºæ°å¯ä»¥å¨ä¸å®ç¨åº¦ä¸æåæ´ä½çååéï¼ä½è¶è¿å¯¹åºçéå¼ä¹åååéä¸ååéãå¦æåºç¨å¯¹ååéæä¸å®ç¨åº¦ä¸çè¦æ±ï¼åå»ºè®®å¨åå¸ä¹åååæµã\n 2. æäºåºç¨åºæ¯ä¼è¦æ±ä¸»é¢ä¸­çæ¶æ¯é½è½ä¿è¯é¡ºåºæ§ï¼è¿ç§æåµä¸å¨åå»ºä¸»é¢æ¶å¯ä»¥è®¾å®ååºæ°ä¸º1ï¼éè¿ååºæåºæ§çè¿ä¸ç¹æ§æ¥è¾¾å°ä¸»é¢æåºæ§çç®çã\n\n> å½ç¶ååºä¹ä¸è½ä¸å³çå¢å ï¼ååºæ°ä¼å ç¨æä»¶æè¿°ç¬¦ï¼èä¸ä¸ªè¿ç¨æè½æ¯éçæä»¶æè¿°ç¬¦æ¯æéçï¼è¿ä¹æ¯éå¸¸æè¯´çæä»¶å¥æå¼éãå¨éæ©åéçååºæ°ä¹åï¼æå¥½å¨èéä¸ä¸å½åkafkaè¿ç¨ä¸­å·²ç»ä½¿ç¨çæä»¶æè¿°ç¬¦ä¸ªæ°ã\n\n3.ååºæ°çå¤å°è¿ä¼å½±åç³»ç»å¯ç¨æ§ãkafkaéè¿å¤å¯æ¬æºå¶å®ç°éç¾¤é«å¯ç¨ï¼æ¯ä¸ªååºé½ä¼æä¸å°å¤ä¸ªå¯æ¬ï¼æ¯ä¸ªå¯æ¬åå«å­å¨äºä¸åçbrokerèç¹ä¸ï¼å¹¶ä¸åªæleaderå¯æ¬å¯¹å¤æä¾æå¡ãå¨kafkaéç¾¤çåé¨ï¼ææçå¯æ¬é½éç¨èªå¨åçæ¹å¼è¿è¡ç®¡çï¼å¹¶ç¡®ä¿ææå¯æ¬ä¸­çæ°æ®é½è½ä¿æä¸å®ç¨åº¦ä¸çä¸åãå½brokeråçæéæ¶ï¼leaderèç¹ä¸çææååºå°ææ¶å¤äºä¸å¯ç¨ç¶æï¼æ­¤æ¶kafkaä¼èªå¨å¨å¶ä»followerå¯æ¬ä¹é´éä¸¾æ°çleaderç¨äºæ¥æ¶å¤é¨å®¢æ·ç«¯è¯·æ±ï¼æ´ä¸ªè¿ç¨ç±kafkaæ§å¶å¨è´è´£å®æï¼ååºå¨è¿è¡leaderè§è²åæ¢è¿ç¨ä¸­ä¼åå¾ä¸å¯ç¨ï¼ä¸è¿å¯¹äºåä¸ªååºèè¨è¿ä¸ªè¿ç¨éå¸¸ç­æï¼å¯¹ç¨æ·å¯ä»¥å¿½ç¥ä¸è®¡ãå¦æéç¾¤ä¸­çæä¸ªbrokerèç¹å®æºï¼é£ä¹ä¼æå¤§éååºåæ¶è¿è¡leaderè§è²åæ¢ï¼è¿ä¸ªåæ¢è¿ç¨ä¼ç¸å¯¹è¾é¿ï¼å¹¶ä¸å¨è¿ä¸ªæ¶é´çªå£åè¿äºååºä¼åå¾ä¸å¯ç¨ã\n\n> ååºæ°è¶å¤ä¹ä¼è®©kafkaçæ­£å¸¸å¯å¨åå³é­çèæ¶åå¾è¶é¿ï¼ä¸æ­¤åæ¶ï¼ä¸»é¢çååºæ°è¶å¤ä¸ä»ä¼å¢å æ¥å¿æ¸çèæ¶ï¼èä¸å¨è¢«å é¤æ¶ä¹ä¼èè´¹æ´å¤çæ¶é´ãå¯¹äºæ§çæ¬çå®¢æ·ç«¯èè¨ï¼ååºæ°å¤ä¹ä¼å¢å ä»ä»¬çå¼éï¼ä¸è¿è¿ä¸ç¹å¨æ°çæ¬çå®¢æ·ç«¯å¾å°äºææçæå¶ã\n\nå¦ä½éæ©åéçååºæ°ï¼\n\nä¸è¬æåµä¸ï¼æ ¹æ®é¢ä¼°çååéä»¥åæ¯å¦ä¸keyç¸å³çè§åæ¥è®¾å®ååºæ°å³å¯ï¼åæå¯ä»¥éè¿å¢å ååºæ°ï¼å¢å brokeræèååºéåéç­ææ®µæ¥è¿è¡æ¹è¿ãå¦æä¸å®è¦ä¸ä¸ªååï¼å»ºè®®å°åæ°è®¾ç½®ä¸ºéç¾¤ä¸­brokerçåæ°ï¼è³äºåæ°çéå®å¯ä»¥åèé¢ä¼°çååéãä¸è¿å¦æéç¾¤ä¸­çbrokerèç¹å¾å¤ï¼è¿ç§ååä¹ä¸éç¨ï¼å¨éå®ååºæ°æ¶è¿ä¸æ­¥å¯ä»¥å¼å¥æºæ¶ç­åèå ç´ ã\n\n----------------------------------------",charsets:{cjk:!0},lastUpdated:"2023/11/04, 10:52:44",lastUpdatedTimestamp:1699066364e3},{title:"çäº§è-å®¢æ·ç«¯å¼å",frontmatter:{title:"çäº§è-å®¢æ·ç«¯å¼å",date:"2023-01-01T00:00:00.000Z",tags:["Kafka","æ¶æ¯éå"],categories:["Kafka"],description:"çäº§è-å®¢æ·ç«¯å¼å",toc_number:!1,author:{name:"huidong.yin",link:"https://huidongyin.github.io"},permalink:"/pages/00e44d72-3af4-33ec-95aa-573c4e2603b1/"},regularPath:"/03.%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97/00.Kafka/2.%E7%94%9F%E4%BA%A7%E8%80%85-%E5%AE%A2%E6%88%B7%E7%AB%AF%E5%BC%80%E5%8F%91.html",relativePath:"03.æ¶æ¯éå/00.Kafka/2.çäº§è-å®¢æ·ç«¯å¼å.md",key:"v-e6a3f9b4",path:"/pages/00e44d72-3af4-33ec-95aa-573c4e2603b1/",headers:[{level:2,title:"1.å¿å¡«åæ°",slug:"_1-å¿å¡«åæ°",normalizedTitle:"1.å¿å¡«åæ°",charIndex:1718},{level:2,title:"2.æ¶æ¯åé",slug:"_2-æ¶æ¯åé",normalizedTitle:"2.æ¶æ¯åé",charIndex:2033},{level:2,title:"3.åºåå",slug:"_3-åºåå",normalizedTitle:"3.åºåå",charIndex:3716},{level:2,title:"4.ååºå¨",slug:"_4-ååºå¨",normalizedTitle:"4.ååºå¨",charIndex:7191},{level:2,title:"5.æ¦æªå¨",slug:"_5-æ¦æªå¨",normalizedTitle:"5.æ¦æªå¨",charIndex:8250}],headersStr:"1.å¿å¡«åæ° 2.æ¶æ¯åé 3.åºåå 4.ååºå¨ 5.æ¦æªå¨",content:'ä»ä¸é¢çä»£ç å¯ä»¥çå°ï¼å°æ¶æ¯åå¾kafkaä¸»è¦ç»ååä¸ªæ­¥éª¤ã\n\n 1. éç½®çäº§èå®¢æ·ç«¯åæ°ä»¥ååå»ºå¯¹åºççäº§èå®ä¾ã\n 2. æå»ºè¦åéçæ¶æ¯ã\n 3. åéæ¶æ¯\n 4. å³é­çäº§èå®ä¾ã\n\npublic static void produce() {\n    Properties props = new Properties();\n    props.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, brokerList);\n    props.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class.getName());\n    props.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, StringSerializer.class.getName());\n\n    KafkaProducer<String, String> producer = new KafkaProducer<>(props);\n\n    ProducerRecord<String, String> record = new ProducerRecord<>(topicName, "key", "value");\n\n    for (int i = 0; i < 100; i++) {\n        producer.send(record, (metadata, exception) -> {\n            if (exception == null) {\n                System.out.println("Message sent to partition " + metadata.partition() + " with offset " + metadata.offset());\n            } else {\n                exception.printStackTrace();\n            }\n        });\n    }\n\n    producer.close();\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n\n\n> ProducerConfig æ¯Kafkaä¸­æä¾çå¸¸éç±»ã\n\nå¯¹äºè¦åéçæ¶æ¯ï¼æä»¬éè¦æå»ºæProducerRecordå¯¹è±¡ãä½æ¯å®å¹¶ä¸æ¯åçº¯æä¹ä¸çæ¶æ¯ï¼å®çæ¬èº«åå«å¤ä¸ªå±æ§ï¼åæ¬éè¦åéçæ¶æ¯ä»ä»æ¯æ¶æ¯ä½çå¶ä¸­ä¸ä¸ªå±æ§ï¼valueï¼ã\n\npublic class ProducerRecord<K, V> {\n\n    private final String topic; //æ¶æ¯å°è¦åéå°çä¸»é¢\n    private final Integer partition; //æ¶æ¯å°è¦åéå°çååº\n    private final Headers headers; //æ¶æ¯çheaderï¼å¯ä»¥ä¸ºç©º\n    private final K key; //æ¶æ¯çkey\n    private final V value; //çæ­£è¦åéçæ¶æ¯\n    private final Long timestamp; //æ¶é´æ³\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n * topic å partition è¡¨ç¤ºæ¶æ¯çç®æ ä¸»é¢åååºã\n * headerå­æ®µæ¯æ¶æ¯å¤´é¨ã\n * key ç¨æ¥æå®æ¶æ¯çé®ï¼å¯ä»¥ç¨æ¥è®¡ç®ååºå·è®©æ¶æ¯åéç¹å®çååºãåä¸ä¸ªkeyçæ¶æ¯ä¼è¢«åéå°åä¸ä¸ªååºä¸­ï¼å¦å¤ækeyçæ¶æ¯è¿æ¯ææ¶æ¯åç¼©ã\n * value è¡¨ç¤ºæ¶æ¯ä½ï¼ä¸è¬ä¸ä¸ºç©ºã\n * timestamp æ¯ææ¶æ¯çæ¶é´æ³ï¼å®æåå»ºæ¶é´åè¿½å å°æ¥å¿çæ¶é´è¿ä¸¤ç§ç±»åã\n\n----------------------------------------\n\n\n# 1.å¿å¡«åæ°\n\n * bootstrap.servers\n * key.serializer\n * value.serializer\n\nå¯¹äºè¿ä¸ä¸ªåæ°åé¢å·²ç»ä»ç»è¿ï¼åæ­¤ä¸åèµè¿°ï¼å¯¹äºå¼åäººåæ¥è®²ï¼å¼åçæ¶åç´æ¥æ¼éç½®å­ç¬¦ä¸²ä¸å¥½æ¼ï¼å¯ä»¥ç´æ¥ä½¿ç¨kafkaå®¢æ·ç«¯æä¾ç ProducerConfigç±»ãå¦å¤è¡¥åä»ç»ä¸ä¸ªåæ°client.idï¼çäº§èå¯¹åºçå®¢æ·ç«¯IDï¼é»è®¤ä¸ºç©ºï¼å¦æå®¢æ·ç«¯æ²¡æè®¾ç½®ï¼KafkaProducerä¼èªå¨çæä¸ä¸ªã\n\nKafkaProduceræ¯çº¿ç¨å®å¨çï¼å¯ä»¥å¨ä¸ä¸ªçº¿ç¨ä¸­å±äº«åä¸ªKafkaProducerå®ä¾ã\n\n----------------------------------------\n\n\n# 2.æ¶æ¯åé\n\nåå»ºå®çäº§èå®ä¾ï¼æå»ºå®æ¶æ¯ä»¥åï¼å°±æ¯çæ­£çåéæ¶æ¯ãåéæ¶æ¯æä¸ç§æ¨¡å¼ï¼åååéï¼åæ­¥åéåå¼æ­¥åéã\n\nåååéï¼å¤§å¤æ°æåµä¸ï¼åååéæ²¡ä»ä¹é®é¢ï¼ä¸è¿å¨åçä¸å¯éè¯å¼å¸¸çæ¶åï¼ä¼é ææ¶æ¯ä¸¢å¤±ï¼è¿ç§æ¹å¼æ§è½æé«ï¼ä½æ¯å¯é æ§æå·®ã\n\nåæ­¥åéï¼åæ­¥åéçæ§è½æå·®ï¼å¯é æ§ç¸å¯¹æé«ï¼éè¦é»å¡ç­å¾ä¸æ¡æ¶æ¯åéå®ä»¥åæè½åéä¸ä¸æ¡ã\n\nFuture<RecordMetadata> future = producer.send(record);\nRecordMetadata recordMetadata = future.get();\n\n\n1\n2\n\n\nå®éä¸sendæ¹æ³æ¬èº«å°±æ¯å¼æ­¥çï¼sendæ¹æ³è¿åçFutureå¯¹è±¡å¯ä»¥ä½¿è°ç¨æ¹ç¨åè·å¾è°ç¨çç»æRecordMetadataå¯¹è±¡ã\n\nRecordMetadataå¯¹è±¡åå«æ¶æ¯çä¸äºåæ°æ®ï¼ç±»ä¼¼ topic partition offset ç­ç­ãFutureè¡¨ç¤ºä¸ä¸ªä»»å¡ççå½å¨æï¼å¹¶æä¾äºç¸åºçæ¹æ³æ¥å¤æ­ä»»å¡æ¯å¦å·²ç»å®ææåæ¶ï¼ä»¥åè·åä»»å¡çç»æååæ¶ä»»å¡ç­ç­ã\n\nKafkaProducerä¸­ä¸è¬ä¼åçä¸¤ç§ç±»åçå¼å¸¸ï¼å¯éè¯å¼å¸¸åä¸å¯éè¯å¼å¸¸ãå¸¸è§çå¯éè¯å¼å¸¸ï¼NetworkException LeaderNotAvailableException UnknownTopicOrPartitionExceptionNotEnoughReplicasExceptionç­ï¼å¯¹äºä¸å¯éè¯å¼å¸¸ï¼ä¾å¦ï¼RecordTooLargeExceptionå¼å¸¸ï¼è¡¨ç¤ºåéçæ¶æ¯è¿å¤§ï¼KafkaProducerå¯¹æ­¤ä¸ä¼è¿è¡ä»»ä½éè¯ï¼ç´æ¥æåºå¼å¸¸ã\n\nå¯¹äºå¯ä»¥éè¯çå¼å¸¸ï¼å¯ä»¥éè¿ retries åæ°æ§å¶éè¯æ¬¡æ°ï¼å¹¶ä¸åªè¦å¨è§å®çéè¯æ¬¡æ°åèªè¡æ¢å¤äºï¼å°±ä¸ä¼æåºå¼å¸¸ã retriesåæ°é»è®¤å¼ç­äº0ãéç½®æ¹å¼å¦ä¸ï¼\n\nprops.put(ProducerConfig.RETRIES_CONFIG, 3);\n\n\n1\n\n\nå¦æåçå¼å¸¸ä»¥åéè¯äº3æ¬¡é½æ²¡ææ¢å¤ï¼é£ä¹ä»ç¶ä¼æåºå¼å¸¸ã\n\nå¼æ­¥åéï¼ä¸è¬æ¯å¨sendæ¹æ³éé¢æå®ä¸ä¸ªCallbackåè°å½æ°ï¼Kafkaåè¿åååºæ¶è°ç¨è¯¥å½æ°æ¥å®ç°å¼æ­¥çåéç¡®è®¤ã\n\n> sendæ¹æ³æ¬èº«å°±æ¯å¼æ­¥çï¼ä¸ºä»ä¹è¿è¦é¢å¤ä½¿ç¨Callbackåå¼æ­¥ï¼Future éé¢çgetæ¹æ³å¨ä½æ¶è°ç¨ï¼ä»¥åæä¹è°ç¨é½æ¯éè¦é¢å¯¹çé®é¢ï¼æ¶æ¯ä¸åçåéï¼é£ä¹æ¶æ¯å¯¹åºç Futureå¯¹è±¡çå¤çé¾åä¼å¼èµ·ä»£ç å¤çé»è¾çæ··ä¹±ãä½¿ç¨ Callback çæ¹å¼éå¸¸ç®åæäºï¼Kafkaæååºå°±ä¼åè°ï¼è¦ä¹æåï¼è¦ä¹å¼å¸¸ã\n\nproducer.send(record, (metadata, exception) -> {\n    if (exception !=null){\n        System.out.println("åçå¼å¸¸äºï¼");\n        return;\n    }\n    System.out.println("åéæåï¼");\n  \n});\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nlambdaè¡¨è¾¾å¼çä¸¤ä¸ªåæ°æ¯äºæ¥çï¼æ¶æ¯åéæåï¼metadata ä¸å®ä¸ä¸ºç©ºï¼ä½æ¯exceptionä¸å®æ¯ç©ºï¼åä¹åéå¤±è´¥ï¼metadataä¸å®æ¯ç©ºï¼ä½æ¯exceptionä¸ä¸ºç©ºãå¦å¤å¯¹äºåä¸ä¸ªååºèè¨ï¼å¦ææ¶æ¯Aå¨æ¶æ¯Bä¹ååéï¼é£ä¹KafkaProducerå°±å¯ä»¥ä¿è¯å¯¹åºçAçåè°å¨Bçåè°ä¹åè°ç¨ï¼ä¹å°±æ¯è¯´ï¼åè°å½æ°çè°ç¨ä¹å¯ä»¥ä¿è¯ååºæåºã\n\nä¸è¬å¨é¡¹ç®å³é­æ¶ï¼ä¼éæ¾æé¡¹ç®ä¸­çææèµæºï¼å¨éæ¾çäº§èå®ä¾å¯¹è±¡æ¶ï¼éè¿è°ç¨KafkaProducerçcloseæ¹æ³æ¥åæ¶èµæºãcloseæ¹æ³ä¼é»å¡ç­å¾ä¹åææçåéè¯·æ±å®æåå¨å³é­KafkaProducerï¼å¦æè°ç¨çæ¯å¸¦è¶æ¶æ¶é´çcloseæ¹æ³ï¼é£ä¹åªä¼å¨ç­å¾timeoutæ¶é´åæ¥å®æææå°æªå®æçè¯·æ±å¤çï¼ç¶åå¼ºè¡éåºã\n\n----------------------------------------\n\n\n# 3.åºåå\n\nçäº§èéè¦ä½¿ç¨åºåå¨å°å¯¹è±¡è½¬æ¢æå­èæ°ç»æè½éè¿ç½ç»åéå°Kafkaãèå¨å¦ä¸ç«¯ï¼æ¶è´¹èéè¦ä½¿ç¨ååºååå¨æä»Kafkaä¸­æ¶å°çå­èæ°ç»è½¬æ¢æå¯¹åºçå¯¹è±¡ã\n\nKafkaé»è®¤æä¾äºå ç§åºååå¨ï¼å¦ä¸ï¼ä»ä»¬é½å®ç°äºSerializeræ¥å£ï¼æ­¤æ¥å£æåä¸ªæ¹æ³ã\n\npublic interface Serializer<T> extends Closeable {\n\n    default void configure(Map<String, ?> configs, boolean isKey) {\n        // intentionally left blank\n    }\n\n    byte[] serialize(String topic, T data);\n\n    default byte[] serialize(String topic, Headers headers, T data) {\n        return serialize(topic, data);\n    }\n\n    @Override\n    default void close() {\n        // intentionally left blank\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\nconfigureæ¹æ³ç¨æ¥éç½®å½åç±»ï¼serializeæ¹æ³ç¨æ¥æ§è¡åºååæä½ï¼closeæ¹æ³ç¨æ¥å³é­å½ååºååå®¹å¨ã\n\nçäº§èä½¿ç¨çåºååå¨åæ¶è´¹èä½¿ç¨çååºååå¨æ¯éè¦ä¸ä¸å¯¹åºçã\n\nä¸é¢ä»¥StringSerializerç±»æ¥åæåºååå¨ã\n\né¦åæ¯configureæ¹æ³ï¼è¿ä¸ªæ¹æ³æ¯å¨åå»ºKafkaProducerå®ä¾çæ¶åè°ç¨çï¼ä¸»è¦ç¨æ¥ç¡®å®ç¼ç ç±»åï¼ä¸è¿ä¸è¬å®¢æ·ç«¯å¯¹äºkey.serializer.encoding ï¼value.serializer.encodingå serializer.encoding è¿å ä¸ªåæ°ä¸ä¼éç½®èå·²ãä¸è¬æåµä¸ï¼é»è®¤çencodingçå¼å°±æ¯ UTF-8ã\n\nprivate String encoding = "UTF8";\n\n@Override\npublic void configure(Map<String, ?> configs, boolean isKey) {\n    String propertyName = isKey ? "key.serializer.encoding" : "value.serializer.encoding";\n    Object encodingValue = configs.get(propertyName);\n    if (encodingValue == null)\n        encodingValue = configs.get("serializer.encoding");\n    if (encodingValue instanceof String)\n        encoding = (String) encodingValue;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\nserializeæ¹æ³æ¯è¾ç´è§ï¼å°±æ¯æStringç±»åè½¬æ¢ä¸ºå­èæ°ç»ç±»åã\n\n@Override\npublic byte[] serialize(String topic, String data) {\n    try {\n        if (data == null)\n            return null;\n        else\n            return data.getBytes(encoding);\n    } catch (UnsupportedEncodingException e) {\n        throw new SerializationException("Error when serializing string to byte[] due to unsupported encoding " + encoding);\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\nå¦æKafkaå®¢æ·ç«¯æä¾çå ç§åºååå¨é½æ æ³æ»¡è¶³è¦æ±ï¼åå¯ä»¥ä½¿ç¨å¦Avroï¼JSONï¼Thriftï¼ProtoBufç­éç¨çåºååå·¥å·æ¥å®ç°ï¼æèèªå®ä¹åºååå¨ã\n\nä½¿ç¨èªå®ä¹çåºååå¨ä¸»è¦åä¸ºä¸¤æ­¥ã\n\n 1. å®ç°èªå®ä¹çåºååå¨ã\n 2. å°èªå®ä¹çåºååå¨æå®ç»Kafkaã\n\nä¾å¦æä»¬å®ç°ä¸ä¸ªä»æä¸¤ä¸ªå±æ§çUserç±»çåºååå¨ã\n\npublic class UserSerializer implements Serializer<UserSerializer.User> {\n\n    private static final String encoding = "UTF-8";\n  \n    @Override\n    public byte[] serialize(String topic, User data) {\n        if (data == null) {\n            return null;\n        }\n        try {\n            byte[] id, name;\n            if (data.getId() != null) {\n                id = data.getId().getBytes(encoding);\n            }else{\n                id = new byte[0];\n            }\n            if (data.getName()!=null){\n                name =data.getName().getBytes(encoding);\n            }else{\n                name = new byte[0];\n            }\n            ByteBuffer buffer = ByteBuffer.allocate(4 + 4 + id.length + name.length);\n            buffer.putInt(id.length);\n            buffer.put(id);\n            buffer.putInt(name.length);\n            buffer.put(name);\n            return buffer.array();\n        } catch (UnsupportedEncodingException e) {\n            e.printStackTrace();\n        }\n        return new byte[0];\n    }\n  \n  \n    @Data\n    public static class User implements Serializable {\n        private String id;\n  \n        private String name;\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n\n\nå¦ä½å¨Kafkaæå®èªå®ä¹çåºååå¨ï¼åªéè¦å°value.serializeråæ°è®¾ç½®ä¸ºèªå®ä¹åºååå¨çå¨éå®ç±»åå³å¯ã\n\nprops.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, UserSerializer.class.getName());\n\n\n1\n\n\n> å¦æä»ä»æå®æ¶æ¯çé»è®¤åºååå¨ï¼keyå¯¹åºçåºååå¨è¿æ¯é»è®¤çStringSerializerã\n\n----------------------------------------\n\n\n# 4.ååºå¨\n\næ¶æ¯å¨éè¿sendæ¹æ³åéå°brokerçè¿ç¨ä¸­ï¼å¯è½éè¦ç»è¿æ¦æªå¨ï¼åºååå¨åååºå¨çä¸ç³»åä½ç¨ãæ¶æ¯ç»è¿åºååä¹åå°±éè¦ç¡®å®å®åå¾çååºï¼å¦ææ¶æ¯ProduceRecordä¸­æå®äºpartitionå­æ®µï¼é£ä¹å°±ä¸éè¦ååºå¨çä½ç¨ï¼å ä¸ºpartitionä»£è¡¨çå°±æ¯æè¦åå¾çååºå·ãæ»çæ¥è¯´ï¼ååºå¨çä½ç¨å°±æ¯ä¸ºæ¶æ¯åéååºã\n\nkafkaæä¾çé»è®¤ååºå¨æ¯DefaultPartitionerï¼å®å®ç°äºPartitioneræ¥å£ï¼è¿ä¸ªæ¥å£ä¸­å®ä¹äºä¸ä¸ªæ¹æ³ã\n\npublic int partition(String topic, Object key, byte[] keyBytes, Object value, byte[] valueBytes, Cluster cluster);\n\n\npublic void close();\n\n\ndefault public void onNewBatch(String topic, Cluster cluster, int prevPartition) {\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\npartitionæ¹æ³ç¨æ¥è®¡ç®ååºå·ï¼è¿åå¼ä¸ºintç±»åï¼partitionæ¹æ³ä¸­çåæ°åå«è¡¨ç¤ºä¸»é¢ï¼é®ï¼åºåååçé®ï¼å¼ï¼åºåååçå¼ï¼ä»¥åéç¾¤çåæ°æ®ä¿¡æ¯ã\n\ncloseæ¹æ³ç¨äºå¨å³é­ååºå¨çæ¶åå®ç°ä¸äºèµæºçåæ¶ã\n\nå¨é»è®¤çååºåéæ¹æ³ä¸­ï¼å¦ækeyä¸ä¸ºnullï¼é£ä¹é»è®¤çååºå¨ä¼å¯¹keyè¿è¡Hashï¼æç»æ ¹æ®å¾å°çhashå¼æ¥è®¡ç®ååºå·ï¼æ¥æç¸åkeyçæ¶æ¯ä¼è¢«åå¥åä¸ä¸ªååºãå¦ækeyä¸ºnullï¼é£ä¹æ¶æ¯ä¼ä»¥ç¹å®è½®è¯¢çæ¹æ³åå¾ä¸»é¢åçæ¯ä¸ªå¯ç¨ååºã\n\nå¨ä¸æ¹åä¸»é¢ååºæ°éçæåµä¸ï¼keyä¸ååºä¹é´çæ å°å¯ä»¥ä¿æä¸åï¼ä¸è¿ä¸æ¦ä¸»é¢ä¸­å¢å äºååºï¼é£ä¹å°±é¾ä»¥ä¿è¯keyä¸ååºä¹é´çæ å°å³ç³»äºã\n\né¤äºä½¿ç¨kafkaé»è®¤æä¾çååºå¨è¿è¡ååºåéï¼è¿å¯ä»¥ä½¿ç¨èªå®ä¹çååºå¨ï¼åªéè¦åDefaultPartitionerä¸æ ·å®ç°Partitioneræ¥å£å³å¯ã\n\nå®ç°èªå®ä¹çååºå¨ä»¥åï¼éè¦éè¿éç½®åæ° partitioner.class æ¥æ¾å¼æå®è¿ä¸ªååºå¨ã\n\nprops.put(ProducerConfig.PARTITIONER_CLASS_CONFIG, DefaultPartitioner.class.getName());\n\n\n1\n\n\n----------------------------------------\n\n\n# 5.æ¦æªå¨\n\nkafkaä¸å±æä¸¤ç§æ¦æªå¨ï¼çäº§èæ¦æªå¨åæ¶è´¹èæ¦æªå¨ãçäº§èæ¦æªå¨å¯ä»¥ç¨æ¥å¨æ¶æ¯åéååä¸äºåå¤å·¥ä½ï¼æ¯å¦æç§æä¸ªè§åè¿æ»¤ä¸ç¬¦åè¦æ±çæ¶æ¯ï¼ä¿®æ¹æ¶æ¯çåå®¹ç­ç­ï¼ä¹å¯ä»¥ç¨æ¥å¨åéåè°é»è¾ååä¸äºå®å¶åçéæ±ï¼æ¯å¦ç»è®¡ç±»å·¥ä½ã\n\nçäº§èæ¦æªå¨çä½¿ç¨éè¦å®ç°ProducerInterceptoræ¥å£ï¼è¯¥æ¥å£åå«ä¸ä¸ªæ¹æ³ã\n\npublic interface ProducerInterceptor<K, V> extends Configurable {\n\n    public ProducerRecord<K, V> onSend(ProducerRecord<K, V> record);\n\n    public void onAcknowledgement(RecordMetadata metadata, Exception exception);\n\n    public void close();\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nKafkaProducerå¨å°æ¶æ¯åºåååè®¡ç®ååºä¹åä¼è°ç¨çäº§èæ¦æªå¨çonSendæ¹æ³æ¥å¯¹æ¶æ¯è¿è¡ç¸åºçå®å¶åæä½ã\n\nKafkaProducerä¼å¨æ¶æ¯è¢«åºç­ä¹åæèæ¶æ¯åéå¤±è´¥æ¶è°ç¨çäº§èæ¦æªå¨çonAcknowledgementæ¹æ³ï¼ä¼åäºç¨äºè®¾ç½®çCallbackä¹åæ§è¡ãè¿ä¸ªæ¹æ³è¿è¡å¨çäº§èçIOçº¿ç¨ä¸­ï¼æä»¥é»è¾è¶ç®åè¶å¥½æèä½¿ç¨å¼æ­¥çå¤çæ¹å¼ãcloseæ¹æ³ç¨äºå¨å³é­æ¦æªå¨æ¶æ§è¡ä¸äºèµæºçæ¸çæä½ï¼è¿ä¸ä¸ªæ¹æ³æåºçå¼å¸¸ä¼è¢«æè·å¹¶è®°å½å°æ¥å¿ä¸­ï¼ä½å¹¶ä¸ä¼åä¸ä¼ éã\n\nå®ç°èªå®ä¹çæ¦æªå¨ä¹åï¼éè¦å¨KafkaProducerçéç½®åæ° interceptor.classes ä¸­æå®è¿ä¸ªæ¦æªå¨ï¼æ­¤åæ°é»è®¤å¼æ¶ç©ºå­ç¬¦ä¸²ã\n\nprops.put(ProducerConfig.INTERCEPTOR_CLASSES_CONFIG, "");\n\n\n1\n\n\nKafkaProducerå¯ä»¥æå®å¤ä¸ªæ¦æªå¨å½¢ææ¦æªå¨é¾ãæ¦æªå¨é¾ä¼æç§interceptor.classesåæ°éç½®çæ¦æªå¨é¡ºåºä¸ä¸æ§è¡ï¼éç½®çæ¶åï¼å¤ä¸ªæ¦æªå¨ä¹é´ä½¿ç¨éå·åéã\n\nå¦ææ¦æªå¨é¾ä¸­çæä¸ªæ¦æªå¨çæ§è¡éè¦ä¾èµäºåä¸ä¸ªæ¦æªå¨çè¾åºï¼é£ä¹å°±æå¯è½äº§çå¯ä½ç¨ãå¦ææä¸ªæ¦æªå¨é¾æ§è¡å¤±è´¥ï¼é£ä¹ä¸ä¸ä¸ªæ¦æªå¨ä¼æ¥çä¸ä¸ä¸ªæ§è¡æåçæ¦æªå¨ç»§ç»­æ§è¡ã\n\n----------------------------------------',normalizedContent:'ä»ä¸é¢çä»£ç å¯ä»¥çå°ï¼å°æ¶æ¯åå¾kafkaä¸»è¦ç»ååä¸ªæ­¥éª¤ã\n\n 1. éç½®çäº§èå®¢æ·ç«¯åæ°ä»¥ååå»ºå¯¹åºççäº§èå®ä¾ã\n 2. æå»ºè¦åéçæ¶æ¯ã\n 3. åéæ¶æ¯\n 4. å³é­çäº§èå®ä¾ã\n\npublic static void produce() {\n    properties props = new properties();\n    props.put(producerconfig.bootstrap_servers_config, brokerlist);\n    props.put(producerconfig.key_serializer_class_config, stringserializer.class.getname());\n    props.put(producerconfig.value_serializer_class_config, stringserializer.class.getname());\n\n    kafkaproducer<string, string> producer = new kafkaproducer<>(props);\n\n    producerrecord<string, string> record = new producerrecord<>(topicname, "key", "value");\n\n    for (int i = 0; i < 100; i++) {\n        producer.send(record, (metadata, exception) -> {\n            if (exception == null) {\n                system.out.println("message sent to partition " + metadata.partition() + " with offset " + metadata.offset());\n            } else {\n                exception.printstacktrace();\n            }\n        });\n    }\n\n    producer.close();\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n\n\n> producerconfig æ¯kafkaä¸­æä¾çå¸¸éç±»ã\n\nå¯¹äºè¦åéçæ¶æ¯ï¼æä»¬éè¦æå»ºæproducerrecordå¯¹è±¡ãä½æ¯å®å¹¶ä¸æ¯åçº¯æä¹ä¸çæ¶æ¯ï¼å®çæ¬èº«åå«å¤ä¸ªå±æ§ï¼åæ¬éè¦åéçæ¶æ¯ä»ä»æ¯æ¶æ¯ä½çå¶ä¸­ä¸ä¸ªå±æ§ï¼valueï¼ã\n\npublic class producerrecord<k, v> {\n\n    private final string topic; //æ¶æ¯å°è¦åéå°çä¸»é¢\n    private final integer partition; //æ¶æ¯å°è¦åéå°çååº\n    private final headers headers; //æ¶æ¯çheaderï¼å¯ä»¥ä¸ºç©º\n    private final k key; //æ¶æ¯çkey\n    private final v value; //çæ­£è¦åéçæ¶æ¯\n    private final long timestamp; //æ¶é´æ³\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n * topic å partition è¡¨ç¤ºæ¶æ¯çç®æ ä¸»é¢åååºã\n * headerå­æ®µæ¯æ¶æ¯å¤´é¨ã\n * key ç¨æ¥æå®æ¶æ¯çé®ï¼å¯ä»¥ç¨æ¥è®¡ç®ååºå·è®©æ¶æ¯åéç¹å®çååºãåä¸ä¸ªkeyçæ¶æ¯ä¼è¢«åéå°åä¸ä¸ªååºä¸­ï¼å¦å¤ækeyçæ¶æ¯è¿æ¯ææ¶æ¯åç¼©ã\n * value è¡¨ç¤ºæ¶æ¯ä½ï¼ä¸è¬ä¸ä¸ºç©ºã\n * timestamp æ¯ææ¶æ¯çæ¶é´æ³ï¼å®æåå»ºæ¶é´åè¿½å å°æ¥å¿çæ¶é´è¿ä¸¤ç§ç±»åã\n\n----------------------------------------\n\n\n# 1.å¿å¡«åæ°\n\n * bootstrap.servers\n * key.serializer\n * value.serializer\n\nå¯¹äºè¿ä¸ä¸ªåæ°åé¢å·²ç»ä»ç»è¿ï¼åæ­¤ä¸åèµè¿°ï¼å¯¹äºå¼åäººåæ¥è®²ï¼å¼åçæ¶åç´æ¥æ¼éç½®å­ç¬¦ä¸²ä¸å¥½æ¼ï¼å¯ä»¥ç´æ¥ä½¿ç¨kafkaå®¢æ·ç«¯æä¾ç producerconfigç±»ãå¦å¤è¡¥åä»ç»ä¸ä¸ªåæ°client.idï¼çäº§èå¯¹åºçå®¢æ·ç«¯idï¼é»è®¤ä¸ºç©ºï¼å¦æå®¢æ·ç«¯æ²¡æè®¾ç½®ï¼kafkaproducerä¼èªå¨çæä¸ä¸ªã\n\nkafkaproduceræ¯çº¿ç¨å®å¨çï¼å¯ä»¥å¨ä¸ä¸ªçº¿ç¨ä¸­å±äº«åä¸ªkafkaproducerå®ä¾ã\n\n----------------------------------------\n\n\n# 2.æ¶æ¯åé\n\nåå»ºå®çäº§èå®ä¾ï¼æå»ºå®æ¶æ¯ä»¥åï¼å°±æ¯çæ­£çåéæ¶æ¯ãåéæ¶æ¯æä¸ç§æ¨¡å¼ï¼åååéï¼åæ­¥åéåå¼æ­¥åéã\n\nåååéï¼å¤§å¤æ°æåµä¸ï¼åååéæ²¡ä»ä¹é®é¢ï¼ä¸è¿å¨åçä¸å¯éè¯å¼å¸¸çæ¶åï¼ä¼é ææ¶æ¯ä¸¢å¤±ï¼è¿ç§æ¹å¼æ§è½æé«ï¼ä½æ¯å¯é æ§æå·®ã\n\nåæ­¥åéï¼åæ­¥åéçæ§è½æå·®ï¼å¯é æ§ç¸å¯¹æé«ï¼éè¦é»å¡ç­å¾ä¸æ¡æ¶æ¯åéå®ä»¥åæè½åéä¸ä¸æ¡ã\n\nfuture<recordmetadata> future = producer.send(record);\nrecordmetadata recordmetadata = future.get();\n\n\n1\n2\n\n\nå®éä¸sendæ¹æ³æ¬èº«å°±æ¯å¼æ­¥çï¼sendæ¹æ³è¿åçfutureå¯¹è±¡å¯ä»¥ä½¿è°ç¨æ¹ç¨åè·å¾è°ç¨çç»ærecordmetadataå¯¹è±¡ã\n\nrecordmetadataå¯¹è±¡åå«æ¶æ¯çä¸äºåæ°æ®ï¼ç±»ä¼¼ topic partition offset ç­ç­ãfutureè¡¨ç¤ºä¸ä¸ªä»»å¡ççå½å¨æï¼å¹¶æä¾äºç¸åºçæ¹æ³æ¥å¤æ­ä»»å¡æ¯å¦å·²ç»å®ææåæ¶ï¼ä»¥åè·åä»»å¡çç»æååæ¶ä»»å¡ç­ç­ã\n\nkafkaproducerä¸­ä¸è¬ä¼åçä¸¤ç§ç±»åçå¼å¸¸ï¼å¯éè¯å¼å¸¸åä¸å¯éè¯å¼å¸¸ãå¸¸è§çå¯éè¯å¼å¸¸ï¼networkexception leadernotavailableexception unknowntopicorpartitionexceptionnotenoughreplicasexceptionç­ï¼å¯¹äºä¸å¯éè¯å¼å¸¸ï¼ä¾å¦ï¼recordtoolargeexceptionå¼å¸¸ï¼è¡¨ç¤ºåéçæ¶æ¯è¿å¤§ï¼kafkaproducerå¯¹æ­¤ä¸ä¼è¿è¡ä»»ä½éè¯ï¼ç´æ¥æåºå¼å¸¸ã\n\nå¯¹äºå¯ä»¥éè¯çå¼å¸¸ï¼å¯ä»¥éè¿ retries åæ°æ§å¶éè¯æ¬¡æ°ï¼å¹¶ä¸åªè¦å¨è§å®çéè¯æ¬¡æ°åèªè¡æ¢å¤äºï¼å°±ä¸ä¼æåºå¼å¸¸ã retriesåæ°é»è®¤å¼ç­äº0ãéç½®æ¹å¼å¦ä¸ï¼\n\nprops.put(producerconfig.retries_config, 3);\n\n\n1\n\n\nå¦æåçå¼å¸¸ä»¥åéè¯äº3æ¬¡é½æ²¡ææ¢å¤ï¼é£ä¹ä»ç¶ä¼æåºå¼å¸¸ã\n\nå¼æ­¥åéï¼ä¸è¬æ¯å¨sendæ¹æ³éé¢æå®ä¸ä¸ªcallbackåè°å½æ°ï¼kafkaåè¿åååºæ¶è°ç¨è¯¥å½æ°æ¥å®ç°å¼æ­¥çåéç¡®è®¤ã\n\n> sendæ¹æ³æ¬èº«å°±æ¯å¼æ­¥çï¼ä¸ºä»ä¹è¿è¦é¢å¤ä½¿ç¨callbackåå¼æ­¥ï¼future éé¢çgetæ¹æ³å¨ä½æ¶è°ç¨ï¼ä»¥åæä¹è°ç¨é½æ¯éè¦é¢å¯¹çé®é¢ï¼æ¶æ¯ä¸åçåéï¼é£ä¹æ¶æ¯å¯¹åºç futureå¯¹è±¡çå¤çé¾åä¼å¼èµ·ä»£ç å¤çé»è¾çæ··ä¹±ãä½¿ç¨ callback çæ¹å¼éå¸¸ç®åæäºï¼kafkaæååºå°±ä¼åè°ï¼è¦ä¹æåï¼è¦ä¹å¼å¸¸ã\n\nproducer.send(record, (metadata, exception) -> {\n    if (exception !=null){\n        system.out.println("åçå¼å¸¸äºï¼");\n        return;\n    }\n    system.out.println("åéæåï¼");\n  \n});\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nlambdaè¡¨è¾¾å¼çä¸¤ä¸ªåæ°æ¯äºæ¥çï¼æ¶æ¯åéæåï¼metadata ä¸å®ä¸ä¸ºç©ºï¼ä½æ¯exceptionä¸å®æ¯ç©ºï¼åä¹åéå¤±è´¥ï¼metadataä¸å®æ¯ç©ºï¼ä½æ¯exceptionä¸ä¸ºç©ºãå¦å¤å¯¹äºåä¸ä¸ªååºèè¨ï¼å¦ææ¶æ¯aå¨æ¶æ¯bä¹ååéï¼é£ä¹kafkaproducerå°±å¯ä»¥ä¿è¯å¯¹åºçaçåè°å¨bçåè°ä¹åè°ç¨ï¼ä¹å°±æ¯è¯´ï¼åè°å½æ°çè°ç¨ä¹å¯ä»¥ä¿è¯ååºæåºã\n\nä¸è¬å¨é¡¹ç®å³é­æ¶ï¼ä¼éæ¾æé¡¹ç®ä¸­çææèµæºï¼å¨éæ¾çäº§èå®ä¾å¯¹è±¡æ¶ï¼éè¿è°ç¨kafkaproducerçcloseæ¹æ³æ¥åæ¶èµæºãcloseæ¹æ³ä¼é»å¡ç­å¾ä¹åææçåéè¯·æ±å®æåå¨å³é­kafkaproducerï¼å¦æè°ç¨çæ¯å¸¦è¶æ¶æ¶é´çcloseæ¹æ³ï¼é£ä¹åªä¼å¨ç­å¾timeoutæ¶é´åæ¥å®æææå°æªå®æçè¯·æ±å¤çï¼ç¶åå¼ºè¡éåºã\n\n----------------------------------------\n\n\n# 3.åºåå\n\nçäº§èéè¦ä½¿ç¨åºåå¨å°å¯¹è±¡è½¬æ¢æå­èæ°ç»æè½éè¿ç½ç»åéå°kafkaãèå¨å¦ä¸ç«¯ï¼æ¶è´¹èéè¦ä½¿ç¨ååºååå¨æä»kafkaä¸­æ¶å°çå­èæ°ç»è½¬æ¢æå¯¹åºçå¯¹è±¡ã\n\nkafkaé»è®¤æä¾äºå ç§åºååå¨ï¼å¦ä¸ï¼ä»ä»¬é½å®ç°äºserializeræ¥å£ï¼æ­¤æ¥å£æåä¸ªæ¹æ³ã\n\npublic interface serializer<t> extends closeable {\n\n    default void configure(map<string, ?> configs, boolean iskey) {\n        // intentionally left blank\n    }\n\n    byte[] serialize(string topic, t data);\n\n    default byte[] serialize(string topic, headers headers, t data) {\n        return serialize(topic, data);\n    }\n\n    @override\n    default void close() {\n        // intentionally left blank\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\nconfigureæ¹æ³ç¨æ¥éç½®å½åç±»ï¼serializeæ¹æ³ç¨æ¥æ§è¡åºååæä½ï¼closeæ¹æ³ç¨æ¥å³é­å½ååºååå®¹å¨ã\n\nçäº§èä½¿ç¨çåºååå¨åæ¶è´¹èä½¿ç¨çååºååå¨æ¯éè¦ä¸ä¸å¯¹åºçã\n\nä¸é¢ä»¥stringserializerç±»æ¥åæåºååå¨ã\n\né¦åæ¯configureæ¹æ³ï¼è¿ä¸ªæ¹æ³æ¯å¨åå»ºkafkaproducerå®ä¾çæ¶åè°ç¨çï¼ä¸»è¦ç¨æ¥ç¡®å®ç¼ç ç±»åï¼ä¸è¿ä¸è¬å®¢æ·ç«¯å¯¹äºkey.serializer.encoding ï¼value.serializer.encodingå serializer.encoding è¿å ä¸ªåæ°ä¸ä¼éç½®èå·²ãä¸è¬æåµä¸ï¼é»è®¤çencodingçå¼å°±æ¯ utf-8ã\n\nprivate string encoding = "utf8";\n\n@override\npublic void configure(map<string, ?> configs, boolean iskey) {\n    string propertyname = iskey ? "key.serializer.encoding" : "value.serializer.encoding";\n    object encodingvalue = configs.get(propertyname);\n    if (encodingvalue == null)\n        encodingvalue = configs.get("serializer.encoding");\n    if (encodingvalue instanceof string)\n        encoding = (string) encodingvalue;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\nserializeæ¹æ³æ¯è¾ç´è§ï¼å°±æ¯æstringç±»åè½¬æ¢ä¸ºå­èæ°ç»ç±»åã\n\n@override\npublic byte[] serialize(string topic, string data) {\n    try {\n        if (data == null)\n            return null;\n        else\n            return data.getbytes(encoding);\n    } catch (unsupportedencodingexception e) {\n        throw new serializationexception("error when serializing string to byte[] due to unsupported encoding " + encoding);\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\nå¦ækafkaå®¢æ·ç«¯æä¾çå ç§åºååå¨é½æ æ³æ»¡è¶³è¦æ±ï¼åå¯ä»¥ä½¿ç¨å¦avroï¼jsonï¼thriftï¼protobufç­éç¨çåºååå·¥å·æ¥å®ç°ï¼æèèªå®ä¹åºååå¨ã\n\nä½¿ç¨èªå®ä¹çåºååå¨ä¸»è¦åä¸ºä¸¤æ­¥ã\n\n 1. å®ç°èªå®ä¹çåºååå¨ã\n 2. å°èªå®ä¹çåºååå¨æå®ç»kafkaã\n\nä¾å¦æä»¬å®ç°ä¸ä¸ªä»æä¸¤ä¸ªå±æ§çuserç±»çåºååå¨ã\n\npublic class userserializer implements serializer<userserializer.user> {\n\n    private static final string encoding = "utf-8";\n  \n    @override\n    public byte[] serialize(string topic, user data) {\n        if (data == null) {\n            return null;\n        }\n        try {\n            byte[] id, name;\n            if (data.getid() != null) {\n                id = data.getid().getbytes(encoding);\n            }else{\n                id = new byte[0];\n            }\n            if (data.getname()!=null){\n                name =data.getname().getbytes(encoding);\n            }else{\n                name = new byte[0];\n            }\n            bytebuffer buffer = bytebuffer.allocate(4 + 4 + id.length + name.length);\n            buffer.putint(id.length);\n            buffer.put(id);\n            buffer.putint(name.length);\n            buffer.put(name);\n            return buffer.array();\n        } catch (unsupportedencodingexception e) {\n            e.printstacktrace();\n        }\n        return new byte[0];\n    }\n  \n  \n    @data\n    public static class user implements serializable {\n        private string id;\n  \n        private string name;\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n\n\nå¦ä½å¨kafkaæå®èªå®ä¹çåºååå¨ï¼åªéè¦å°value.serializeråæ°è®¾ç½®ä¸ºèªå®ä¹åºååå¨çå¨éå®ç±»åå³å¯ã\n\nprops.put(producerconfig.value_serializer_class_config, userserializer.class.getname());\n\n\n1\n\n\n> å¦æä»ä»æå®æ¶æ¯çé»è®¤åºååå¨ï¼keyå¯¹åºçåºååå¨è¿æ¯é»è®¤çstringserializerã\n\n----------------------------------------\n\n\n# 4.ååºå¨\n\næ¶æ¯å¨éè¿sendæ¹æ³åéå°brokerçè¿ç¨ä¸­ï¼å¯è½éè¦ç»è¿æ¦æªå¨ï¼åºååå¨åååºå¨çä¸ç³»åä½ç¨ãæ¶æ¯ç»è¿åºååä¹åå°±éè¦ç¡®å®å®åå¾çååºï¼å¦ææ¶æ¯producerecordä¸­æå®äºpartitionå­æ®µï¼é£ä¹å°±ä¸éè¦ååºå¨çä½ç¨ï¼å ä¸ºpartitionä»£è¡¨çå°±æ¯æè¦åå¾çååºå·ãæ»çæ¥è¯´ï¼ååºå¨çä½ç¨å°±æ¯ä¸ºæ¶æ¯åéååºã\n\nkafkaæä¾çé»è®¤ååºå¨æ¯defaultpartitionerï¼å®å®ç°äºpartitioneræ¥å£ï¼è¿ä¸ªæ¥å£ä¸­å®ä¹äºä¸ä¸ªæ¹æ³ã\n\npublic int partition(string topic, object key, byte[] keybytes, object value, byte[] valuebytes, cluster cluster);\n\n\npublic void close();\n\n\ndefault public void onnewbatch(string topic, cluster cluster, int prevpartition) {\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\npartitionæ¹æ³ç¨æ¥è®¡ç®ååºå·ï¼è¿åå¼ä¸ºintç±»åï¼partitionæ¹æ³ä¸­çåæ°åå«è¡¨ç¤ºä¸»é¢ï¼é®ï¼åºåååçé®ï¼å¼ï¼åºåååçå¼ï¼ä»¥åéç¾¤çåæ°æ®ä¿¡æ¯ã\n\ncloseæ¹æ³ç¨äºå¨å³é­ååºå¨çæ¶åå®ç°ä¸äºèµæºçåæ¶ã\n\nå¨é»è®¤çååºåéæ¹æ³ä¸­ï¼å¦ækeyä¸ä¸ºnullï¼é£ä¹é»è®¤çååºå¨ä¼å¯¹keyè¿è¡hashï¼æç»æ ¹æ®å¾å°çhashå¼æ¥è®¡ç®ååºå·ï¼æ¥æç¸åkeyçæ¶æ¯ä¼è¢«åå¥åä¸ä¸ªååºãå¦ækeyä¸ºnullï¼é£ä¹æ¶æ¯ä¼ä»¥ç¹å®è½®è¯¢çæ¹æ³åå¾ä¸»é¢åçæ¯ä¸ªå¯ç¨ååºã\n\nå¨ä¸æ¹åä¸»é¢ååºæ°éçæåµä¸ï¼keyä¸ååºä¹é´çæ å°å¯ä»¥ä¿æä¸åï¼ä¸è¿ä¸æ¦ä¸»é¢ä¸­å¢å äºååºï¼é£ä¹å°±é¾ä»¥ä¿è¯keyä¸ååºä¹é´çæ å°å³ç³»äºã\n\né¤äºä½¿ç¨kafkaé»è®¤æä¾çååºå¨è¿è¡ååºåéï¼è¿å¯ä»¥ä½¿ç¨èªå®ä¹çååºå¨ï¼åªéè¦ådefaultpartitionerä¸æ ·å®ç°partitioneræ¥å£å³å¯ã\n\nå®ç°èªå®ä¹çååºå¨ä»¥åï¼éè¦éè¿éç½®åæ° partitioner.class æ¥æ¾å¼æå®è¿ä¸ªååºå¨ã\n\nprops.put(producerconfig.partitioner_class_config, defaultpartitioner.class.getname());\n\n\n1\n\n\n----------------------------------------\n\n\n# 5.æ¦æªå¨\n\nkafkaä¸å±æä¸¤ç§æ¦æªå¨ï¼çäº§èæ¦æªå¨åæ¶è´¹èæ¦æªå¨ãçäº§èæ¦æªå¨å¯ä»¥ç¨æ¥å¨æ¶æ¯åéååä¸äºåå¤å·¥ä½ï¼æ¯å¦æç§æä¸ªè§åè¿æ»¤ä¸ç¬¦åè¦æ±çæ¶æ¯ï¼ä¿®æ¹æ¶æ¯çåå®¹ç­ç­ï¼ä¹å¯ä»¥ç¨æ¥å¨åéåè°é»è¾ååä¸äºå®å¶åçéæ±ï¼æ¯å¦ç»è®¡ç±»å·¥ä½ã\n\nçäº§èæ¦æªå¨çä½¿ç¨éè¦å®ç°producerinterceptoræ¥å£ï¼è¯¥æ¥å£åå«ä¸ä¸ªæ¹æ³ã\n\npublic interface producerinterceptor<k, v> extends configurable {\n\n    public producerrecord<k, v> onsend(producerrecord<k, v> record);\n\n    public void onacknowledgement(recordmetadata metadata, exception exception);\n\n    public void close();\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nkafkaproducerå¨å°æ¶æ¯åºåååè®¡ç®ååºä¹åä¼è°ç¨çäº§èæ¦æªå¨çonsendæ¹æ³æ¥å¯¹æ¶æ¯è¿è¡ç¸åºçå®å¶åæä½ã\n\nkafkaproducerä¼å¨æ¶æ¯è¢«åºç­ä¹åæèæ¶æ¯åéå¤±è´¥æ¶è°ç¨çäº§èæ¦æªå¨çonacknowledgementæ¹æ³ï¼ä¼åäºç¨äºè®¾ç½®çcallbackä¹åæ§è¡ãè¿ä¸ªæ¹æ³è¿è¡å¨çäº§èçioçº¿ç¨ä¸­ï¼æä»¥é»è¾è¶ç®åè¶å¥½æèä½¿ç¨å¼æ­¥çå¤çæ¹å¼ãcloseæ¹æ³ç¨äºå¨å³é­æ¦æªå¨æ¶æ§è¡ä¸äºèµæºçæ¸çæä½ï¼è¿ä¸ä¸ªæ¹æ³æåºçå¼å¸¸ä¼è¢«æè·å¹¶è®°å½å°æ¥å¿ä¸­ï¼ä½å¹¶ä¸ä¼åä¸ä¼ éã\n\nå®ç°èªå®ä¹çæ¦æªå¨ä¹åï¼éè¦å¨kafkaproducerçéç½®åæ° interceptor.classes ä¸­æå®è¿ä¸ªæ¦æªå¨ï¼æ­¤åæ°é»è®¤å¼æ¶ç©ºå­ç¬¦ä¸²ã\n\nprops.put(producerconfig.interceptor_classes_config, "");\n\n\n1\n\n\nkafkaproducerå¯ä»¥æå®å¤ä¸ªæ¦æªå¨å½¢ææ¦æªå¨é¾ãæ¦æªå¨é¾ä¼æç§interceptor.classesåæ°éç½®çæ¦æªå¨é¡ºåºä¸ä¸æ§è¡ï¼éç½®çæ¶åï¼å¤ä¸ªæ¦æªå¨ä¹é´ä½¿ç¨éå·åéã\n\nå¦ææ¦æªå¨é¾ä¸­çæä¸ªæ¦æªå¨çæ§è¡éè¦ä¾èµäºåä¸ä¸ªæ¦æªå¨çè¾åºï¼é£ä¹å°±æå¯è½äº§çå¯ä½ç¨ãå¦ææä¸ªæ¦æªå¨é¾æ§è¡å¤±è´¥ï¼é£ä¹ä¸ä¸ä¸ªæ¦æªå¨ä¼æ¥çä¸ä¸ä¸ªæ§è¡æåçæ¦æªå¨ç»§ç»­æ§è¡ã\n\n----------------------------------------',charsets:{cjk:!0},lastUpdated:"2023/11/04, 10:52:44",lastUpdatedTimestamp:1699066364e3},{title:"çäº§è-åçåæ",frontmatter:{title:"çäº§è-åçåæ",date:"2023-01-01T00:00:00.000Z",tags:["Kafka","æ¶æ¯éå"],categories:["Kafka"],description:"çäº§è-åçåæ",toc_number:!1,author:{name:"huidong.yin",link:"https://huidongyin.github.io"},permalink:"/pages/517a0a21-c440-3dd1-9e5e-a00d7a7fc18a/"},regularPath:"/03.%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97/00.Kafka/3.%E7%94%9F%E4%BA%A7%E8%80%85-%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90.html",relativePath:"03.æ¶æ¯éå/00.Kafka/3.çäº§è-åçåæ.md",key:"v-b4a5b7ac",path:"/pages/517a0a21-c440-3dd1-9e5e-a00d7a7fc18a/",headers:[{level:2,title:"1.æ´ä½æ¶æ",slug:"_1-æ´ä½æ¶æ",normalizedTitle:"1.æ´ä½æ¶æ",charIndex:73},{level:2,title:"2.åæ°æ®çæ´æ°",slug:"_2-åæ°æ®çæ´æ°",normalizedTitle:"2.åæ°æ®çæ´æ°",charIndex:2130},{level:2,title:"3.éè¦ççäº§èåæ°",slug:"_3-éè¦ççäº§èåæ°",normalizedTitle:"3.éè¦ççäº§èåæ°",charIndex:3284}],headersStr:"1.æ´ä½æ¶æ 2.åæ°æ®çæ´æ° 3.éè¦ççäº§èåæ°",content:'æ¬èä¸»è¦å¯¹kafkaçäº§èå®¢æ·ç«¯çåé¨åçè¿è¡åæã\n\n----------------------------------------\n\n\n# 1.æ´ä½æ¶æ\n\nçäº§èå®¢æ·ç«¯çæ´ä½æ¶æå¦ä¸æç¤ºã çäº§èå®¢æ·ç«¯ç±ä¸¤ä¸ªçº¿ç¨åè°è¿è¡ï¼è¿ä¸¤ä¸ªçº¿ç¨åå«æ¯ä¸»çº¿ç¨åSenderçº¿ç¨ãå¨ä¸»çº¿ç¨ä¸­ç±KafkaProduceråå»ºæ¶æ¯ï¼ç¶åéè¿å¯è½çæ¦æªå¨ï¼åºååå¨åååºå¨çä½ç¨ä¹åç¼å­å°æ¶æ¯ç´¯å å¨ä¸­ãSenderçº¿ç¨è´è´£ä»æ¶æ¯ç´¯å å¨ä¸­è·åæ¶æ¯å¹¶å°å¶åéå°kafkaã\n\næ¶æ¯ç´¯å å¨ä¸»è¦ç¨æ¥ç¼å­æ¶æ¯ä»¥ä¾¿Senderçº¿ç¨å¯ä»¥æ¹éåéï¼è¿èåå°ç½ç»ä¼ è¾çèµæºæ¶èä»¥æåæ§è½ãéè¿å®¢æ·ç«¯åæ°buffer.memoryå¯ä»¥æ§å¶æ¶æ¯ç´¯å å¨ç¼å­çå¤§å°ï¼é»è®¤ä¸º32MBãå¦æçäº§èåéæ¶æ¯çéåº¦è¶è¿æ¶æ¯åéå°æå¡å¨çéåº¦ï¼åä¼å¯¼è´çäº§èç©ºé´ä¸è¶³ï¼è¿ä¸ªæ¶åKafkaProducerçsendæ¹æ³è¦ä¹è¢«é»å¡ï¼è¦ä¹æåºå¼å¸¸ï¼è¿ä¸ªåå³äºåæ° max.block.msçéç½®ï¼æ­¤åæ°é»è®¤å¼æ¯60sã\n\nä¸»çº¿ç¨ä¸­åéè¿æ¥çæ¶æ¯é½ä¼è¢«è¿½å å°æ¶æ¯ç´¯å å¨çæä¸ªåç«¯éåä¸­ï¼å¨æ¶æ¯ç´¯å å¨åé¨ä¸ºæ¯ä¸ä¸ªååºé½ç»´æ¤äºä¸ä¸ªåç«¯éåï¼éåä¸­çåå®¹å°±æ¯ProducerBatch ï¼Deque<ProducerBatch>ï¼ãæ¶æ¯åå¥ç¼å­çæ¶åï¼è¿½å å°åç«¯éåçå°¾é¨ï¼Senderçº¿ç¨è¯»åæ¶æ¯çæ¶åä»åç«¯éåçå¤´é¨è¯»åã\n\n> ProducerBatchä¸æ¯ProducerReocrdãProducerBatchæ¯æä¸ä¸ªæ¶æ¯æ¹æ¬¡ï¼ProducerRecordä¼è¢«åå«å¨ProducerBatchä¸­ï¼å°å¤ä¸ªProducerRecordæ¼è£æä¸ä¸ªProducerBatchä¸æ¹é¢è½èçç©ºé´ï¼å¦ä¸æ¹é¢å¯ä»¥åå°ç½ç»è¯·æ±çæ¬¡æ°ä»¥æåæ´ä½çååéã\n\nå¦æçäº§èéè¦åå¾å¤ååºåéæ¶æ¯ï¼åå¯ä»¥å° buffer.memory åæ°è°å¤§ä»¥å¢å æ´ä½çååéã\n\næ¶æ¯å¨ç½ç»ä¸é½æ¯ä»¥å­èçå½¢å¼ä¼ è¾çï¼å¨åéä¹åéè¦åå»ºä¸ååå­åºåæ¥ä¿å­å¯¹åºçæ¶æ¯ãå¨kafkaçäº§èå®¢æ·ç«¯ä¸­ï¼éè¿ByteBufferå®ç°æ¶æ¯åå­çåå»ºåéæ¾ï¼å ä¸ºé¢ç¹çåå»ºåéæ¾æ¯è¾æ¶èèµæºï¼æä»¥ç´¯å å¨åé¨å¼å¥äºæ± åææ¯BufferPoolï¼å®ç°å¯¹ByteBufferçå¤ç¨ãä½æ¯BufferPoolä»ä»éå¯¹ç¹å®å¤§å°çByteBufferè¿è¡ç®¡çï¼å¶ä»å¤§å°çå¹¶ä¸ä¼ç¼å­ãè¿ä¸ªç¹å®å¤§å°ç±åæ° batch.sizeåæ°æå®ï¼é»è®¤æ¯16 KBã\n\nProducerBatchçå¤§å°å batch.sizeåæ°ä¹æå¾å¤§å³ç³»ãå½ä¸æ¡æ¶æ¯è¿å¥æ¶æ¯ç´¯å å¨ï¼ä¼åå¯»æ¾ä¸æ¶æ¯ååºå¯¹åºçåç«¯éåï¼æ²¡æåæ°å»ºï¼ï¼åä»è¿ä¸ªéåçå°¾é¨è·åä¸ä¸ªProducerBatchï¼æ²¡æåæ°å»ºï¼ï¼æ¥çè¿ä¸ªProducerBatchæ¯å¦è¿å¯ä»¥åå¥è¿æ¡æ¶æ¯ï¼å¦æå¯ä»¥ååå¥ï¼å¦æä¸å¯ä»¥åéè¦åå»ºä¸ä¸ªæ°çProducerBatchï¼å¨æ°å»ºProducerBatchçæ¶åä¼è¯ä¼°è¿æ¡æ¶æ¯å¤§å°æ¯å¦è¶è¿äº batch.sizeåæ°çå¤§å°ï¼å¦æä¸è¶è¿ï¼é£ä¹å°±ä»¥ batch.sizeåæ°çå¤§å°åå»ºProducerBatchï¼è¿æ ·å¨ä½¿ç¨å®è¿æ®µåå­åºåä¹åï¼å¯ä»¥éè¿BufferPoolçç®¡çæ¥è¿è¡å¤ç¨ï¼å¦æè¶è¿ï¼é£ä¹å°±ä»¥è¯ä¼°çå¤§å°æ¥åå»ºProducerBatchï¼ä½æ¯è¿æ®µåå­ä¸ä¼è¢«å¤ç¨ã\n\nSenderä»æ¶æ¯ç´¯å å¨ä¸­è·åç¼å­çæ¶æ¯ä¹åï¼ä¼è¿ä¸æ­¥å°åæ¬ç <ååºï¼Deque<ProducerBatch>>ç»æè½¬æ¢ä¸º <Node,List<ProducerRecord>>çç»æãå¶ä¸­Nodeè¡¨ç¤ºä¸kafkaè¿æ¥çBrokerèç¹ãå¯¹äºç½ç»è¿æ¥æ¥è¯´ï¼çäº§èå®¢æ·ç«¯æ¯ä¸å·ä½çBrokerå»ºç«çè¿æ¥ï¼ä¹å°±æ¯åå·ä½çBrokeråéæ¶æ¯ï¼èä¸å³å¿æ¶æ¯å±äºåªä¸ä¸ªååºï¼èå¯¹äºKafkaProducerçåºç¨å±æ¥è¯´ï¼åºç¨å±åªå³æ³¨å¾åªä¸ä¸ªååºåéæ¶æ¯ï¼æä»¥è¿ééè¦åä¸ä¸ªç»æè½¬æ¢ã\n\nå¨è¿è¡ç»æè½¬æ¢ä¹åï¼Senderè¿ä¼è¿ä¸æ­¥å°è£æ <Node,Request>ç»æï¼è¿æ ·å°±å¯ä»¥å°Requeståéå°åä¸ªBrokerèç¹äºï¼è¿éçRequestæçæ¯kafkaçåç§åè®®è¯·æ±ï¼å¯¹äºæ¶æ¯åéæ¥è¯´ï¼å°±æ¯æProducerRequestã\n\nè¯·æ±å¨ä»Senderçº¿ç¨åéå°kafkaä¹åè¿ä¼ä¿å­å°InFlightRequestsä¸­ï¼InFlightRequestsä¿å­å¯¹è±¡çå·ä½ç»ææ¯ï¼Map<NodeId,Deque<Request>>ï¼å®ç¼å­çæ¯å·²ç»ååºå»ä½æ¯è¿æ²¡ææ¶å°ååºçè¯·æ±ãéè¿åæ° max.in.flight.requests.per.connectionå¯ä»¥éå¶æ¯ä¸ªè¿æ¥æå¤ç¼å­çè¯·æ±æ°ï¼å®¢æ·ç«¯ä¸Nodeä¹é´çè¿æ¥ï¼ï¼é»è®¤æ¯5ï¼å³æ¯ä¸ªè¿æ¥æå¤åªè½ç¼å­5ä¸ªæªååºçè¯·æ±ï¼è¶è¿è¯¥æ°å¼ä¹åå°±ä¸ä¼ç»§ç»­å¾è¿ä¸ªè¿æ¥åéæ´å¤çè¯·æ±äºã\n\n> éè¿æ¯è¾Requestéåçå¤§å°åè¿ä¸ªåæ°çå¤§å°å¯ä»¥å¤æ­å¯¹åºçèç¹ä¸­æ¯å¦å·²ç»å ç§¯äºå¾å¤æªååºçæ¶æ¯ï¼å¦æç¡®å®å ç§¯äºï¼è¯´æè¿ä¸ªèç¹çè´è½½è¾å¤§æèç½ç»è¿æ¥æé®é¢ï¼å¨ç»§ç»­åè¿ä¸ªèç¹åéè¯·æ±ä¼å¢å¤§è¯·æ±è¶æ¶çå¯è½ã\n\n----------------------------------------\n\n\n# 2.åæ°æ®çæ´æ°\n\nInFlightRequestsè¿å¯ä»¥è·åå°leastLoadedNodeï¼å³ææNodeä¸­è´è½½æå°çé£ä¸ä¸ªãè¿éçè´è½½æå°æ¯éè¿æ¯ä¸ä¸ªNodeå¨InFlightRequestsä¸­è¿æªç¡®è®¤çè¯·æ±æ°ç¡®å®çï¼æªç¡®è®¤çè¯·æ±è¶å¤åè®¤ä¸ºè´è½½è¶å¤§ãéæ©leastLoadedNodeåéè¯·æ±å¯ä»¥ä½¿å®è½å¤å°½å¿«ååºï¼é¿åå ä¸ºç½ç»æ¥å¡ç­å¼å¸¸å ç´ èå½±åæ´ä½çè¿åº¦ã\n\néå¸¸æä»¬ä½¿ç¨å¦ä¸çæ¹å¼åå»ºä¸æ¡kafkaçæ¶æ¯ã\n\nProducerRecord<String, String> record=new ProducerRecord<>(topicName,"key","value");\n\n\n1\n\n\nKafkaProducerè¦å°è¿æ¡æ¶æ¯è¿½å å°æå®ä¸»é¢çæä¸ªååºæå¯¹åºçleaderå¯æ¬ä¹åï¼é¦åéè¦ç¥éä¸»é¢çååºæ°éï¼ç¶åç»è¿è®¡ç®å¾åºç®æ ååºï¼ä¹åKafkaProduceréè¦ç¥éç®æ ååºçleaderå¯æ¬æå¨çbrokerèç¹çå°åï¼ç«¯å£ç­ç­ä¿¡æ¯æè½å»ºç«è¿æ¥ï¼æç»æè½å°æ¶æ¯åéå°kafkaï¼å¨è¿ä¸è¿ç¨ä¸­æéè¦çä¿¡æ¯é½å±äºåæ°æ®ä¿¡æ¯ã\n\nåé¢è¯´è¿å¨éç½® bootstrap.servers åæ°åªéè¦éç½®é¨å brokerèç¹çå°åå³å¯ï¼ä¸éè¦éç½®ææçbrokerèç¹çå°åï¼å ä¸ºå®¢æ·ç«¯å¯ä»¥èªå·±åç°å¶ä»brokerèç¹çå°åï¼è¿ä¸è¿ç¨å¶å®ä¹å±äºåæ°æ®ç¸å³çæ´æ°æä½ãå¦å¤ï¼ååºæ°éä»¥åleaderå¯æ¬çåå¸é½ä¼å¨æå°ååï¼å®¢æ·ç«¯ä¹éè¦å¨æçææè¿äºååã\n\nåæ°æ®æ¯ækafkaéç¾¤çåæ°æ®ï¼è¿äºåæ°æ®å·ä½è®°å½äºéç¾¤ä¸­æåªäºä¸»é¢ï¼è¿äºä¸»é¢æåªäºååºï¼æ¯ä¸ªååºçleaderå¯æ¬åéå¨åªä¸ä¸ªèç¹ä¸ï¼followerå¯æ¬åéå¨åªäºèç¹ä¸ï¼åªäºå¯æ¬å¨ARï¼ISRç­éåä¸­ï¼éç¾¤ä¸­æåªäºèç¹ï¼æ§å¶å¨èç¹æ¯åªä¸ä¸ªç­ä¿¡æ¯ã\n\nå½å®¢æ·ç«¯ä¸­æ²¡æéè¦ä½¿ç¨çåæ°æ®ä¿¡æ¯æ¶ï¼æ¯å¦æ²¡ææå®çä¸»é¢ä¿¡æ¯ï¼æèè¶è¿ metadata.max.age.msåæ°è®¾ç½®çæ¶é´æ²¡ææ´æ°åæ°æ®é½ä¼å¼èµ·åæ°æ®çæ´æ°æä½ãmetadata.max.age.msåæ°é»è®¤æ¯5åéãåæ°æ®çæ´æ°æä½æ¯å¨å®¢æ·ç«¯åé¨è¿è¡çï¼å¯¹å®¢æ·ç«¯çå¤é¨ä½¿ç¨èä¸å¯è§ãå½éè¦æ´æ°åæ°æ®æ¶ï¼ä¼åæéåºleastLoadedNodeï¼ç¶ååè¿ä¸ªNodeåéMetadataRequestè¯·æ±æ¥è·åå·ä½çåæ°æ®ä¿¡æ¯ãè¿ä¸ªæ´æ°æä½æ¯ç±Senderçº¿ç¨åèµ·çï¼å¨åå»ºå®MetadataRequestä¹ååæ ·ä¼å­å¥InFlightRequestsã\n\nåæ°æ®è½ç¶ç±Senderçº¿ç¨æ´æ°ï¼ä½æ¯ä¸»çº¿ç¨ä¹éè¦è¯»åè¿äºä¿¡æ¯ï¼è¿éçæ°æ®åæ­¥éè¿synchronizedåfinalå³é®å­æ¥ä¿éã\n\n----------------------------------------\n\n\n# 3.éè¦ççäº§èåæ°\n\nå¨KafkaProducerä¸­ï¼é¤äº3ä¸ªé»è®¤çå®¢æ·ç«¯åæ°ï¼å¤§é¨åçåæ°é½æåççé»è®¤å¼ï¼ä¸è¬ä¸éè¦ä¿®æ¹å®ä»¬ãä¸è¿äºè§£è¿äºåæ°å¯ä»¥è®©æä»¬æ´åçå°ä½¿ç¨çäº§èå®¢æ·ç«¯ï¼\n\n 1. acks\n\nè¿ä¸ªåæ°**ç¨æ¥æå®ååºä¸­å¿é¡»è¦æå¤å°ä¸ªå¯æ¬æ¶å°è¿æ¡æ¶æ¯ï¼ä¹åçäº§èæä¼è®¤ä¸ºè¿æ¡æ¶æ¯æ¯æååå¥çã**acksæ¯çäº§èå®¢æ·ç«¯ä¸­ä¸ä¸ªéå¸¸éè¦çåæ°ï¼å®æ¶åæ¶æ¯çå¯é æ§åååéä¹é´çæè¡¡ãacksåæ°æ3ç§ç±»åçå¼(é½æ¯å­ç¬¦ä¸²ç±»å)ã\n\n * acks=1ãé»è®¤å¼å³ä¸º1ãçäº§èåéæ¶æ¯ä¹åï¼åªè¦ååºçleaderå¯æ¬æååå¥æ¶æ¯ï¼é£ä¹å®å°±ä¼æ¶å°æ¥èªæå¡ç«¯çæåååºãå¦ææ¶æ¯æ æ³åå¥ leaderå¯æ¬ï¼æ¯å¦å¨ leaderå¯æ¬å´©æºãéæ°éä¸¾æ°çleaderå¯æ¬çè¿ç¨ä¸­ï¼é£ä¹çäº§èå°±ä¼æ¶å°ä¸ä¸ªéè¯¯çååºï¼ä¸ºäºé¿åæ¶æ¯ä¸¢å¤±ï¼çäº§èå¯ä»¥éæ©éåæ¶æ¯ãå¦ææ¶æ¯åå¥leaderå¯æ¬å¹¶è¿åæåååºç»çäº§èï¼ä¸å¨è¢«å¶ä»followerå¯æ¬æåä¹åleaderå¯æ¬å´©æºï¼é£ä¹æ­¤æ¶æ¶æ¯è¿æ¯ä¼ä¸¢å¤±ï¼å ä¸ºæ°éä¸¾çleaderå¯æ¬ä¸­å¹¶æ²¡æè¿æ¡å¯¹åºçæ¶æ¯ãacksè®¾ç½®ä¸º1ï¼æ¯æ¶æ¯å¯é æ§åååéä¹é´çæä¸­æ¹æ¡ã\n * acks =0ã**çäº§èåéæ¶æ¯ä¹åä¸éè¦ç­å¾ä»»ä½æå¡ç«¯çååºã**å¦æå¨æ¶æ¯ä»åéå°åå¥Kafkaçè¿ç¨ä¸­åºç°æäºå¼å¸¸ï¼å¯¼è´Kafkaå¹¶æ²¡ææ¶å°è¿æ¡æ¶æ¯ï¼é£ä¹çäº§èä¹æ ä»å¾ç¥ï¼æ¶æ¯ä¹å°±ä¸¢å¤±äºãå¨å¶ä»éç½®ç¯å¢ç¸åçæåµä¸ï¼acksè®¾ç½®ä¸º0å¯ä»¥è¾¾å°æå¤§çååéã\n * acks =-1æacks =allãçäº§èå¨æ¶æ¯åéä¹åï¼**éè¦ç­å¾ISRä¸­çææå¯æ¬é½æååå¥æ¶æ¯ä¹åæè½å¤æ¶å°æ¥èªæå¡ç«¯çæåååºã**å¨å¶ä»éç½®ç¯å¢ç¸åçæåµä¸ï¼ acks è®¾ç½®ä¸º-1(all)å¯ä»¥è¾¾å°æå¼ºçå¯é æ§ãä½è¿å¹¶ä¸æå³çæ¶æ¯å°±ä¸å®å¯é ï¼å ä¸ºISRä¸­å¯è½åªæleaderå¯æ¬ï¼è¿æ ·å°±éåæäºacks=1çæåµãè¦è·å¾æ´é«çæ¶æ¯å¯é æ§éè¦éåmin.insync.replicasç­åæ°çèå¨ã\n\n**acks åæ°éç½®çå¼æ¯ä¸ä¸ªå­ç¬¦ä¸²ç±»åï¼èä¸æ¯æ´æ°ç±»åã**ä¸¾ä¸ªä¾å­ï¼å°acksåæ°è®¾ç½®ä¸º0ï¼éè¦éç¨ä¸é¢è¿ç§å½¢å¼:\n\nprops.put(ProducerConfig.ACKS_CONFIG,"0");\n\n\n1\n\n 2. max.request.size\n\nè¿ä¸ªåæ°ç¨æ¥éå¶çäº§èå®¢æ·ç«¯è½åéçæ¶æ¯çæå¤§å¼ï¼é»è®¤å¼ä¸º1MBã\n\nä¸è¬æåµä¸,è¿ä¸ªé»è®¤å¼å°±å¯ä»¥æ»¡è¶³å¤§å¤æ°çåºç¨åºæ¯äºãä¸å»ºè®®ç²ç®å°å¢å¤§è¿ä¸ªåæ°çéç½®å¼ï¼å ä¸ºè¿ä¸ªåæ°è¿æ¶åä¸äºå¶ä»åæ°çèå¨ï¼æ¯å¦brokerç«¯çmessage.max.bytesåæ°ï¼å¦æéç½®éè¯¯å¯è½ä¼å¼èµ·ä¸äºä¸å¿è¦çå¼å¸¸ã\n\n 3. retries å retry.backoff.ms\n\nretries åæ°ç¨æ¥éç½®çäº§èéè¯çæ¬¡æ°ï¼é»è®¤å¼ä¸º0ï¼å³å¨åçå¼å¸¸çæ¶åä¸è¿è¡ä»»ä½éè¯å¨ä½ãæ¶æ¯å¨ä»çäº§èååºå°æååå¥æå¡å¨ä¹åå¯è½åçä¸äºä¸´æ¶æ§çå¼å¸¸ï¼æ¯å¦ç½ç»æå¨ãleaderå¯æ¬çéä¸¾ç­ï¼è¿ç§å¼å¸¸å¾å¾æ¯å¯ä»¥èªè¡æ¢å¤çï¼çäº§èå¯ä»¥éè¿éç½®retrieså¤§äº0çå¼ï¼ä»¥æ­¤éè¿åé¨éè¯æ¥æ¢å¤èä¸æ¯ä¸å³å°å°å¼å¸¸æç»çäº§èçåºç¨ç¨åºãå¦æéè¯è¾¾å°è®¾å®çæ¬¡æ°ï¼é£ä¹çäº§èå°±ä¼æ¾å¼éè¯å¹¶è¿åå¼å¸¸ãä¸è¿å¹¶ä¸æ¯ææçå¼å¸¸é½æ¯å¯ä»¥éè¿éè¯æ¥è§£å³çï¼æ¯å¦æ¶æ¯å¤ªå¤§ï¼è¶è¿max.request.sizeåæ°éç½®çå¼æ¶ï¼è¿ç§æ¹å¼å°±ä¸å¯è¡äºã\n\néè¯è¿åå¦ä¸ä¸ªåæ°retry.backoff.msæå³ï¼è¿ä¸ªåæ°çé»è®¤å¼ä¸º100,å®ç¨æ¥è®¾å®ä¸¤æ¬¡éè¯ä¹é´çæ¶é´é´éï¼é¿åæ æçé¢ç¹éè¯ãå¨éç½®retries å retry.backoff.msä¹åï¼æå¥½åä¼°ç®ä¸ä¸å¯è½çå¼å¸¸æ¢å¤æ¶é´ï¼è¿æ ·å¯ä»¥è®¾å®æ»çéè¯æ¶é´å¤§äºè¿ä¸ªå¼å¸¸æ¢å¤æ¶é´ï¼ä»¥æ­¤æ¥é¿åçäº§èè¿æ©å°æ¾å¼éè¯ã\n\nKafkaå¯ä»¥ä¿è¯åä¸ä¸ªååºä¸­çæ¶æ¯æ¯æåºçãå¦æçäº§èæç§ä¸å®çé¡ºåºåéæ¶æ¯ï¼é£ä¹è¿äºæ¶æ¯ä¹ä¼é¡ºåºå°åå¥ååºï¼è¿èæ¶è´¹èä¹å¯ä»¥æç§åæ ·çé¡ºåºæ¶è´¹å®ä»¬ã\n\nå¦æå° retriesåæ°éç½®ä¸ºéé¶å¼ï¼å¹¶ä¸max.in.flight.requests.per.connectionåæ°éç½®ä¸ºå¤§äº1çå¼ï¼é£ä¹å°±ä¼åºç°éåºçç°è±¡:å¦æç¬¬ä¸æ¹æ¬¡æ¶æ¯åå¥å¤±è´¥ï¼èç¬¬äºæ¹æ¬¡æ¶æ¯åå¥æåï¼é£ä¹çäº§èä¼éè¯åéç¬¬ä¸æ¹æ¬¡çæ¶æ¯ï¼æ­¤æ¶å¦æç¬¬ä¸æ¹æ¬¡çæ¶æ¯åå¥æåï¼é£ä¹è¿ä¸¤ä¸ªæ¹æ¬¡çæ¶æ¯å°±åºç°äºéåºãä¸è¬èè¨ï¼å¨éè¦ä¿è¯æ¶æ¯é¡ºåºçåºåå»ºè®®æåæ° max.in.flight.requests .per.connectionéç½®ä¸º1ï¼èä¸æ¯æretries éç½®ä¸º0ï¼ä¸è¿è¿æ ·ä¹ä¼å½±åæ´ä½çååã\n\n 4. compression.type\n\nè¿ä¸ªåæ°**ç¨æ¥æå®æ¶æ¯çåç¼©æ¹å¼ï¼é»è®¤å¼ä¸ºânoneâï¼å³é»è®¤æåµä¸ï¼æ¶æ¯ä¸ä¼è¢«åç¼©ã**è¯¥åæ°è¿å¯ä»¥éç½®ä¸ºâgzipââsnappyâåâlz4âãå¯¹æ¶æ¯è¿è¡åç¼©å¯ä»¥æå¤§å°åå°ç½ç»ä¼ è¾éãéä½ç½ç»I/Oï¼ä»èæé«æ´ä½çæ§è½ãæ¶æ¯åç¼©æ¯ä¸ç§ä½¿ç¨æ¶é´æ¢ç©ºé´çä¼åæ¹å¼ï¼å¦æå¯¹æ¶å»¶æä¸å®çè¦æ±ï¼åä¸æ¨èå¯¹æ¶æ¯è¿è¡åç¼©ã\n\n 5. connections.max.idle.ms\n\nè¿ä¸ªåæ°ç¨æ¥æå®å¨å¤ä¹ä¹åå³é­é²ç½®çè¿æ¥ï¼é»è®¤å¼æ¯540000(ms)ï¼å³9åéã\n\n 6. linger.ms\n\nè¿ä¸ªåæ°ç¨æ¥æå®çäº§èåéProducerBatchä¹åç­å¾æ´å¤æ¶æ¯(ProducerRecord)å å¥ ProducerBatchçæ¶é´ï¼é»è®¤å¼ä¸º0ãçäº§èå®¢æ·ç«¯ä¼å¨ProducerBatchè¢«å¡«æ»¡æç­å¾æ¶é´è¶è¿ linger.ms å¼æ¶åéåºå»ã(å¢å¤§è¿ä¸ªåæ°çå¼ä¼å¢å æ¶æ¯çå»¶è¿ï¼ä½æ¯åæ¶è½æåä¸å®çååéã)\n\n 7. receive.buffer.bytes\n\nè¿ä¸ªåæ°ç¨æ¥è®¾ç½®Socketæ¥æ¶æ¶æ¯ç¼å²åº(SO_RECBUF)çå¤§å°ï¼é»è®¤å¼ä¸º32KBãå¦æè®¾ç½®ä¸º-1ï¼åä½¿ç¨æä½ç³»ç»çé»è®¤å¼ãå¦æProducerä¸Kafkaå¤äºä¸åçæºæ¿ï¼åå¯ä»¥éå°è°å¤§è¿ä¸ªåæ°å¼ã\n\n 8. send.buffer.bytes\n\nè¿ä¸ªåæ°ç¨æ¥è®¾ç½®Socketåéæ¶æ¯ç¼å²åº(SO_SNDBUF)çå¤§å°ï¼é»è®¤å¼ä¸º128KBã ä¸receive.buffer.bytesåæ°ä¸æ ·ï¼å¦æè®¾ç½®ä¸º-1ï¼åä½¿ç¨æä½ç³»ç»çé»è®¤å¼ã\n\n 9. request.timeout.ms\n\nè¿ä¸ªåæ°**ç¨æ¥éç½® Producerç­å¾è¯·æ±ååºçæé¿æ¶é´ï¼é»è®¤å¼ä¸º30000(ms)ã**è¯·æ±è¶æ¶ä¹åå¯ä»¥éæ©è¿è¡éè¯ãæ³¨æè¿ä¸ªåæ°éè¦æ¯brokerç«¯åæ°replica.lag.time.max.msçå¼è¦å¤§ï¼è¿æ ·å¯ä»¥åå°å å®¢æ·ç«¯éè¯èå¼èµ·çæ¶æ¯éå¤çæ¦çã\n\n----------------------------------------',normalizedContent:'æ¬èä¸»è¦å¯¹kafkaçäº§èå®¢æ·ç«¯çåé¨åçè¿è¡åæã\n\n----------------------------------------\n\n\n# 1.æ´ä½æ¶æ\n\nçäº§èå®¢æ·ç«¯çæ´ä½æ¶æå¦ä¸æç¤ºã çäº§èå®¢æ·ç«¯ç±ä¸¤ä¸ªçº¿ç¨åè°è¿è¡ï¼è¿ä¸¤ä¸ªçº¿ç¨åå«æ¯ä¸»çº¿ç¨åsenderçº¿ç¨ãå¨ä¸»çº¿ç¨ä¸­ç±kafkaproduceråå»ºæ¶æ¯ï¼ç¶åéè¿å¯è½çæ¦æªå¨ï¼åºååå¨åååºå¨çä½ç¨ä¹åç¼å­å°æ¶æ¯ç´¯å å¨ä¸­ãsenderçº¿ç¨è´è´£ä»æ¶æ¯ç´¯å å¨ä¸­è·åæ¶æ¯å¹¶å°å¶åéå°kafkaã\n\næ¶æ¯ç´¯å å¨ä¸»è¦ç¨æ¥ç¼å­æ¶æ¯ä»¥ä¾¿senderçº¿ç¨å¯ä»¥æ¹éåéï¼è¿èåå°ç½ç»ä¼ è¾çèµæºæ¶èä»¥æåæ§è½ãéè¿å®¢æ·ç«¯åæ°buffer.memoryå¯ä»¥æ§å¶æ¶æ¯ç´¯å å¨ç¼å­çå¤§å°ï¼é»è®¤ä¸º32mbãå¦æçäº§èåéæ¶æ¯çéåº¦è¶è¿æ¶æ¯åéå°æå¡å¨çéåº¦ï¼åä¼å¯¼è´çäº§èç©ºé´ä¸è¶³ï¼è¿ä¸ªæ¶åkafkaproducerçsendæ¹æ³è¦ä¹è¢«é»å¡ï¼è¦ä¹æåºå¼å¸¸ï¼è¿ä¸ªåå³äºåæ° max.block.msçéç½®ï¼æ­¤åæ°é»è®¤å¼æ¯60sã\n\nä¸»çº¿ç¨ä¸­åéè¿æ¥çæ¶æ¯é½ä¼è¢«è¿½å å°æ¶æ¯ç´¯å å¨çæä¸ªåç«¯éåä¸­ï¼å¨æ¶æ¯ç´¯å å¨åé¨ä¸ºæ¯ä¸ä¸ªååºé½ç»´æ¤äºä¸ä¸ªåç«¯éåï¼éåä¸­çåå®¹å°±æ¯producerbatch ï¼deque<producerbatch>ï¼ãæ¶æ¯åå¥ç¼å­çæ¶åï¼è¿½å å°åç«¯éåçå°¾é¨ï¼senderçº¿ç¨è¯»åæ¶æ¯çæ¶åä»åç«¯éåçå¤´é¨è¯»åã\n\n> producerbatchä¸æ¯producerreocrdãproducerbatchæ¯æä¸ä¸ªæ¶æ¯æ¹æ¬¡ï¼producerrecordä¼è¢«åå«å¨producerbatchä¸­ï¼å°å¤ä¸ªproducerrecordæ¼è£æä¸ä¸ªproducerbatchä¸æ¹é¢è½èçç©ºé´ï¼å¦ä¸æ¹é¢å¯ä»¥åå°ç½ç»è¯·æ±çæ¬¡æ°ä»¥æåæ´ä½çååéã\n\nå¦æçäº§èéè¦åå¾å¤ååºåéæ¶æ¯ï¼åå¯ä»¥å° buffer.memory åæ°è°å¤§ä»¥å¢å æ´ä½çååéã\n\næ¶æ¯å¨ç½ç»ä¸é½æ¯ä»¥å­èçå½¢å¼ä¼ è¾çï¼å¨åéä¹åéè¦åå»ºä¸ååå­åºåæ¥ä¿å­å¯¹åºçæ¶æ¯ãå¨kafkaçäº§èå®¢æ·ç«¯ä¸­ï¼éè¿bytebufferå®ç°æ¶æ¯åå­çåå»ºåéæ¾ï¼å ä¸ºé¢ç¹çåå»ºåéæ¾æ¯è¾æ¶èèµæºï¼æä»¥ç´¯å å¨åé¨å¼å¥äºæ± åææ¯bufferpoolï¼å®ç°å¯¹bytebufferçå¤ç¨ãä½æ¯bufferpoolä»ä»éå¯¹ç¹å®å¤§å°çbytebufferè¿è¡ç®¡çï¼å¶ä»å¤§å°çå¹¶ä¸ä¼ç¼å­ãè¿ä¸ªç¹å®å¤§å°ç±åæ° batch.sizeåæ°æå®ï¼é»è®¤æ¯16 kbã\n\nproducerbatchçå¤§å°å batch.sizeåæ°ä¹æå¾å¤§å³ç³»ãå½ä¸æ¡æ¶æ¯è¿å¥æ¶æ¯ç´¯å å¨ï¼ä¼åå¯»æ¾ä¸æ¶æ¯ååºå¯¹åºçåç«¯éåï¼æ²¡æåæ°å»ºï¼ï¼åä»è¿ä¸ªéåçå°¾é¨è·åä¸ä¸ªproducerbatchï¼æ²¡æåæ°å»ºï¼ï¼æ¥çè¿ä¸ªproducerbatchæ¯å¦è¿å¯ä»¥åå¥è¿æ¡æ¶æ¯ï¼å¦æå¯ä»¥ååå¥ï¼å¦æä¸å¯ä»¥åéè¦åå»ºä¸ä¸ªæ°çproducerbatchï¼å¨æ°å»ºproducerbatchçæ¶åä¼è¯ä¼°è¿æ¡æ¶æ¯å¤§å°æ¯å¦è¶è¿äº batch.sizeåæ°çå¤§å°ï¼å¦æä¸è¶è¿ï¼é£ä¹å°±ä»¥ batch.sizeåæ°çå¤§å°åå»ºproducerbatchï¼è¿æ ·å¨ä½¿ç¨å®è¿æ®µåå­åºåä¹åï¼å¯ä»¥éè¿bufferpoolçç®¡çæ¥è¿è¡å¤ç¨ï¼å¦æè¶è¿ï¼é£ä¹å°±ä»¥è¯ä¼°çå¤§å°æ¥åå»ºproducerbatchï¼ä½æ¯è¿æ®µåå­ä¸ä¼è¢«å¤ç¨ã\n\nsenderä»æ¶æ¯ç´¯å å¨ä¸­è·åç¼å­çæ¶æ¯ä¹åï¼ä¼è¿ä¸æ­¥å°åæ¬ç <ååºï¼deque<producerbatch>>ç»æè½¬æ¢ä¸º <node,list<producerrecord>>çç»æãå¶ä¸­nodeè¡¨ç¤ºä¸kafkaè¿æ¥çbrokerèç¹ãå¯¹äºç½ç»è¿æ¥æ¥è¯´ï¼çäº§èå®¢æ·ç«¯æ¯ä¸å·ä½çbrokerå»ºç«çè¿æ¥ï¼ä¹å°±æ¯åå·ä½çbrokeråéæ¶æ¯ï¼èä¸å³å¿æ¶æ¯å±äºåªä¸ä¸ªååºï¼èå¯¹äºkafkaproducerçåºç¨å±æ¥è¯´ï¼åºç¨å±åªå³æ³¨å¾åªä¸ä¸ªååºåéæ¶æ¯ï¼æä»¥è¿ééè¦åä¸ä¸ªç»æè½¬æ¢ã\n\nå¨è¿è¡ç»æè½¬æ¢ä¹åï¼senderè¿ä¼è¿ä¸æ­¥å°è£æ <node,request>ç»æï¼è¿æ ·å°±å¯ä»¥å°requeståéå°åä¸ªbrokerèç¹äºï¼è¿éçrequestæçæ¯kafkaçåç§åè®®è¯·æ±ï¼å¯¹äºæ¶æ¯åéæ¥è¯´ï¼å°±æ¯æproducerrequestã\n\nè¯·æ±å¨ä»senderçº¿ç¨åéå°kafkaä¹åè¿ä¼ä¿å­å°inflightrequestsä¸­ï¼inflightrequestsä¿å­å¯¹è±¡çå·ä½ç»ææ¯ï¼map<nodeid,deque<request>>ï¼å®ç¼å­çæ¯å·²ç»ååºå»ä½æ¯è¿æ²¡ææ¶å°ååºçè¯·æ±ãéè¿åæ° max.in.flight.requests.per.connectionå¯ä»¥éå¶æ¯ä¸ªè¿æ¥æå¤ç¼å­çè¯·æ±æ°ï¼å®¢æ·ç«¯ä¸nodeä¹é´çè¿æ¥ï¼ï¼é»è®¤æ¯5ï¼å³æ¯ä¸ªè¿æ¥æå¤åªè½ç¼å­5ä¸ªæªååºçè¯·æ±ï¼è¶è¿è¯¥æ°å¼ä¹åå°±ä¸ä¼ç»§ç»­å¾è¿ä¸ªè¿æ¥åéæ´å¤çè¯·æ±äºã\n\n> éè¿æ¯è¾requestéåçå¤§å°åè¿ä¸ªåæ°çå¤§å°å¯ä»¥å¤æ­å¯¹åºçèç¹ä¸­æ¯å¦å·²ç»å ç§¯äºå¾å¤æªååºçæ¶æ¯ï¼å¦æç¡®å®å ç§¯äºï¼è¯´æè¿ä¸ªèç¹çè´è½½è¾å¤§æèç½ç»è¿æ¥æé®é¢ï¼å¨ç»§ç»­åè¿ä¸ªèç¹åéè¯·æ±ä¼å¢å¤§è¯·æ±è¶æ¶çå¯è½ã\n\n----------------------------------------\n\n\n# 2.åæ°æ®çæ´æ°\n\ninflightrequestsè¿å¯ä»¥è·åå°leastloadednodeï¼å³æænodeä¸­è´è½½æå°çé£ä¸ä¸ªãè¿éçè´è½½æå°æ¯éè¿æ¯ä¸ä¸ªnodeå¨inflightrequestsä¸­è¿æªç¡®è®¤çè¯·æ±æ°ç¡®å®çï¼æªç¡®è®¤çè¯·æ±è¶å¤åè®¤ä¸ºè´è½½è¶å¤§ãéæ©leastloadednodeåéè¯·æ±å¯ä»¥ä½¿å®è½å¤å°½å¿«ååºï¼é¿åå ä¸ºç½ç»æ¥å¡ç­å¼å¸¸å ç´ èå½±åæ´ä½çè¿åº¦ã\n\néå¸¸æä»¬ä½¿ç¨å¦ä¸çæ¹å¼åå»ºä¸æ¡kafkaçæ¶æ¯ã\n\nproducerrecord<string, string> record=new producerrecord<>(topicname,"key","value");\n\n\n1\n\n\nkafkaproducerè¦å°è¿æ¡æ¶æ¯è¿½å å°æå®ä¸»é¢çæä¸ªååºæå¯¹åºçleaderå¯æ¬ä¹åï¼é¦åéè¦ç¥éä¸»é¢çååºæ°éï¼ç¶åç»è¿è®¡ç®å¾åºç®æ ååºï¼ä¹åkafkaproduceréè¦ç¥éç®æ ååºçleaderå¯æ¬æå¨çbrokerèç¹çå°åï¼ç«¯å£ç­ç­ä¿¡æ¯æè½å»ºç«è¿æ¥ï¼æç»æè½å°æ¶æ¯åéå°kafkaï¼å¨è¿ä¸è¿ç¨ä¸­æéè¦çä¿¡æ¯é½å±äºåæ°æ®ä¿¡æ¯ã\n\nåé¢è¯´è¿å¨éç½® bootstrap.servers åæ°åªéè¦éç½®é¨å brokerèç¹çå°åå³å¯ï¼ä¸éè¦éç½®ææçbrokerèç¹çå°åï¼å ä¸ºå®¢æ·ç«¯å¯ä»¥èªå·±åç°å¶ä»brokerèç¹çå°åï¼è¿ä¸è¿ç¨å¶å®ä¹å±äºåæ°æ®ç¸å³çæ´æ°æä½ãå¦å¤ï¼ååºæ°éä»¥åleaderå¯æ¬çåå¸é½ä¼å¨æå°ååï¼å®¢æ·ç«¯ä¹éè¦å¨æçææè¿äºååã\n\nåæ°æ®æ¯ækafkaéç¾¤çåæ°æ®ï¼è¿äºåæ°æ®å·ä½è®°å½äºéç¾¤ä¸­æåªäºä¸»é¢ï¼è¿äºä¸»é¢æåªäºååºï¼æ¯ä¸ªååºçleaderå¯æ¬åéå¨åªä¸ä¸ªèç¹ä¸ï¼followerå¯æ¬åéå¨åªäºèç¹ä¸ï¼åªäºå¯æ¬å¨arï¼isrç­éåä¸­ï¼éç¾¤ä¸­æåªäºèç¹ï¼æ§å¶å¨èç¹æ¯åªä¸ä¸ªç­ä¿¡æ¯ã\n\nå½å®¢æ·ç«¯ä¸­æ²¡æéè¦ä½¿ç¨çåæ°æ®ä¿¡æ¯æ¶ï¼æ¯å¦æ²¡ææå®çä¸»é¢ä¿¡æ¯ï¼æèè¶è¿ metadata.max.age.msåæ°è®¾ç½®çæ¶é´æ²¡ææ´æ°åæ°æ®é½ä¼å¼èµ·åæ°æ®çæ´æ°æä½ãmetadata.max.age.msåæ°é»è®¤æ¯5åéãåæ°æ®çæ´æ°æä½æ¯å¨å®¢æ·ç«¯åé¨è¿è¡çï¼å¯¹å®¢æ·ç«¯çå¤é¨ä½¿ç¨èä¸å¯è§ãå½éè¦æ´æ°åæ°æ®æ¶ï¼ä¼åæéåºleastloadednodeï¼ç¶ååè¿ä¸ªnodeåémetadatarequestè¯·æ±æ¥è·åå·ä½çåæ°æ®ä¿¡æ¯ãè¿ä¸ªæ´æ°æä½æ¯ç±senderçº¿ç¨åèµ·çï¼å¨åå»ºå®metadatarequestä¹ååæ ·ä¼å­å¥inflightrequestsã\n\nåæ°æ®è½ç¶ç±senderçº¿ç¨æ´æ°ï¼ä½æ¯ä¸»çº¿ç¨ä¹éè¦è¯»åè¿äºä¿¡æ¯ï¼è¿éçæ°æ®åæ­¥éè¿synchronizedåfinalå³é®å­æ¥ä¿éã\n\n----------------------------------------\n\n\n# 3.éè¦ççäº§èåæ°\n\nå¨kafkaproducerä¸­ï¼é¤äº3ä¸ªé»è®¤çå®¢æ·ç«¯åæ°ï¼å¤§é¨åçåæ°é½æåççé»è®¤å¼ï¼ä¸è¬ä¸éè¦ä¿®æ¹å®ä»¬ãä¸è¿äºè§£è¿äºåæ°å¯ä»¥è®©æä»¬æ´åçå°ä½¿ç¨çäº§èå®¢æ·ç«¯ï¼\n\n 1. acks\n\nè¿ä¸ªåæ°**ç¨æ¥æå®ååºä¸­å¿é¡»è¦æå¤å°ä¸ªå¯æ¬æ¶å°è¿æ¡æ¶æ¯ï¼ä¹åçäº§èæä¼è®¤ä¸ºè¿æ¡æ¶æ¯æ¯æååå¥çã**acksæ¯çäº§èå®¢æ·ç«¯ä¸­ä¸ä¸ªéå¸¸éè¦çåæ°ï¼å®æ¶åæ¶æ¯çå¯é æ§åååéä¹é´çæè¡¡ãacksåæ°æ3ç§ç±»åçå¼(é½æ¯å­ç¬¦ä¸²ç±»å)ã\n\n * acks=1ãé»è®¤å¼å³ä¸º1ãçäº§èåéæ¶æ¯ä¹åï¼åªè¦ååºçleaderå¯æ¬æååå¥æ¶æ¯ï¼é£ä¹å®å°±ä¼æ¶å°æ¥èªæå¡ç«¯çæåååºãå¦ææ¶æ¯æ æ³åå¥ leaderå¯æ¬ï¼æ¯å¦å¨ leaderå¯æ¬å´©æºãéæ°éä¸¾æ°çleaderå¯æ¬çè¿ç¨ä¸­ï¼é£ä¹çäº§èå°±ä¼æ¶å°ä¸ä¸ªéè¯¯çååºï¼ä¸ºäºé¿åæ¶æ¯ä¸¢å¤±ï¼çäº§èå¯ä»¥éæ©éåæ¶æ¯ãå¦ææ¶æ¯åå¥leaderå¯æ¬å¹¶è¿åæåååºç»çäº§èï¼ä¸å¨è¢«å¶ä»followerå¯æ¬æåä¹åleaderå¯æ¬å´©æºï¼é£ä¹æ­¤æ¶æ¶æ¯è¿æ¯ä¼ä¸¢å¤±ï¼å ä¸ºæ°éä¸¾çleaderå¯æ¬ä¸­å¹¶æ²¡æè¿æ¡å¯¹åºçæ¶æ¯ãacksè®¾ç½®ä¸º1ï¼æ¯æ¶æ¯å¯é æ§åååéä¹é´çæä¸­æ¹æ¡ã\n * acks =0ã**çäº§èåéæ¶æ¯ä¹åä¸éè¦ç­å¾ä»»ä½æå¡ç«¯çååºã**å¦æå¨æ¶æ¯ä»åéå°åå¥kafkaçè¿ç¨ä¸­åºç°æäºå¼å¸¸ï¼å¯¼è´kafkaå¹¶æ²¡ææ¶å°è¿æ¡æ¶æ¯ï¼é£ä¹çäº§èä¹æ ä»å¾ç¥ï¼æ¶æ¯ä¹å°±ä¸¢å¤±äºãå¨å¶ä»éç½®ç¯å¢ç¸åçæåµä¸ï¼acksè®¾ç½®ä¸º0å¯ä»¥è¾¾å°æå¤§çååéã\n * acks =-1æacks =allãçäº§èå¨æ¶æ¯åéä¹åï¼**éè¦ç­å¾isrä¸­çææå¯æ¬é½æååå¥æ¶æ¯ä¹åæè½å¤æ¶å°æ¥èªæå¡ç«¯çæåååºã**å¨å¶ä»éç½®ç¯å¢ç¸åçæåµä¸ï¼ acks è®¾ç½®ä¸º-1(all)å¯ä»¥è¾¾å°æå¼ºçå¯é æ§ãä½è¿å¹¶ä¸æå³çæ¶æ¯å°±ä¸å®å¯é ï¼å ä¸ºisrä¸­å¯è½åªæleaderå¯æ¬ï¼è¿æ ·å°±éåæäºacks=1çæåµãè¦è·å¾æ´é«çæ¶æ¯å¯é æ§éè¦éåmin.insync.replicasç­åæ°çèå¨ã\n\n**acks åæ°éç½®çå¼æ¯ä¸ä¸ªå­ç¬¦ä¸²ç±»åï¼èä¸æ¯æ´æ°ç±»åã**ä¸¾ä¸ªä¾å­ï¼å°acksåæ°è®¾ç½®ä¸º0ï¼éè¦éç¨ä¸é¢è¿ç§å½¢å¼:\n\nprops.put(producerconfig.acks_config,"0");\n\n\n1\n\n 2. max.request.size\n\nè¿ä¸ªåæ°ç¨æ¥éå¶çäº§èå®¢æ·ç«¯è½åéçæ¶æ¯çæå¤§å¼ï¼é»è®¤å¼ä¸º1mbã\n\nä¸è¬æåµä¸,è¿ä¸ªé»è®¤å¼å°±å¯ä»¥æ»¡è¶³å¤§å¤æ°çåºç¨åºæ¯äºãä¸å»ºè®®ç²ç®å°å¢å¤§è¿ä¸ªåæ°çéç½®å¼ï¼å ä¸ºè¿ä¸ªåæ°è¿æ¶åä¸äºå¶ä»åæ°çèå¨ï¼æ¯å¦brokerç«¯çmessage.max.bytesåæ°ï¼å¦æéç½®éè¯¯å¯è½ä¼å¼èµ·ä¸äºä¸å¿è¦çå¼å¸¸ã\n\n 3. retries å retry.backoff.ms\n\nretries åæ°ç¨æ¥éç½®çäº§èéè¯çæ¬¡æ°ï¼é»è®¤å¼ä¸º0ï¼å³å¨åçå¼å¸¸çæ¶åä¸è¿è¡ä»»ä½éè¯å¨ä½ãæ¶æ¯å¨ä»çäº§èååºå°æååå¥æå¡å¨ä¹åå¯è½åçä¸äºä¸´æ¶æ§çå¼å¸¸ï¼æ¯å¦ç½ç»æå¨ãleaderå¯æ¬çéä¸¾ç­ï¼è¿ç§å¼å¸¸å¾å¾æ¯å¯ä»¥èªè¡æ¢å¤çï¼çäº§èå¯ä»¥éè¿éç½®retrieså¤§äº0çå¼ï¼ä»¥æ­¤éè¿åé¨éè¯æ¥æ¢å¤èä¸æ¯ä¸å³å°å°å¼å¸¸æç»çäº§èçåºç¨ç¨åºãå¦æéè¯è¾¾å°è®¾å®çæ¬¡æ°ï¼é£ä¹çäº§èå°±ä¼æ¾å¼éè¯å¹¶è¿åå¼å¸¸ãä¸è¿å¹¶ä¸æ¯ææçå¼å¸¸é½æ¯å¯ä»¥éè¿éè¯æ¥è§£å³çï¼æ¯å¦æ¶æ¯å¤ªå¤§ï¼è¶è¿max.request.sizeåæ°éç½®çå¼æ¶ï¼è¿ç§æ¹å¼å°±ä¸å¯è¡äºã\n\néè¯è¿åå¦ä¸ä¸ªåæ°retry.backoff.msæå³ï¼è¿ä¸ªåæ°çé»è®¤å¼ä¸º100,å®ç¨æ¥è®¾å®ä¸¤æ¬¡éè¯ä¹é´çæ¶é´é´éï¼é¿åæ æçé¢ç¹éè¯ãå¨éç½®retries å retry.backoff.msä¹åï¼æå¥½åä¼°ç®ä¸ä¸å¯è½çå¼å¸¸æ¢å¤æ¶é´ï¼è¿æ ·å¯ä»¥è®¾å®æ»çéè¯æ¶é´å¤§äºè¿ä¸ªå¼å¸¸æ¢å¤æ¶é´ï¼ä»¥æ­¤æ¥é¿åçäº§èè¿æ©å°æ¾å¼éè¯ã\n\nkafkaå¯ä»¥ä¿è¯åä¸ä¸ªååºä¸­çæ¶æ¯æ¯æåºçãå¦æçäº§èæç§ä¸å®çé¡ºåºåéæ¶æ¯ï¼é£ä¹è¿äºæ¶æ¯ä¹ä¼é¡ºåºå°åå¥ååºï¼è¿èæ¶è´¹èä¹å¯ä»¥æç§åæ ·çé¡ºåºæ¶è´¹å®ä»¬ã\n\nå¦æå° retriesåæ°éç½®ä¸ºéé¶å¼ï¼å¹¶ä¸max.in.flight.requests.per.connectionåæ°éç½®ä¸ºå¤§äº1çå¼ï¼é£ä¹å°±ä¼åºç°éåºçç°è±¡:å¦æç¬¬ä¸æ¹æ¬¡æ¶æ¯åå¥å¤±è´¥ï¼èç¬¬äºæ¹æ¬¡æ¶æ¯åå¥æåï¼é£ä¹çäº§èä¼éè¯åéç¬¬ä¸æ¹æ¬¡çæ¶æ¯ï¼æ­¤æ¶å¦æç¬¬ä¸æ¹æ¬¡çæ¶æ¯åå¥æåï¼é£ä¹è¿ä¸¤ä¸ªæ¹æ¬¡çæ¶æ¯å°±åºç°äºéåºãä¸è¬èè¨ï¼å¨éè¦ä¿è¯æ¶æ¯é¡ºåºçåºåå»ºè®®æåæ° max.in.flight.requests .per.connectionéç½®ä¸º1ï¼èä¸æ¯æretries éç½®ä¸º0ï¼ä¸è¿è¿æ ·ä¹ä¼å½±åæ´ä½çååã\n\n 4. compression.type\n\nè¿ä¸ªåæ°**ç¨æ¥æå®æ¶æ¯çåç¼©æ¹å¼ï¼é»è®¤å¼ä¸ºânoneâï¼å³é»è®¤æåµä¸ï¼æ¶æ¯ä¸ä¼è¢«åç¼©ã**è¯¥åæ°è¿å¯ä»¥éç½®ä¸ºâgzipââsnappyâåâlz4âãå¯¹æ¶æ¯è¿è¡åç¼©å¯ä»¥æå¤§å°åå°ç½ç»ä¼ è¾éãéä½ç½ç»i/oï¼ä»èæé«æ´ä½çæ§è½ãæ¶æ¯åç¼©æ¯ä¸ç§ä½¿ç¨æ¶é´æ¢ç©ºé´çä¼åæ¹å¼ï¼å¦æå¯¹æ¶å»¶æä¸å®çè¦æ±ï¼åä¸æ¨èå¯¹æ¶æ¯è¿è¡åç¼©ã\n\n 5. connections.max.idle.ms\n\nè¿ä¸ªåæ°ç¨æ¥æå®å¨å¤ä¹ä¹åå³é­é²ç½®çè¿æ¥ï¼é»è®¤å¼æ¯540000(ms)ï¼å³9åéã\n\n 6. linger.ms\n\nè¿ä¸ªåæ°ç¨æ¥æå®çäº§èåéproducerbatchä¹åç­å¾æ´å¤æ¶æ¯(producerrecord)å å¥ producerbatchçæ¶é´ï¼é»è®¤å¼ä¸º0ãçäº§èå®¢æ·ç«¯ä¼å¨producerbatchè¢«å¡«æ»¡æç­å¾æ¶é´è¶è¿ linger.ms å¼æ¶åéåºå»ã(å¢å¤§è¿ä¸ªåæ°çå¼ä¼å¢å æ¶æ¯çå»¶è¿ï¼ä½æ¯åæ¶è½æåä¸å®çååéã)\n\n 7. receive.buffer.bytes\n\nè¿ä¸ªåæ°ç¨æ¥è®¾ç½®socketæ¥æ¶æ¶æ¯ç¼å²åº(so_recbuf)çå¤§å°ï¼é»è®¤å¼ä¸º32kbãå¦æè®¾ç½®ä¸º-1ï¼åä½¿ç¨æä½ç³»ç»çé»è®¤å¼ãå¦æproducerä¸kafkaå¤äºä¸åçæºæ¿ï¼åå¯ä»¥éå°è°å¤§è¿ä¸ªåæ°å¼ã\n\n 8. send.buffer.bytes\n\nè¿ä¸ªåæ°ç¨æ¥è®¾ç½®socketåéæ¶æ¯ç¼å²åº(so_sndbuf)çå¤§å°ï¼é»è®¤å¼ä¸º128kbã ä¸receive.buffer.bytesåæ°ä¸æ ·ï¼å¦æè®¾ç½®ä¸º-1ï¼åä½¿ç¨æä½ç³»ç»çé»è®¤å¼ã\n\n 9. request.timeout.ms\n\nè¿ä¸ªåæ°**ç¨æ¥éç½® producerç­å¾è¯·æ±ååºçæé¿æ¶é´ï¼é»è®¤å¼ä¸º30000(ms)ã**è¯·æ±è¶æ¶ä¹åå¯ä»¥éæ©è¿è¡éè¯ãæ³¨æè¿ä¸ªåæ°éè¦æ¯brokerç«¯åæ°replica.lag.time.max.msçå¼è¦å¤§ï¼è¿æ ·å¯ä»¥åå°å å®¢æ·ç«¯éè¯èå¼èµ·çæ¶æ¯éå¤çæ¦çã\n\n----------------------------------------',charsets:{cjk:!0},lastUpdated:"2023/11/04, 10:52:44",lastUpdatedTimestamp:1699066364e3},{title:"æ¶è´¹è-æ¶è´¹è&æ¶è´¹èç»",frontmatter:{title:"æ¶è´¹è-æ¶è´¹è&æ¶è´¹èç»",date:"2023-01-01T00:00:00.000Z",tags:["Kafka","æ¶æ¯éå"],categories:["Kafka"],description:"æ¶è´¹è-æ¶è´¹è&æ¶è´¹èç»",toc_number:!1,author:{name:"huidong.yin",link:"https://huidongyin.github.io"},permalink:"/pages/c4ec1b4a-45f6-3fd7-8faf-7af762dfb0ed/"},regularPath:"/03.%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97/00.Kafka/4.%E6%B6%88%E8%B4%B9%E8%80%85-%E6%B6%88%E8%B4%B9%E8%80%85&%E6%B6%88%E8%B4%B9%E8%80%85%E7%BB%84.html",relativePath:"03.æ¶æ¯éå/00.Kafka/4.æ¶è´¹è-æ¶è´¹è&æ¶è´¹èç».md",key:"v-060d414d",path:"/pages/c4ec1b4a-45f6-3fd7-8faf-7af762dfb0ed/",headersStr:null,content:"åºç¨ç¨åºå¯ä»¥éè¿KafkaConsumeræ¥è®¢éä¸»é¢ï¼å¹¶ä»è®¢éçä¸»é¢ä¸­æåæ¶æ¯ã\n\n----------------------------------------\n\næ¶è´¹èè´è´£è®¢ékafkaä¸­çTopicï¼å¹¶ä¸ä»è®¢éçTopicä¸æåæ¶æ¯ãä¸å¶ä»ä¸äºæ¶æ¯ä¸­é´ä»¶ä¸åçæ¯ï¼å¨kafkaçæ¶è´¹çå¿µä¸­è¿æä¸å±æ¶è´¹ç»çæ¦å¿µï¼æ¯ä¸ªæ¶è´¹èé½æä¸ä¸ªå¯¹åºçæ¶è´¹ç»ãå½æ¶æ¯åå¸å°Topicåï¼åªä¼è¢«æéç»è®¢éå®çæ¯ä¸ªæ¶è´¹ç»ä¸­çä¸ä¸ªæ¶è´¹èã\n\n\n\nå¦ä¸å¾æç¤ºï¼æä¸ªTopicæ4ä¸ªååºï¼æä¸¤ä¸ªæ¶è´¹ç»AåBé½è®¢éäºè¿ä¸ªTopicï¼æ¶è´¹ç»Aæ4ä¸ªæ¶è´¹èï¼æ¶è´¹ç»Bæä¸¤ä¸ªæ¶è´¹èãæç§Kafkaé»è®¤çè§åï¼æåçåéç»ææ¯æ¶è´¹ç»Aä¸­æ¯ä¸ä¸ªæ¶è´¹èåéå°ä¸ä¸ªååºï¼æ¶è´¹ç»Bä¸­æ¯ä¸ä¸ªæ¶è´¹èåéå°ä¸¤ä¸ªååºï¼ä¸¤ä¸ªæ¶è´¹ç»ä¹é´äºä¸å½±åãæ¯ä¸ªæ¶è´¹èåªè½æ¶è´¹å°æåéçååºä¸­çæ¶æ¯ãæèè¯´ï¼æ¯ä¸ä¸ªååºåªè½è¢«ä¸ä¸ªæ¶è´¹ç»ä¸­çä¸ä¸ªæ¶è´¹èææ¶è´¹ã\n\nå½æ¶è´¹ç»åçæ¶è´¹èä¸ªæ°åçååæ¶ï¼æå¯¹åºçååºåéçæ¼åï¼\n\nåè®¾ç®åææ¶è´¹ç»ååªæä¸ä¸ªæ¶è´¹èC0ï¼è®¢éäºä¸ä¸ªTopicï¼è¿ä¸ªTopicåå«7ä¸ªååºï¼P0~P6ãä¹å°±æ¯è¯´ï¼è¿ä¸ªæ¶è´¹èC0è®¢éäº7ä¸ªååºã\n\næ­¤æ¶æ¶è´¹ç»ååå å¥ä¸ä¸ªæ°çæ¶è´¹èC1ï¼æç§æ¢å®çé»è¾ï¼éè¦å°C0çé¨åååºåéç»æ¶è´¹èC1æ¶è´¹ï¼åéä¹åC0æ¶è´¹P0å°P3,C1æ¶è´¹P4å°P6ãC0åC1åèªè´è´£æ¶è´¹æåéå°çååºï¼å½¼æ­¤ä¹é´å¹¶æ é»è¾ä¸çå¹²æ°ã\n\nç´§æ¥çæ¶è´¹ç»ååå å¥äºä¸ä¸ªæ°çæ¶è´¹èC2ï¼æ¶è´¹èC0åC1å°åèªæ¶è´¹çé¨åååºåéç»æ¶è´¹èC2ï¼ä¸èåèªæ¶è´¹æåéå°çååºã\n\næ¶è´¹èä¸æ¶è´¹èç»è¿ç§æ¨¡åå¯ä»¥è®©æ´ä½çæ¶è´¹è½åå·å¤æ¨ªåä¼¸ç¼©æ§ï¼å¯ä»¥éè¿å¢å æèåå°æ¶è´¹èä¸ªæ°æ¥æé«æèéä½æ´ä½çæ¶è´¹è½åãå¯¹äºååºæ°åºå®çæåµï¼ä¸å³çå¢å æ¶è´¹èå¹¶ä¸ä¼è®©æ¶è´¹è½åä¸ç´å¾å°æåï¼å¦ææ¶è´¹èè¿å¤ï¼åºç°äºæ¶è´¹èçä¸ªæ°å¤§äºååºä¸ªæ°çæåµï¼å°±ä¼ææ¶è´¹èåéä¸å°ä»»ä½ååºãæ¯å¦ä¸ä¸ªç»åæ8ä¸ªæ¶è´¹èï¼ä½æ¯Topicåªæ7ä¸ªååºï¼é£ä¹å°æä¸å°æ¶è´¹èåéä¸å°ä»»ä½ååºèæ æ³æ¶è´¹ä»»ä½æ¶æ¯ã\n\nä»¥ä¸åéé»è¾é½æ¯åºäºé»è®¤çååºåéç­ç¥è¿è¡åæçï¼å¯ä»¥éè¿æ¶è´¹èå®¢æ·ç«¯åæ°partition.assignment.strategy æ¥è®¾ç½®æ¶è´¹èä¸è®¢éä¸»é¢ä¹é´çååºåéç­ç¥ã\n\nå¯¹äºæ¶æ¯ä¸­é´ä»¶èè¨ï¼ä¸è¬æä¸¤ç§æ¶æ¯æéæ¨¡å¼:ç¹å¯¹ç¹ (P2Pï¼Point-to-Point)æ¨¡å¼ååå¸/è®¢é (Pub/Sub)æ¨¡å¼ãç¹å¯¹ç¹æ¨¡å¼æ¯åºäºéåçï¼æ¶æ¯çäº§èåéæ¶æ¯å°éåï¼æ¶æ¯æ¶è´¹èä»éåä¸­æ¥æ¶æ¶æ¯ãåå¸è®¢éæ¨¡å¼å®ä¹äºå¦ä½åä¸ä¸ªåå®¹èç¹åå¸åè®¢éæ¶æ¯ï¼è¿ä¸ªåå®¹èç¹ç§°ä¸ºä¸»é¢ (Topic)ï¼ä¸»é¢å¯ä»¥è®¤ä¸ºæ¯æ¶æ¯ä¼ éçä¸­ä»ï¼æ¶æ¯åå¸èå°æ¶æ¯åå¸å°æä¸ªä¸»é¢ï¼èæ¶æ¯è®¢éèä»ä¸»é¢ä¸­è®¢éæ¶æ¯ãä¸»é¢ä½¿å¾æ¶æ¯çè®¢éèååå¸èäºç¸ä¿æç¬ç«ï¼ä¸éè¦è¿è¡æ¥è§¦å³å¯ä¿è¯æ¶æ¯çä¼ éï¼åå¸/è®¢éæ¨¡å¼å¨æ¶æ¯çä¸å¯¹å¤å¹¿æ­æ¶éç¨ãKafkaåæ¶æ¯æä¸¤ç§æ¶æ¯æéæ¨¡å¼ï¼èè¿æ­£æ¯å¾çäºæ¶è´¹èä¸æ¶è´¹ç»æ¨¡åçå¥å:\n\n * å¦æææçæ¶è´¹èé½é¶å±äºåä¸ä¸ªæ¶è´¹ç»ï¼é£ä¹ææçæ¶æ¯é½ä¼è¢«åè¡¡å°æéç»æ¯ä¸ä¸ªæ¶è´¹èï¼å³æ¯æ¡æ¶æ¯åªä¼è¢«ä¸ä¸ªæ¶è´¹èå¤çï¼è¿å°±ç¸å½äºç¹å¯¹ç¹æ¨¡å¼çåºç¨ã\n * å¦æææçæ¶è´¹èé½é¶å±äºä¸åçæ¶è´¹ç»ï¼é£ä¹ææçæ¶æ¯é½ä¼è¢«å¹¿æ­ç»ææçæ¶è´¹èï¼å³æ¯æ¡æ¶æ¯ä¼è¢«ææçæ¶è´¹èå¤çï¼è¿å°±ç¸å½äºåå¸/è®¢éæ¨¡å¼çåºç¨ã\n\næ¶è´¹ç»æ¯ä¸ä¸ªé»è¾ä¸çæ¦å¿µï¼å®å°æä¸çæ¶è´¹èå½ä¸ºä¸ç±»ï¼æ¯ä¸ä¸ªæ¶è´¹èåªé¶å±äºä¸ä¸ªæ¶è´¹ç»ãæ¯ä¸ä¸ªæ¶è´¹ç»é½ä¼æä¸ä¸ªåºå®çåç§°ï¼æ¶è´¹èå¨è¿è¡æ¶è´¹åéè¦æå®å¶æå±æ¶è´¹ç»çåç§°ï¼è¿ä¸ªå¯ä»¥éè¿æ¶è´¹èå®¢æ·ç«¯åæ°group.idæ¥éç½®ï¼é»è®¤å¼ä¸ºç©ºå­ç¬¦ä¸²ã\n\næ¶è´¹èå¹¶éé»è¾ä¸çæ¦å¿µï¼å®æ¯å®éçåºç¨å®ä¾ï¼å®å¯ä»¥æ¯ä¸ä¸ªçº¿ç¨ï¼ä¹å¯ä»¥æ¯ä¸ä¸ªè¿ç¨ãåä¸ä¸ªæ¶è´¹ç»åçæ¶è´¹èæ¢å¯ä»¥é¨ç½²å¨åä¸å°æºå¨ä¸ï¼ä¹å¯ä»¥é¨ç½²å¨ä¸åçæºå¨ä¸ã\n\n----------------------------------------",normalizedContent:"åºç¨ç¨åºå¯ä»¥éè¿kafkaconsumeræ¥è®¢éä¸»é¢ï¼å¹¶ä»è®¢éçä¸»é¢ä¸­æåæ¶æ¯ã\n\n----------------------------------------\n\næ¶è´¹èè´è´£è®¢ékafkaä¸­çtopicï¼å¹¶ä¸ä»è®¢éçtopicä¸æåæ¶æ¯ãä¸å¶ä»ä¸äºæ¶æ¯ä¸­é´ä»¶ä¸åçæ¯ï¼å¨kafkaçæ¶è´¹çå¿µä¸­è¿æä¸å±æ¶è´¹ç»çæ¦å¿µï¼æ¯ä¸ªæ¶è´¹èé½æä¸ä¸ªå¯¹åºçæ¶è´¹ç»ãå½æ¶æ¯åå¸å°topicåï¼åªä¼è¢«æéç»è®¢éå®çæ¯ä¸ªæ¶è´¹ç»ä¸­çä¸ä¸ªæ¶è´¹èã\n\n\n\nå¦ä¸å¾æç¤ºï¼æä¸ªtopicæ4ä¸ªååºï¼æä¸¤ä¸ªæ¶è´¹ç»aåbé½è®¢éäºè¿ä¸ªtopicï¼æ¶è´¹ç»aæ4ä¸ªæ¶è´¹èï¼æ¶è´¹ç»bæä¸¤ä¸ªæ¶è´¹èãæç§kafkaé»è®¤çè§åï¼æåçåéç»ææ¯æ¶è´¹ç»aä¸­æ¯ä¸ä¸ªæ¶è´¹èåéå°ä¸ä¸ªååºï¼æ¶è´¹ç»bä¸­æ¯ä¸ä¸ªæ¶è´¹èåéå°ä¸¤ä¸ªååºï¼ä¸¤ä¸ªæ¶è´¹ç»ä¹é´äºä¸å½±åãæ¯ä¸ªæ¶è´¹èåªè½æ¶è´¹å°æåéçååºä¸­çæ¶æ¯ãæèè¯´ï¼æ¯ä¸ä¸ªååºåªè½è¢«ä¸ä¸ªæ¶è´¹ç»ä¸­çä¸ä¸ªæ¶è´¹èææ¶è´¹ã\n\nå½æ¶è´¹ç»åçæ¶è´¹èä¸ªæ°åçååæ¶ï¼æå¯¹åºçååºåéçæ¼åï¼\n\nåè®¾ç®åææ¶è´¹ç»ååªæä¸ä¸ªæ¶è´¹èc0ï¼è®¢éäºä¸ä¸ªtopicï¼è¿ä¸ªtopicåå«7ä¸ªååºï¼p0~p6ãä¹å°±æ¯è¯´ï¼è¿ä¸ªæ¶è´¹èc0è®¢éäº7ä¸ªååºã\n\næ­¤æ¶æ¶è´¹ç»ååå å¥ä¸ä¸ªæ°çæ¶è´¹èc1ï¼æç§æ¢å®çé»è¾ï¼éè¦å°c0çé¨åååºåéç»æ¶è´¹èc1æ¶è´¹ï¼åéä¹åc0æ¶è´¹p0å°p3,c1æ¶è´¹p4å°p6ãc0åc1åèªè´è´£æ¶è´¹æåéå°çååºï¼å½¼æ­¤ä¹é´å¹¶æ é»è¾ä¸çå¹²æ°ã\n\nç´§æ¥çæ¶è´¹ç»ååå å¥äºä¸ä¸ªæ°çæ¶è´¹èc2ï¼æ¶è´¹èc0åc1å°åèªæ¶è´¹çé¨åååºåéç»æ¶è´¹èc2ï¼ä¸èåèªæ¶è´¹æåéå°çååºã\n\næ¶è´¹èä¸æ¶è´¹èç»è¿ç§æ¨¡åå¯ä»¥è®©æ´ä½çæ¶è´¹è½åå·å¤æ¨ªåä¼¸ç¼©æ§ï¼å¯ä»¥éè¿å¢å æèåå°æ¶è´¹èä¸ªæ°æ¥æé«æèéä½æ´ä½çæ¶è´¹è½åãå¯¹äºååºæ°åºå®çæåµï¼ä¸å³çå¢å æ¶è´¹èå¹¶ä¸ä¼è®©æ¶è´¹è½åä¸ç´å¾å°æåï¼å¦ææ¶è´¹èè¿å¤ï¼åºç°äºæ¶è´¹èçä¸ªæ°å¤§äºååºä¸ªæ°çæåµï¼å°±ä¼ææ¶è´¹èåéä¸å°ä»»ä½ååºãæ¯å¦ä¸ä¸ªç»åæ8ä¸ªæ¶è´¹èï¼ä½æ¯topicåªæ7ä¸ªååºï¼é£ä¹å°æä¸å°æ¶è´¹èåéä¸å°ä»»ä½ååºèæ æ³æ¶è´¹ä»»ä½æ¶æ¯ã\n\nä»¥ä¸åéé»è¾é½æ¯åºäºé»è®¤çååºåéç­ç¥è¿è¡åæçï¼å¯ä»¥éè¿æ¶è´¹èå®¢æ·ç«¯åæ°partition.assignment.strategy æ¥è®¾ç½®æ¶è´¹èä¸è®¢éä¸»é¢ä¹é´çååºåéç­ç¥ã\n\nå¯¹äºæ¶æ¯ä¸­é´ä»¶èè¨ï¼ä¸è¬æä¸¤ç§æ¶æ¯æéæ¨¡å¼:ç¹å¯¹ç¹ (p2pï¼point-to-point)æ¨¡å¼ååå¸/è®¢é (pub/sub)æ¨¡å¼ãç¹å¯¹ç¹æ¨¡å¼æ¯åºäºéåçï¼æ¶æ¯çäº§èåéæ¶æ¯å°éåï¼æ¶æ¯æ¶è´¹èä»éåä¸­æ¥æ¶æ¶æ¯ãåå¸è®¢éæ¨¡å¼å®ä¹äºå¦ä½åä¸ä¸ªåå®¹èç¹åå¸åè®¢éæ¶æ¯ï¼è¿ä¸ªåå®¹èç¹ç§°ä¸ºä¸»é¢ (topic)ï¼ä¸»é¢å¯ä»¥è®¤ä¸ºæ¯æ¶æ¯ä¼ éçä¸­ä»ï¼æ¶æ¯åå¸èå°æ¶æ¯åå¸å°æä¸ªä¸»é¢ï¼èæ¶æ¯è®¢éèä»ä¸»é¢ä¸­è®¢éæ¶æ¯ãä¸»é¢ä½¿å¾æ¶æ¯çè®¢éèååå¸èäºç¸ä¿æç¬ç«ï¼ä¸éè¦è¿è¡æ¥è§¦å³å¯ä¿è¯æ¶æ¯çä¼ éï¼åå¸/è®¢éæ¨¡å¼å¨æ¶æ¯çä¸å¯¹å¤å¹¿æ­æ¶éç¨ãkafkaåæ¶æ¯æä¸¤ç§æ¶æ¯æéæ¨¡å¼ï¼èè¿æ­£æ¯å¾çäºæ¶è´¹èä¸æ¶è´¹ç»æ¨¡åçå¥å:\n\n * å¦æææçæ¶è´¹èé½é¶å±äºåä¸ä¸ªæ¶è´¹ç»ï¼é£ä¹ææçæ¶æ¯é½ä¼è¢«åè¡¡å°æéç»æ¯ä¸ä¸ªæ¶è´¹èï¼å³æ¯æ¡æ¶æ¯åªä¼è¢«ä¸ä¸ªæ¶è´¹èå¤çï¼è¿å°±ç¸å½äºç¹å¯¹ç¹æ¨¡å¼çåºç¨ã\n * å¦æææçæ¶è´¹èé½é¶å±äºä¸åçæ¶è´¹ç»ï¼é£ä¹ææçæ¶æ¯é½ä¼è¢«å¹¿æ­ç»ææçæ¶è´¹èï¼å³æ¯æ¡æ¶æ¯ä¼è¢«ææçæ¶è´¹èå¤çï¼è¿å°±ç¸å½äºåå¸/è®¢éæ¨¡å¼çåºç¨ã\n\næ¶è´¹ç»æ¯ä¸ä¸ªé»è¾ä¸çæ¦å¿µï¼å®å°æä¸çæ¶è´¹èå½ä¸ºä¸ç±»ï¼æ¯ä¸ä¸ªæ¶è´¹èåªé¶å±äºä¸ä¸ªæ¶è´¹ç»ãæ¯ä¸ä¸ªæ¶è´¹ç»é½ä¼æä¸ä¸ªåºå®çåç§°ï¼æ¶è´¹èå¨è¿è¡æ¶è´¹åéè¦æå®å¶æå±æ¶è´¹ç»çåç§°ï¼è¿ä¸ªå¯ä»¥éè¿æ¶è´¹èå®¢æ·ç«¯åæ°group.idæ¥éç½®ï¼é»è®¤å¼ä¸ºç©ºå­ç¬¦ä¸²ã\n\næ¶è´¹èå¹¶éé»è¾ä¸çæ¦å¿µï¼å®æ¯å®éçåºç¨å®ä¾ï¼å®å¯ä»¥æ¯ä¸ä¸ªçº¿ç¨ï¼ä¹å¯ä»¥æ¯ä¸ä¸ªè¿ç¨ãåä¸ä¸ªæ¶è´¹ç»åçæ¶è´¹èæ¢å¯ä»¥é¨ç½²å¨åä¸å°æºå¨ä¸ï¼ä¹å¯ä»¥é¨ç½²å¨ä¸åçæºå¨ä¸ã\n\n----------------------------------------",charsets:{cjk:!0},lastUpdated:"2023/11/04, 10:52:44",lastUpdatedTimestamp:1699066364e3},{title:"æ¶è´¹è-å®¢æ·ç«¯å¼å-æ¶è´¹é»è¾",frontmatter:{title:"æ¶è´¹è-å®¢æ·ç«¯å¼å-æ¶è´¹é»è¾",date:"2023-01-01T00:00:00.000Z",tags:["Kafka","æ¶æ¯éå"],categories:["Kafka"],description:"æ¶è´¹è-å®¢æ·ç«¯å¼å-æ¶è´¹é»è¾",toc_number:!1,author:{name:"huidong.yin",link:"https://huidongyin.github.io"},permalink:"/pages/6a99e6af-7333-3944-94f1-6a8a3a84a946/"},regularPath:"/03.%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97/00.Kafka/5.%E6%B6%88%E8%B4%B9%E8%80%85-%E5%AE%A2%E6%88%B7%E7%AB%AF%E5%BC%80%E5%8F%91-%E6%B6%88%E8%B4%B9%E9%80%BB%E8%BE%91.html",relativePath:"03.æ¶æ¯éå/00.Kafka/5.æ¶è´¹è-å®¢æ·ç«¯å¼å-æ¶è´¹é»è¾.md",key:"v-25d46bba",path:"/pages/6a99e6af-7333-3944-94f1-6a8a3a84a946/",headers:[{level:2,title:"1.å¿è¦çåæ°éç½®",slug:"_1-å¿è¦çåæ°éç½®",normalizedTitle:"1.å¿è¦çåæ°éç½®",charIndex:985},{level:2,title:"2.è®¢éä¸»é¢&ååº",slug:"_2-è®¢éä¸»é¢-ååº",normalizedTitle:"2.è®¢éä¸»é¢&amp;ååº",charIndex:null},{level:2,title:"3.ååºåå",slug:"_3-ååºåå",normalizedTitle:"3.ååºåå",charIndex:5593},{level:2,title:"4.æ¶æ¯æ¶è´¹",slug:"_4-æ¶æ¯æ¶è´¹",normalizedTitle:"4.æ¶æ¯æ¶è´¹",charIndex:7706},{level:2,title:"5.æ§å¶æå³é­æ¶è´¹",slug:"_5-æ§å¶æå³é­æ¶è´¹",normalizedTitle:"5.æ§å¶æå³é­æ¶è´¹",charIndex:11219}],headersStr:"1.å¿è¦çåæ°éç½® 2.è®¢éä¸»é¢&ååº 3.ååºåå 4.æ¶æ¯æ¶è´¹ 5.æ§å¶æå³é­æ¶è´¹",content:'ä¸ä¸ªæ­£å¸¸çæ¶è´¹é»è¾éè¦å·å¤ä»¥ä¸å ä¸ªæ­¥éª¤:\n\n 1. éç½®æ¶è´¹èå®¢æ·ç«¯åæ°ååå»ºç¸åºçæ¶è´¹èå®ä¾ã\n 2. è®¢éä¸»é¢ã\n 3. æåæ¶æ¯å¹¶æ¶è´¹ã\n 4. æäº¤æ¶è´¹ä½ç¹ã\n 5. å³é­æ¶è´¹èå®ä¾ã\n\n  public static void consume(){\n        Properties props=new Properties();\n        props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG,brokerList);\n        props.put(ConsumerConfig.GROUP_ID_CONFIG,groupName);\n        props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG,StringDeserializer.class.getName());\n        props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG,StringDeserializer.class.getName());\n\n        KafkaConsumer<String, String> consumer=new KafkaConsumer<>(props);\n        consumer.subscribe(Collections.singletonList(topicName));\n\n        while(true){\n        ConsumerRecords<String, String> records=consumer.poll(Duration.ofMillis(100));\n        records.forEach(record->System.out.println("Received message: key = "+record.key()+", value = "+record.value()));\n        }\n        }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\n----------------------------------------\n\n\n# 1.å¿è¦çåæ°éç½®\n\nå¨kafkaæ¶è´¹èå®¢æ·ç«¯ä¸­æ4ä¸ªåæ°æ¯å¿å¡«çã\n\n * bootstrap.servers:è¯¥åæ°çéä¹åçäº§èå®¢æ·ç«¯ä¸­çç¸åï¼ç¨æ¥æå®è¿æ¥Kafkaéç¾¤æéçbrokerå°åæ¸åï¼å·ä½åå®¹å½¢å¼ä¸ºhost1: port1ï¼host2:port2 ï¼å¯ä»¥è®¾ç½®ä¸ä¸ªæå¤ä¸ªå°åï¼ä¸­é´ç¨éå·éå¼ï¼æ­¤åæ°çé»è®¤å¼ä¸º""ãæ³¨æè¿éå¹¶ééè¦è®¾ç½®éç¾¤ä¸­å¨é¨çbrokerå°åï¼æ¶è´¹èä¼ä»ç°æçéç½®ä¸­æ¥æ¾å°å¨é¨çKafkaéç¾¤æåãè¿éè®¾ç½®ä¸¤ä¸ªä»¥ä¸çbrokerå°åä¿¡æ¯ï¼å½å¶ä¸­ä»»æä¸ä¸ªå®æºæ¶ï¼æ¶è´¹èä»ç¶å¯ä»¥è¿æ¥å°Kafkaéç¾¤ä¸ã\n * group.idï¼æ¶è´¹èé¶å±çæ¶è´¹ç»çåç§°ï¼é»è®¤å¼ä¸º""ãå¦æè®¾ç½®ä¸ºç©ºï¼åä¼æ¥åºå¼å¸¸ãä¸è¬èè¨ï¼è¿ä¸ªåæ°éè¦è®¾ç½®æå·æä¸å®çä¸å¡æä¹çåç§°ã\n * key.deserializeråvalue.deserializerï¼ä¸çäº§èå®¢æ·ç«¯ä¸­çkey.serializeråvalue.serializeråæ°å¯¹åº.æ¶è´¹èä»brokerç«¯è·åçæ¶æ¯æ ¼å¼é½æ¯å­èæ°ç»(byte[)ç±»åï¼æä»¥éè¦æ§è¡ç¸åºçååºååæä½æè½è¿åæåæçå¯¹è±¡æ ¼å¼ãè¿ä¸¤ä¸ªåæ°åå«ç¨æ¥æå®æ¶æ¯ä¸­keyåvalueæéååºååæä½çååºååå¨ï¼è¿ä¸¤ä¸ªåæ°æ é»è®¤å¼ã è¿éå¿é¡»å¡«åååºååå¨ç±»çå¨éå®åï¼æ¯å¦ç¤ºä¾ä¸­çorg.apache.kafka.common.serialization.StringDeserializerï¼ååæå®å­ç¬¦ä¸²è§£ä¸²å¨æ¯éè¯¯çã\n * client.idï¼è¿ä¸ªåæ°ç¨æ¥è®¾å®Kafkaæ¶è´¹èå¯¹åºçå®¢æ·ç«¯idï¼é»è®¤å¼ä¹ä¸º""ãå¦æå®¢æ·ç«¯ä¸è®¾ç½®ï¼åKafkaæ¶è´¹èä¼èªå¨çæä¸ä¸ªéç©ºå­ç¬¦ä¸²ï¼åå®¹å½¢å¼å¦"consumer-1""consumer-2"ï¼å³å­ç¬¦ä¸²"consumer-"ä¸æ°å­çæ¼æ¥ã\n\n> å¼åä¸­è®¾ç½®éç½®æ¨èä½¿ç¨ç±»ConsumerConfigã\n\nå¨éç½®å®å¿è¦çåæ°ä¹åï¼æä»¬å°±å¯ä»¥å©ç¨å®æ¥åå»ºä¸ä¸ªæ¶è´¹èå®ä¾äºã\n\n----------------------------------------\n\n\n# 2.è®¢éä¸»é¢&ååº\n\nå¨åå»ºå¥½æ¶è´¹èä¹åï¼å°±éè¦ä¸ºè¯¥æ¶è´¹èè®¢éç¸å³çä¸»é¢äºãä¸ä¸ªæ¶è´¹èå¯ä»¥è®¢éä¸ä¸ªæå¤ä¸ªä¸»é¢ï¼åé¢çä»£ç ä¸­æä»¬ä½¿ç¨subscribeæ¹æ³è®¢éäºä¸ä¸ªä¸»é¢ï¼å¯¹äºè¿ä¸ªæ¹æ³èè¨,æ¢å¯ä»¥ä»¥éåçå½¢å¼è®¢éå¤ä¸ªä¸»é¢ï¼ä¹å¯ä»¥ä»¥æ­£åè¡¨è¾¾å¼çå½¢å¼è®¢éç¹å®æ¨¡å¼çä¸»é¢ãsubscribeçå ä¸ªéè½½æ¹æ³å¦ä¸:\n\n        void subscribe(Collection<String> topics);\n\n\n        void subscribe(Collection<String> topics,ConsumerRebalanceListener callback);\n\n\n        void subscribe(Pattern pattern,ConsumerRebalanceListener callback);\n\n\n        void subscribe(Pattern pattern);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\nå¦æååä¸¤æ¬¡è®¢éäºä¸åçä¸»é¢ï¼é£ä¹æ¶è´¹èä»¥æåä¸æ¬¡çä¸ºåã\n\nconsumer.subscribe(Arrays.asList(topicl));\nconsumer.subscribe(Arrays.asList(topic2));\n\n\n1\n2\n\n\nä¸é¢çç¤ºä¾ä¸­ï¼æç»æ¶è´¹èè®¢éçæ¯ topic2ï¼èä¸æ¯ topicl,ä¹ä¸æ¯ topicl å topic2 çå¹¶éã\n\nå¦ææ¶è´¹èéç¨çæ¯æ­£åè¡¨è¾¾å¼çæ¹å¼(subscribe(Pattern))è®¢éï¼å¨ä¹åçè¿ç¨ä¸­ï¼å¦ææäººååå»ºäºæ°çä¸»é¢ï¼å¹¶ä¸ä¸»é¢çåå­ä¸æ­£åè¡¨è¾¾å¼ç¸å¹éï¼é£ä¹è¿ä¸ªæ¶è´¹èå°±å¯ä»¥æ¶è´¹å°æ°æ·»å çä¸»é¢ä¸­çæ¶æ¯ã\n\n> å¨ subscribeçéè½½æ¹æ³ä¸­æä¸ä¸ªåæ°ç±»åæ¯ ConsumerRebalanceListenerï¼è¿ä¸ªæ¯ç¨æ¥è®¾ç½®ç¸åºçååè¡¡çå¬å¨çã\n\næ¶è´¹èä¸ä»å¯ä»¥éè¿KafkaConsumer.subscribe()æ¹æ³è®¢éä¸»é¢ï¼è¿å¯ä»¥ç´æ¥è®¢éæäºä¸»é¢ç¹å®ååºï¼å¨ KafkaConsumerä¸­è¿æä¾äºä¸ä¸ª assignæ¹æ³æ¥å®ç°è¿äºåè½ã\n\npublic void assign(Collection<TopicPartition> partitions)\n\n\n1\n\n\nè¿ä¸ªæ¹æ³åªæ¥åä¸ä¸ªåæ° partitionsï¼ç¨æ¥æå®éè¦è®¢éçååºéåãè¿éè¡¥åè¯´æä¸ä¸ TopicPartition ç±»ï¼å¨ Kafka çå®¢æ·ç«¯ä¸­ï¼å®ç¨æ¥è¡¨ç¤ºååºã\n\npublic final class TopicPartition implements Serializable {\n    private static final long serialVersionUID = -613627415771699627L;\n\n    private int hash = 0;\n    private final int partition;\n    private final String topic;\n\n    public TopicPartition(String topic, int partition) {\n        this.partition = partition;\n        this.topic = topic;\n    }\n\n    public int partition() {\n        return partition;\n    }\n\n    public String topic() {\n        return topic;\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n\n\nTopicPartition ç±»åªæ 2 ä¸ªå±æ§:topic åpartitionï¼åå«ä»£è¡¨ååºæå±çä¸»é¢åèªèº«çååºç¼å·ï¼è¿ä¸ªç±»å¯ä»¥åæä»¬éå¸¸æè¯´çä¸»é¢ä¸ååºçæ¦å¿µæ å°èµ·æ¥ã\n\næä»¬å°åé¢ä»£ç ä¸­ç subscribeæ¹æ³ä¿®æ¹ä¸º assign æ¹æ³ï¼è¿éåªè®¢é topic-demo ä¸»é¢ä¸­ååºç¼å·ä¸º 0 çååºï¼ç¸å³ä»£ç å¦ä¸:\n\nconsumer.assign(Arrays.asList(new TopicPartition("topic-demo",0)));\n\n\n1\n\n\nå¦ææä»¬äºåå¹¶ä¸ç¥éä¸»é¢ä¸­æå¤å°ä¸ªååºæä¹å?KafkaConsumerä¸­çpartitionsForæ¹æ³å¯ä»¥ç¨æ¥æ¥è¯¢æå®ä¸»é¢çåæ°æ®ä¿¡æ¯ï¼partitionsForæ¹æ³çå·ä½å®ä¹å¦ä¸:\n\npublic List<PartitionInfo> partitionsFor(String topic)\n\n\n1\n\n\nå¶ä¸­ PartitionInfo ç±»åå³ä¸ºä¸»é¢çååºåæ°æ®ä¿¡æ¯ï¼æ­¤ç±»çä¸»è¦ç»æå¦ä¸:\n\npublic class PartitionInfo {\n    private final String topic; //ä¸»é¢\n    private final int partition; //ååº\n    private final Node leader; //leader æå¨çbrokerèç¹\n    private final Node[] replicas; // AR\n    private final Node[] inSyncReplicas; //ISR\n    private final Node[] offlineReplicas; // OSR\n    //çç¥é¨ååå®¹...\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\néè¿ partitionsForæ¹æ³çåå©ï¼æä»¬å¯ä»¥éè¿ assignæ¹æ³æ¥å®ç°è®¢éä¸»é¢ (å¨é¨ååº)çåè½ã\n\n    List<TopicPartition> partitions=new ArrayList<> 0);\n        List<PartitionInfo> partitionInfos=consumer.partitionsFor(topic);\n        if(partitionInfos!=null){\n        partitionInfos.stream().map(tpInfo->new TopicPartition(tpInfo.topic(),tpInfo.partition())).forEach(partitions::add);\n        }\n        consumer.assign(partitions);\n\n\n1\n2\n3\n4\n5\n6\n\n\nå¯ä»¥ä½¿ç¨ KafkaConsumer ä¸­ç unsubscribeæ¹æ³æ¥åæ¶ä¸»é¢çè®¢éãè¿ä¸ªæ¹æ³æ¢å¯ä»¥åæ¶éè¿ subscribe(Collection)æ¹å¼å®ç°çè®¢éï¼ä¹å¯ä»¥åæ¶éè¿subscribe(Pattern)æ¹å¼å®ç°çè®¢éï¼è¿å¯ä»¥åæ¶éè¿ assign(Collection)æ¹å¼å®ç°çè®¢éã\n\nconsumer.unsubscribe();\n\n\n1\n\n\nå¦æå°subscribe(Collection)æ assign(Collection)ä¸­çéååæ°è®¾ç½®ä¸ºç©ºéåï¼é£ä¹ä½ç¨ç­åäº unsubscribe()æ¹æ³ã\n\nconsumer.unsubscribe();\n        consumer.subscribe(new ArrayList<String>());\n        consumer.assign(new ArrayList<TopicPartition>());\n\n\n1\n2\n3\n\n\nå¦ææ²¡æè®¢éä»»ä½ä¸»é¢æååºï¼é£ä¹åç»§ç»­æ§è¡æ¶è´¹ç¨åºçæ¶åä¼æ¥åºIllegalStateExceptionå¼å¸¸ã\n\néåè®¢éçæ¹å¼subscribe(Collection)ãæ­£åè¡¨è¾¾å¼è®¢éçæ¹å¼ subscribe(Pattern)åæå®ååºçè®¢éæ¹å¼ assign(Collection)åè¡¨ä»£è¡¨äºä¸ç§ä¸åçè®¢éç¶æ:AUTO TOPICSãAUTO PATTERNå USER ASSIGNED(å¦ææ²¡æè®¢éï¼é£ä¹è®¢éç¶æä¸ºNONE)ãç¶èè¿ä¸ç§ç¶ææ¯äºæ¥çï¼å¨ä¸ä¸ªæ¶è´¹èä¸­åªè½ä½¿ç¨å¶ä¸­çä¸ç§ï¼å¦åä¼æ¥åºIlegalStateExceptionå¼å¸¸ã\n\néè¿ subscribeæ¹æ³è®¢éä¸»é¢å·ææ¶è´¹èèªå¨åå¹³è¡¡çåè½ï¼å¨å¤ä¸ªæ¶è´¹èçæåµä¸å¯ä»¥æ ¹æ®ååºåéç­ç¥æ¥èªå¨åéåä¸ªæ¶è´¹èä¸ååºçå³ç³»ãå½æ¶è´¹ç»åçæ¶è´¹èå¢å æåå°æ¶,ååºåéå³ç³»ä¼èªå¨è°æ´ï¼ä»¥å®ç°æ¶è´¹è´è½½åè¡¡åæéèªå¨è½¬ç§»ãèéè¿assignæ¹æ³è®¢éååºæ¶ï¼æ¯ä¸å·å¤æ¶è´¹èèªå¨åè¡¡çåè½çï¼å¶å®è¿ä¸ç¹ä» assignæ¹æ³çåæ°ä¸­å°±å¯ä»¥çåºç«¯åª,ä¸¤ç§ç±»åçsubscribeé½æConsumerRebalanceListenerç±»ååæ°çæ¹æ³,èassignæ¹æ³å´æ²¡æã\n\n----------------------------------------\n\n\n# 3.ååºåå\n\nKafkaProduceræå¯¹åºçåºååå¨ï¼é£ä¹ä¸æ­¤å¯¹åºçKafkaConsumerå°±ä¼æååºååå¨ãKafkaææä¾çååºååå¨æ ByteArrayDeserializer ByteBufferDeserializer BytesDeserializer DoubleDeserializer FloatDeserializer IntegerDeserializer ListDeserializer LongDeserializer ShortDeserializer StringDeserializer UUIDDeserializer VoidDeserializerï¼è¿äºåºååå¨ä¹é½å®ç°äºDeserializeræ¥å£ï¼ä¸KafkaProducerä¸­æåçSerializeræ¥å£ä¸æ ·ï¼Deserializeræ¥å£ä¹æä¸ä¸ªæ¹æ³ã\n\npublic interface Deserializer<T> extends Closeable {\n    //ç¨æ¥éç½®å½åç±»\n    void configure(Map<String, ?> configs, boolean isKey);\n\n    //å¦ædataä¸ºnullï¼é£ä¹å¤ççæ¶åç´æ¥è¿ånullèä¸æ¯æåºä¸ä¸ªå¼å¸¸ã\n    T deserialize(String topic, byte[] data);\n\n    //ç¨æ¥å³é­å½ååºååå¨ã\n    void close();\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\nä»¥StringDeserializerä¸ºä¾åæååºååå¨çå·ä½å®ç°ã\n\npublic class StringDeserializer implements Deserializer<String> {\n    private String encoding = "UTF8";\n\n    @Override\n    public void configure(Map<String, ?> configs, boolean isKey) {\n        String propertyName = isKey ? "key.deserializer.encoding" : "value.deserializer.encoding";\n        Object encodingValue = configs.get(propertyName);\n        if (encodingValue == null)\n            encodingValue = configs.get("deserializer.encoding");\n        if (encodingValue instanceof String)\n            encoding = (String) encodingValue;\n    }\n\n    @Override\n    public String deserialize(String topic, byte[] data) {\n        try {\n            if (data == null)\n                return null;\n            else\n                return new String(data, encoding);\n        } catch (UnsupportedEncodingException e) {\n            throw new SerializationException("Error when deserializing byte[] to string due to unsupported encoding " + encoding);\n        }\n    }\n\n    @Override\n    public void close() {\n        // nothing to do\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n\n\nconfigureæ¹æ³ä¸»è¦æ¯åå­ç¬¦ç¼ç çéç½®ãdeserializeæ¹æ³å°±æ¯ç®åçæå­èæ°ç»è½¬åæå­ç¬¦ä¸²ï¼å¦æä¸ºç©ºçæ¶åå¹¶ä¸ä¼æåºå¼å¸¸ï¼èæ¯è¿ånullã\n\nå¦å¤æä»¬è¿å¯ä»¥èªå®ä¹ååºååå¨ï¼ä¸»è¦æä¸¤ä¸ªæ­¥éª¤ï¼èªå®ä¹ååºååå¨åæå®èªå®ä¹çååºååå¨ãä¸å»ºè®®ä½¿ç¨èªå®ä¹çåºåååååºååå¨ï¼è¿æ ·ä¼å¢å çäº§èåæ¶è´¹èä¹é´çè¦åãå¨Kafkaæä¾çåºååå¨åååºååå¨æ»¡è¶³ä¸äºå½ååºç¨ç¨åºçéæ±åæä¸ï¼æ¨èä½¿ç¨ Avro JSON Thrift ProtoBuf æ Protostuffç­éç¨çåºååå·¥å·æ¥åè£ã\n\n----------------------------------------\n\n\n# 4.æ¶æ¯æ¶è´¹\n\nKafkaä¸­çæ¶æ¯æ¯åºäºææ¨¡å¼çãæ¶æ¯çæ¶è´¹ä¸è¬æä¸¤ç§æ¨¡å¼ï¼æ¨æ¨¡å¼åææ¨¡å¼ãæ¨æ¨¡å¼æ¯æå¡ç«¯ä¸»å¨å°æ¶æ¯æ¨éç»æ¶è´¹èï¼èææ¨¡å¼æ¯æ¶è´¹èä¸»å¨åæå¡ç«¯åèµ·è¯·æ±æ¥æåæ¶æ¯ã\n\nKafkaä¸­çæ¶æ¯æ¶è´¹æ¯ä¸ä¸ªä¸æ­è½®è¯¢çè¿ç¨ï¼æ¶è´¹èæè¦åçå°±æ¯éå¤çè°ç¨pollæ¹æ³ï¼èpollæ¹æ³è¿åçæ¯æè®¢éçä¸»é¢/ååºä¸çä¸ç»æ¶æ¯ã\n\nå¯¹äºpollæ¹æ³èè¨ï¼å¦ææäºååºä¸­æ²¡å¯ä¾æ¶è´¹çæ¶æ¯ï¼é£ä¹æ­¤ååºå¯¹åºçæ¶æ¯æåç»æå°±ä¸ºç©ºï¼å¦æè®¢éçææååºé½æ²¡æå¯ä¾æ¶è´¹çæ¶æ¯ï¼é£ä¹pollæ¹æ³è¿åä¸ºç©ºçæ¶æ¯éåã\n\npublic ConsumerRecords<K, V> poll(final Duration timeout);\n\n\n1\n\n\npollæ¹æ³éé¢è¿æä¸ä¸ªè¶æ¶æ¶é´åæ°timeoutï¼ç¨æ¥æ§å¶pollæ¹æ³çé»å¡æ¶é´ï¼å¨æ¶è´¹èçç¼å²åºéæ²¡æå¯ç¨æ°æ®çæ¶åä¼åçé»å¡ãtimeoutçè®¾ç½®åå³äºåºç¨ç¨åºå¯¹ååºéåº¦çè¦æ±ï¼æ¯å¦éè¦å¨å¤é¿æ¶é´åå°æ§å¶æç§»äº¤ç»æ§è¡è½®è¯¢çåºç¨çº¿ç¨ãå¯ä»¥ç´æ¥å°timeoutè®¾ç½®ä¸º0ï¼è¿æ ·pollæ¹æ³ä¼ç«å»è¿åï¼èä¸ç®¡æ¯å¦å·²ç»æåå°äºæ¶æ¯ãå¦æåºç¨çº¿ç¨å¯ä¸çå·¥ä½å°±æ¯ä»Kafkaä¸­æåå¹¶æ¶è´¹æ¶æ¯ï¼åå¯ä»¥å°è¿ä¸ªåæ°è®¾ç½®ä¸ºLong.MAX_VALUEã\n\næ¶è´¹èæ¶è´¹å°çæ¯æ¡æ¶æ¯çç±»åä¸ºConsumerRecordï¼å·ä½çç»æå¦ä¸ï¼\n\npublic class ConsumerRecord<K, V> {\n    public static final long NO_TIMESTAMP = RecordBatch.NO_TIMESTAMP;\n    public static final int NULL_SIZE = -1;\n    public static final int NULL_CHECKSUM = -1;\n\n    private final String topic; //æ¶æ¯æå±ä¸»é¢\n    private final int partition; //æ¶æ¯æå±ååº\n    private final long offset; //å½åæ¶æ¯å¨æå±ååºçåç§»é\n    private final long timestamp; //åå»ºæ¶é´æè¿½å å°æ¥å¿æä»¶çæ¶é´\n    private final TimestampType timestampType; //\n    private final int serializedKeySize; //\n    private final int serializedValueSize; //\n    private final Headers headers; //æ¶æ¯å¤´\n    private final K key; //é®\n    private final V value; //æ¶æ¯ä½\n\n    private volatile Long checksum; // CRC32çæ ¡éªå¼\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\næä»¬å¨æ¶è´¹æ¶æ¯çæ¶åå¯ä»¥ç´æ¥å¯¹ConsumerRecordä¸­æå´è¶£çå­æ®µè¿è¡å·ä½çä¸å¡é»è¾å¤çã\n\npollæ¹æ³çè¿åå¼ç±»åæ¯ConsumerRecordså®ç¨æ¥è¡¨ç¤ºä¸æ¬¡æåæä½æè·å¾çæ¶æ¯éï¼åé¨åå«äºè¥å¹²ConsumerRecordï¼å®æä¾äºä¸ä¸ªiteratoræ¹æ³æ¥å¾ªç¯éåæ¶æ¯éåé¨çæ¶æ¯ã\n\né¤äºä¸é¢çæ¹å¼ï¼æä»¬è¿å¯ä»¥æç§ååºç»´åº¦æ¥è¿è¡æ¶è´¹ï¼è¿ä¸ç¹å¾éè¦ï¼å¨æå¨æäº¤æ¶è´¹ä½ç¹çæ¶åç¹å«ææ¾ãConsumerRecordsç±»æä¾äºä¸ä¸ªrecords(TopicPartition)æ¹æ³æ¥è·åæ¶æ¯éä¸­æå®ååºçæ¶æ¯ã\n\npublic List<ConsumerRecord<K, V>>records(TopicPartition partition);\n\n\n1\n\n\nä¸é¢çæ¡ä¾æ¯æç§ååºç»´åº¦æ¶è´¹æ¶æ¯ã\n\nConsumerRecords<String, String> records=consumer.poll(Duration.ofMillis(1000));\n        records.partitions().stream().flatMap(partition->records.records(partition).stream()).map(record->record.partition()+" : "+record.value()).forEach(System.out::println);\n\n\n1\n2\n\n\nä¸é¢çConsumerRecords.partitions()æ¹æ³ç¨æ¥è·åæ¶æ¯éåä¸­çææååºãå¨ConsumerRecordsç±»ä¸­è¿æä¾äºæç§ä¸»é¢ç»´åº¦è¿è¡æ¶è´¹çæ¹æ³ï¼è¿ä¸ªæ¹æ³æ¯records(TopicPartition)çéè½½æ¹æ³ã\n\npublic Iterable<ConsumerRecord<K, V>>records(String topic);\n\n\n1\n\n\nConsumerRecordsç±»ä¸­å¹¶æ²¡ææä¾ä¸partitionsæ¹æ³ç±»ä¼¼çtopics()æ¹æ³ï¼å¦æéè¦æç§ä¸»é¢ç»´åº¦æ¥è¿è¡æ¶è´¹ï¼é£ä¹åªè½æ ¹æ®æ¶è´¹èè®¢éä¸»é¢æ¶çåè¡¨æ¥è¿è¡é»è¾å¤çãä¸é¢çæ¡ä¾æ¼ç¤ºäºå¦ä½ä½¿ç¨ConsumerRecordsçrecord(String topic)æ¹æ³ã\n\npublic static void consume(){\n        Properties properties=new Properties();\n        properties.put("key.deserializer","org.apache.kafka.common.serialization.StringDeserializer");\n        properties.put("value.deserializer","org.apache.kafka.common.serialization.StringDeserializer");\n        properties.put("bootstrap.servers",brokerList);\n        properties.put("group.id",groupId);\n        KafkaConsumer<String, String> consumer=new KafkaConsumer<>(properties);\n        List<String> topicList=List.of("topic1","topic2");\n        consumer.subscribe(topicList);\n        while(true){\n            ConsumerRecords<String, String> records=consumer.poll(Duration.ofMillis(1000));\n            for(String topic:topicList){\n                for(ConsumerRecord<String, String> record:records.records(topic)){\n                    System.out.println(record.partition()+" : "+record.value());\n                }\n            }\n        }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\nå¨ConsumerRecordsç±»ä¸­è¿æä¾äºå ä¸ªæ¹æ³æ¥æ¹ä¾¿æä»¬å¯¹æ¶æ¯éåè¿è¡å¤çï¼count()æ¹æ³è¿åæ¶æ¯éä¸­çæ¶æ¯ä¸ªæ°ï¼è¿åç±»åä¸ºintï¼isEmpty()æ¹æ³ç¨æ¥å¤æ­æ¶æ¯éåæ¯å¦ä¸ºç©ºï¼è¿åç±»åæ¯booleanï¼empty()æ¹æ³ç¨æ¥è·åä¸ä¸ªç©ºçæ¶æ¯éåï¼è¿åç±»åä¸ºConsumerRecords<K,V>ã\n\næªæ­¢ç®åï¼å¯ä»¥ç®åçè®¤ä¸ºpoll()æ¹æ³åªæ¯æåä¸ä¸æ¶æ¯èå·²ï¼å®éä¸å®çåé¨æ¶åæ¶è´¹ä½ç¹ï¼æ¶è´¹èåè°å¨ï¼ç»åè°å¨ï¼æ¶è´¹èçéä¸¾ï¼ååºåéçååï¼ååè¡¡çé»è¾ï¼å¿è·³ç­åå®¹ã\n\n----------------------------------------\n\n\n# 5.æ§å¶æå³é­æ¶è´¹\n\nKafkaConsumeræä¾äºå¯¹æ¶è´¹éåº¦è¿è¡æ§å¶çæ¹æ³ï¼å¨æäºåºæ¯ä¸æä»¬å¯è½éè¦ä¸´æ¶æåæäºååºçæ¶è´¹èåæ¶è´¹å¶ä»ååºï¼å½è¾¾å°ä¸å®æ¡ä»¶çæ¶ååæ¢å¤è¿äºååºçæ¶è´¹ãKafkaConsumerä¸­ä½¿ç¨ pause()å resume() æ¹æ³æ¥åå«å®ç°æåæäºååºå¨æåæä½æ¶è¿åæ°æ®ç»å®¢æ·ç«¯åæ¢å¤æäºååºåå®¢æ·ç«¯è¿åæ°æ®çæä½ã\n\n    void pause(Collection<TopicPartition> partitions);\n\n    void resume(Collection<TopicPartition> partitions);\n\n\n1\n2\n3\n\n\nKafkaConsumer è¿æä¾äºä¸ä¸ªæ åç paused0æ¹æ³æ¥è¿åè¢«æåçååºéåã\n\nSet<TopicPartition> paused();\n\n\n1\n\n\nå¦ä½ä¼éçéåºæ¶è´¹ï¼\n\n 1. ä½¿ç¨while(isRunning.get())çæ¹å¼ï¼è¿æ ·å¯ä»¥éè¿å¨å¶ä»å°æ¹è®¾å®isRunning.set(false)æ¥éåº while å¾ªç¯ã\n 2. è°ç¨ KafkaConsumer ç wakeup()æ¹æ³ï¼wakeup()æ¹æ³æ¯ KafkaConsumer ä¸­å¯ä¸å¯ä»¥ä»å¶ä»çº¿ç¨éå®å¨è°ç¨çæ¹æ³(KafkaConsumer æ¯éçº¿ç¨å®å¨ç)ï¼è°ç¨ wakeup()æ¹æ³åå¯ä»¥éåº pol1()çé»è¾,å¹¶æåº WakeupExceptionçå¼å¸¸ï¼æä»¬ä¹ä¸éè¦å¤çWakeupException çå¼å¸¸ï¼å®åªæ¯ä¸ç§è·³åºå¾ªç¯çæ¹å¼ã\n\n> è·³åºå¾ªç¯ä»¥åä¸å®è¦æ¾å¼å°æ§è¡å³é­å¨ä½ä»¥éæ¾è¿è¡è¿ç¨ä¸­å ç¨çåç§ç³»ç»èµæºï¼åæ¬åå­èµæºãSocket è¿æ¥ç­ã\n\nå¯¹äºclose()æ¹æ³ï¼å¯ä»¥æå®ä¸ä¸ªè¶æ¶åæ°ï¼å¦æä½¿ç¨æ åçæ¹æ³ï¼é»è®¤çæé¿ç­å¾æ¶é´æ¯30sï¼è¶è¿è¿ä¸ªæ¶é´åä¼å¼ºå¶éåºã\n\n----------------------------------------',normalizedContent:'ä¸ä¸ªæ­£å¸¸çæ¶è´¹é»è¾éè¦å·å¤ä»¥ä¸å ä¸ªæ­¥éª¤:\n\n 1. éç½®æ¶è´¹èå®¢æ·ç«¯åæ°ååå»ºç¸åºçæ¶è´¹èå®ä¾ã\n 2. è®¢éä¸»é¢ã\n 3. æåæ¶æ¯å¹¶æ¶è´¹ã\n 4. æäº¤æ¶è´¹ä½ç¹ã\n 5. å³é­æ¶è´¹èå®ä¾ã\n\n  public static void consume(){\n        properties props=new properties();\n        props.put(consumerconfig.bootstrap_servers_config,brokerlist);\n        props.put(consumerconfig.group_id_config,groupname);\n        props.put(consumerconfig.key_deserializer_class_config,stringdeserializer.class.getname());\n        props.put(consumerconfig.value_deserializer_class_config,stringdeserializer.class.getname());\n\n        kafkaconsumer<string, string> consumer=new kafkaconsumer<>(props);\n        consumer.subscribe(collections.singletonlist(topicname));\n\n        while(true){\n        consumerrecords<string, string> records=consumer.poll(duration.ofmillis(100));\n        records.foreach(record->system.out.println("received message: key = "+record.key()+", value = "+record.value()));\n        }\n        }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\n----------------------------------------\n\n\n# 1.å¿è¦çåæ°éç½®\n\nå¨kafkaæ¶è´¹èå®¢æ·ç«¯ä¸­æ4ä¸ªåæ°æ¯å¿å¡«çã\n\n * bootstrap.servers:è¯¥åæ°çéä¹åçäº§èå®¢æ·ç«¯ä¸­çç¸åï¼ç¨æ¥æå®è¿æ¥kafkaéç¾¤æéçbrokerå°åæ¸åï¼å·ä½åå®¹å½¢å¼ä¸ºhost1: port1ï¼host2:port2 ï¼å¯ä»¥è®¾ç½®ä¸ä¸ªæå¤ä¸ªå°åï¼ä¸­é´ç¨éå·éå¼ï¼æ­¤åæ°çé»è®¤å¼ä¸º""ãæ³¨æè¿éå¹¶ééè¦è®¾ç½®éç¾¤ä¸­å¨é¨çbrokerå°åï¼æ¶è´¹èä¼ä»ç°æçéç½®ä¸­æ¥æ¾å°å¨é¨çkafkaéç¾¤æåãè¿éè®¾ç½®ä¸¤ä¸ªä»¥ä¸çbrokerå°åä¿¡æ¯ï¼å½å¶ä¸­ä»»æä¸ä¸ªå®æºæ¶ï¼æ¶è´¹èä»ç¶å¯ä»¥è¿æ¥å°kafkaéç¾¤ä¸ã\n * group.idï¼æ¶è´¹èé¶å±çæ¶è´¹ç»çåç§°ï¼é»è®¤å¼ä¸º""ãå¦æè®¾ç½®ä¸ºç©ºï¼åä¼æ¥åºå¼å¸¸ãä¸è¬èè¨ï¼è¿ä¸ªåæ°éè¦è®¾ç½®æå·æä¸å®çä¸å¡æä¹çåç§°ã\n * key.deserializeråvalue.deserializerï¼ä¸çäº§èå®¢æ·ç«¯ä¸­çkey.serializeråvalue.serializeråæ°å¯¹åº.æ¶è´¹èä»brokerç«¯è·åçæ¶æ¯æ ¼å¼é½æ¯å­èæ°ç»(byte[)ç±»åï¼æä»¥éè¦æ§è¡ç¸åºçååºååæä½æè½è¿åæåæçå¯¹è±¡æ ¼å¼ãè¿ä¸¤ä¸ªåæ°åå«ç¨æ¥æå®æ¶æ¯ä¸­keyåvalueæéååºååæä½çååºååå¨ï¼è¿ä¸¤ä¸ªåæ°æ é»è®¤å¼ã è¿éå¿é¡»å¡«åååºååå¨ç±»çå¨éå®åï¼æ¯å¦ç¤ºä¾ä¸­çorg.apache.kafka.common.serialization.stringdeserializerï¼ååæå®å­ç¬¦ä¸²è§£ä¸²å¨æ¯éè¯¯çã\n * client.idï¼è¿ä¸ªåæ°ç¨æ¥è®¾å®kafkaæ¶è´¹èå¯¹åºçå®¢æ·ç«¯idï¼é»è®¤å¼ä¹ä¸º""ãå¦æå®¢æ·ç«¯ä¸è®¾ç½®ï¼åkafkaæ¶è´¹èä¼èªå¨çæä¸ä¸ªéç©ºå­ç¬¦ä¸²ï¼åå®¹å½¢å¼å¦"consumer-1""consumer-2"ï¼å³å­ç¬¦ä¸²"consumer-"ä¸æ°å­çæ¼æ¥ã\n\n> å¼åä¸­è®¾ç½®éç½®æ¨èä½¿ç¨ç±»consumerconfigã\n\nå¨éç½®å®å¿è¦çåæ°ä¹åï¼æä»¬å°±å¯ä»¥å©ç¨å®æ¥åå»ºä¸ä¸ªæ¶è´¹èå®ä¾äºã\n\n----------------------------------------\n\n\n# 2.è®¢éä¸»é¢&ååº\n\nå¨åå»ºå¥½æ¶è´¹èä¹åï¼å°±éè¦ä¸ºè¯¥æ¶è´¹èè®¢éç¸å³çä¸»é¢äºãä¸ä¸ªæ¶è´¹èå¯ä»¥è®¢éä¸ä¸ªæå¤ä¸ªä¸»é¢ï¼åé¢çä»£ç ä¸­æä»¬ä½¿ç¨subscribeæ¹æ³è®¢éäºä¸ä¸ªä¸»é¢ï¼å¯¹äºè¿ä¸ªæ¹æ³èè¨,æ¢å¯ä»¥ä»¥éåçå½¢å¼è®¢éå¤ä¸ªä¸»é¢ï¼ä¹å¯ä»¥ä»¥æ­£åè¡¨è¾¾å¼çå½¢å¼è®¢éç¹å®æ¨¡å¼çä¸»é¢ãsubscribeçå ä¸ªéè½½æ¹æ³å¦ä¸:\n\n        void subscribe(collection<string> topics);\n\n\n        void subscribe(collection<string> topics,consumerrebalancelistener callback);\n\n\n        void subscribe(pattern pattern,consumerrebalancelistener callback);\n\n\n        void subscribe(pattern pattern);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\nå¦æååä¸¤æ¬¡è®¢éäºä¸åçä¸»é¢ï¼é£ä¹æ¶è´¹èä»¥æåä¸æ¬¡çä¸ºåã\n\nconsumer.subscribe(arrays.aslist(topicl));\nconsumer.subscribe(arrays.aslist(topic2));\n\n\n1\n2\n\n\nä¸é¢çç¤ºä¾ä¸­ï¼æç»æ¶è´¹èè®¢éçæ¯ topic2ï¼èä¸æ¯ topicl,ä¹ä¸æ¯ topicl å topic2 çå¹¶éã\n\nå¦ææ¶è´¹èéç¨çæ¯æ­£åè¡¨è¾¾å¼çæ¹å¼(subscribe(pattern))è®¢éï¼å¨ä¹åçè¿ç¨ä¸­ï¼å¦ææäººååå»ºäºæ°çä¸»é¢ï¼å¹¶ä¸ä¸»é¢çåå­ä¸æ­£åè¡¨è¾¾å¼ç¸å¹éï¼é£ä¹è¿ä¸ªæ¶è´¹èå°±å¯ä»¥æ¶è´¹å°æ°æ·»å çä¸»é¢ä¸­çæ¶æ¯ã\n\n> å¨ subscribeçéè½½æ¹æ³ä¸­æä¸ä¸ªåæ°ç±»åæ¯ consumerrebalancelistenerï¼è¿ä¸ªæ¯ç¨æ¥è®¾ç½®ç¸åºçååè¡¡çå¬å¨çã\n\næ¶è´¹èä¸ä»å¯ä»¥éè¿kafkaconsumer.subscribe()æ¹æ³è®¢éä¸»é¢ï¼è¿å¯ä»¥ç´æ¥è®¢éæäºä¸»é¢ç¹å®ååºï¼å¨ kafkaconsumerä¸­è¿æä¾äºä¸ä¸ª assignæ¹æ³æ¥å®ç°è¿äºåè½ã\n\npublic void assign(collection<topicpartition> partitions)\n\n\n1\n\n\nè¿ä¸ªæ¹æ³åªæ¥åä¸ä¸ªåæ° partitionsï¼ç¨æ¥æå®éè¦è®¢éçååºéåãè¿éè¡¥åè¯´æä¸ä¸ topicpartition ç±»ï¼å¨ kafka çå®¢æ·ç«¯ä¸­ï¼å®ç¨æ¥è¡¨ç¤ºååºã\n\npublic final class topicpartition implements serializable {\n    private static final long serialversionuid = -613627415771699627l;\n\n    private int hash = 0;\n    private final int partition;\n    private final string topic;\n\n    public topicpartition(string topic, int partition) {\n        this.partition = partition;\n        this.topic = topic;\n    }\n\n    public int partition() {\n        return partition;\n    }\n\n    public string topic() {\n        return topic;\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n\n\ntopicpartition ç±»åªæ 2 ä¸ªå±æ§:topic åpartitionï¼åå«ä»£è¡¨ååºæå±çä¸»é¢åèªèº«çååºç¼å·ï¼è¿ä¸ªç±»å¯ä»¥åæä»¬éå¸¸æè¯´çä¸»é¢ä¸ååºçæ¦å¿µæ å°èµ·æ¥ã\n\næä»¬å°åé¢ä»£ç ä¸­ç subscribeæ¹æ³ä¿®æ¹ä¸º assign æ¹æ³ï¼è¿éåªè®¢é topic-demo ä¸»é¢ä¸­ååºç¼å·ä¸º 0 çååºï¼ç¸å³ä»£ç å¦ä¸:\n\nconsumer.assign(arrays.aslist(new topicpartition("topic-demo",0)));\n\n\n1\n\n\nå¦ææä»¬äºåå¹¶ä¸ç¥éä¸»é¢ä¸­æå¤å°ä¸ªååºæä¹å?kafkaconsumerä¸­çpartitionsforæ¹æ³å¯ä»¥ç¨æ¥æ¥è¯¢æå®ä¸»é¢çåæ°æ®ä¿¡æ¯ï¼partitionsforæ¹æ³çå·ä½å®ä¹å¦ä¸:\n\npublic list<partitioninfo> partitionsfor(string topic)\n\n\n1\n\n\nå¶ä¸­ partitioninfo ç±»åå³ä¸ºä¸»é¢çååºåæ°æ®ä¿¡æ¯ï¼æ­¤ç±»çä¸»è¦ç»æå¦ä¸:\n\npublic class partitioninfo {\n    private final string topic; //ä¸»é¢\n    private final int partition; //ååº\n    private final node leader; //leader æå¨çbrokerèç¹\n    private final node[] replicas; // ar\n    private final node[] insyncreplicas; //isr\n    private final node[] offlinereplicas; // osr\n    //çç¥é¨ååå®¹...\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\néè¿ partitionsforæ¹æ³çåå©ï¼æä»¬å¯ä»¥éè¿ assignæ¹æ³æ¥å®ç°è®¢éä¸»é¢ (å¨é¨ååº)çåè½ã\n\n    list<topicpartition> partitions=new arraylist<> 0);\n        list<partitioninfo> partitioninfos=consumer.partitionsfor(topic);\n        if(partitioninfos!=null){\n        partitioninfos.stream().map(tpinfo->new topicpartition(tpinfo.topic(),tpinfo.partition())).foreach(partitions::add);\n        }\n        consumer.assign(partitions);\n\n\n1\n2\n3\n4\n5\n6\n\n\nå¯ä»¥ä½¿ç¨ kafkaconsumer ä¸­ç unsubscribeæ¹æ³æ¥åæ¶ä¸»é¢çè®¢éãè¿ä¸ªæ¹æ³æ¢å¯ä»¥åæ¶éè¿ subscribe(collection)æ¹å¼å®ç°çè®¢éï¼ä¹å¯ä»¥åæ¶éè¿subscribe(pattern)æ¹å¼å®ç°çè®¢éï¼è¿å¯ä»¥åæ¶éè¿ assign(collection)æ¹å¼å®ç°çè®¢éã\n\nconsumer.unsubscribe();\n\n\n1\n\n\nå¦æå°subscribe(collection)æ assign(collection)ä¸­çéååæ°è®¾ç½®ä¸ºç©ºéåï¼é£ä¹ä½ç¨ç­åäº unsubscribe()æ¹æ³ã\n\nconsumer.unsubscribe();\n        consumer.subscribe(new arraylist<string>());\n        consumer.assign(new arraylist<topicpartition>());\n\n\n1\n2\n3\n\n\nå¦ææ²¡æè®¢éä»»ä½ä¸»é¢æååºï¼é£ä¹åç»§ç»­æ§è¡æ¶è´¹ç¨åºçæ¶åä¼æ¥åºillegalstateexceptionå¼å¸¸ã\n\néåè®¢éçæ¹å¼subscribe(collection)ãæ­£åè¡¨è¾¾å¼è®¢éçæ¹å¼ subscribe(pattern)åæå®ååºçè®¢éæ¹å¼ assign(collection)åè¡¨ä»£è¡¨äºä¸ç§ä¸åçè®¢éç¶æ:auto topicsãauto patternå user assigned(å¦ææ²¡æè®¢éï¼é£ä¹è®¢éç¶æä¸ºnone)ãç¶èè¿ä¸ç§ç¶ææ¯äºæ¥çï¼å¨ä¸ä¸ªæ¶è´¹èä¸­åªè½ä½¿ç¨å¶ä¸­çä¸ç§ï¼å¦åä¼æ¥åºilegalstateexceptionå¼å¸¸ã\n\néè¿ subscribeæ¹æ³è®¢éä¸»é¢å·ææ¶è´¹èèªå¨åå¹³è¡¡çåè½ï¼å¨å¤ä¸ªæ¶è´¹èçæåµä¸å¯ä»¥æ ¹æ®ååºåéç­ç¥æ¥èªå¨åéåä¸ªæ¶è´¹èä¸ååºçå³ç³»ãå½æ¶è´¹ç»åçæ¶è´¹èå¢å æåå°æ¶,ååºåéå³ç³»ä¼èªå¨è°æ´ï¼ä»¥å®ç°æ¶è´¹è´è½½åè¡¡åæéèªå¨è½¬ç§»ãèéè¿assignæ¹æ³è®¢éååºæ¶ï¼æ¯ä¸å·å¤æ¶è´¹èèªå¨åè¡¡çåè½çï¼å¶å®è¿ä¸ç¹ä» assignæ¹æ³çåæ°ä¸­å°±å¯ä»¥çåºç«¯åª,ä¸¤ç§ç±»åçsubscribeé½æconsumerrebalancelistenerç±»ååæ°çæ¹æ³,èassignæ¹æ³å´æ²¡æã\n\n----------------------------------------\n\n\n# 3.ååºåå\n\nkafkaproduceræå¯¹åºçåºååå¨ï¼é£ä¹ä¸æ­¤å¯¹åºçkafkaconsumerå°±ä¼æååºååå¨ãkafkaææä¾çååºååå¨æ bytearraydeserializer bytebufferdeserializer bytesdeserializer doubledeserializer floatdeserializer integerdeserializer listdeserializer longdeserializer shortdeserializer stringdeserializer uuiddeserializer voiddeserializerï¼è¿äºåºååå¨ä¹é½å®ç°äºdeserializeræ¥å£ï¼ä¸kafkaproducerä¸­æåçserializeræ¥å£ä¸æ ·ï¼deserializeræ¥å£ä¹æä¸ä¸ªæ¹æ³ã\n\npublic interface deserializer<t> extends closeable {\n    //ç¨æ¥éç½®å½åç±»\n    void configure(map<string, ?> configs, boolean iskey);\n\n    //å¦ædataä¸ºnullï¼é£ä¹å¤ççæ¶åç´æ¥è¿ånullèä¸æ¯æåºä¸ä¸ªå¼å¸¸ã\n    t deserialize(string topic, byte[] data);\n\n    //ç¨æ¥å³é­å½ååºååå¨ã\n    void close();\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\nä»¥stringdeserializerä¸ºä¾åæååºååå¨çå·ä½å®ç°ã\n\npublic class stringdeserializer implements deserializer<string> {\n    private string encoding = "utf8";\n\n    @override\n    public void configure(map<string, ?> configs, boolean iskey) {\n        string propertyname = iskey ? "key.deserializer.encoding" : "value.deserializer.encoding";\n        object encodingvalue = configs.get(propertyname);\n        if (encodingvalue == null)\n            encodingvalue = configs.get("deserializer.encoding");\n        if (encodingvalue instanceof string)\n            encoding = (string) encodingvalue;\n    }\n\n    @override\n    public string deserialize(string topic, byte[] data) {\n        try {\n            if (data == null)\n                return null;\n            else\n                return new string(data, encoding);\n        } catch (unsupportedencodingexception e) {\n            throw new serializationexception("error when deserializing byte[] to string due to unsupported encoding " + encoding);\n        }\n    }\n\n    @override\n    public void close() {\n        // nothing to do\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n\n\nconfigureæ¹æ³ä¸»è¦æ¯åå­ç¬¦ç¼ç çéç½®ãdeserializeæ¹æ³å°±æ¯ç®åçæå­èæ°ç»è½¬åæå­ç¬¦ä¸²ï¼å¦æä¸ºç©ºçæ¶åå¹¶ä¸ä¼æåºå¼å¸¸ï¼èæ¯è¿ånullã\n\nå¦å¤æä»¬è¿å¯ä»¥èªå®ä¹ååºååå¨ï¼ä¸»è¦æä¸¤ä¸ªæ­¥éª¤ï¼èªå®ä¹ååºååå¨åæå®èªå®ä¹çååºååå¨ãä¸å»ºè®®ä½¿ç¨èªå®ä¹çåºåååååºååå¨ï¼è¿æ ·ä¼å¢å çäº§èåæ¶è´¹èä¹é´çè¦åãå¨kafkaæä¾çåºååå¨åååºååå¨æ»¡è¶³ä¸äºå½ååºç¨ç¨åºçéæ±åæä¸ï¼æ¨èä½¿ç¨ avro json thrift protobuf æ protostuffç­éç¨çåºååå·¥å·æ¥åè£ã\n\n----------------------------------------\n\n\n# 4.æ¶æ¯æ¶è´¹\n\nkafkaä¸­çæ¶æ¯æ¯åºäºææ¨¡å¼çãæ¶æ¯çæ¶è´¹ä¸è¬æä¸¤ç§æ¨¡å¼ï¼æ¨æ¨¡å¼åææ¨¡å¼ãæ¨æ¨¡å¼æ¯æå¡ç«¯ä¸»å¨å°æ¶æ¯æ¨éç»æ¶è´¹èï¼èææ¨¡å¼æ¯æ¶è´¹èä¸»å¨åæå¡ç«¯åèµ·è¯·æ±æ¥æåæ¶æ¯ã\n\nkafkaä¸­çæ¶æ¯æ¶è´¹æ¯ä¸ä¸ªä¸æ­è½®è¯¢çè¿ç¨ï¼æ¶è´¹èæè¦åçå°±æ¯éå¤çè°ç¨pollæ¹æ³ï¼èpollæ¹æ³è¿åçæ¯æè®¢éçä¸»é¢/ååºä¸çä¸ç»æ¶æ¯ã\n\nå¯¹äºpollæ¹æ³èè¨ï¼å¦ææäºååºä¸­æ²¡å¯ä¾æ¶è´¹çæ¶æ¯ï¼é£ä¹æ­¤ååºå¯¹åºçæ¶æ¯æåç»æå°±ä¸ºç©ºï¼å¦æè®¢éçææååºé½æ²¡æå¯ä¾æ¶è´¹çæ¶æ¯ï¼é£ä¹pollæ¹æ³è¿åä¸ºç©ºçæ¶æ¯éåã\n\npublic consumerrecords<k, v> poll(final duration timeout);\n\n\n1\n\n\npollæ¹æ³éé¢è¿æä¸ä¸ªè¶æ¶æ¶é´åæ°timeoutï¼ç¨æ¥æ§å¶pollæ¹æ³çé»å¡æ¶é´ï¼å¨æ¶è´¹èçç¼å²åºéæ²¡æå¯ç¨æ°æ®çæ¶åä¼åçé»å¡ãtimeoutçè®¾ç½®åå³äºåºç¨ç¨åºå¯¹ååºéåº¦çè¦æ±ï¼æ¯å¦éè¦å¨å¤é¿æ¶é´åå°æ§å¶æç§»äº¤ç»æ§è¡è½®è¯¢çåºç¨çº¿ç¨ãå¯ä»¥ç´æ¥å°timeoutè®¾ç½®ä¸º0ï¼è¿æ ·pollæ¹æ³ä¼ç«å»è¿åï¼èä¸ç®¡æ¯å¦å·²ç»æåå°äºæ¶æ¯ãå¦æåºç¨çº¿ç¨å¯ä¸çå·¥ä½å°±æ¯ä»kafkaä¸­æåå¹¶æ¶è´¹æ¶æ¯ï¼åå¯ä»¥å°è¿ä¸ªåæ°è®¾ç½®ä¸ºlong.max_valueã\n\næ¶è´¹èæ¶è´¹å°çæ¯æ¡æ¶æ¯çç±»åä¸ºconsumerrecordï¼å·ä½çç»æå¦ä¸ï¼\n\npublic class consumerrecord<k, v> {\n    public static final long no_timestamp = recordbatch.no_timestamp;\n    public static final int null_size = -1;\n    public static final int null_checksum = -1;\n\n    private final string topic; //æ¶æ¯æå±ä¸»é¢\n    private final int partition; //æ¶æ¯æå±ååº\n    private final long offset; //å½åæ¶æ¯å¨æå±ååºçåç§»é\n    private final long timestamp; //åå»ºæ¶é´æè¿½å å°æ¥å¿æä»¶çæ¶é´\n    private final timestamptype timestamptype; //\n    private final int serializedkeysize; //\n    private final int serializedvaluesize; //\n    private final headers headers; //æ¶æ¯å¤´\n    private final k key; //é®\n    private final v value; //æ¶æ¯ä½\n\n    private volatile long checksum; // crc32çæ ¡éªå¼\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\næä»¬å¨æ¶è´¹æ¶æ¯çæ¶åå¯ä»¥ç´æ¥å¯¹consumerrecordä¸­æå´è¶£çå­æ®µè¿è¡å·ä½çä¸å¡é»è¾å¤çã\n\npollæ¹æ³çè¿åå¼ç±»åæ¯consumerrecordså®ç¨æ¥è¡¨ç¤ºä¸æ¬¡æåæä½æè·å¾çæ¶æ¯éï¼åé¨åå«äºè¥å¹²consumerrecordï¼å®æä¾äºä¸ä¸ªiteratoræ¹æ³æ¥å¾ªç¯éåæ¶æ¯éåé¨çæ¶æ¯ã\n\né¤äºä¸é¢çæ¹å¼ï¼æä»¬è¿å¯ä»¥æç§ååºç»´åº¦æ¥è¿è¡æ¶è´¹ï¼è¿ä¸ç¹å¾éè¦ï¼å¨æå¨æäº¤æ¶è´¹ä½ç¹çæ¶åç¹å«ææ¾ãconsumerrecordsç±»æä¾äºä¸ä¸ªrecords(topicpartition)æ¹æ³æ¥è·åæ¶æ¯éä¸­æå®ååºçæ¶æ¯ã\n\npublic list<consumerrecord<k, v>>records(topicpartition partition);\n\n\n1\n\n\nä¸é¢çæ¡ä¾æ¯æç§ååºç»´åº¦æ¶è´¹æ¶æ¯ã\n\nconsumerrecords<string, string> records=consumer.poll(duration.ofmillis(1000));\n        records.partitions().stream().flatmap(partition->records.records(partition).stream()).map(record->record.partition()+" : "+record.value()).foreach(system.out::println);\n\n\n1\n2\n\n\nä¸é¢çconsumerrecords.partitions()æ¹æ³ç¨æ¥è·åæ¶æ¯éåä¸­çææååºãå¨consumerrecordsç±»ä¸­è¿æä¾äºæç§ä¸»é¢ç»´åº¦è¿è¡æ¶è´¹çæ¹æ³ï¼è¿ä¸ªæ¹æ³æ¯records(topicpartition)çéè½½æ¹æ³ã\n\npublic iterable<consumerrecord<k, v>>records(string topic);\n\n\n1\n\n\nconsumerrecordsç±»ä¸­å¹¶æ²¡ææä¾ä¸partitionsæ¹æ³ç±»ä¼¼çtopics()æ¹æ³ï¼å¦æéè¦æç§ä¸»é¢ç»´åº¦æ¥è¿è¡æ¶è´¹ï¼é£ä¹åªè½æ ¹æ®æ¶è´¹èè®¢éä¸»é¢æ¶çåè¡¨æ¥è¿è¡é»è¾å¤çãä¸é¢çæ¡ä¾æ¼ç¤ºäºå¦ä½ä½¿ç¨consumerrecordsçrecord(string topic)æ¹æ³ã\n\npublic static void consume(){\n        properties properties=new properties();\n        properties.put("key.deserializer","org.apache.kafka.common.serialization.stringdeserializer");\n        properties.put("value.deserializer","org.apache.kafka.common.serialization.stringdeserializer");\n        properties.put("bootstrap.servers",brokerlist);\n        properties.put("group.id",groupid);\n        kafkaconsumer<string, string> consumer=new kafkaconsumer<>(properties);\n        list<string> topiclist=list.of("topic1","topic2");\n        consumer.subscribe(topiclist);\n        while(true){\n            consumerrecords<string, string> records=consumer.poll(duration.ofmillis(1000));\n            for(string topic:topiclist){\n                for(consumerrecord<string, string> record:records.records(topic)){\n                    system.out.println(record.partition()+" : "+record.value());\n                }\n            }\n        }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\nå¨consumerrecordsç±»ä¸­è¿æä¾äºå ä¸ªæ¹æ³æ¥æ¹ä¾¿æä»¬å¯¹æ¶æ¯éåè¿è¡å¤çï¼count()æ¹æ³è¿åæ¶æ¯éä¸­çæ¶æ¯ä¸ªæ°ï¼è¿åç±»åä¸ºintï¼isempty()æ¹æ³ç¨æ¥å¤æ­æ¶æ¯éåæ¯å¦ä¸ºç©ºï¼è¿åç±»åæ¯booleanï¼empty()æ¹æ³ç¨æ¥è·åä¸ä¸ªç©ºçæ¶æ¯éåï¼è¿åç±»åä¸ºconsumerrecords<k,v>ã\n\næªæ­¢ç®åï¼å¯ä»¥ç®åçè®¤ä¸ºpoll()æ¹æ³åªæ¯æåä¸ä¸æ¶æ¯èå·²ï¼å®éä¸å®çåé¨æ¶åæ¶è´¹ä½ç¹ï¼æ¶è´¹èåè°å¨ï¼ç»åè°å¨ï¼æ¶è´¹èçéä¸¾ï¼ååºåéçååï¼ååè¡¡çé»è¾ï¼å¿è·³ç­åå®¹ã\n\n----------------------------------------\n\n\n# 5.æ§å¶æå³é­æ¶è´¹\n\nkafkaconsumeræä¾äºå¯¹æ¶è´¹éåº¦è¿è¡æ§å¶çæ¹æ³ï¼å¨æäºåºæ¯ä¸æä»¬å¯è½éè¦ä¸´æ¶æåæäºååºçæ¶è´¹èåæ¶è´¹å¶ä»ååºï¼å½è¾¾å°ä¸å®æ¡ä»¶çæ¶ååæ¢å¤è¿äºååºçæ¶è´¹ãkafkaconsumerä¸­ä½¿ç¨ pause()å resume() æ¹æ³æ¥åå«å®ç°æåæäºååºå¨æåæä½æ¶è¿åæ°æ®ç»å®¢æ·ç«¯åæ¢å¤æäºååºåå®¢æ·ç«¯è¿åæ°æ®çæä½ã\n\n    void pause(collection<topicpartition> partitions);\n\n    void resume(collection<topicpartition> partitions);\n\n\n1\n2\n3\n\n\nkafkaconsumer è¿æä¾äºä¸ä¸ªæ åç paused0æ¹æ³æ¥è¿åè¢«æåçååºéåã\n\nset<topicpartition> paused();\n\n\n1\n\n\nå¦ä½ä¼éçéåºæ¶è´¹ï¼\n\n 1. ä½¿ç¨while(isrunning.get())çæ¹å¼ï¼è¿æ ·å¯ä»¥éè¿å¨å¶ä»å°æ¹è®¾å®isrunning.set(false)æ¥éåº while å¾ªç¯ã\n 2. è°ç¨ kafkaconsumer ç wakeup()æ¹æ³ï¼wakeup()æ¹æ³æ¯ kafkaconsumer ä¸­å¯ä¸å¯ä»¥ä»å¶ä»çº¿ç¨éå®å¨è°ç¨çæ¹æ³(kafkaconsumer æ¯éçº¿ç¨å®å¨ç)ï¼è°ç¨ wakeup()æ¹æ³åå¯ä»¥éåº pol1()çé»è¾,å¹¶æåº wakeupexceptionçå¼å¸¸ï¼æä»¬ä¹ä¸éè¦å¤çwakeupexception çå¼å¸¸ï¼å®åªæ¯ä¸ç§è·³åºå¾ªç¯çæ¹å¼ã\n\n> è·³åºå¾ªç¯ä»¥åä¸å®è¦æ¾å¼å°æ§è¡å³é­å¨ä½ä»¥éæ¾è¿è¡è¿ç¨ä¸­å ç¨çåç§ç³»ç»èµæºï¼åæ¬åå­èµæºãsocket è¿æ¥ç­ã\n\nå¯¹äºclose()æ¹æ³ï¼å¯ä»¥æå®ä¸ä¸ªè¶æ¶åæ°ï¼å¦æä½¿ç¨æ åçæ¹æ³ï¼é»è®¤çæé¿ç­å¾æ¶é´æ¯30sï¼è¶è¿è¿ä¸ªæ¶é´åä¼å¼ºå¶éåºã\n\n----------------------------------------',charsets:{cjk:!0},lastUpdated:"2023/11/04, 10:52:44",lastUpdatedTimestamp:1699066364e3},{title:"æ¶è´¹è-å®¢æ·ç«¯å¼å-ä½ç¹æäº¤",frontmatter:{title:"æ¶è´¹è-å®¢æ·ç«¯å¼å-ä½ç¹æäº¤",date:"2023-01-01T00:00:00.000Z",tags:["Kafka","æ¶æ¯éå"],categories:["Kafka"],description:"æ¶è´¹è-å®¢æ·ç«¯å¼å-ä½ç¹æäº¤",toc_number:!1,author:{name:"huidong.yin",link:"https://huidongyin.github.io"},permalink:"/pages/0768d08c-72ff-34e7-aada-50c4eecb08b5/"},regularPath:"/03.%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97/00.Kafka/6.%E6%B6%88%E8%B4%B9%E8%80%85-%E5%AE%A2%E6%88%B7%E7%AB%AF%E5%BC%80%E5%8F%91-%E4%BD%8D%E7%82%B9%E6%8F%90%E4%BA%A4.html",relativePath:"03.æ¶æ¯éå/00.Kafka/6.æ¶è´¹è-å®¢æ·ç«¯å¼å-ä½ç¹æäº¤.md",key:"v-2880c44a",path:"/pages/0768d08c-72ff-34e7-aada-50c4eecb08b5/",headersStr:null,content:'å¯¹äº Kafka ä¸­çååºèè¨ï¼å®çæ¯æ¡æ¶æ¯é½æå¯ä¸ç offsetï¼ç¨æ¥è¡¨ç¤ºæ¶æ¯å¨ååºä¸­å¯¹åºçä½ç½®ãå¯¹äºæ¶è´¹èèè¨ï¼å®ä¹æä¸ä¸ª offset çæ¦å¿µï¼æ¶è´¹èä½¿ç¨ offsetæ¥è¡¨ç¤ºæ¶è´¹å°ååºä¸­æä¸ªæ¶æ¯æå¨çä½ç½®ãå¯¹äºæ¶æ¯å¨ååºä¸­çä½ç½®ï¼æä»¬å°offsetç§°ä¸º"åç§»é";å¯¹äºæ¶è´¹èæ¶è´¹å°çä½ç½®ï¼å° offset ç§°ä¸º"æ¶è´¹ä½ç¹"ãå½ç¶ï¼å¯¹äºä¸æ¡æ¶æ¯èè¨ï¼å®çåç§»éåæ¶è´¹èæ¶è´¹å®æ¶çæ¶è´¹ä½ç¹æ¯ç¸ç­çã\n\nå¨æ¯æ¬¡è°ç¨pollæ¹æ³æ¶ï¼å®è¿åçæ¯è¿æ²¡æè¢«æ¶è´¹è¿çæ¶æ¯é(å½ç¶è¿ä¸ªåææ¯æ¶æ¯å·²ç»å­å¨å¨Kafkaä¸­äºï¼å¹¶ä¸æä¸èèå¼å¸¸æåµçåç)ï¼è¦åå°è¿ä¸ç¹ï¼å°±éè¦è®°å½ä¸ä¸æ¬¡æ¶è´¹æ¶çæ¶è´¹ä½ç¹ãå¹¶ä¸è¿ä¸ªæ¶è´¹ä½ç¹å¿é¡»åæä¹åä¿å­ï¼èä¸æ¯ååä¿å­å¨åå­ä¸­ï¼å¦åæ¶è´¹èéå¯ä¹åå°±æ æ³ç¥æä¹åçæ¶è´¹ä½ç¹ãåèèä¸ç§æåµï¼å½ææ°çæ¶è´¹èå å¥æ¶ï¼é£ä¹å¿ç¶ä¼æååè¡¡çå¨ä½ï¼å¯¹äºåä¸ååºèè¨ï¼å®å¯è½å¨ååè¡¡å¨ä½ä¹ååéç»æ°çæ¶è´¹èï¼å¦æä¸æä¹åä¿å­æ¶è´¹ä½ç¹ï¼é£ä¹è¿ä¸ªæ°çæ¶è´¹èä¹æ æ³ç¥æä¹åçæ¶è´¹ä½ç¹ã\n\nå¨æ§æ¶è´¹èå®¢æ·ç«¯ä¸­ï¼æ¶è´¹ä½ç¹æ¯å­å¨å¨ ZooKeeper ä¸­çãèå¨æ°æ¶è´¹èå®¢æ·ç«¯ä¸­ï¼æ¶è´¹ä½ç¹å­å¨å¨Kafkaåé¨çä¸»é¢ consumer_offsets ä¸­ãè¿éæå°æ¶è´¹ä½ç¹å­å¨èµ·æ¥(æä¹å)çå¨ä½ç§°ä¸º"æäº¤"ï¼æ¶è´¹èå¨æ¶è´¹å®æ¶æ¯ä¹åéè¦æ§è¡æ¶è´¹ä½ç¹çæäº¤ã\n\nåèä¸å¾çæ¶è´¹ä½ç¹ï¼x è¡¨ç¤ºæä¸æ¬¡æåæä½ä¸­æ­¤ååºæ¶æ¯çæå¤§åç§»éï¼åè®¾å½åæ¶è´¹èå·²ç»æ¶è´¹äº xä½ç½®çæ¶æ¯ï¼é£ä¹æä»¬å°±å¯ä»¥è¯´æ¶è´¹èçæ¶è´¹ä½ç¹ä¸ºxï¼å¾ä¸­ä¹ç¨äºlastConsumedOffsetè¿ä¸ªåè¯æ¥æ è¯å®ã\n\n\n\nå½åæ¶è´¹èéè¦æäº¤çä½ç¹ä¸æ¯xï¼èæ¯x+1ï¼å¯¹åºäºä¸å¾ä¸­çpositionï¼å®è¡¨ç¤ºä¸ä¸æ¡éè¦æåçæ¶æ¯çä½ç½®ãå¨æ¶è´¹èä¸­è¿æä¸ä¸ªcommitted offsetçæ¦å¿µï¼ä»è¡¨ç¤ºå·²ç»æäº¤è¿çæ¶è´¹ä½ç¹ã\n\nKafkaConsumerç±»æä¾äºposition(TopicPartition)åcommitted(TopicPartition)ä¸¤ä¸ªæ¹æ³æ¥åå«è·åä¸é¢æè¯´çpositionåcommitted offsetçå¼ã\n\npublic long position(TopicPartition partition);\n\npublic OffsetAndMetadata committed(TopicPartition partition);\n\n\n1\n2\n3\n\n\ncommited offset == position == (lastConsumedOffset + 1)\n\n> position å commited offset å¹¶ä¸ä¼ä¸ç´ç¸åã\n\nä½ç¹æäº¤çæ¶æºä¸åï¼æå¯è½ä¼é æéå¤æ¶è´¹åæ¶æ¯ä¸¢å¤±çç°è±¡ã\n\nåèä¸å¾ï¼å½åä¸æ¬¡pollæä½ææåçæ¶æ¯éä¸º[x+2,x+7]ï¼x+2 ä»£è¡¨ä¸ä¸æ¬¡æäº¤çæ¶è´¹ä½ç¹ï¼è¯´æå·²ç»å®æäº x+1 ä¹å(åæ¬ x+1 å¨å)çæææ¶æ¯çæ¶è´¹ï¼x+5 è¡¨ç¤ºå½åæ­£å¨å¤ççä½ç½®ï¼å¦ææåå°æ¶æ¯ä¹åå°±è¿è¡äºä½ç¹æäº¤ï¼å³æäº¤äº x+8ï¼é£ä¹å½åæ¶è´¹ x+5 çæ¶åéå°äºå¼å¸¸å¨æéæ¢å¤ä¹åï¼æä»¬éæ°æåçæ¶æ¯æ¯ä» x+8 å¼å§çãä¹å°±æ¯è¯´ï¼x+5 è³ x+7ä¹é´çæ¶æ¯æªè½è¢«æ¶è´¹ï¼å¦æ­¤ä¾¿åçäºæ¶æ¯ä¸¢å¤±çç°è±¡ã åèèå¦å¤ä¸ç§æå½¢ï¼ä½ç¹æäº¤çå¨ä½æ¯å¨æ¶è´¹å®æææåå°çæ¶æ¯ä¹åææ§è¡çï¼é£ä¹å½æ¶è´¹x+5çæ¶åéå°äºå¼å¸¸ï¼å¨æéæ¢å¤ä¹åï¼æä»¬éæ°æåçæ¶æ¯æ¯ä»x+2 å¼å§çãä¹å°±æ¯è¯´ï¼x+2 è³ x+4 ä¹é´çæ¶æ¯åéæ°æ¶è´¹äºä¸éï¼æèååçäºéå¤æ¶è´¹çç°è±¡ã\n\nå¨ Kafka ä¸­é»è®¤çæ¶è´¹ä½ç¹çæäº¤æ¹å¼æ¯èªå¨æäº¤ï¼è¿ä¸ªç±æ¶è´¹èå®¢æ·ç«¯åæ°enable.auto.commit éç½®ï¼é»è®¤å¼ä¸º trueãå½ç¶è¿ä¸ªé»è®¤çèªå¨æäº¤ä¸æ¯æ¯æ¶è´¹ä¸æ¡æ¶æ¯å°±æäº¤ä¸æ¬¡ï¼èæ¯å®ææäº¤ï¼è¿ä¸ªå®æçå¨ææ¶é´ç±å®¢æ·ç«¯åæ° auto.commit.interval.mséç½®ï¼é»è®¤å¼ä¸º 5 ç§ï¼æ­¤åæ°çæçåææ¯ enable.auto.commit åæ°ä¸ºtrue)ã\n\nå¨é»è®¤çæ¹å¼ä¸ï¼æ¶è´¹èæ¯é 5 ç§ä¼å°æåå°çæ¯ä¸ªååºä¸­æå¤§çæ¶è´¹ä½ç¹è¿è¡æäº¤ãèªå¨ä½ç¹æäº¤çå¨ä½æ¯å¨pollæ¹æ³çé»è¾éå®æçï¼å¨æ¯æ¬¡çæ­£åæå¡ç«¯åèµ·æåè¯·æ±ä¹åä¼æ£æ¥æ¯å¦å¯ä»¥è¿è¡ä½ç¹æäº¤ï¼å¦æå¯ä»¥ï¼é£ä¹å°±ä¼æäº¤ä¸ä¸æ¬¡è½®è¯¢çä½ç¹ã\n\nå¨Kafkaæ¶è´¹çç¼ç¨é»è¾ä¸­ä½ç¹æäº¤æ¯ä¸å¤§é¾ç¹ï¼èªå¨æäº¤æ¶è´¹ä½ç¹çæ¹å¼éå¸¸ç®ä¾¿ï¼ä½éä¹èæ¥çæ¯éå¤æ¶è´¹åæ¶æ¯ä¸¢å¤±çé®é¢ãåè®¾ååæäº¤å®ä¸æ¬¡æ¶è´¹ä½ç¹ï¼ç¶åæåä¸æ¹æ¶æ¯è¿è¡æ¶è´¹ï¼å¨ä¸ä¸æ¬¡èªå¨æäº¤æ¶è´¹ä½ç¹ä¹åï¼æ¶è´¹èå´©æºäºï¼é£ä¹åå¾ä»ä¸ä¸æ¬¡ä½ç¹æäº¤çå°æ¹éæ°å¼å§æ¶è´¹ï¼è¿æ ·ä¾¿åçäºéå¤æ¶è´¹çç°è±¡ã(å¯¹äºååè¡¡çæåµåæ ·éç¨)ãæä»¬å¯ä»¥éè¿åå°ä½ç¹æäº¤çæ¶é´é´éæ¥åå°éå¤æ¶æ¯ççªå£å¤§å°ï¼ä½è¿æ ·å¹¶ä¸è½é¿åéå¤æ¶è´¹çåçï¼èä¸ä¹ä¼ä½¿ä½ç¹æäº¤æ´å é¢ç¹ã\n\néå¸¸æ¥è®²ï¼èªå¨æäº¤æ¯å»¶æ¶æäº¤ï¼éå¤æ¶è´¹å¯ä»¥çè§£ï¼é£ä¹æ¶æ¯ä¸¢å¤±åæ¯å¨ä»ä¹æå½¢ä¸ä¼åççå¢? å¦ä¸å¾ï¼æåçº¿ç¨Aä¸æ­å°æåæ¶æ¯å¹¶å­å¥æ¬å°ç¼å­ï¼æ¯å¦å¨ BlockingQucue ä¸­ï¼å¦ä¸ä¸ªå¤ççº¿ç¨Bä»ç¼å­ä¸­æåæ¶æ¯å¹¶è¿è¡ç¸åºçé»è¾å¤çãåè®¾ç®åè¿è¡å°äºç¬¬ y+1 æ¬¡æåï¼ä»¥åç¬¬ m æ¬¡ä½ç¹æäº¤çæ¶åï¼ä¹å°±æ¯x+6ä¹åçä½ç¹å·²ç»ç¡®è®¤æäº¤äºï¼å¤ççº¿ç¨ B å´è¿æ­£å¨æ¶è´¹ x+3 çæ¶æ¯ãæ­¤æ¶å¦æå¤ççº¿ç¨ B åçäºå¼å¸¸ï¼å¾å¶æ¢å¤ä¹åä¼ä»ç¬¬ mæ­¤ä½ç¹æäº¤å¤ï¼ä¹å°±æ¯ x+6 çä½ç½®å¼å§æåæ¶æ¯ï¼é£ä¹ x+3 è³ x+6 ä¹é´çæ¶æ¯å°±æ²¡æå¾å°ç¸åºçå¤çï¼è¿æ ·ä¾¿åçæ¶æ¯ä¸¢å¤±çç°è±¡ã\n\n\n\nå¨kafkaä¸­è¿æä¾äºæå¨æäº¤ä½ç¹çæ¹å¼ï¼è¿æ ·å¯ä»¥è®©æä»¬å¯¹äºæ¶è´¹ä½ç¹çç®¡çæ§å¶æ´å çµæ´»ãå¼å¯æå¨æäº¤åè½çåææ¯æ¶è´¹èå®¢æ·ç«¯åæ°enable.auto.commitéç½®ä¸ºfalseã\n\nprops.put(ConsumerConfig.ENABLE_AUTO_COMMIT_CONFIG,false);\n\n\n1\n\n\næå¨æäº¤å¯ä»¥ç»åä¸ºåæ­¥æäº¤åå¼æ­¥æäº¤ãå¯¹åºäºKafkaConsumerä¸­ç commitSync() å commitAsync() ä¸¤ä¸ªæ¹æ³ã\n\nåæ­¥æäº¤çç®åç¨æ³ï¼\n\nKafkaConsumer<String, String> consumer=new KafkaConsumer<>(props);\n        consumer.subscribe(Collections.singletonList(topicName));\n\n        while(true){\n        ConsumerRecords<String, String> records=consumer.poll(Duration.ofMillis(100));\n        for(ConsumerRecord<String, String> record:records){\n        System.out.println(record.value());\n\n        }\n        consumer.commitSync();\n        }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\nå¯¹äºä¸é¢çä»£ç ï¼å¯ä»¥çå°åå¯¹æåå°çæ¯ä¸æ¡æ¶æ¯åç¸åºçé»è¾å¤çï¼ç¶åå¯¹æ´ä¸ªæ¶æ¯éååæ­¥æäº¤ãåèKafkaConsumeræºç ä¸­æä¾çç¤ºä¾ï¼éå¯¹ä¸é¢çç¤ºä¾è¿å¯ä»¥ä¿®æ¹ä¸ºæ¹éå¤ç+æ¹éæäº¤çæ¹å¼ï¼å³é®ä»£ç å¦ä¸:\n\n\nfinal int minBatchSize=200;\n        List<ConsumerRecord> buffer=new ArrayList<>;\nwhile(true){\n        ConsumerRecords<String, String> records=consumer.poll(1000);\n        for(ConsumerRecord<String, String> record:records){\n        buffer.add(record);\n        }\n        if(buffer.size()>=minBatchSize){\n        //do some logical processing with buffer\n        consumer.commitSync();\n        buffer.clear();\n        }\n        }\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\nä¸é¢çä»£ç ä¸­å°æåå°çæ¶æ¯å­å¥ç¼å­ bufferï¼ç­å°ç§¯ç´¯å°è¶³å¤å¤çæ¶åï¼ä¹å°±æ¯ç¤ºä¾ä¸­å¤§äºç­äº200ä¸ªçæ¶åï¼ååç¸åºçæ¹éå¤çï¼ä¹åååæ¹éæäº¤ãä¸é¢è¿ä¸¤ä¸ªç¤ºä¾é½æéå¤æ¶è´¹çé®é¢ï¼å¦æå¨ä¸å¡é»è¾å¤çå®ä¹åï¼å¹¶ä¸å¨åæ­¥ä½ç¹æäº¤åï¼ç¨åºåºç°äºå´©æºï¼é£ä¹å¾æ¢å¤ä¹åååªè½ä»ä¸ä¸æ¬¡ä½ç¹æäº¤çå°æ¹æåæ¶æ¯ï¼ç±æ­¤å¨ä¸¤æ¬¡ä½ç¹æäº¤ççªå£ä¸­åºç°äºéå¤æ¶è´¹çç°è±¡ã\n\ncommitSync()æ¹æ³ä¼æ ¹æ®poll()æ¹æ³æåçææ°ä½ç¹æ¥è¿è¡æäº¤ï¼åªè¦æ²¡æåçä¸å¯æ¢å¤çéè¯¯ï¼å®å°±ä¼é»å¡æ¶è´¹èçº¿ç¨ç´è³ä½ç¹æäº¤å®æãå¯¹äºä¸å¯æ¢å¤å¼å¸¸ï¼éè¦ä¸å¡æè·å¤çã\n\nå¯¹äºéç¨commitSync()çæ åæ¹æ³èè¨ï¼å®æäº¤æ¶è´¹ä½ç¹çé¢çåæåæ¹æ¬¡æ¶æ¯ãå¤çæ¹æ¬¡æ¶æ¯çé¢çæ¯ä¸æ ·çï¼å¦ææ³å¯»æ±æ´ç»ç²åº¦çãæ´ç²¾åçæäº¤ï¼é£ä¹å°±éè¦ä½¿ç¨ commitSync()çå¦ä¸ä¸ªå«åæ¹æ³ã\n\nvoid commitSync(Map<TopicPartition, OffsetAndMetadata> offsets);\n\n\n1\n\n\nè¯¥æ¹æ³æä¾äºä¸ä¸ª offsets åæ°ï¼ç¨æ¥æäº¤æå®ååºçä½ç¹ãæ åçcommitSync()æ¹æ³¨åªè½æäº¤å½åæ¹æ¬¡å¯¹åºçpositionå¼ãå¦æéè¦æäº¤ä¸ä¸ªä¸­é´å¼ï¼æ¯å¦ä¸å¡æ¯æ¶è´¹ä¸æ¡æ¶æ¯æäº¤ä¸æ¬¡ä½ç¹ï¼é£ä¹å°±å¯ä»¥ä½¿ç¨è¿ç§æ¹å¼ã\n\nä¸ commitSync()æ¹æ³ç¸åï¼å¼æ­¥æäº¤çæ¹å¼(commitAsync())å¨æ§è¡çæ¶åæ¶è´¹èçº¿ç¨ä¸ä¼è¢«é»å¡ï¼å¯è½å¨æäº¤æ¶è´¹ä½ç¹çç»æè¿æªè¿åä¹åå°±å¼å§äºæ°ä¸æ¬¡çæåæä½ãå¼æ­¥æäº¤å¯ä»¥ä½¿æ¶è´¹èçæ§è½å¾å°ä¸å®çå¢å¼ºã\n\n    void commitAsync();\n\n        void commitAsync(OffsetCommitCallback callback);\n\n        void commitAsync(Map<TopicPartition, OffsetAndMetadata> offsets,OffsetCommitCallback callback);\n\n\n1\n2\n3\n4\n5\n\n\nç¬¬ä¸ä¸ªæ åçæ¹æ³åç¬¬ä¸ä¸ªæ¹æ³ä¸­ç offsets é½å¾å¥½çè§£ï¼å¯¹ç§ commitSync()æ¹æ³å³å¯ãå³é®çæ¯è¿éçç¬¬äºä¸ªæ¹æ³åç¬¬ä¸ä¸ªæ¹æ³ä¸­ç callback åæ°ï¼å®æä¾äºä¸ä¸ªå¼æ­¥æäº¤çåè°æ¹æ³,å½ä½ç¹æäº¤å®æåä¼åè°OffsetCommitCallbackä¸­ç onComplete()æ¹æ³ãè¿ééç¨ç¬¬äºä¸ªæ¹æ³æ¥æ¼ç¤ºåè°å½æ°çç¨æ³ï¼å³é®ä»£ç å¦ä¸:\n\n    while(true){\n        ConsumerRecords<String, String> records=consumer.poll(1000);\n        for(ConsumerRecord<String, String> record:records){\n        System.out.println(record.value());\n        }\n        consumer.commitAsync((offsets,exception)->{\n        if(exception==null){\n        System.out.println(offsets);\n        }else{\n        log.error("fail to commit offsets {}",offsets,exception);\n        }\n        });\n        }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\ncommitAsync()æäº¤çæ¶ååæ ·ä¼æå¤±è´¥çæåµåçï¼é£ä¹æä»¬åºè¯¥æä¹å¤çå¢?éè¯ä¹ï¼é®é¢çå³é®ä¹å°±å¨è¿éäºãå¦ææä¸æ¬¡å¼æ­¥æäº¤çæ¶è´¹ä½ç¹ä¸ºxï¼ä½æ¯æäº¤å¤±è´¥äºï¼ç¶åä¸ä¸æ¬¡åå¼æ­¥æäº¤äºæ¶è´¹ä½ç¹ä¸ºx+yï¼è¿æ¬¡æåäºãå¦æè¿éå¼å¥äºéè¯æºå¶.åä¸æ¬¡çå¼æ­¥æäº¤çæ¶è´¹ä½ç¹å¨éè¯çæ¶åæäº¤æåäºï¼é£ä¹æ­¤æ¶çæ¶è´¹ä½ç¹ååä¸ºäºxãå¦ææ­¤æ¶åçå¼å¸¸(æèååè¡¡)ï¼é£ä¹æ¢å¤ä¹åçæ¶è´¹è(æèæ°çæ¶è´¹è)å°±ä¼ä» X å¤å¼å§æ¶è´¹æ¶æ¯ï¼è¿æ ·å°±åçäºéå¤æ¶è´¹çé®é¢ã\n\nä¸ºæ­¤æä»¬å¯ä»¥è®¾ç½®ä¸ä¸ªéå¢çåºå·æ¥ç»´æ¤å¼æ­¥æäº¤çé¡ºåºï¼æ¯æ¬¡ä½ç¹æäº¤ä¹åå°±å¢å åºå·ç¸å¯¹åºçå¼ãå¨éå°ä½ç¹æäº¤å¤±è´¥éè¦éè¯çæ¶åï¼å¯ä»¥æ£æ¥ææäº¤çä½ç¹ååºå·çå¼çå¤§å°ãå¦æåèå°äºåèï¼åè¯´æææ´å¤§çä½ç¹å·²ç»æäº¤äºï¼ä¸éè¦åè¿è¡æ¬æ¬¡éè¯;å¦æä¸¤èç¸ååè¯´æå¯ä»¥è¿è¡éè¯æäº¤ãé¤éç¨åºç¼ç éè¯¯ï¼å¦åä¸ä¼åºç°åèå¤§äºåèçæåµã(ä¹è§é)\n\n----------------------------------------',normalizedContent:'å¯¹äº kafka ä¸­çååºèè¨ï¼å®çæ¯æ¡æ¶æ¯é½æå¯ä¸ç offsetï¼ç¨æ¥è¡¨ç¤ºæ¶æ¯å¨ååºä¸­å¯¹åºçä½ç½®ãå¯¹äºæ¶è´¹èèè¨ï¼å®ä¹æä¸ä¸ª offset çæ¦å¿µï¼æ¶è´¹èä½¿ç¨ offsetæ¥è¡¨ç¤ºæ¶è´¹å°ååºä¸­æä¸ªæ¶æ¯æå¨çä½ç½®ãå¯¹äºæ¶æ¯å¨ååºä¸­çä½ç½®ï¼æä»¬å°offsetç§°ä¸º"åç§»é";å¯¹äºæ¶è´¹èæ¶è´¹å°çä½ç½®ï¼å° offset ç§°ä¸º"æ¶è´¹ä½ç¹"ãå½ç¶ï¼å¯¹äºä¸æ¡æ¶æ¯èè¨ï¼å®çåç§»éåæ¶è´¹èæ¶è´¹å®æ¶çæ¶è´¹ä½ç¹æ¯ç¸ç­çã\n\nå¨æ¯æ¬¡è°ç¨pollæ¹æ³æ¶ï¼å®è¿åçæ¯è¿æ²¡æè¢«æ¶è´¹è¿çæ¶æ¯é(å½ç¶è¿ä¸ªåææ¯æ¶æ¯å·²ç»å­å¨å¨kafkaä¸­äºï¼å¹¶ä¸æä¸èèå¼å¸¸æåµçåç)ï¼è¦åå°è¿ä¸ç¹ï¼å°±éè¦è®°å½ä¸ä¸æ¬¡æ¶è´¹æ¶çæ¶è´¹ä½ç¹ãå¹¶ä¸è¿ä¸ªæ¶è´¹ä½ç¹å¿é¡»åæä¹åä¿å­ï¼èä¸æ¯ååä¿å­å¨åå­ä¸­ï¼å¦åæ¶è´¹èéå¯ä¹åå°±æ æ³ç¥æä¹åçæ¶è´¹ä½ç¹ãåèèä¸ç§æåµï¼å½ææ°çæ¶è´¹èå å¥æ¶ï¼é£ä¹å¿ç¶ä¼æååè¡¡çå¨ä½ï¼å¯¹äºåä¸ååºèè¨ï¼å®å¯è½å¨ååè¡¡å¨ä½ä¹ååéç»æ°çæ¶è´¹èï¼å¦æä¸æä¹åä¿å­æ¶è´¹ä½ç¹ï¼é£ä¹è¿ä¸ªæ°çæ¶è´¹èä¹æ æ³ç¥æä¹åçæ¶è´¹ä½ç¹ã\n\nå¨æ§æ¶è´¹èå®¢æ·ç«¯ä¸­ï¼æ¶è´¹ä½ç¹æ¯å­å¨å¨ zookeeper ä¸­çãèå¨æ°æ¶è´¹èå®¢æ·ç«¯ä¸­ï¼æ¶è´¹ä½ç¹å­å¨å¨kafkaåé¨çä¸»é¢ consumer_offsets ä¸­ãè¿éæå°æ¶è´¹ä½ç¹å­å¨èµ·æ¥(æä¹å)çå¨ä½ç§°ä¸º"æäº¤"ï¼æ¶è´¹èå¨æ¶è´¹å®æ¶æ¯ä¹åéè¦æ§è¡æ¶è´¹ä½ç¹çæäº¤ã\n\nåèä¸å¾çæ¶è´¹ä½ç¹ï¼x è¡¨ç¤ºæä¸æ¬¡æåæä½ä¸­æ­¤ååºæ¶æ¯çæå¤§åç§»éï¼åè®¾å½åæ¶è´¹èå·²ç»æ¶è´¹äº xä½ç½®çæ¶æ¯ï¼é£ä¹æä»¬å°±å¯ä»¥è¯´æ¶è´¹èçæ¶è´¹ä½ç¹ä¸ºxï¼å¾ä¸­ä¹ç¨äºlastconsumedoffsetè¿ä¸ªåè¯æ¥æ è¯å®ã\n\n\n\nå½åæ¶è´¹èéè¦æäº¤çä½ç¹ä¸æ¯xï¼èæ¯x+1ï¼å¯¹åºäºä¸å¾ä¸­çpositionï¼å®è¡¨ç¤ºä¸ä¸æ¡éè¦æåçæ¶æ¯çä½ç½®ãå¨æ¶è´¹èä¸­è¿æä¸ä¸ªcommitted offsetçæ¦å¿µï¼ä»è¡¨ç¤ºå·²ç»æäº¤è¿çæ¶è´¹ä½ç¹ã\n\nkafkaconsumerç±»æä¾äºposition(topicpartition)åcommitted(topicpartition)ä¸¤ä¸ªæ¹æ³æ¥åå«è·åä¸é¢æè¯´çpositionåcommitted offsetçå¼ã\n\npublic long position(topicpartition partition);\n\npublic offsetandmetadata committed(topicpartition partition);\n\n\n1\n2\n3\n\n\ncommited offset == position == (lastconsumedoffset + 1)\n\n> position å commited offset å¹¶ä¸ä¼ä¸ç´ç¸åã\n\nä½ç¹æäº¤çæ¶æºä¸åï¼æå¯è½ä¼é æéå¤æ¶è´¹åæ¶æ¯ä¸¢å¤±çç°è±¡ã\n\nåèä¸å¾ï¼å½åä¸æ¬¡pollæä½ææåçæ¶æ¯éä¸º[x+2,x+7]ï¼x+2 ä»£è¡¨ä¸ä¸æ¬¡æäº¤çæ¶è´¹ä½ç¹ï¼è¯´æå·²ç»å®æäº x+1 ä¹å(åæ¬ x+1 å¨å)çæææ¶æ¯çæ¶è´¹ï¼x+5 è¡¨ç¤ºå½åæ­£å¨å¤ççä½ç½®ï¼å¦ææåå°æ¶æ¯ä¹åå°±è¿è¡äºä½ç¹æäº¤ï¼å³æäº¤äº x+8ï¼é£ä¹å½åæ¶è´¹ x+5 çæ¶åéå°äºå¼å¸¸å¨æéæ¢å¤ä¹åï¼æä»¬éæ°æåçæ¶æ¯æ¯ä» x+8 å¼å§çãä¹å°±æ¯è¯´ï¼x+5 è³ x+7ä¹é´çæ¶æ¯æªè½è¢«æ¶è´¹ï¼å¦æ­¤ä¾¿åçäºæ¶æ¯ä¸¢å¤±çç°è±¡ã åèèå¦å¤ä¸ç§æå½¢ï¼ä½ç¹æäº¤çå¨ä½æ¯å¨æ¶è´¹å®æææåå°çæ¶æ¯ä¹åææ§è¡çï¼é£ä¹å½æ¶è´¹x+5çæ¶åéå°äºå¼å¸¸ï¼å¨æéæ¢å¤ä¹åï¼æä»¬éæ°æåçæ¶æ¯æ¯ä»x+2 å¼å§çãä¹å°±æ¯è¯´ï¼x+2 è³ x+4 ä¹é´çæ¶æ¯åéæ°æ¶è´¹äºä¸éï¼æèååçäºéå¤æ¶è´¹çç°è±¡ã\n\nå¨ kafka ä¸­é»è®¤çæ¶è´¹ä½ç¹çæäº¤æ¹å¼æ¯èªå¨æäº¤ï¼è¿ä¸ªç±æ¶è´¹èå®¢æ·ç«¯åæ°enable.auto.commit éç½®ï¼é»è®¤å¼ä¸º trueãå½ç¶è¿ä¸ªé»è®¤çèªå¨æäº¤ä¸æ¯æ¯æ¶è´¹ä¸æ¡æ¶æ¯å°±æäº¤ä¸æ¬¡ï¼èæ¯å®ææäº¤ï¼è¿ä¸ªå®æçå¨ææ¶é´ç±å®¢æ·ç«¯åæ° auto.commit.interval.mséç½®ï¼é»è®¤å¼ä¸º 5 ç§ï¼æ­¤åæ°çæçåææ¯ enable.auto.commit åæ°ä¸ºtrue)ã\n\nå¨é»è®¤çæ¹å¼ä¸ï¼æ¶è´¹èæ¯é 5 ç§ä¼å°æåå°çæ¯ä¸ªååºä¸­æå¤§çæ¶è´¹ä½ç¹è¿è¡æäº¤ãèªå¨ä½ç¹æäº¤çå¨ä½æ¯å¨pollæ¹æ³çé»è¾éå®æçï¼å¨æ¯æ¬¡çæ­£åæå¡ç«¯åèµ·æåè¯·æ±ä¹åä¼æ£æ¥æ¯å¦å¯ä»¥è¿è¡ä½ç¹æäº¤ï¼å¦æå¯ä»¥ï¼é£ä¹å°±ä¼æäº¤ä¸ä¸æ¬¡è½®è¯¢çä½ç¹ã\n\nå¨kafkaæ¶è´¹çç¼ç¨é»è¾ä¸­ä½ç¹æäº¤æ¯ä¸å¤§é¾ç¹ï¼èªå¨æäº¤æ¶è´¹ä½ç¹çæ¹å¼éå¸¸ç®ä¾¿ï¼ä½éä¹èæ¥çæ¯éå¤æ¶è´¹åæ¶æ¯ä¸¢å¤±çé®é¢ãåè®¾ååæäº¤å®ä¸æ¬¡æ¶è´¹ä½ç¹ï¼ç¶åæåä¸æ¹æ¶æ¯è¿è¡æ¶è´¹ï¼å¨ä¸ä¸æ¬¡èªå¨æäº¤æ¶è´¹ä½ç¹ä¹åï¼æ¶è´¹èå´©æºäºï¼é£ä¹åå¾ä»ä¸ä¸æ¬¡ä½ç¹æäº¤çå°æ¹éæ°å¼å§æ¶è´¹ï¼è¿æ ·ä¾¿åçäºéå¤æ¶è´¹çç°è±¡ã(å¯¹äºååè¡¡çæåµåæ ·éç¨)ãæä»¬å¯ä»¥éè¿åå°ä½ç¹æäº¤çæ¶é´é´éæ¥åå°éå¤æ¶æ¯ççªå£å¤§å°ï¼ä½è¿æ ·å¹¶ä¸è½é¿åéå¤æ¶è´¹çåçï¼èä¸ä¹ä¼ä½¿ä½ç¹æäº¤æ´å é¢ç¹ã\n\néå¸¸æ¥è®²ï¼èªå¨æäº¤æ¯å»¶æ¶æäº¤ï¼éå¤æ¶è´¹å¯ä»¥çè§£ï¼é£ä¹æ¶æ¯ä¸¢å¤±åæ¯å¨ä»ä¹æå½¢ä¸ä¼åççå¢? å¦ä¸å¾ï¼æåçº¿ç¨aä¸æ­å°æåæ¶æ¯å¹¶å­å¥æ¬å°ç¼å­ï¼æ¯å¦å¨ blockingqucue ä¸­ï¼å¦ä¸ä¸ªå¤ççº¿ç¨bä»ç¼å­ä¸­æåæ¶æ¯å¹¶è¿è¡ç¸åºçé»è¾å¤çãåè®¾ç®åè¿è¡å°äºç¬¬ y+1 æ¬¡æåï¼ä»¥åç¬¬ m æ¬¡ä½ç¹æäº¤çæ¶åï¼ä¹å°±æ¯x+6ä¹åçä½ç¹å·²ç»ç¡®è®¤æäº¤äºï¼å¤ççº¿ç¨ b å´è¿æ­£å¨æ¶è´¹ x+3 çæ¶æ¯ãæ­¤æ¶å¦æå¤ççº¿ç¨ b åçäºå¼å¸¸ï¼å¾å¶æ¢å¤ä¹åä¼ä»ç¬¬ mæ­¤ä½ç¹æäº¤å¤ï¼ä¹å°±æ¯ x+6 çä½ç½®å¼å§æåæ¶æ¯ï¼é£ä¹ x+3 è³ x+6 ä¹é´çæ¶æ¯å°±æ²¡æå¾å°ç¸åºçå¤çï¼è¿æ ·ä¾¿åçæ¶æ¯ä¸¢å¤±çç°è±¡ã\n\n\n\nå¨kafkaä¸­è¿æä¾äºæå¨æäº¤ä½ç¹çæ¹å¼ï¼è¿æ ·å¯ä»¥è®©æä»¬å¯¹äºæ¶è´¹ä½ç¹çç®¡çæ§å¶æ´å çµæ´»ãå¼å¯æå¨æäº¤åè½çåææ¯æ¶è´¹èå®¢æ·ç«¯åæ°enable.auto.commitéç½®ä¸ºfalseã\n\nprops.put(consumerconfig.enable_auto_commit_config,false);\n\n\n1\n\n\næå¨æäº¤å¯ä»¥ç»åä¸ºåæ­¥æäº¤åå¼æ­¥æäº¤ãå¯¹åºäºkafkaconsumerä¸­ç commitsync() å commitasync() ä¸¤ä¸ªæ¹æ³ã\n\nåæ­¥æäº¤çç®åç¨æ³ï¼\n\nkafkaconsumer<string, string> consumer=new kafkaconsumer<>(props);\n        consumer.subscribe(collections.singletonlist(topicname));\n\n        while(true){\n        consumerrecords<string, string> records=consumer.poll(duration.ofmillis(100));\n        for(consumerrecord<string, string> record:records){\n        system.out.println(record.value());\n\n        }\n        consumer.commitsync();\n        }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\nå¯¹äºä¸é¢çä»£ç ï¼å¯ä»¥çå°åå¯¹æåå°çæ¯ä¸æ¡æ¶æ¯åç¸åºçé»è¾å¤çï¼ç¶åå¯¹æ´ä¸ªæ¶æ¯éååæ­¥æäº¤ãåèkafkaconsumeræºç ä¸­æä¾çç¤ºä¾ï¼éå¯¹ä¸é¢çç¤ºä¾è¿å¯ä»¥ä¿®æ¹ä¸ºæ¹éå¤ç+æ¹éæäº¤çæ¹å¼ï¼å³é®ä»£ç å¦ä¸:\n\n\nfinal int minbatchsize=200;\n        list<consumerrecord> buffer=new arraylist<>;\nwhile(true){\n        consumerrecords<string, string> records=consumer.poll(1000);\n        for(consumerrecord<string, string> record:records){\n        buffer.add(record);\n        }\n        if(buffer.size()>=minbatchsize){\n        //do some logical processing with buffer\n        consumer.commitsync();\n        buffer.clear();\n        }\n        }\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\nä¸é¢çä»£ç ä¸­å°æåå°çæ¶æ¯å­å¥ç¼å­ bufferï¼ç­å°ç§¯ç´¯å°è¶³å¤å¤çæ¶åï¼ä¹å°±æ¯ç¤ºä¾ä¸­å¤§äºç­äº200ä¸ªçæ¶åï¼ååç¸åºçæ¹éå¤çï¼ä¹åååæ¹éæäº¤ãä¸é¢è¿ä¸¤ä¸ªç¤ºä¾é½æéå¤æ¶è´¹çé®é¢ï¼å¦æå¨ä¸å¡é»è¾å¤çå®ä¹åï¼å¹¶ä¸å¨åæ­¥ä½ç¹æäº¤åï¼ç¨åºåºç°äºå´©æºï¼é£ä¹å¾æ¢å¤ä¹åååªè½ä»ä¸ä¸æ¬¡ä½ç¹æäº¤çå°æ¹æåæ¶æ¯ï¼ç±æ­¤å¨ä¸¤æ¬¡ä½ç¹æäº¤ççªå£ä¸­åºç°äºéå¤æ¶è´¹çç°è±¡ã\n\ncommitsync()æ¹æ³ä¼æ ¹æ®poll()æ¹æ³æåçææ°ä½ç¹æ¥è¿è¡æäº¤ï¼åªè¦æ²¡æåçä¸å¯æ¢å¤çéè¯¯ï¼å®å°±ä¼é»å¡æ¶è´¹èçº¿ç¨ç´è³ä½ç¹æäº¤å®æãå¯¹äºä¸å¯æ¢å¤å¼å¸¸ï¼éè¦ä¸å¡æè·å¤çã\n\nå¯¹äºéç¨commitsync()çæ åæ¹æ³èè¨ï¼å®æäº¤æ¶è´¹ä½ç¹çé¢çåæåæ¹æ¬¡æ¶æ¯ãå¤çæ¹æ¬¡æ¶æ¯çé¢çæ¯ä¸æ ·çï¼å¦ææ³å¯»æ±æ´ç»ç²åº¦çãæ´ç²¾åçæäº¤ï¼é£ä¹å°±éè¦ä½¿ç¨ commitsync()çå¦ä¸ä¸ªå«åæ¹æ³ã\n\nvoid commitsync(map<topicpartition, offsetandmetadata> offsets);\n\n\n1\n\n\nè¯¥æ¹æ³æä¾äºä¸ä¸ª offsets åæ°ï¼ç¨æ¥æäº¤æå®ååºçä½ç¹ãæ åçcommitsync()æ¹æ³¨åªè½æäº¤å½åæ¹æ¬¡å¯¹åºçpositionå¼ãå¦æéè¦æäº¤ä¸ä¸ªä¸­é´å¼ï¼æ¯å¦ä¸å¡æ¯æ¶è´¹ä¸æ¡æ¶æ¯æäº¤ä¸æ¬¡ä½ç¹ï¼é£ä¹å°±å¯ä»¥ä½¿ç¨è¿ç§æ¹å¼ã\n\nä¸ commitsync()æ¹æ³ç¸åï¼å¼æ­¥æäº¤çæ¹å¼(commitasync())å¨æ§è¡çæ¶åæ¶è´¹èçº¿ç¨ä¸ä¼è¢«é»å¡ï¼å¯è½å¨æäº¤æ¶è´¹ä½ç¹çç»æè¿æªè¿åä¹åå°±å¼å§äºæ°ä¸æ¬¡çæåæä½ãå¼æ­¥æäº¤å¯ä»¥ä½¿æ¶è´¹èçæ§è½å¾å°ä¸å®çå¢å¼ºã\n\n    void commitasync();\n\n        void commitasync(offsetcommitcallback callback);\n\n        void commitasync(map<topicpartition, offsetandmetadata> offsets,offsetcommitcallback callback);\n\n\n1\n2\n3\n4\n5\n\n\nç¬¬ä¸ä¸ªæ åçæ¹æ³åç¬¬ä¸ä¸ªæ¹æ³ä¸­ç offsets é½å¾å¥½çè§£ï¼å¯¹ç§ commitsync()æ¹æ³å³å¯ãå³é®çæ¯è¿éçç¬¬äºä¸ªæ¹æ³åç¬¬ä¸ä¸ªæ¹æ³ä¸­ç callback åæ°ï¼å®æä¾äºä¸ä¸ªå¼æ­¥æäº¤çåè°æ¹æ³,å½ä½ç¹æäº¤å®æåä¼åè°offsetcommitcallbackä¸­ç oncomplete()æ¹æ³ãè¿ééç¨ç¬¬äºä¸ªæ¹æ³æ¥æ¼ç¤ºåè°å½æ°çç¨æ³ï¼å³é®ä»£ç å¦ä¸:\n\n    while(true){\n        consumerrecords<string, string> records=consumer.poll(1000);\n        for(consumerrecord<string, string> record:records){\n        system.out.println(record.value());\n        }\n        consumer.commitasync((offsets,exception)->{\n        if(exception==null){\n        system.out.println(offsets);\n        }else{\n        log.error("fail to commit offsets {}",offsets,exception);\n        }\n        });\n        }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\ncommitasync()æäº¤çæ¶ååæ ·ä¼æå¤±è´¥çæåµåçï¼é£ä¹æä»¬åºè¯¥æä¹å¤çå¢?éè¯ä¹ï¼é®é¢çå³é®ä¹å°±å¨è¿éäºãå¦ææä¸æ¬¡å¼æ­¥æäº¤çæ¶è´¹ä½ç¹ä¸ºxï¼ä½æ¯æäº¤å¤±è´¥äºï¼ç¶åä¸ä¸æ¬¡åå¼æ­¥æäº¤äºæ¶è´¹ä½ç¹ä¸ºx+yï¼è¿æ¬¡æåäºãå¦æè¿éå¼å¥äºéè¯æºå¶.åä¸æ¬¡çå¼æ­¥æäº¤çæ¶è´¹ä½ç¹å¨éè¯çæ¶åæäº¤æåäºï¼é£ä¹æ­¤æ¶çæ¶è´¹ä½ç¹ååä¸ºäºxãå¦ææ­¤æ¶åçå¼å¸¸(æèååè¡¡)ï¼é£ä¹æ¢å¤ä¹åçæ¶è´¹è(æèæ°çæ¶è´¹è)å°±ä¼ä» x å¤å¼å§æ¶è´¹æ¶æ¯ï¼è¿æ ·å°±åçäºéå¤æ¶è´¹çé®é¢ã\n\nä¸ºæ­¤æä»¬å¯ä»¥è®¾ç½®ä¸ä¸ªéå¢çåºå·æ¥ç»´æ¤å¼æ­¥æäº¤çé¡ºåºï¼æ¯æ¬¡ä½ç¹æäº¤ä¹åå°±å¢å åºå·ç¸å¯¹åºçå¼ãå¨éå°ä½ç¹æäº¤å¤±è´¥éè¦éè¯çæ¶åï¼å¯ä»¥æ£æ¥ææäº¤çä½ç¹ååºå·çå¼çå¤§å°ãå¦æåèå°äºåèï¼åè¯´æææ´å¤§çä½ç¹å·²ç»æäº¤äºï¼ä¸éè¦åè¿è¡æ¬æ¬¡éè¯;å¦æä¸¤èç¸ååè¯´æå¯ä»¥è¿è¡éè¯æäº¤ãé¤éç¨åºç¼ç éè¯¯ï¼å¦åä¸ä¼åºç°åèå¤§äºåèçæåµã(ä¹è§é)\n\n----------------------------------------',charsets:{cjk:!0},lastUpdated:"2023/11/04, 10:52:44",lastUpdatedTimestamp:1699066364e3},{title:"æ¶è´¹è-å®¢æ·ç«¯å¼å-æå®æ¶è´¹ä½ç¹",frontmatter:{title:"æ¶è´¹è-å®¢æ·ç«¯å¼å-æå®æ¶è´¹ä½ç¹",date:"2023-01-01T00:00:00.000Z",tags:["Kafka","æ¶æ¯éå"],categories:["Kafka"],description:"æ¶è´¹è-å®¢æ·ç«¯å¼å-æå®æ¶è´¹ä½ç¹",toc_number:!1,author:{name:"huidong.yin",link:"https://huidongyin.github.io"},permalink:"/pages/5ab26239-f80c-3f5e-affc-fc2c33f5178f/"},regularPath:"/03.%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97/00.Kafka/7.%E6%B6%88%E8%B4%B9%E8%80%85-%E5%AE%A2%E6%88%B7%E7%AB%AF%E5%BC%80%E5%8F%91-%E6%8C%87%E5%AE%9A%E4%BD%8D%E7%82%B9%E6%B6%88%E8%B4%B9.html",relativePath:"03.æ¶æ¯éå/00.Kafka/7.æ¶è´¹è-å®¢æ·ç«¯å¼å-æå®ä½ç¹æ¶è´¹.md",key:"v-d5a2bdec",path:"/pages/5ab26239-f80c-3f5e-affc-fc2c33f5178f/",headersStr:null,content:'å½ä¸ä¸ªæ°çæ¶è´¹ç»å»ºç«çæ¶åï¼å®æ ¹æ¬æ²¡æå¯ä»¥æ¥æ¾çæ¶è´¹ä½ç¹ãæèæ¶è´¹ç»åçä¸ä¸ªæ°æ¶è´¹èè®¢éäºä¸ä¸ªæ°çä¸»é¢ï¼å®ä¹æ²¡æå¯ä»¥æ¥æ¾çæ¶è´¹ä½ç¹ãå½ consumor_offsetsä¸»é¢ä¸­æå³è¿ä¸ªæ¶è´¹ç»çä½ç¹ä¿¡æ¯è¿æèè¢«å é¤åï¼å®ä¹æ²¡æå¯ä»¥æ¥æ¾çæ¶è´¹ä½ç¹ã\n\nå¨ Kafka ä¸­æ¯å½æ¶è´¹èæ¥æ¾ä¸å°æè®°å½çæ¶è´¹ä½ç¹æ¶ï¼å°±ä¼æ ¹æ®æ¶è´¹èå®¢æ·ç«¯åæ°auto.offset.resetçéç½®æ¥å³å®ä»ä½å¤å¼å§è¿è¡æ¶è´¹ï¼è¿ä¸ªåæ°çé»è®¤å¼ä¸ºlatestï¼è¡¨ç¤ºä»ååºæ«å°¾å¼å§æ¶è´¹æ¶æ¯ãåèä¸å¾ï¼æç§é»è®¤çéç½®ï¼æ¶è´¹èä¼ä»9å¼å§è¿è¡æ¶è´¹ 9 æ¯ä¸ä¸æ¡è¦åå¥æ¶æ¯çä½ç½®,æ´å ç¡®å°è¯´æ¯ä» 9 å¼å§æåæ¶æ¯ãå¦æå° auto.offset.resetåæ°éç½®ä¸ºearliestï¼é£ä¹æ¶è´¹èä¼ä»èµ·å§å¤ï¼ä¹å°±æ¯ 0å¼å§æ¶è´¹ã\n\n\n\n> é¤äºæ¥æ¾ä¸å°æ¶è´¹ä½ç¹ï¼ä½ç¹è¶çä¹ä¼è§¦å auto.offset.reset åæ°çæ§è¡ã\n\nauto.offset.reset åæ°è¿æä¸ä¸ªå¯éç½®çå¼ä¸noneï¼éç½®ä¸ºæ­¤å¼å°±æå³çåºç°æ¥ä¸å°æ¶è´¹ä½ç¹çæ¶åï¼æ¢ä¸ä»ææ°çæ¶æ¯ä½ç½®å¤å¼å§æ¶è´¹ï¼ä¹ä¸ä»ææ©çæ¶æ¯ä½ç½®å¤å¼å§æ¶è´¹ï¼æ­¤æ¶ä¼æ¥åºNoOffsetForPartitionException å¼å¸¸ãå¦æè½å¤æ¾å°æ¶è´¹ä½ç¹ï¼é£ä¹éç½®ä¸ºnoneä¸ä¼åºç°ä»»ä½å¼å¸¸ãå¦æéç½®çä¸æ¯latest,earliest,ånoneï¼åä¼æ¥åº ConfigException å¼å¸¸ã\n\næ¶æ¯çæåæ¯æ ¹æ® poll() æ¹æ³ä¸­çé»è¾æ¥å¤ççï¼è¿ä¸ª poll()æ¹æ³ä¸­çé»è¾å¯¹äºæ®éçå¼åäººåèè¨æ¯ä¸ä¸ªé»çï¼æ æ³ç²¾ç¡®å°ææ§å¶æ¶è´¹çèµ·å§ä½ç½®ãæä¾çauto.offset.resetåæ°ä¹åªè½å¨æ¾ä¸å°æ¶è´¹ä½ç¹æä½ç¹è¶ççæåµä¸ç²ç²åº¦å°ä»å¼å¤´ææ«å°¾å¼å§æ¶è´¹ãæäºæ¶åï¼æä»¬éè¦ä¸ç§æ´ç»ç²åº¦çææ§ï¼å¯ä»¥è®©æä»¬ä»ç¹å®çä½ç¹å¤å¼å§æåæ¶æ¯ï¼èKafkaConsumerä¸­ç seek() æ¹æ³æ­£å¥½æä¾äºè¿ä¸ªåè½ï¼è®©æä»¬å¾ä»¥è¿½åæ¶è´¹æåæº¯æ¶è´¹ã\n\npublic void seek(TopicPartition partition,long offset);\n\n\n1\n\n\nseek()æ¹æ³ä¸­çåæ° partition è¡¨ç¤ºååºï¼è offset åæ°ç¨æ¥æå®ä»ååºçåªä¸ªä½ç½®å¼å§æ¶è´¹ãseek()æ¹æ³åªè½éç½®æ¶è´¹èåéå°çååºçæ¶è´¹ä½ç½®ï¼èååºçåéæ¯å¨ poll() æ¹æ³çè°ç¨è¿ç¨ä¸­å®ç°çãä¹å°±æ¯è¯´ï¼å¨æ§è¡ seek()æ¹æ³ä¹åéè¦åæ§è¡ä¸æ¬¡ poll() æ¹æ³ï¼ç­å°åéå°ååºä¹åæå¯ä»¥éç½®æ¶è´¹ä½ç½®ã\n\nä»¥ä¸æ¯seekæ¹æ³çä½¿ç¨ç¤ºä¾ï¼\n\n        Properties props=new Properties();\n        props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG,brokerList);\n        props.put(ConsumerConfig.GROUP_ID_CONFIG,groupName);\n        props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG,StringDeserializer.class.getName());\n        props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG,StringDeserializer.class.getName());\n\n        KafkaConsumer<String, String> consumer=new KafkaConsumer<>(props);\n        consumer.subscribe(Collections.singletonList(topicName));\n        consumer.poll(Duration.ofMillis(1000));\n        Set<TopicPartition> assignment=consumer.assignment();\n        for(TopicPartition partition:assignment){\n        consumer.seek(partition,10);\n        }\n        while(true){\n        ConsumerRecords<String, String> records=consumer.poll(Duration.ofMillis(1000));\n        for(ConsumerRecord<String, String> record:records){\n        System.out.println("message : "+record.value());\n        }\n        }\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n\n\nassignment()æ¹æ³æ¯ç¨æ¥è·åæ¶è´¹èæåéå°çååºä¿¡æ¯çã\n\npublic Set<TopicPartition> assignment0);\n\n\n1\n\n\n> å¨ä¸é¢çseek()æ¹æ³ä½¿ç¨çç¤ºä¾ä»£ç ä¸­ï¼å¦æç¬¬ä¸æ¬¡è°ç¨poll()æ¹æ³çæ¶é´é´éè®¾ç½®ä¸º0ï¼å¨æ­¤ä¹åï¼ä¼åç° seek()æ¹æ³å¹¶æªæä»»ä½ä½ç¨ãå ä¸ºå½ poll() æ¹æ³ä¸­çåæ°ä¸º 0 æ¶ï¼æ­¤æ¹æ³ç«å»è¿åï¼é£ä¹ poll()æ¹æ³åé¨è¿è¡ååºåéçé»è¾å°±ä¼æ¥ä¸åå®æ½ãä¹å°±æ¯è¯´ï¼æ¶è´¹èæ­¤æ¶å¹¶æªåéå°ä»»ä½ååºãé£ä¹æä»¬åºè¯¥å¦ä½ä¼éçseekå¢ï¼\n\n    private void test(){\n        Properties props=new Properties();\n        props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG,brokerList);\n        props.put(ConsumerConfig.GROUP_ID_CONFIG,groupName);\n        props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG,StringDeserializer.class.getName());\n        props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG,StringDeserializer.class.getName());\n\n        KafkaConsumer<String, String> consumer=new KafkaConsumer<>(props);\n        consumer.subscribe(Collections.singletonList(topicName));\n        Set<TopicPartition> assignment=new HashSet<>();\n        while(assignment==null||assignment.size()==0){\n        consumer.poll(Duration.ofMillis(100));\n        assignment=consumer.assignment();\n        }\n\n        for(TopicPartition partition:assignment){\n        consumer.seek(partition,10);\n        }\n        while(true){\n        ConsumerRecords<String, String> records=consumer.poll(Duration.ofMillis(1000));\n        for(ConsumerRecord<String, String> record:records){\n        System.out.println("message : "+record.value());\n        }\n        }\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n\n\nå¦æå¯¹æªåéå°çååºæ§è¡ seek() æ¹æ³ï¼é£ä¹ä¼æ¥åº IllegalStateException çå¼å¸¸ãç±»ä¼¼å¨è°ç¨ subscribe()æ¹æ³ä¹åç´æ¥è°ç¨ seek() æ¹æ³:\n\nconsumer.subscribe(Arrays.asList(topic));\nconsumer.seek(new TopicPartition(topic,0),10);\n\n\n1\n2\n\n\nå¦ææ¶è´¹ç»åçæ¶è´¹èå¨å¯å¨çæ¶åè½å¤æ¾å°æ¶è´¹ä½ç¹ï¼é¤éåçä½ç¹è¶çï¼å¦å auto.offset.resetåæ°å¹¶ä¸ä¼å¥æ,æ­¤æ¶å¦ææ³æå®ä»å¼å¤´ææ«å°¾å¼å§æ¶è´¹,å°±è¦ä½¿ç¨ seck() æ¹æ³äºã\n\n    private void test(){\n        Properties props=new Properties();\n        props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG,brokerList);\n        props.put(ConsumerConfig.GROUP_ID_CONFIG,groupName);\n        props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG,StringDeserializer.class.getName());\n        props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG,StringDeserializer.class.getName());\n\n        KafkaConsumer<String, String> consumer=new KafkaConsumer<>(props);\n        consumer.subscribe(Collections.singletonList(topicName));\n        Set<TopicPartition> assignment=new HashSet<>();\n        while(assignment==null||assignment.size()==0){\n        consumer.poll(Duration.ofMillis(100));\n        assignment=consumer.assignment();\n        }\n        Map<TopicPartition, Long> map=consumer.endOffsets(assignment);\n        for(TopicPartition partition:assignment){\n        consumer.seek(partition,map.get(partition));\n        }\n        while(true){\n        ConsumerRecords<String, String> records=consumer.poll(Duration.ofMillis(1000));\n        for(ConsumerRecord<String, String> record:records){\n        System.out.println("message : "+record.value());\n        }\n\n        }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n\n\n> endOffsets()æ¹æ³ç¨æ¥è·åæå®ååºçæ«å°¾çæ¶æ¯ä½ç½®ã\n\n    Map<TopicPartition, Long> endOffsets(Collection<TopicPartition> partitions);\n\n    Map<TopicPartition, Long> endOffsets(Collection<TopicPartition> partitions,Duration timeout);\n\n\n1\n2\n3\n\n\nä¸ endOffsets() æ¹æ³ å¯¹åºçæ¯ beginningOffsets() æ¹æ³ï¼ä¸ä¸ªååºçèµ·å§ä½ç½®èµ·åæ¯0ï¼ä½å¹¶ä¸ä»£è¡¨æ¯æ¶æ¯å»é½ä¸º0ï¼å ä¸ºæ¥å¿æ¸ççå¨ä½ä¼æ¸æ§çæ°æ®ï¼æä»¥ååºçèµ·å§ä½ç½®ä¼èªç¶èç¶å°å¢å ã\n\n    Map<TopicPartition, Long> beginningOffsets(Collection<TopicPartition> partitions);\n\n    Map<TopicPartition, Long> beginningOffsets(Collection<TopicPartition> partitions,Duration timeout);\n\n\n1\n2\n3\n\n\nå¶å® KafkaConsumer ä¸­ç´æ¥æä¾äº seekToBeginning() æ¹æ³, seekToEnd() æ¹æ³æ¥å®ç°è¿ä¸¤ä¸ªåè½ã\n\n    void seekToBeginning(Collection<TopicPartition> partitions);\n\n        void seekToEnd(Collection<TopicPartition> partitions);\n\n\n1\n2\n3\n\n\nææ¶åæä»¬å¹¶ä¸ç¥éç¹å®çæ¶è´¹ä½ç½®ï¼å´ç¥éä¸ä¸ªç¸å³çæ¶é´ç¹ï¼æ¯å¦æä»¬æ³è¦æ¶è´¹æ¨å¤©8ç¹ä¹åçæ¶æ¯ï¼è¿ä¸ªéæ±æ´ç¬¦åæ­£å¸¸çæç»´é»è¾ãæ­¤æ¶æä»¬æ æ³ç´æ¥ä½¿ç¨ seek()æ¹æ³æ¥è¿½æº¯å°ç¸åºçä½ç½®ãKafkaConsumer åæ ·èèå°äºè¿ç§æåµï¼å®æä¾äºä¸ä¸ª offsetsForTimes() æ¹æ³ï¼éè¿timestampæ¥æ¥è¯¢ä¸æ­¤å¯¹åºçååºä½ç½®ã\n\nMap<TopicPartition, OffsetAndTimestamp> offsetsForTimes(Map<TopicPartition, Long> timestampsToSearch);\n\nMap<TopicPartition, OffsetAndTimestamp> offsetsForTimes(Map<TopicPartition, Long> timestampsToSearch,Duration timeout);\n\n\n1\n2\n3\n\n\noffsetsForTimes() æ¹æ³çåæ° timestampsToSearch æ¯ä¸ä¸ª Map ç±»å,key ä¸ºå¾æ¥è¯¢çååºï¼èvalueä¸ºå¾æ¥è¯¢çæ¶é´æ³ï¼è¯¥æ¹æ³ä¼è¿åæ¶é´æ³å¤§äºç­äºå¾æ¥è¯¢æ¶é´çç¬¬ä¸æ¡æ¶æ¯å¯¹åºçä½ç½®åæ¶é´æ³ï¼å¯¹åºäº OffsetAndTimestampä¸­çoffset å timestamp å­æ®µã\n\nåé¢è¯´è¿ä½ç¹è¶çä¹ä¼è§¦å auto.offset.reset åæ°çæ§è¡ï¼ä½ç¹è¶çæ¯æç¥éæ¶è´¹ä½ç½®å´æ æ³å¨å®éçååºä¸­æ¥æ¾å°ï¼æ¯å¦æ³è¦ä»ä¸å¾ä¸­çä½ç½®10å¤æåæ¶æ¯æ¶å°±ä¼åçä½ç¹è¶çãæ³¨ææåä¸å¾ä¸­ä½ç½® 9 å¤çæ¶æ¯æ¶å¹¶æªè¶çï¼è¿ä¸ªä½ç½®ä»£è¡¨ç¹å®çå«ä¹ (LEO)ã\n\nKafkaä¸­çæ¶è´¹ä½ç¹æ¯å­å¨å¨ä¸ä¸ªåé¨ä¸»é¢ä¸­çï¼èæ¬èç seek() æ¹æ³å¯ä»¥çªç ´è¿ä¸éå¶ï¼æ¶è´¹ä½ç¹å¯ä»¥ä¿å­å¨ä»»æçå­å¨ä»è´¨ä¸­ï¼æ¯å¦æ°æ®åºï¼æä»¶ç³»ç»ç­ç­ã\n\nseek()æ¹æ³ä¸ºæä»¬æä¾äºä»ç¹å®ä½ç½®è¯»åæ¶æ¯çè½åï¼æä»¬å¯ä»¥éè¿è¿ä¸ªæ¹æ³æ¥ååè·³è¿è¥å¹²æ¶æ¯ï¼ä¹å¯ä»¥éè¿è¿ä¸ªæ¹æ³æ¥åååæº¯è¥å¹²æ¶æ¯ï¼è¿æ ·ä¸ºæ¶æ¯çæ¶è´¹æä¾äºå¾å¤§ççµæ´»æ§ãseek()æ¹æ³ä¹ä¸ºæä»¬æä¾äºå°æ¶è´¹ä½ç¹ä¿å­å¨å¤é¨å­å¨ä»è´¨ä¸­çè½åï¼è¿å¯ä»¥éåååè¡¡çå¬å¨æ¥æä¾æ´å ç²¾åçæ¶è´¹è½åã\n\n----------------------------------------',normalizedContent:'å½ä¸ä¸ªæ°çæ¶è´¹ç»å»ºç«çæ¶åï¼å®æ ¹æ¬æ²¡æå¯ä»¥æ¥æ¾çæ¶è´¹ä½ç¹ãæèæ¶è´¹ç»åçä¸ä¸ªæ°æ¶è´¹èè®¢éäºä¸ä¸ªæ°çä¸»é¢ï¼å®ä¹æ²¡æå¯ä»¥æ¥æ¾çæ¶è´¹ä½ç¹ãå½ consumor_offsetsä¸»é¢ä¸­æå³è¿ä¸ªæ¶è´¹ç»çä½ç¹ä¿¡æ¯è¿æèè¢«å é¤åï¼å®ä¹æ²¡æå¯ä»¥æ¥æ¾çæ¶è´¹ä½ç¹ã\n\nå¨ kafka ä¸­æ¯å½æ¶è´¹èæ¥æ¾ä¸å°æè®°å½çæ¶è´¹ä½ç¹æ¶ï¼å°±ä¼æ ¹æ®æ¶è´¹èå®¢æ·ç«¯åæ°auto.offset.resetçéç½®æ¥å³å®ä»ä½å¤å¼å§è¿è¡æ¶è´¹ï¼è¿ä¸ªåæ°çé»è®¤å¼ä¸ºlatestï¼è¡¨ç¤ºä»ååºæ«å°¾å¼å§æ¶è´¹æ¶æ¯ãåèä¸å¾ï¼æç§é»è®¤çéç½®ï¼æ¶è´¹èä¼ä»9å¼å§è¿è¡æ¶è´¹ 9 æ¯ä¸ä¸æ¡è¦åå¥æ¶æ¯çä½ç½®,æ´å ç¡®å°è¯´æ¯ä» 9 å¼å§æåæ¶æ¯ãå¦æå° auto.offset.resetåæ°éç½®ä¸ºearliestï¼é£ä¹æ¶è´¹èä¼ä»èµ·å§å¤ï¼ä¹å°±æ¯ 0å¼å§æ¶è´¹ã\n\n\n\n> é¤äºæ¥æ¾ä¸å°æ¶è´¹ä½ç¹ï¼ä½ç¹è¶çä¹ä¼è§¦å auto.offset.reset åæ°çæ§è¡ã\n\nauto.offset.reset åæ°è¿æä¸ä¸ªå¯éç½®çå¼ä¸noneï¼éç½®ä¸ºæ­¤å¼å°±æå³çåºç°æ¥ä¸å°æ¶è´¹ä½ç¹çæ¶åï¼æ¢ä¸ä»ææ°çæ¶æ¯ä½ç½®å¤å¼å§æ¶è´¹ï¼ä¹ä¸ä»ææ©çæ¶æ¯ä½ç½®å¤å¼å§æ¶è´¹ï¼æ­¤æ¶ä¼æ¥åºnooffsetforpartitionexception å¼å¸¸ãå¦æè½å¤æ¾å°æ¶è´¹ä½ç¹ï¼é£ä¹éç½®ä¸ºnoneä¸ä¼åºç°ä»»ä½å¼å¸¸ãå¦æéç½®çä¸æ¯latest,earliest,ånoneï¼åä¼æ¥åº configexception å¼å¸¸ã\n\næ¶æ¯çæåæ¯æ ¹æ® poll() æ¹æ³ä¸­çé»è¾æ¥å¤ççï¼è¿ä¸ª poll()æ¹æ³ä¸­çé»è¾å¯¹äºæ®éçå¼åäººåèè¨æ¯ä¸ä¸ªé»çï¼æ æ³ç²¾ç¡®å°ææ§å¶æ¶è´¹çèµ·å§ä½ç½®ãæä¾çauto.offset.resetåæ°ä¹åªè½å¨æ¾ä¸å°æ¶è´¹ä½ç¹æä½ç¹è¶ççæåµä¸ç²ç²åº¦å°ä»å¼å¤´ææ«å°¾å¼å§æ¶è´¹ãæäºæ¶åï¼æä»¬éè¦ä¸ç§æ´ç»ç²åº¦çææ§ï¼å¯ä»¥è®©æä»¬ä»ç¹å®çä½ç¹å¤å¼å§æåæ¶æ¯ï¼èkafkaconsumerä¸­ç seek() æ¹æ³æ­£å¥½æä¾äºè¿ä¸ªåè½ï¼è®©æä»¬å¾ä»¥è¿½åæ¶è´¹æåæº¯æ¶è´¹ã\n\npublic void seek(topicpartition partition,long offset);\n\n\n1\n\n\nseek()æ¹æ³ä¸­çåæ° partition è¡¨ç¤ºååºï¼è offset åæ°ç¨æ¥æå®ä»ååºçåªä¸ªä½ç½®å¼å§æ¶è´¹ãseek()æ¹æ³åªè½éç½®æ¶è´¹èåéå°çååºçæ¶è´¹ä½ç½®ï¼èååºçåéæ¯å¨ poll() æ¹æ³çè°ç¨è¿ç¨ä¸­å®ç°çãä¹å°±æ¯è¯´ï¼å¨æ§è¡ seek()æ¹æ³ä¹åéè¦åæ§è¡ä¸æ¬¡ poll() æ¹æ³ï¼ç­å°åéå°ååºä¹åæå¯ä»¥éç½®æ¶è´¹ä½ç½®ã\n\nä»¥ä¸æ¯seekæ¹æ³çä½¿ç¨ç¤ºä¾ï¼\n\n        properties props=new properties();\n        props.put(consumerconfig.bootstrap_servers_config,brokerlist);\n        props.put(consumerconfig.group_id_config,groupname);\n        props.put(consumerconfig.key_deserializer_class_config,stringdeserializer.class.getname());\n        props.put(consumerconfig.value_deserializer_class_config,stringdeserializer.class.getname());\n\n        kafkaconsumer<string, string> consumer=new kafkaconsumer<>(props);\n        consumer.subscribe(collections.singletonlist(topicname));\n        consumer.poll(duration.ofmillis(1000));\n        set<topicpartition> assignment=consumer.assignment();\n        for(topicpartition partition:assignment){\n        consumer.seek(partition,10);\n        }\n        while(true){\n        consumerrecords<string, string> records=consumer.poll(duration.ofmillis(1000));\n        for(consumerrecord<string, string> record:records){\n        system.out.println("message : "+record.value());\n        }\n        }\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n\n\nassignment()æ¹æ³æ¯ç¨æ¥è·åæ¶è´¹èæåéå°çååºä¿¡æ¯çã\n\npublic set<topicpartition> assignment0);\n\n\n1\n\n\n> å¨ä¸é¢çseek()æ¹æ³ä½¿ç¨çç¤ºä¾ä»£ç ä¸­ï¼å¦æç¬¬ä¸æ¬¡è°ç¨poll()æ¹æ³çæ¶é´é´éè®¾ç½®ä¸º0ï¼å¨æ­¤ä¹åï¼ä¼åç° seek()æ¹æ³å¹¶æªæä»»ä½ä½ç¨ãå ä¸ºå½ poll() æ¹æ³ä¸­çåæ°ä¸º 0 æ¶ï¼æ­¤æ¹æ³ç«å»è¿åï¼é£ä¹ poll()æ¹æ³åé¨è¿è¡ååºåéçé»è¾å°±ä¼æ¥ä¸åå®æ½ãä¹å°±æ¯è¯´ï¼æ¶è´¹èæ­¤æ¶å¹¶æªåéå°ä»»ä½ååºãé£ä¹æä»¬åºè¯¥å¦ä½ä¼éçseekå¢ï¼\n\n    private void test(){\n        properties props=new properties();\n        props.put(consumerconfig.bootstrap_servers_config,brokerlist);\n        props.put(consumerconfig.group_id_config,groupname);\n        props.put(consumerconfig.key_deserializer_class_config,stringdeserializer.class.getname());\n        props.put(consumerconfig.value_deserializer_class_config,stringdeserializer.class.getname());\n\n        kafkaconsumer<string, string> consumer=new kafkaconsumer<>(props);\n        consumer.subscribe(collections.singletonlist(topicname));\n        set<topicpartition> assignment=new hashset<>();\n        while(assignment==null||assignment.size()==0){\n        consumer.poll(duration.ofmillis(100));\n        assignment=consumer.assignment();\n        }\n\n        for(topicpartition partition:assignment){\n        consumer.seek(partition,10);\n        }\n        while(true){\n        consumerrecords<string, string> records=consumer.poll(duration.ofmillis(1000));\n        for(consumerrecord<string, string> record:records){\n        system.out.println("message : "+record.value());\n        }\n        }\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n\n\nå¦æå¯¹æªåéå°çååºæ§è¡ seek() æ¹æ³ï¼é£ä¹ä¼æ¥åº illegalstateexception çå¼å¸¸ãç±»ä¼¼å¨è°ç¨ subscribe()æ¹æ³ä¹åç´æ¥è°ç¨ seek() æ¹æ³:\n\nconsumer.subscribe(arrays.aslist(topic));\nconsumer.seek(new topicpartition(topic,0),10);\n\n\n1\n2\n\n\nå¦ææ¶è´¹ç»åçæ¶è´¹èå¨å¯å¨çæ¶åè½å¤æ¾å°æ¶è´¹ä½ç¹ï¼é¤éåçä½ç¹è¶çï¼å¦å auto.offset.resetåæ°å¹¶ä¸ä¼å¥æ,æ­¤æ¶å¦ææ³æå®ä»å¼å¤´ææ«å°¾å¼å§æ¶è´¹,å°±è¦ä½¿ç¨ seck() æ¹æ³äºã\n\n    private void test(){\n        properties props=new properties();\n        props.put(consumerconfig.bootstrap_servers_config,brokerlist);\n        props.put(consumerconfig.group_id_config,groupname);\n        props.put(consumerconfig.key_deserializer_class_config,stringdeserializer.class.getname());\n        props.put(consumerconfig.value_deserializer_class_config,stringdeserializer.class.getname());\n\n        kafkaconsumer<string, string> consumer=new kafkaconsumer<>(props);\n        consumer.subscribe(collections.singletonlist(topicname));\n        set<topicpartition> assignment=new hashset<>();\n        while(assignment==null||assignment.size()==0){\n        consumer.poll(duration.ofmillis(100));\n        assignment=consumer.assignment();\n        }\n        map<topicpartition, long> map=consumer.endoffsets(assignment);\n        for(topicpartition partition:assignment){\n        consumer.seek(partition,map.get(partition));\n        }\n        while(true){\n        consumerrecords<string, string> records=consumer.poll(duration.ofmillis(1000));\n        for(consumerrecord<string, string> record:records){\n        system.out.println("message : "+record.value());\n        }\n\n        }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n\n\n> endoffsets()æ¹æ³ç¨æ¥è·åæå®ååºçæ«å°¾çæ¶æ¯ä½ç½®ã\n\n    map<topicpartition, long> endoffsets(collection<topicpartition> partitions);\n\n    map<topicpartition, long> endoffsets(collection<topicpartition> partitions,duration timeout);\n\n\n1\n2\n3\n\n\nä¸ endoffsets() æ¹æ³ å¯¹åºçæ¯ beginningoffsets() æ¹æ³ï¼ä¸ä¸ªååºçèµ·å§ä½ç½®èµ·åæ¯0ï¼ä½å¹¶ä¸ä»£è¡¨æ¯æ¶æ¯å»é½ä¸º0ï¼å ä¸ºæ¥å¿æ¸ççå¨ä½ä¼æ¸æ§çæ°æ®ï¼æä»¥ååºçèµ·å§ä½ç½®ä¼èªç¶èç¶å°å¢å ã\n\n    map<topicpartition, long> beginningoffsets(collection<topicpartition> partitions);\n\n    map<topicpartition, long> beginningoffsets(collection<topicpartition> partitions,duration timeout);\n\n\n1\n2\n3\n\n\nå¶å® kafkaconsumer ä¸­ç´æ¥æä¾äº seektobeginning() æ¹æ³, seektoend() æ¹æ³æ¥å®ç°è¿ä¸¤ä¸ªåè½ã\n\n    void seektobeginning(collection<topicpartition> partitions);\n\n        void seektoend(collection<topicpartition> partitions);\n\n\n1\n2\n3\n\n\nææ¶åæä»¬å¹¶ä¸ç¥éç¹å®çæ¶è´¹ä½ç½®ï¼å´ç¥éä¸ä¸ªç¸å³çæ¶é´ç¹ï¼æ¯å¦æä»¬æ³è¦æ¶è´¹æ¨å¤©8ç¹ä¹åçæ¶æ¯ï¼è¿ä¸ªéæ±æ´ç¬¦åæ­£å¸¸çæç»´é»è¾ãæ­¤æ¶æä»¬æ æ³ç´æ¥ä½¿ç¨ seek()æ¹æ³æ¥è¿½æº¯å°ç¸åºçä½ç½®ãkafkaconsumer åæ ·èèå°äºè¿ç§æåµï¼å®æä¾äºä¸ä¸ª offsetsfortimes() æ¹æ³ï¼éè¿timestampæ¥æ¥è¯¢ä¸æ­¤å¯¹åºçååºä½ç½®ã\n\nmap<topicpartition, offsetandtimestamp> offsetsfortimes(map<topicpartition, long> timestampstosearch);\n\nmap<topicpartition, offsetandtimestamp> offsetsfortimes(map<topicpartition, long> timestampstosearch,duration timeout);\n\n\n1\n2\n3\n\n\noffsetsfortimes() æ¹æ³çåæ° timestampstosearch æ¯ä¸ä¸ª map ç±»å,key ä¸ºå¾æ¥è¯¢çååºï¼èvalueä¸ºå¾æ¥è¯¢çæ¶é´æ³ï¼è¯¥æ¹æ³ä¼è¿åæ¶é´æ³å¤§äºç­äºå¾æ¥è¯¢æ¶é´çç¬¬ä¸æ¡æ¶æ¯å¯¹åºçä½ç½®åæ¶é´æ³ï¼å¯¹åºäº offsetandtimestampä¸­çoffset å timestamp å­æ®µã\n\nåé¢è¯´è¿ä½ç¹è¶çä¹ä¼è§¦å auto.offset.reset åæ°çæ§è¡ï¼ä½ç¹è¶çæ¯æç¥éæ¶è´¹ä½ç½®å´æ æ³å¨å®éçååºä¸­æ¥æ¾å°ï¼æ¯å¦æ³è¦ä»ä¸å¾ä¸­çä½ç½®10å¤æåæ¶æ¯æ¶å°±ä¼åçä½ç¹è¶çãæ³¨ææåä¸å¾ä¸­ä½ç½® 9 å¤çæ¶æ¯æ¶å¹¶æªè¶çï¼è¿ä¸ªä½ç½®ä»£è¡¨ç¹å®çå«ä¹ (leo)ã\n\nkafkaä¸­çæ¶è´¹ä½ç¹æ¯å­å¨å¨ä¸ä¸ªåé¨ä¸»é¢ä¸­çï¼èæ¬èç seek() æ¹æ³å¯ä»¥çªç ´è¿ä¸éå¶ï¼æ¶è´¹ä½ç¹å¯ä»¥ä¿å­å¨ä»»æçå­å¨ä»è´¨ä¸­ï¼æ¯å¦æ°æ®åºï¼æä»¶ç³»ç»ç­ç­ã\n\nseek()æ¹æ³ä¸ºæä»¬æä¾äºä»ç¹å®ä½ç½®è¯»åæ¶æ¯çè½åï¼æä»¬å¯ä»¥éè¿è¿ä¸ªæ¹æ³æ¥ååè·³è¿è¥å¹²æ¶æ¯ï¼ä¹å¯ä»¥éè¿è¿ä¸ªæ¹æ³æ¥åååæº¯è¥å¹²æ¶æ¯ï¼è¿æ ·ä¸ºæ¶æ¯çæ¶è´¹æä¾äºå¾å¤§ççµæ´»æ§ãseek()æ¹æ³ä¹ä¸ºæä»¬æä¾äºå°æ¶è´¹ä½ç¹ä¿å­å¨å¤é¨å­å¨ä»è´¨ä¸­çè½åï¼è¿å¯ä»¥éåååè¡¡çå¬å¨æ¥æä¾æ´å ç²¾åçæ¶è´¹è½åã\n\n----------------------------------------',charsets:{cjk:!0},lastUpdated:"2023/11/04, 10:52:44",lastUpdatedTimestamp:1699066364e3},{title:"æ¶è´¹è-å®¢æ·ç«¯å¼å-Rebalance",frontmatter:{title:"æ¶è´¹è-å®¢æ·ç«¯å¼å-Rebalance",date:"2023-01-01T00:00:00.000Z",tags:["Kafka","æ¶æ¯éå"],categories:["Kafka"],description:"æ¶è´¹è-å®¢æ·ç«¯å¼å-Rebalance",toc_number:!1,author:{name:"huidong.yin",link:"https://huidongyin.github.io"},permalink:"/pages/2b4b8b25-552c-374f-9419-12d2c51dbeb1/"},regularPath:"/03.%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97/00.Kafka/8.%E6%B6%88%E8%B4%B9%E8%80%85-%E5%AE%A2%E6%88%B7%E7%AB%AF%E5%BC%80%E5%8F%91-Rebalance.html",relativePath:"03.æ¶æ¯éå/00.Kafka/8.æ¶è´¹è-å®¢æ·ç«¯å¼å-Rebalance.md",key:"v-a51427f8",path:"/pages/2b4b8b25-552c-374f-9419-12d2c51dbeb1/",headersStr:null,content:"ååè¡¡æ¯æååºçæå±æä»ä¸ä¸ªæ¶è´¹èè½¬ç§»å°å¦ä¸æ¶è´¹èçè¡ä¸ºï¼å®ä¸ºæ¶è´¹ç»å·å¤é«å¯ç¨æ§åä¼¸ç¼©æ§æä¾ä¿éï¼ä½¿æä»¬å¯ä»¥æ¢æ¹ä¾¿åå®å¨å°å é¤æ¶è´¹ç»åçæ¶è´¹èæå¾æ¶è´¹ç»åæ·»å æ¶è´¹èãä¸è¿å¨ååè¡¡åçæé´ï¼æ¶è´¹ç»åçæ¶è´¹èæ¯æ æ³è¯»åæ¶æ¯çï¼ä¹å°±æ¯è¯´ï¼å¨ååè¡¡åçæé´çè¿ä¸å°æ®µæ¶é´åï¼æ¶è´¹ç»ä¼åå¾ä¸å¯ç¨ãå¦å¤ï¼å½ä¸ä¸ªååºè¢«éæ°åéç»å¦ä¸ä¸ªæ¶è´¹èæ¶ï¼æ¶è´¹èå½åçç¶æä¹ä¼ä¸¢å¤±ãæ¯å¦æ¶è´¹èæ¶è´¹å®æä¸ªååºä¸­çä¸é¨åæ¶æ¯æ¶è¿æ²¡ææ¥å¾åæäº¤æ¶è´¹ä½ç¹å°±åçäºååè¡¡æä½ï¼ä¹åè¿ä¸ªååºåè¢«åéç»äºæ¶è´¹ç»åçå¦ä¸ä¸ªæ¶è´¹èï¼åæ¥è¢«æ¶è´¹çé£é¨åæ¶æ¯åè¢«éæ°æ¶è´¹ä¸éï¼ä¹å°±æ¯åçäºéå¤æ¶è´¹ã\n\nåé¢åè¯´ subscribe()æ¹æ³çæ¶åæå°äºå¯ä»¥æ³¨åä¸ä¸ªConsumerRebalanceListenerå¨å¹³è¡¡çå¬å¨ãè¿ä¸ªçå¬å¨ç¨æ¥è®¾å®å¨åçRebalanceååçä¸äºå¨ä½ã\n\n    void subscribe(Collection<String> topics,ConsumerRebalanceListener callback);\n\n        void subscribe(Pattern pattern,ConsumerRebalanceListener callback);\n\n\n1\n2\n3\n\n\n    void onPartitionsRevoked(Collection<TopicPartition> partitions);\n\n        void onPartitionsAssigned(Collection<TopicPartition> partitions);\n\n\n1\n2\n3\n\n 1. onPartitionsRevoked() æ¹æ³ä¼å¨Rebalanceå¼å§ä¹ååæ¶è´¹èåæ­¢è¯»åæ¶æ¯ä¹åè¢«è°ç¨ãå¯ä»¥éè¿è¿ä¸ªæ¹æ³æ¥å¤çæ¶è´¹ä½ç¹çæäº¤ãåæ°partitionsè¡¨ç¤ºRebalanceåæåéå°çååºã\n 2. onPartitionsAssigned() æ¹æ³ä¼å¨Rebalanceéæ°åéååºä¹ååæ¶è´¹èå¼å§æ¶è´¹ä¹åè¢«è°ç¨ãåæ°partitionsè¡¨ç¤ºRebalanceåæåéå°çååºã\n\næ¬èä»ä»ä»ç»ConsumerRebalanceListenerçç¨æ³ï¼Rebalanceæé´æ¶è´¹èå®¢æ·ç«¯ä¸Kafkaæå¡ç«¯ä¹é´çäº¤äºé»è¾ä»¥åç¸å³åçåé¢å¨åæã\n\n----------------------------------------",normalizedContent:"ååè¡¡æ¯æååºçæå±æä»ä¸ä¸ªæ¶è´¹èè½¬ç§»å°å¦ä¸æ¶è´¹èçè¡ä¸ºï¼å®ä¸ºæ¶è´¹ç»å·å¤é«å¯ç¨æ§åä¼¸ç¼©æ§æä¾ä¿éï¼ä½¿æä»¬å¯ä»¥æ¢æ¹ä¾¿åå®å¨å°å é¤æ¶è´¹ç»åçæ¶è´¹èæå¾æ¶è´¹ç»åæ·»å æ¶è´¹èãä¸è¿å¨ååè¡¡åçæé´ï¼æ¶è´¹ç»åçæ¶è´¹èæ¯æ æ³è¯»åæ¶æ¯çï¼ä¹å°±æ¯è¯´ï¼å¨ååè¡¡åçæé´çè¿ä¸å°æ®µæ¶é´åï¼æ¶è´¹ç»ä¼åå¾ä¸å¯ç¨ãå¦å¤ï¼å½ä¸ä¸ªååºè¢«éæ°åéç»å¦ä¸ä¸ªæ¶è´¹èæ¶ï¼æ¶è´¹èå½åçç¶æä¹ä¼ä¸¢å¤±ãæ¯å¦æ¶è´¹èæ¶è´¹å®æä¸ªååºä¸­çä¸é¨åæ¶æ¯æ¶è¿æ²¡ææ¥å¾åæäº¤æ¶è´¹ä½ç¹å°±åçäºååè¡¡æä½ï¼ä¹åè¿ä¸ªååºåè¢«åéç»äºæ¶è´¹ç»åçå¦ä¸ä¸ªæ¶è´¹èï¼åæ¥è¢«æ¶è´¹çé£é¨åæ¶æ¯åè¢«éæ°æ¶è´¹ä¸éï¼ä¹å°±æ¯åçäºéå¤æ¶è´¹ã\n\nåé¢åè¯´ subscribe()æ¹æ³çæ¶åæå°äºå¯ä»¥æ³¨åä¸ä¸ªconsumerrebalancelistenerå¨å¹³è¡¡çå¬å¨ãè¿ä¸ªçå¬å¨ç¨æ¥è®¾å®å¨åçrebalanceååçä¸äºå¨ä½ã\n\n    void subscribe(collection<string> topics,consumerrebalancelistener callback);\n\n        void subscribe(pattern pattern,consumerrebalancelistener callback);\n\n\n1\n2\n3\n\n\n    void onpartitionsrevoked(collection<topicpartition> partitions);\n\n        void onpartitionsassigned(collection<topicpartition> partitions);\n\n\n1\n2\n3\n\n 1. onpartitionsrevoked() æ¹æ³ä¼å¨rebalanceå¼å§ä¹ååæ¶è´¹èåæ­¢è¯»åæ¶æ¯ä¹åè¢«è°ç¨ãå¯ä»¥éè¿è¿ä¸ªæ¹æ³æ¥å¤çæ¶è´¹ä½ç¹çæäº¤ãåæ°partitionsè¡¨ç¤ºrebalanceåæåéå°çååºã\n 2. onpartitionsassigned() æ¹æ³ä¼å¨rebalanceéæ°åéååºä¹ååæ¶è´¹èå¼å§æ¶è´¹ä¹åè¢«è°ç¨ãåæ°partitionsè¡¨ç¤ºrebalanceåæåéå°çååºã\n\næ¬èä»ä»ä»ç»consumerrebalancelistenerçç¨æ³ï¼rebalanceæé´æ¶è´¹èå®¢æ·ç«¯ä¸kafkaæå¡ç«¯ä¹é´çäº¤äºé»è¾ä»¥åç¸å³åçåé¢å¨åæã\n\n----------------------------------------",charsets:{cjk:!0},lastUpdated:"2023/11/04, 10:52:44",lastUpdatedTimestamp:1699066364e3},{title:"æ¶è´¹è-å®¢æ·ç«¯å¼å-æ¦æªå¨",frontmatter:{title:"æ¶è´¹è-å®¢æ·ç«¯å¼å-æ¦æªå¨",date:"2023-01-01T00:00:00.000Z",tags:["Kafka","æ¶æ¯éå"],categories:["Kafka"],description:"æ¶è´¹è-å®¢æ·ç«¯å¼å-æ¦æªå¨",toc_number:!1,author:{name:"huidong.yin",link:"https://huidongyin.github.io"},permalink:"/pages/40f82a04-0969-342d-8b82-bb27281bb7e0/"},regularPath:"/03.%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97/00.Kafka/9.%E6%B6%88%E8%B4%B9%E8%80%85-%E5%AE%A2%E6%88%B7%E7%AB%AF%E5%BC%80%E5%8F%91-%E6%8B%A6%E6%88%AA%E5%99%A8.html",relativePath:"03.æ¶æ¯éå/00.Kafka/9.æ¶è´¹è-å®¢æ·ç«¯å¼å-æ¦æªå¨.md",key:"v-336aff4e",path:"/pages/40f82a04-0969-342d-8b82-bb27281bb7e0/",headersStr:null,content:"æ¶è´¹èæ¦æªå¨ä¸»è¦å¨æ¶è´¹å°æ¶æ¯æå¨æäº¤æ¶è´¹ä½ç¹æ¶è¿è¡ä¸äºå®å¶åçæä½ãæ¶è´¹èæ¦æªå¨éè¦èªå®ä¹å®ç° ConsumerInterceptoræ¥å£ãè¯¥æ¥å£åå«ä¸ä¸ªæ¹æ³ã\n\npublic ConsumerRecords<K, V> onConsume(ConsumerRecords<K, V> records);\n\npublic void onCommit(Map<TopicPartition, OffsetAndMetadata> offsets);\n\npublic void close();\n\n\n1\n2\n3\n4\n5\n\n\nKafkaConsumer ä¼å¨poll()æ¹æ³è¿åä¹åè°ç¨æ¦æªå¨çonConsume()æ¹æ³æ¥å¯¹æ¶æ¯è¿è¡ç¸çå®å¶åæä½ï¼æ¯å¦ä¿®æ¹è¿åçæ¶æ¯åå®¹ãæç§æç§è§åè¿æ»¤æ¶æ¯(å¯è½ä¼åå° poll() æ¹æ³è¿åçæ¶æ¯çä¸ªæ°)ãå¦æonConsume()æ¹æ³ä¸­æåºå¼å¸¸ï¼é£ä¹ä¼è¢«æè·å¹¶è®°å½å°æ¥å¿ä¸­ï¼ä½æ¯éå¸¸ä¸ä¼ååä¸ä¼ éã\n\nKafkaConsumer ä¼å¨æäº¤å®æ¶è´¹ä½ç¹ä¹åè°ç¨æ¦æªå¨çonCommit()æ¹æ³ï¼å¯ä»¥ä½¿ç¨è¿ä¸ªæ¹æ³æ¥è®°å½è·è¸ªææäº¤çä½ç¹ä¿¡æ¯ï¼æ¯å¦å½æ¶è´¹èä½¿ç¨ commitSync()çæ åæ¹æ³æ¶ï¼æä»¬ä¸ç¥éæäº¤çæ¶è´¹ä½ç¹çå·ä½ç»èï¼èä½¿ç¨æ¦æªå¨ç onCommit() æ¹æ³å´å¯ä»¥åå°è¿ä¸ç¹ã\n\nclose()æ¹æ³å ConsumerInterceptor çç¶æ¥å£ä¸­çconfigure()æ¹æ³ä¸çäº§èç ProducerInterceptor æ¥å£ä¸­çç¨éä¸æ ·ã\n\nå®ç°èªå®ä¹ç ConsumerInterceptor ä¹åï¼éè¦å¨ KafkaConsumer ä¸­éç½®æå®è¿ä¸ªæ¦æªå¨ï¼åæ ·æ¯éè¿åæ°interceptor.classesæå®ã\n\nå¨æ¶è´¹èä¸­ä¹ææ¦æªå¨é¾çæ¦å¿µï¼åçäº§èæ¦æªå¨é¾æ¡ä¸æ ·ï¼ä¹æ¯æç§ interceptor.classesåæ°éç½®çæ¦æªå¨çé¡ºåºæ¥ä¸ä¸æ§è¡çï¼åæ ·ä¹è¦é²æ­¢å¯ä½ç¨çåçãå¦æå¨æ¦æªå¨é¾ä¸­æä¸ªæ¦æªå¨æ§è¡å¤±è´¥ï¼é£ä¹ä¸ä¸ä¸ªæ¦æªå¨ä¼æ¥çä»ä¸ä¸ä¸ªæ§è¡æåçæ¦æªå¨ç»§ç»­æ§è¡ã\n\n----------------------------------------",normalizedContent:"æ¶è´¹èæ¦æªå¨ä¸»è¦å¨æ¶è´¹å°æ¶æ¯æå¨æäº¤æ¶è´¹ä½ç¹æ¶è¿è¡ä¸äºå®å¶åçæä½ãæ¶è´¹èæ¦æªå¨éè¦èªå®ä¹å®ç° consumerinterceptoræ¥å£ãè¯¥æ¥å£åå«ä¸ä¸ªæ¹æ³ã\n\npublic consumerrecords<k, v> onconsume(consumerrecords<k, v> records);\n\npublic void oncommit(map<topicpartition, offsetandmetadata> offsets);\n\npublic void close();\n\n\n1\n2\n3\n4\n5\n\n\nkafkaconsumer ä¼å¨poll()æ¹æ³è¿åä¹åè°ç¨æ¦æªå¨çonconsume()æ¹æ³æ¥å¯¹æ¶æ¯è¿è¡ç¸çå®å¶åæä½ï¼æ¯å¦ä¿®æ¹è¿åçæ¶æ¯åå®¹ãæç§æç§è§åè¿æ»¤æ¶æ¯(å¯è½ä¼åå° poll() æ¹æ³è¿åçæ¶æ¯çä¸ªæ°)ãå¦æonconsume()æ¹æ³ä¸­æåºå¼å¸¸ï¼é£ä¹ä¼è¢«æè·å¹¶è®°å½å°æ¥å¿ä¸­ï¼ä½æ¯éå¸¸ä¸ä¼ååä¸ä¼ éã\n\nkafkaconsumer ä¼å¨æäº¤å®æ¶è´¹ä½ç¹ä¹åè°ç¨æ¦æªå¨çoncommit()æ¹æ³ï¼å¯ä»¥ä½¿ç¨è¿ä¸ªæ¹æ³æ¥è®°å½è·è¸ªææäº¤çä½ç¹ä¿¡æ¯ï¼æ¯å¦å½æ¶è´¹èä½¿ç¨ commitsync()çæ åæ¹æ³æ¶ï¼æä»¬ä¸ç¥éæäº¤çæ¶è´¹ä½ç¹çå·ä½ç»èï¼èä½¿ç¨æ¦æªå¨ç oncommit() æ¹æ³å´å¯ä»¥åå°è¿ä¸ç¹ã\n\nclose()æ¹æ³å consumerinterceptor çç¶æ¥å£ä¸­çconfigure()æ¹æ³ä¸çäº§èç producerinterceptor æ¥å£ä¸­çç¨éä¸æ ·ã\n\nå®ç°èªå®ä¹ç consumerinterceptor ä¹åï¼éè¦å¨ kafkaconsumer ä¸­éç½®æå®è¿ä¸ªæ¦æªå¨ï¼åæ ·æ¯éè¿åæ°interceptor.classesæå®ã\n\nå¨æ¶è´¹èä¸­ä¹ææ¦æªå¨é¾çæ¦å¿µï¼åçäº§èæ¦æªå¨é¾æ¡ä¸æ ·ï¼ä¹æ¯æç§ interceptor.classesåæ°éç½®çæ¦æªå¨çé¡ºåºæ¥ä¸ä¸æ§è¡çï¼åæ ·ä¹è¦é²æ­¢å¯ä½ç¨çåçãå¦æå¨æ¦æªå¨é¾ä¸­æä¸ªæ¦æªå¨æ§è¡å¤±è´¥ï¼é£ä¹ä¸ä¸ä¸ªæ¦æªå¨ä¼æ¥çä»ä¸ä¸ä¸ªæ§è¡æåçæ¦æªå¨ç»§ç»­æ§è¡ã\n\n----------------------------------------",charsets:{cjk:!0},lastUpdated:"2023/11/04, 10:52:44",lastUpdatedTimestamp:1699066364e3},{title:"About Me",frontmatter:{title:"About Me",date:"2021å¹´9æ11æ¥22:50:43",permalink:"/pages/20/",type:"ä¸ªäººç®å",tags:["ç®å","é¢è¯"],author:{name:"huidong.yin",link:"https://huidongyin.github.io"},categories:["AboutMe"]},regularPath:"/03.%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97/01.RocketMQ/01.xxx.html",relativePath:"03.æ¶æ¯éå/01.RocketMQ/01.xxx.md",key:"v-63d529e4",path:"/pages/20/",headers:[{level:3,title:"ä¸ä¸æè½",slug:"ä¸ä¸æè½",normalizedTitle:"ä¸ä¸æè½",charIndex:167},{level:3,title:"å·¥ä½å±¥å",slug:"å·¥ä½å±¥å",normalizedTitle:"å·¥ä½å±¥å",charIndex:952},{level:3,title:"é¡¹ç®ç»éª",slug:"é¡¹ç®ç»éª",normalizedTitle:"é¡¹ç®ç»éª",charIndex:1059},{level:3,title:"æè²èæ¯",slug:"æè²èæ¯",normalizedTitle:"æè²èæ¯",charIndex:1146}],headersStr:"ä¸ä¸æè½ å·¥ä½å±¥å é¡¹ç®ç»éª æè²èæ¯",content:"å§å    å·¥ä½å¹´é   åºçæ¥æ         æ§å«   TEL           é®ç®±\nå°¹ä¼ä¸   3å¹´     1998.11.16   ç·    13342969497   huidong.yin247203@gmail.com\n\n----------------------------------------\n\n\n# ä¸ä¸æè½\n\n 1.  çç»ææ¡Javaåºç¡ç¥è¯ï¼äºè§£åçæ¬ç¹æ§ï¼è¯»è¿å¹¶åç¼ç¨ï¼éåæ¡æ¶ï¼IOæµç­å¸¸ç¨APIåºå±æºç ã\n 2.  è½å¤å¨å¼åä¸­å©ç¨è®¾è®¡æ¨¡å¼æ½è±¡ä»£ç ï¼æ·±å¥çè§£é¢åé©±å¨è®¾è®¡ã\n 3.  è¯»è¿Springï¼SpringMVCï¼Mybatisï¼SpringBootï¼SpringCloud(Eureka,Nacos,Sentinel,OpenFeign,Ribbon,Gateway)æºç ã\n 4.  è¯»è¿Tomcatï¼Dubboï¼Zookeeperï¼Quartzæºç ã\n 5.  è¯»è¿Redisæºç ã\n 6.  äºè§£Nginxï¼ApiSixç­ç½å³ã\n 7.  è¯»è¿ãæ·±å¥çè§£Javaèææºãï¼æå¤æ¬¡JVMçº¿ä¸é®é¢ææ¥ä¸è°ä¼ç»éªï¼ç»åè¿å°ç±³618å¤§ä¿ç°åºè°ä¼ã\n 8.  ææ¡MySQLåºå±åçï¼SQLè°ä¼ç»éªä¸°å¯ï¼æå°ç±³æ°é¶å®æ°æ®å»ºæ¨¡å¼åç»éªã\n 9.  è¯»è¿RocketMQæºç ï¼ææ¡Kafkaæ ¸å¿åçï¼çç»ä½¿ç¨RabbitMQï¼ç®åè´è´£æ¶æ¯éåç¸å³å·¥ä½å¼åã\n 10. çç»ææ¡ElasticSearch APIï¼æ·±å¥çè§£ElasticSearchåºå±åçï¼äºè§£ElasticSearchéç¾¤è¿ç»´ï¼è¯»è¿é¨åElasticSearchæºç ã\n 11. è¯»è¿Nettyæºç ï¼äºè§£Nettyæ± ååå­ç®¡çï¼æå°ç±³æ°é¶å®ç´æ­å¼åç»éªã\n 12. çç»ä½¿ç¨Linuxæä½ç³»ç»ï¼Dockerï¼Jenkinsç­CICDç¸å³å·¥å·ã\n 13. äºè§£HTTPä¸HTTPSåè®®åçï¼åºååä¸ååºåååçï¼RPCéä¿¡åçï¼çæåå¸å¼å¾®æå¡æ¶æï¼ææ¡åå¸å¼äºå¡è§£å³æ¹æ¡ã\n 14. çç»ä½¿ç¨JIRAï¼Asanaç­é¡¹ç®æµç¨ç®¡çå·¥å·ï¼çç»ä½¿ç¨Markdownï¼Wordï¼Excelï¼PPTç­å·¥å·ã\n\n----------------------------------------\n\n\n# å·¥ä½å±¥å\n\n 1. 2020.11-2022.06 å°ç±³æ°é¶å®ææ¯é¨\n 2. 2022.07- ZOOM AsyncMQ\n\n----------------------------------------\n\n\n# é¡¹ç®ç»éª\n\n 1. å°ç±³æ°é¶å®-é¶å®é\n 2. ZOOMæ¶æ¯éå-AsyncMQ\n\n----------------------------------------\n\n\n# æè²èæ¯\n\nå­¦æ ¡åç§°     ä¸ä¸         å°±è¯»æ¶é´        å­¦ä½\né½é½åå°å¤§å­¦   è®¡ç®æºç§å­¦ä¸ææ¯   2017~2021   æ¬ç§\n\n----------------------------------------",normalizedContent:"å§å    å·¥ä½å¹´é   åºçæ¥æ         æ§å«   tel           é®ç®±\nå°¹ä¼ä¸   3å¹´     1998.11.16   ç·    13342969497   huidong.yin247203@gmail.com\n\n----------------------------------------\n\n\n# ä¸ä¸æè½\n\n 1.  çç»ææ¡javaåºç¡ç¥è¯ï¼äºè§£åçæ¬ç¹æ§ï¼è¯»è¿å¹¶åç¼ç¨ï¼éåæ¡æ¶ï¼ioæµç­å¸¸ç¨apiåºå±æºç ã\n 2.  è½å¤å¨å¼åä¸­å©ç¨è®¾è®¡æ¨¡å¼æ½è±¡ä»£ç ï¼æ·±å¥çè§£é¢åé©±å¨è®¾è®¡ã\n 3.  è¯»è¿springï¼springmvcï¼mybatisï¼springbootï¼springcloud(eureka,nacos,sentinel,openfeign,ribbon,gateway)æºç ã\n 4.  è¯»è¿tomcatï¼dubboï¼zookeeperï¼quartzæºç ã\n 5.  è¯»è¿redisæºç ã\n 6.  äºè§£nginxï¼apisixç­ç½å³ã\n 7.  è¯»è¿ãæ·±å¥çè§£javaèææºãï¼æå¤æ¬¡jvmçº¿ä¸é®é¢ææ¥ä¸è°ä¼ç»éªï¼ç»åè¿å°ç±³618å¤§ä¿ç°åºè°ä¼ã\n 8.  ææ¡mysqlåºå±åçï¼sqlè°ä¼ç»éªä¸°å¯ï¼æå°ç±³æ°é¶å®æ°æ®å»ºæ¨¡å¼åç»éªã\n 9.  è¯»è¿rocketmqæºç ï¼ææ¡kafkaæ ¸å¿åçï¼çç»ä½¿ç¨rabbitmqï¼ç®åè´è´£æ¶æ¯éåç¸å³å·¥ä½å¼åã\n 10. çç»ææ¡elasticsearch apiï¼æ·±å¥çè§£elasticsearchåºå±åçï¼äºè§£elasticsearchéç¾¤è¿ç»´ï¼è¯»è¿é¨åelasticsearchæºç ã\n 11. è¯»è¿nettyæºç ï¼äºè§£nettyæ± ååå­ç®¡çï¼æå°ç±³æ°é¶å®ç´æ­å¼åç»éªã\n 12. çç»ä½¿ç¨linuxæä½ç³»ç»ï¼dockerï¼jenkinsç­cicdç¸å³å·¥å·ã\n 13. äºè§£httpä¸httpsåè®®åçï¼åºååä¸ååºåååçï¼rpcéä¿¡åçï¼çæåå¸å¼å¾®æå¡æ¶æï¼ææ¡åå¸å¼äºå¡è§£å³æ¹æ¡ã\n 14. çç»ä½¿ç¨jiraï¼asanaç­é¡¹ç®æµç¨ç®¡çå·¥å·ï¼çç»ä½¿ç¨markdownï¼wordï¼excelï¼pptç­å·¥å·ã\n\n----------------------------------------\n\n\n# å·¥ä½å±¥å\n\n 1. 2020.11-2022.06 å°ç±³æ°é¶å®ææ¯é¨\n 2. 2022.07- zoom asyncmq\n\n----------------------------------------\n\n\n# é¡¹ç®ç»éª\n\n 1. å°ç±³æ°é¶å®-é¶å®é\n 2. zoomæ¶æ¯éå-asyncmq\n\n----------------------------------------\n\n\n# æè²èæ¯\n\nå­¦æ ¡åç§°     ä¸ä¸         å°±è¯»æ¶é´        å­¦ä½\né½é½åå°å¤§å­¦   è®¡ç®æºç§å­¦ä¸ææ¯   2017~2021   æ¬ç§\n\n----------------------------------------",charsets:{cjk:!0},lastUpdated:"2023/11/04, 13:58:20",lastUpdatedTimestamp:16990775e5},{title:"About Me",frontmatter:{title:"About Me",date:"2021å¹´9æ11æ¥22:50:43",permalink:"/pages/21/",type:"ä¸ªäººç®å",tags:["ç®å","é¢è¯"],author:{name:"huidong.yin",link:"https://huidongyin.github.io"},categories:["AboutMe"]},regularPath:"/03.%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97/02.RabbitMQ/01.xxx.html",relativePath:"03.æ¶æ¯éå/02.RabbitMQ/01.xxx.md",key:"v-44762c24",path:"/pages/21/",headers:[{level:3,title:"ä¸ä¸æè½",slug:"ä¸ä¸æè½",normalizedTitle:"ä¸ä¸æè½",charIndex:167},{level:3,title:"å·¥ä½å±¥å",slug:"å·¥ä½å±¥å",normalizedTitle:"å·¥ä½å±¥å",charIndex:952},{level:3,title:"é¡¹ç®ç»éª",slug:"é¡¹ç®ç»éª",normalizedTitle:"é¡¹ç®ç»éª",charIndex:1059},{level:3,title:"æè²èæ¯",slug:"æè²èæ¯",normalizedTitle:"æè²èæ¯",charIndex:1146}],headersStr:"ä¸ä¸æè½ å·¥ä½å±¥å é¡¹ç®ç»éª æè²èæ¯",content:"å§å    å·¥ä½å¹´é   åºçæ¥æ         æ§å«   TEL           é®ç®±\nå°¹ä¼ä¸   3å¹´     1998.11.16   ç·    13342969497   huidong.yin247203@gmail.com\n\n----------------------------------------\n\n\n# ä¸ä¸æè½\n\n 1.  çç»ææ¡Javaåºç¡ç¥è¯ï¼äºè§£åçæ¬ç¹æ§ï¼è¯»è¿å¹¶åç¼ç¨ï¼éåæ¡æ¶ï¼IOæµç­å¸¸ç¨APIåºå±æºç ã\n 2.  è½å¤å¨å¼åä¸­å©ç¨è®¾è®¡æ¨¡å¼æ½è±¡ä»£ç ï¼æ·±å¥çè§£é¢åé©±å¨è®¾è®¡ã\n 3.  è¯»è¿Springï¼SpringMVCï¼Mybatisï¼SpringBootï¼SpringCloud(Eureka,Nacos,Sentinel,OpenFeign,Ribbon,Gateway)æºç ã\n 4.  è¯»è¿Tomcatï¼Dubboï¼Zookeeperï¼Quartzæºç ã\n 5.  è¯»è¿Redisæºç ã\n 6.  äºè§£Nginxï¼ApiSixç­ç½å³ã\n 7.  è¯»è¿ãæ·±å¥çè§£Javaèææºãï¼æå¤æ¬¡JVMçº¿ä¸é®é¢ææ¥ä¸è°ä¼ç»éªï¼ç»åè¿å°ç±³618å¤§ä¿ç°åºè°ä¼ã\n 8.  ææ¡MySQLåºå±åçï¼SQLè°ä¼ç»éªä¸°å¯ï¼æå°ç±³æ°é¶å®æ°æ®å»ºæ¨¡å¼åç»éªã\n 9.  è¯»è¿RocketMQæºç ï¼ææ¡Kafkaæ ¸å¿åçï¼çç»ä½¿ç¨RabbitMQï¼ç®åè´è´£æ¶æ¯éåç¸å³å·¥ä½å¼åã\n 10. çç»ææ¡ElasticSearch APIï¼æ·±å¥çè§£ElasticSearchåºå±åçï¼äºè§£ElasticSearchéç¾¤è¿ç»´ï¼è¯»è¿é¨åElasticSearchæºç ã\n 11. è¯»è¿Nettyæºç ï¼äºè§£Nettyæ± ååå­ç®¡çï¼æå°ç±³æ°é¶å®ç´æ­å¼åç»éªã\n 12. çç»ä½¿ç¨Linuxæä½ç³»ç»ï¼Dockerï¼Jenkinsç­CICDç¸å³å·¥å·ã\n 13. äºè§£HTTPä¸HTTPSåè®®åçï¼åºååä¸ååºåååçï¼RPCéä¿¡åçï¼çæåå¸å¼å¾®æå¡æ¶æï¼ææ¡åå¸å¼äºå¡è§£å³æ¹æ¡ã\n 14. çç»ä½¿ç¨JIRAï¼Asanaç­é¡¹ç®æµç¨ç®¡çå·¥å·ï¼çç»ä½¿ç¨Markdownï¼Wordï¼Excelï¼PPTç­å·¥å·ã\n\n----------------------------------------\n\n\n# å·¥ä½å±¥å\n\n 1. 2020.11-2022.06 å°ç±³æ°é¶å®ææ¯é¨\n 2. 2022.07- ZOOM AsyncMQ\n\n----------------------------------------\n\n\n# é¡¹ç®ç»éª\n\n 1. å°ç±³æ°é¶å®-é¶å®é\n 2. ZOOMæ¶æ¯éå-AsyncMQ\n\n----------------------------------------\n\n\n# æè²èæ¯\n\nå­¦æ ¡åç§°     ä¸ä¸         å°±è¯»æ¶é´        å­¦ä½\né½é½åå°å¤§å­¦   è®¡ç®æºç§å­¦ä¸ææ¯   2017~2021   æ¬ç§\n\n----------------------------------------",normalizedContent:"å§å    å·¥ä½å¹´é   åºçæ¥æ         æ§å«   tel           é®ç®±\nå°¹ä¼ä¸   3å¹´     1998.11.16   ç·    13342969497   huidong.yin247203@gmail.com\n\n----------------------------------------\n\n\n# ä¸ä¸æè½\n\n 1.  çç»ææ¡javaåºç¡ç¥è¯ï¼äºè§£åçæ¬ç¹æ§ï¼è¯»è¿å¹¶åç¼ç¨ï¼éåæ¡æ¶ï¼ioæµç­å¸¸ç¨apiåºå±æºç ã\n 2.  è½å¤å¨å¼åä¸­å©ç¨è®¾è®¡æ¨¡å¼æ½è±¡ä»£ç ï¼æ·±å¥çè§£é¢åé©±å¨è®¾è®¡ã\n 3.  è¯»è¿springï¼springmvcï¼mybatisï¼springbootï¼springcloud(eureka,nacos,sentinel,openfeign,ribbon,gateway)æºç ã\n 4.  è¯»è¿tomcatï¼dubboï¼zookeeperï¼quartzæºç ã\n 5.  è¯»è¿redisæºç ã\n 6.  äºè§£nginxï¼apisixç­ç½å³ã\n 7.  è¯»è¿ãæ·±å¥çè§£javaèææºãï¼æå¤æ¬¡jvmçº¿ä¸é®é¢ææ¥ä¸è°ä¼ç»éªï¼ç»åè¿å°ç±³618å¤§ä¿ç°åºè°ä¼ã\n 8.  ææ¡mysqlåºå±åçï¼sqlè°ä¼ç»éªä¸°å¯ï¼æå°ç±³æ°é¶å®æ°æ®å»ºæ¨¡å¼åç»éªã\n 9.  è¯»è¿rocketmqæºç ï¼ææ¡kafkaæ ¸å¿åçï¼çç»ä½¿ç¨rabbitmqï¼ç®åè´è´£æ¶æ¯éåç¸å³å·¥ä½å¼åã\n 10. çç»ææ¡elasticsearch apiï¼æ·±å¥çè§£elasticsearchåºå±åçï¼äºè§£elasticsearchéç¾¤è¿ç»´ï¼è¯»è¿é¨åelasticsearchæºç ã\n 11. è¯»è¿nettyæºç ï¼äºè§£nettyæ± ååå­ç®¡çï¼æå°ç±³æ°é¶å®ç´æ­å¼åç»éªã\n 12. çç»ä½¿ç¨linuxæä½ç³»ç»ï¼dockerï¼jenkinsç­cicdç¸å³å·¥å·ã\n 13. äºè§£httpä¸httpsåè®®åçï¼åºååä¸ååºåååçï¼rpcéä¿¡åçï¼çæåå¸å¼å¾®æå¡æ¶æï¼ææ¡åå¸å¼äºå¡è§£å³æ¹æ¡ã\n 14. çç»ä½¿ç¨jiraï¼asanaç­é¡¹ç®æµç¨ç®¡çå·¥å·ï¼çç»ä½¿ç¨markdownï¼wordï¼excelï¼pptç­å·¥å·ã\n\n----------------------------------------\n\n\n# å·¥ä½å±¥å\n\n 1. 2020.11-2022.06 å°ç±³æ°é¶å®ææ¯é¨\n 2. 2022.07- zoom asyncmq\n\n----------------------------------------\n\n\n# é¡¹ç®ç»éª\n\n 1. å°ç±³æ°é¶å®-é¶å®é\n 2. zoomæ¶æ¯éå-asyncmq\n\n----------------------------------------\n\n\n# æè²èæ¯\n\nå­¦æ ¡åç§°     ä¸ä¸         å°±è¯»æ¶é´        å­¦ä½\né½é½åå°å¤§å­¦   è®¡ç®æºç§å­¦ä¸ææ¯   2017~2021   æ¬ç§\n\n----------------------------------------",charsets:{cjk:!0},lastUpdated:"2023/11/04, 13:58:20",lastUpdatedTimestamp:16990775e5},{title:"About Me",frontmatter:{title:"About Me",date:"2021å¹´9æ11æ¥22:50:43",permalink:"/pages/22/",type:"ä¸ªäººç®å",tags:["ç®å","é¢è¯"],author:{name:"huidong.yin",link:"https://huidongyin.github.io"},categories:["AboutMe"]},regularPath:"/04.%E6%95%B0%E6%8D%AE%E5%BA%93/00.MySQL/01.xxx.html",relativePath:"04.æ°æ®åº/00.MySQL/01.xxx.md",key:"v-d1f5af9c",path:"/pages/22/",headers:[{level:3,title:"ä¸ä¸æè½",slug:"ä¸ä¸æè½",normalizedTitle:"ä¸ä¸æè½",charIndex:167},{level:3,title:"å·¥ä½å±¥å",slug:"å·¥ä½å±¥å",normalizedTitle:"å·¥ä½å±¥å",charIndex:952},{level:3,title:"é¡¹ç®ç»éª",slug:"é¡¹ç®ç»éª",normalizedTitle:"é¡¹ç®ç»éª",charIndex:1059},{level:3,title:"æè²èæ¯",slug:"æè²èæ¯",normalizedTitle:"æè²èæ¯",charIndex:1146}],headersStr:"ä¸ä¸æè½ å·¥ä½å±¥å é¡¹ç®ç»éª æè²èæ¯",content:"å§å    å·¥ä½å¹´é   åºçæ¥æ         æ§å«   TEL           é®ç®±\nå°¹ä¼ä¸   3å¹´     1998.11.16   ç·    13342969497   huidong.yin247203@gmail.com\n\n----------------------------------------\n\n\n# ä¸ä¸æè½\n\n 1.  çç»ææ¡Javaåºç¡ç¥è¯ï¼äºè§£åçæ¬ç¹æ§ï¼è¯»è¿å¹¶åç¼ç¨ï¼éåæ¡æ¶ï¼IOæµç­å¸¸ç¨APIåºå±æºç ã\n 2.  è½å¤å¨å¼åä¸­å©ç¨è®¾è®¡æ¨¡å¼æ½è±¡ä»£ç ï¼æ·±å¥çè§£é¢åé©±å¨è®¾è®¡ã\n 3.  è¯»è¿Springï¼SpringMVCï¼Mybatisï¼SpringBootï¼SpringCloud(Eureka,Nacos,Sentinel,OpenFeign,Ribbon,Gateway)æºç ã\n 4.  è¯»è¿Tomcatï¼Dubboï¼Zookeeperï¼Quartzæºç ã\n 5.  è¯»è¿Redisæºç ã\n 6.  äºè§£Nginxï¼ApiSixç­ç½å³ã\n 7.  è¯»è¿ãæ·±å¥çè§£Javaèææºãï¼æå¤æ¬¡JVMçº¿ä¸é®é¢ææ¥ä¸è°ä¼ç»éªï¼ç»åè¿å°ç±³618å¤§ä¿ç°åºè°ä¼ã\n 8.  ææ¡MySQLåºå±åçï¼SQLè°ä¼ç»éªä¸°å¯ï¼æå°ç±³æ°é¶å®æ°æ®å»ºæ¨¡å¼åç»éªã\n 9.  è¯»è¿RocketMQæºç ï¼ææ¡Kafkaæ ¸å¿åçï¼çç»ä½¿ç¨RabbitMQï¼ç®åè´è´£æ¶æ¯éåç¸å³å·¥ä½å¼åã\n 10. çç»ææ¡ElasticSearch APIï¼æ·±å¥çè§£ElasticSearchåºå±åçï¼äºè§£ElasticSearchéç¾¤è¿ç»´ï¼è¯»è¿é¨åElasticSearchæºç ã\n 11. è¯»è¿Nettyæºç ï¼äºè§£Nettyæ± ååå­ç®¡çï¼æå°ç±³æ°é¶å®ç´æ­å¼åç»éªã\n 12. çç»ä½¿ç¨Linuxæä½ç³»ç»ï¼Dockerï¼Jenkinsç­CICDç¸å³å·¥å·ã\n 13. äºè§£HTTPä¸HTTPSåè®®åçï¼åºååä¸ååºåååçï¼RPCéä¿¡åçï¼çæåå¸å¼å¾®æå¡æ¶æï¼ææ¡åå¸å¼äºå¡è§£å³æ¹æ¡ã\n 14. çç»ä½¿ç¨JIRAï¼Asanaç­é¡¹ç®æµç¨ç®¡çå·¥å·ï¼çç»ä½¿ç¨Markdownï¼Wordï¼Excelï¼PPTç­å·¥å·ã\n\n----------------------------------------\n\n\n# å·¥ä½å±¥å\n\n 1. 2020.11-2022.06 å°ç±³æ°é¶å®ææ¯é¨\n 2. 2022.07- ZOOM AsyncMQ\n\n----------------------------------------\n\n\n# é¡¹ç®ç»éª\n\n 1. å°ç±³æ°é¶å®-é¶å®é\n 2. ZOOMæ¶æ¯éå-AsyncMQ\n\n----------------------------------------\n\n\n# æè²èæ¯\n\nå­¦æ ¡åç§°     ä¸ä¸         å°±è¯»æ¶é´        å­¦ä½\né½é½åå°å¤§å­¦   è®¡ç®æºç§å­¦ä¸ææ¯   2017~2021   æ¬ç§\n\n----------------------------------------",normalizedContent:"å§å    å·¥ä½å¹´é   åºçæ¥æ         æ§å«   tel           é®ç®±\nå°¹ä¼ä¸   3å¹´     1998.11.16   ç·    13342969497   huidong.yin247203@gmail.com\n\n----------------------------------------\n\n\n# ä¸ä¸æè½\n\n 1.  çç»ææ¡javaåºç¡ç¥è¯ï¼äºè§£åçæ¬ç¹æ§ï¼è¯»è¿å¹¶åç¼ç¨ï¼éåæ¡æ¶ï¼ioæµç­å¸¸ç¨apiåºå±æºç ã\n 2.  è½å¤å¨å¼åä¸­å©ç¨è®¾è®¡æ¨¡å¼æ½è±¡ä»£ç ï¼æ·±å¥çè§£é¢åé©±å¨è®¾è®¡ã\n 3.  è¯»è¿springï¼springmvcï¼mybatisï¼springbootï¼springcloud(eureka,nacos,sentinel,openfeign,ribbon,gateway)æºç ã\n 4.  è¯»è¿tomcatï¼dubboï¼zookeeperï¼quartzæºç ã\n 5.  è¯»è¿redisæºç ã\n 6.  äºè§£nginxï¼apisixç­ç½å³ã\n 7.  è¯»è¿ãæ·±å¥çè§£javaèææºãï¼æå¤æ¬¡jvmçº¿ä¸é®é¢ææ¥ä¸è°ä¼ç»éªï¼ç»åè¿å°ç±³618å¤§ä¿ç°åºè°ä¼ã\n 8.  ææ¡mysqlåºå±åçï¼sqlè°ä¼ç»éªä¸°å¯ï¼æå°ç±³æ°é¶å®æ°æ®å»ºæ¨¡å¼åç»éªã\n 9.  è¯»è¿rocketmqæºç ï¼ææ¡kafkaæ ¸å¿åçï¼çç»ä½¿ç¨rabbitmqï¼ç®åè´è´£æ¶æ¯éåç¸å³å·¥ä½å¼åã\n 10. çç»ææ¡elasticsearch apiï¼æ·±å¥çè§£elasticsearchåºå±åçï¼äºè§£elasticsearchéç¾¤è¿ç»´ï¼è¯»è¿é¨åelasticsearchæºç ã\n 11. è¯»è¿nettyæºç ï¼äºè§£nettyæ± ååå­ç®¡çï¼æå°ç±³æ°é¶å®ç´æ­å¼åç»éªã\n 12. çç»ä½¿ç¨linuxæä½ç³»ç»ï¼dockerï¼jenkinsç­cicdç¸å³å·¥å·ã\n 13. äºè§£httpä¸httpsåè®®åçï¼åºååä¸ååºåååçï¼rpcéä¿¡åçï¼çæåå¸å¼å¾®æå¡æ¶æï¼ææ¡åå¸å¼äºå¡è§£å³æ¹æ¡ã\n 14. çç»ä½¿ç¨jiraï¼asanaç­é¡¹ç®æµç¨ç®¡çå·¥å·ï¼çç»ä½¿ç¨markdownï¼wordï¼excelï¼pptç­å·¥å·ã\n\n----------------------------------------\n\n\n# å·¥ä½å±¥å\n\n 1. 2020.11-2022.06 å°ç±³æ°é¶å®ææ¯é¨\n 2. 2022.07- zoom asyncmq\n\n----------------------------------------\n\n\n# é¡¹ç®ç»éª\n\n 1. å°ç±³æ°é¶å®-é¶å®é\n 2. zoomæ¶æ¯éå-asyncmq\n\n----------------------------------------\n\n\n# æè²èæ¯\n\nå­¦æ ¡åç§°     ä¸ä¸         å°±è¯»æ¶é´        å­¦ä½\né½é½åå°å¤§å­¦   è®¡ç®æºç§å­¦ä¸ææ¯   2017~2021   æ¬ç§\n\n----------------------------------------",charsets:{cjk:!0},lastUpdated:"2023/11/04, 13:58:20",lastUpdatedTimestamp:16990775e5},{title:"About Me",frontmatter:{title:"About Me",date:"2021å¹´9æ11æ¥22:50:43",permalink:"/pages/23/",type:"ä¸ªäººç®å",tags:["ç®å","é¢è¯"],author:{name:"huidong.yin",link:"https://huidongyin.github.io"},categories:["AboutMe"]},regularPath:"/04.%E6%95%B0%E6%8D%AE%E5%BA%93/01.Redis/01.xxx.html",relativePath:"04.æ°æ®åº/01.Redis/01.xxx.md",key:"v-3e055fb4",path:"/pages/23/",headers:[{level:3,title:"ä¸ä¸æè½",slug:"ä¸ä¸æè½",normalizedTitle:"ä¸ä¸æè½",charIndex:167},{level:3,title:"å·¥ä½å±¥å",slug:"å·¥ä½å±¥å",normalizedTitle:"å·¥ä½å±¥å",charIndex:952},{level:3,title:"é¡¹ç®ç»éª",slug:"é¡¹ç®ç»éª",normalizedTitle:"é¡¹ç®ç»éª",charIndex:1059},{level:3,title:"æè²èæ¯",slug:"æè²èæ¯",normalizedTitle:"æè²èæ¯",charIndex:1146}],headersStr:"ä¸ä¸æè½ å·¥ä½å±¥å é¡¹ç®ç»éª æè²èæ¯",content:"å§å    å·¥ä½å¹´é   åºçæ¥æ         æ§å«   TEL           é®ç®±\nå°¹ä¼ä¸   3å¹´     1998.11.16   ç·    13342969497   huidong.yin247203@gmail.com\n\n----------------------------------------\n\n\n# ä¸ä¸æè½\n\n 1.  çç»ææ¡Javaåºç¡ç¥è¯ï¼äºè§£åçæ¬ç¹æ§ï¼è¯»è¿å¹¶åç¼ç¨ï¼éåæ¡æ¶ï¼IOæµç­å¸¸ç¨APIåºå±æºç ã\n 2.  è½å¤å¨å¼åä¸­å©ç¨è®¾è®¡æ¨¡å¼æ½è±¡ä»£ç ï¼æ·±å¥çè§£é¢åé©±å¨è®¾è®¡ã\n 3.  è¯»è¿Springï¼SpringMVCï¼Mybatisï¼SpringBootï¼SpringCloud(Eureka,Nacos,Sentinel,OpenFeign,Ribbon,Gateway)æºç ã\n 4.  è¯»è¿Tomcatï¼Dubboï¼Zookeeperï¼Quartzæºç ã\n 5.  è¯»è¿Redisæºç ã\n 6.  äºè§£Nginxï¼ApiSixç­ç½å³ã\n 7.  è¯»è¿ãæ·±å¥çè§£Javaèææºãï¼æå¤æ¬¡JVMçº¿ä¸é®é¢ææ¥ä¸è°ä¼ç»éªï¼ç»åè¿å°ç±³618å¤§ä¿ç°åºè°ä¼ã\n 8.  ææ¡MySQLåºå±åçï¼SQLè°ä¼ç»éªä¸°å¯ï¼æå°ç±³æ°é¶å®æ°æ®å»ºæ¨¡å¼åç»éªã\n 9.  è¯»è¿RocketMQæºç ï¼ææ¡Kafkaæ ¸å¿åçï¼çç»ä½¿ç¨RabbitMQï¼ç®åè´è´£æ¶æ¯éåç¸å³å·¥ä½å¼åã\n 10. çç»ææ¡ElasticSearch APIï¼æ·±å¥çè§£ElasticSearchåºå±åçï¼äºè§£ElasticSearchéç¾¤è¿ç»´ï¼è¯»è¿é¨åElasticSearchæºç ã\n 11. è¯»è¿Nettyæºç ï¼äºè§£Nettyæ± ååå­ç®¡çï¼æå°ç±³æ°é¶å®ç´æ­å¼åç»éªã\n 12. çç»ä½¿ç¨Linuxæä½ç³»ç»ï¼Dockerï¼Jenkinsç­CICDç¸å³å·¥å·ã\n 13. äºè§£HTTPä¸HTTPSåè®®åçï¼åºååä¸ååºåååçï¼RPCéä¿¡åçï¼çæåå¸å¼å¾®æå¡æ¶æï¼ææ¡åå¸å¼äºå¡è§£å³æ¹æ¡ã\n 14. çç»ä½¿ç¨JIRAï¼Asanaç­é¡¹ç®æµç¨ç®¡çå·¥å·ï¼çç»ä½¿ç¨Markdownï¼Wordï¼Excelï¼PPTç­å·¥å·ã\n\n----------------------------------------\n\n\n# å·¥ä½å±¥å\n\n 1. 2020.11-2022.06 å°ç±³æ°é¶å®ææ¯é¨\n 2. 2022.07- ZOOM AsyncMQ\n\n----------------------------------------\n\n\n# é¡¹ç®ç»éª\n\n 1. å°ç±³æ°é¶å®-é¶å®é\n 2. ZOOMæ¶æ¯éå-AsyncMQ\n\n----------------------------------------\n\n\n# æè²èæ¯\n\nå­¦æ ¡åç§°     ä¸ä¸         å°±è¯»æ¶é´        å­¦ä½\né½é½åå°å¤§å­¦   è®¡ç®æºç§å­¦ä¸ææ¯   2017~2021   æ¬ç§\n\n----------------------------------------",normalizedContent:"å§å    å·¥ä½å¹´é   åºçæ¥æ         æ§å«   tel           é®ç®±\nå°¹ä¼ä¸   3å¹´     1998.11.16   ç·    13342969497   huidong.yin247203@gmail.com\n\n----------------------------------------\n\n\n# ä¸ä¸æè½\n\n 1.  çç»ææ¡javaåºç¡ç¥è¯ï¼äºè§£åçæ¬ç¹æ§ï¼è¯»è¿å¹¶åç¼ç¨ï¼éåæ¡æ¶ï¼ioæµç­å¸¸ç¨apiåºå±æºç ã\n 2.  è½å¤å¨å¼åä¸­å©ç¨è®¾è®¡æ¨¡å¼æ½è±¡ä»£ç ï¼æ·±å¥çè§£é¢åé©±å¨è®¾è®¡ã\n 3.  è¯»è¿springï¼springmvcï¼mybatisï¼springbootï¼springcloud(eureka,nacos,sentinel,openfeign,ribbon,gateway)æºç ã\n 4.  è¯»è¿tomcatï¼dubboï¼zookeeperï¼quartzæºç ã\n 5.  è¯»è¿redisæºç ã\n 6.  äºè§£nginxï¼apisixç­ç½å³ã\n 7.  è¯»è¿ãæ·±å¥çè§£javaèææºãï¼æå¤æ¬¡jvmçº¿ä¸é®é¢ææ¥ä¸è°ä¼ç»éªï¼ç»åè¿å°ç±³618å¤§ä¿ç°åºè°ä¼ã\n 8.  ææ¡mysqlåºå±åçï¼sqlè°ä¼ç»éªä¸°å¯ï¼æå°ç±³æ°é¶å®æ°æ®å»ºæ¨¡å¼åç»éªã\n 9.  è¯»è¿rocketmqæºç ï¼ææ¡kafkaæ ¸å¿åçï¼çç»ä½¿ç¨rabbitmqï¼ç®åè´è´£æ¶æ¯éåç¸å³å·¥ä½å¼åã\n 10. çç»ææ¡elasticsearch apiï¼æ·±å¥çè§£elasticsearchåºå±åçï¼äºè§£elasticsearchéç¾¤è¿ç»´ï¼è¯»è¿é¨åelasticsearchæºç ã\n 11. è¯»è¿nettyæºç ï¼äºè§£nettyæ± ååå­ç®¡çï¼æå°ç±³æ°é¶å®ç´æ­å¼åç»éªã\n 12. çç»ä½¿ç¨linuxæä½ç³»ç»ï¼dockerï¼jenkinsç­cicdç¸å³å·¥å·ã\n 13. äºè§£httpä¸httpsåè®®åçï¼åºååä¸ååºåååçï¼rpcéä¿¡åçï¼çæåå¸å¼å¾®æå¡æ¶æï¼ææ¡åå¸å¼äºå¡è§£å³æ¹æ¡ã\n 14. çç»ä½¿ç¨jiraï¼asanaç­é¡¹ç®æµç¨ç®¡çå·¥å·ï¼çç»ä½¿ç¨markdownï¼wordï¼excelï¼pptç­å·¥å·ã\n\n----------------------------------------\n\n\n# å·¥ä½å±¥å\n\n 1. 2020.11-2022.06 å°ç±³æ°é¶å®ææ¯é¨\n 2. 2022.07- zoom asyncmq\n\n----------------------------------------\n\n\n# é¡¹ç®ç»éª\n\n 1. å°ç±³æ°é¶å®-é¶å®é\n 2. zoomæ¶æ¯éå-asyncmq\n\n----------------------------------------\n\n\n# æè²èæ¯\n\nå­¦æ ¡åç§°     ä¸ä¸         å°±è¯»æ¶é´        å­¦ä½\né½é½åå°å¤§å­¦   è®¡ç®æºç§å­¦ä¸ææ¯   2017~2021   æ¬ç§\n\n----------------------------------------",charsets:{cjk:!0},lastUpdated:"2023/11/04, 13:58:20",lastUpdatedTimestamp:16990775e5},{title:"About Me",frontmatter:{title:"About Me",date:"2021å¹´9æ11æ¥22:50:43",permalink:"/pages/24/",type:"ä¸ªäººç®å",tags:["ç®å","é¢è¯"],author:{name:"huidong.yin",link:"https://huidongyin.github.io"},categories:["AboutMe"]},regularPath:"/05.%E5%BE%AE%E6%9C%8D%E5%8A%A1%E6%9E%B6%E6%9E%84/00.%E6%9E%B6%E6%9E%84%E6%BC%94%E8%BF%9B/01.xxx.html",relativePath:"05.å¾®æå¡æ¶æ/00.æ¶ææ¼è¿/01.xxx.md",key:"v-82ddb1de",path:"/pages/24/",headers:[{level:3,title:"ä¸ä¸æè½",slug:"ä¸ä¸æè½",normalizedTitle:"ä¸ä¸æè½",charIndex:167},{level:3,title:"å·¥ä½å±¥å",slug:"å·¥ä½å±¥å",normalizedTitle:"å·¥ä½å±¥å",charIndex:952},{level:3,title:"é¡¹ç®ç»éª",slug:"é¡¹ç®ç»éª",normalizedTitle:"é¡¹ç®ç»éª",charIndex:1059},{level:3,title:"æè²èæ¯",slug:"æè²èæ¯",normalizedTitle:"æè²èæ¯",charIndex:1146}],headersStr:"ä¸ä¸æè½ å·¥ä½å±¥å é¡¹ç®ç»éª æè²èæ¯",content:"å§å    å·¥ä½å¹´é   åºçæ¥æ         æ§å«   TEL           é®ç®±\nå°¹ä¼ä¸   3å¹´     1998.11.16   ç·    13342969497   huidong.yin247203@gmail.com\n\n----------------------------------------\n\n\n# ä¸ä¸æè½\n\n 1.  çç»ææ¡Javaåºç¡ç¥è¯ï¼äºè§£åçæ¬ç¹æ§ï¼è¯»è¿å¹¶åç¼ç¨ï¼éåæ¡æ¶ï¼IOæµç­å¸¸ç¨APIåºå±æºç ã\n 2.  è½å¤å¨å¼åä¸­å©ç¨è®¾è®¡æ¨¡å¼æ½è±¡ä»£ç ï¼æ·±å¥çè§£é¢åé©±å¨è®¾è®¡ã\n 3.  è¯»è¿Springï¼SpringMVCï¼Mybatisï¼SpringBootï¼SpringCloud(Eureka,Nacos,Sentinel,OpenFeign,Ribbon,Gateway)æºç ã\n 4.  è¯»è¿Tomcatï¼Dubboï¼Zookeeperï¼Quartzæºç ã\n 5.  è¯»è¿Redisæºç ã\n 6.  äºè§£Nginxï¼ApiSixç­ç½å³ã\n 7.  è¯»è¿ãæ·±å¥çè§£Javaèææºãï¼æå¤æ¬¡JVMçº¿ä¸é®é¢ææ¥ä¸è°ä¼ç»éªï¼ç»åè¿å°ç±³618å¤§ä¿ç°åºè°ä¼ã\n 8.  ææ¡MySQLåºå±åçï¼SQLè°ä¼ç»éªä¸°å¯ï¼æå°ç±³æ°é¶å®æ°æ®å»ºæ¨¡å¼åç»éªã\n 9.  è¯»è¿RocketMQæºç ï¼ææ¡Kafkaæ ¸å¿åçï¼çç»ä½¿ç¨RabbitMQï¼ç®åè´è´£æ¶æ¯éåç¸å³å·¥ä½å¼åã\n 10. çç»ææ¡ElasticSearch APIï¼æ·±å¥çè§£ElasticSearchåºå±åçï¼äºè§£ElasticSearchéç¾¤è¿ç»´ï¼è¯»è¿é¨åElasticSearchæºç ã\n 11. è¯»è¿Nettyæºç ï¼äºè§£Nettyæ± ååå­ç®¡çï¼æå°ç±³æ°é¶å®ç´æ­å¼åç»éªã\n 12. çç»ä½¿ç¨Linuxæä½ç³»ç»ï¼Dockerï¼Jenkinsç­CICDç¸å³å·¥å·ã\n 13. äºè§£HTTPä¸HTTPSåè®®åçï¼åºååä¸ååºåååçï¼RPCéä¿¡åçï¼çæåå¸å¼å¾®æå¡æ¶æï¼ææ¡åå¸å¼äºå¡è§£å³æ¹æ¡ã\n 14. çç»ä½¿ç¨JIRAï¼Asanaç­é¡¹ç®æµç¨ç®¡çå·¥å·ï¼çç»ä½¿ç¨Markdownï¼Wordï¼Excelï¼PPTç­å·¥å·ã\n\n----------------------------------------\n\n\n# å·¥ä½å±¥å\n\n 1. 2020.11-2022.06 å°ç±³æ°é¶å®ææ¯é¨\n 2. 2022.07- ZOOM AsyncMQ\n\n----------------------------------------\n\n\n# é¡¹ç®ç»éª\n\n 1. å°ç±³æ°é¶å®-é¶å®é\n 2. ZOOMæ¶æ¯éå-AsyncMQ\n\n----------------------------------------\n\n\n# æè²èæ¯\n\nå­¦æ ¡åç§°     ä¸ä¸         å°±è¯»æ¶é´        å­¦ä½\né½é½åå°å¤§å­¦   è®¡ç®æºç§å­¦ä¸ææ¯   2017~2021   æ¬ç§\n\n----------------------------------------",normalizedContent:"å§å    å·¥ä½å¹´é   åºçæ¥æ         æ§å«   tel           é®ç®±\nå°¹ä¼ä¸   3å¹´     1998.11.16   ç·    13342969497   huidong.yin247203@gmail.com\n\n----------------------------------------\n\n\n# ä¸ä¸æè½\n\n 1.  çç»ææ¡javaåºç¡ç¥è¯ï¼äºè§£åçæ¬ç¹æ§ï¼è¯»è¿å¹¶åç¼ç¨ï¼éåæ¡æ¶ï¼ioæµç­å¸¸ç¨apiåºå±æºç ã\n 2.  è½å¤å¨å¼åä¸­å©ç¨è®¾è®¡æ¨¡å¼æ½è±¡ä»£ç ï¼æ·±å¥çè§£é¢åé©±å¨è®¾è®¡ã\n 3.  è¯»è¿springï¼springmvcï¼mybatisï¼springbootï¼springcloud(eureka,nacos,sentinel,openfeign,ribbon,gateway)æºç ã\n 4.  è¯»è¿tomcatï¼dubboï¼zookeeperï¼quartzæºç ã\n 5.  è¯»è¿redisæºç ã\n 6.  äºè§£nginxï¼apisixç­ç½å³ã\n 7.  è¯»è¿ãæ·±å¥çè§£javaèææºãï¼æå¤æ¬¡jvmçº¿ä¸é®é¢ææ¥ä¸è°ä¼ç»éªï¼ç»åè¿å°ç±³618å¤§ä¿ç°åºè°ä¼ã\n 8.  ææ¡mysqlåºå±åçï¼sqlè°ä¼ç»éªä¸°å¯ï¼æå°ç±³æ°é¶å®æ°æ®å»ºæ¨¡å¼åç»éªã\n 9.  è¯»è¿rocketmqæºç ï¼ææ¡kafkaæ ¸å¿åçï¼çç»ä½¿ç¨rabbitmqï¼ç®åè´è´£æ¶æ¯éåç¸å³å·¥ä½å¼åã\n 10. çç»ææ¡elasticsearch apiï¼æ·±å¥çè§£elasticsearchåºå±åçï¼äºè§£elasticsearchéç¾¤è¿ç»´ï¼è¯»è¿é¨åelasticsearchæºç ã\n 11. è¯»è¿nettyæºç ï¼äºè§£nettyæ± ååå­ç®¡çï¼æå°ç±³æ°é¶å®ç´æ­å¼åç»éªã\n 12. çç»ä½¿ç¨linuxæä½ç³»ç»ï¼dockerï¼jenkinsç­cicdç¸å³å·¥å·ã\n 13. äºè§£httpä¸httpsåè®®åçï¼åºååä¸ååºåååçï¼rpcéä¿¡åçï¼çæåå¸å¼å¾®æå¡æ¶æï¼ææ¡åå¸å¼äºå¡è§£å³æ¹æ¡ã\n 14. çç»ä½¿ç¨jiraï¼asanaç­é¡¹ç®æµç¨ç®¡çå·¥å·ï¼çç»ä½¿ç¨markdownï¼wordï¼excelï¼pptç­å·¥å·ã\n\n----------------------------------------\n\n\n# å·¥ä½å±¥å\n\n 1. 2020.11-2022.06 å°ç±³æ°é¶å®ææ¯é¨\n 2. 2022.07- zoom asyncmq\n\n----------------------------------------\n\n\n# é¡¹ç®ç»éª\n\n 1. å°ç±³æ°é¶å®-é¶å®é\n 2. zoomæ¶æ¯éå-asyncmq\n\n----------------------------------------\n\n\n# æè²èæ¯\n\nå­¦æ ¡åç§°     ä¸ä¸         å°±è¯»æ¶é´        å­¦ä½\né½é½åå°å¤§å­¦   è®¡ç®æºç§å­¦ä¸ææ¯   2017~2021   æ¬ç§\n\n----------------------------------------",charsets:{cjk:!0},lastUpdated:"2023/11/04, 13:58:20",lastUpdatedTimestamp:16990775e5},{title:"About Me",frontmatter:{title:"About Me",date:"2021å¹´9æ11æ¥22:50:43",permalink:"/pages/25/",type:"ä¸ªäººç®å",tags:["ç®å","é¢è¯"],author:{name:"huidong.yin",link:"https://huidongyin.github.io"},categories:["AboutMe"]},regularPath:"/05.%E5%BE%AE%E6%9C%8D%E5%8A%A1%E6%9E%B6%E6%9E%84/01.%E5%88%86%E5%B8%83%E5%BC%8F%E4%BA%8B%E5%8A%A1/01.xxx.html",relativePath:"05.å¾®æå¡æ¶æ/01.åå¸å¼äºå¡/01.xxx.md",key:"v-27fcd69b",path:"/pages/25/",headers:[{level:3,title:"ä¸ä¸æè½",slug:"ä¸ä¸æè½",normalizedTitle:"ä¸ä¸æè½",charIndex:167},{level:3,title:"å·¥ä½å±¥å",slug:"å·¥ä½å±¥å",normalizedTitle:"å·¥ä½å±¥å",charIndex:952},{level:3,title:"é¡¹ç®ç»éª",slug:"é¡¹ç®ç»éª",normalizedTitle:"é¡¹ç®ç»éª",charIndex:1059},{level:3,title:"æè²èæ¯",slug:"æè²èæ¯",normalizedTitle:"æè²èæ¯",charIndex:1146}],headersStr:"ä¸ä¸æè½ å·¥ä½å±¥å é¡¹ç®ç»éª æè²èæ¯",content:"å§å    å·¥ä½å¹´é   åºçæ¥æ         æ§å«   TEL           é®ç®±\nå°¹ä¼ä¸   3å¹´     1998.11.16   ç·    13342969497   huidong.yin247203@gmail.com\n\n----------------------------------------\n\n\n# ä¸ä¸æè½\n\n 1.  çç»ææ¡Javaåºç¡ç¥è¯ï¼äºè§£åçæ¬ç¹æ§ï¼è¯»è¿å¹¶åç¼ç¨ï¼éåæ¡æ¶ï¼IOæµç­å¸¸ç¨APIåºå±æºç ã\n 2.  è½å¤å¨å¼åä¸­å©ç¨è®¾è®¡æ¨¡å¼æ½è±¡ä»£ç ï¼æ·±å¥çè§£é¢åé©±å¨è®¾è®¡ã\n 3.  è¯»è¿Springï¼SpringMVCï¼Mybatisï¼SpringBootï¼SpringCloud(Eureka,Nacos,Sentinel,OpenFeign,Ribbon,Gateway)æºç ã\n 4.  è¯»è¿Tomcatï¼Dubboï¼Zookeeperï¼Quartzæºç ã\n 5.  è¯»è¿Redisæºç ã\n 6.  äºè§£Nginxï¼ApiSixç­ç½å³ã\n 7.  è¯»è¿ãæ·±å¥çè§£Javaèææºãï¼æå¤æ¬¡JVMçº¿ä¸é®é¢ææ¥ä¸è°ä¼ç»éªï¼ç»åè¿å°ç±³618å¤§ä¿ç°åºè°ä¼ã\n 8.  ææ¡MySQLåºå±åçï¼SQLè°ä¼ç»éªä¸°å¯ï¼æå°ç±³æ°é¶å®æ°æ®å»ºæ¨¡å¼åç»éªã\n 9.  è¯»è¿RocketMQæºç ï¼ææ¡Kafkaæ ¸å¿åçï¼çç»ä½¿ç¨RabbitMQï¼ç®åè´è´£æ¶æ¯éåç¸å³å·¥ä½å¼åã\n 10. çç»ææ¡ElasticSearch APIï¼æ·±å¥çè§£ElasticSearchåºå±åçï¼äºè§£ElasticSearchéç¾¤è¿ç»´ï¼è¯»è¿é¨åElasticSearchæºç ã\n 11. è¯»è¿Nettyæºç ï¼äºè§£Nettyæ± ååå­ç®¡çï¼æå°ç±³æ°é¶å®ç´æ­å¼åç»éªã\n 12. çç»ä½¿ç¨Linuxæä½ç³»ç»ï¼Dockerï¼Jenkinsç­CICDç¸å³å·¥å·ã\n 13. äºè§£HTTPä¸HTTPSåè®®åçï¼åºååä¸ååºåååçï¼RPCéä¿¡åçï¼çæåå¸å¼å¾®æå¡æ¶æï¼ææ¡åå¸å¼äºå¡è§£å³æ¹æ¡ã\n 14. çç»ä½¿ç¨JIRAï¼Asanaç­é¡¹ç®æµç¨ç®¡çå·¥å·ï¼çç»ä½¿ç¨Markdownï¼Wordï¼Excelï¼PPTç­å·¥å·ã\n\n----------------------------------------\n\n\n# å·¥ä½å±¥å\n\n 1. 2020.11-2022.06 å°ç±³æ°é¶å®ææ¯é¨\n 2. 2022.07- ZOOM AsyncMQ\n\n----------------------------------------\n\n\n# é¡¹ç®ç»éª\n\n 1. å°ç±³æ°é¶å®-é¶å®é\n 2. ZOOMæ¶æ¯éå-AsyncMQ\n\n----------------------------------------\n\n\n# æè²èæ¯\n\nå­¦æ ¡åç§°     ä¸ä¸         å°±è¯»æ¶é´        å­¦ä½\né½é½åå°å¤§å­¦   è®¡ç®æºç§å­¦ä¸ææ¯   2017~2021   æ¬ç§\n\n----------------------------------------",normalizedContent:"å§å    å·¥ä½å¹´é   åºçæ¥æ         æ§å«   tel           é®ç®±\nå°¹ä¼ä¸   3å¹´     1998.11.16   ç·    13342969497   huidong.yin247203@gmail.com\n\n----------------------------------------\n\n\n# ä¸ä¸æè½\n\n 1.  çç»ææ¡javaåºç¡ç¥è¯ï¼äºè§£åçæ¬ç¹æ§ï¼è¯»è¿å¹¶åç¼ç¨ï¼éåæ¡æ¶ï¼ioæµç­å¸¸ç¨apiåºå±æºç ã\n 2.  è½å¤å¨å¼åä¸­å©ç¨è®¾è®¡æ¨¡å¼æ½è±¡ä»£ç ï¼æ·±å¥çè§£é¢åé©±å¨è®¾è®¡ã\n 3.  è¯»è¿springï¼springmvcï¼mybatisï¼springbootï¼springcloud(eureka,nacos,sentinel,openfeign,ribbon,gateway)æºç ã\n 4.  è¯»è¿tomcatï¼dubboï¼zookeeperï¼quartzæºç ã\n 5.  è¯»è¿redisæºç ã\n 6.  äºè§£nginxï¼apisixç­ç½å³ã\n 7.  è¯»è¿ãæ·±å¥çè§£javaèææºãï¼æå¤æ¬¡jvmçº¿ä¸é®é¢ææ¥ä¸è°ä¼ç»éªï¼ç»åè¿å°ç±³618å¤§ä¿ç°åºè°ä¼ã\n 8.  ææ¡mysqlåºå±åçï¼sqlè°ä¼ç»éªä¸°å¯ï¼æå°ç±³æ°é¶å®æ°æ®å»ºæ¨¡å¼åç»éªã\n 9.  è¯»è¿rocketmqæºç ï¼ææ¡kafkaæ ¸å¿åçï¼çç»ä½¿ç¨rabbitmqï¼ç®åè´è´£æ¶æ¯éåç¸å³å·¥ä½å¼åã\n 10. çç»ææ¡elasticsearch apiï¼æ·±å¥çè§£elasticsearchåºå±åçï¼äºè§£elasticsearchéç¾¤è¿ç»´ï¼è¯»è¿é¨åelasticsearchæºç ã\n 11. è¯»è¿nettyæºç ï¼äºè§£nettyæ± ååå­ç®¡çï¼æå°ç±³æ°é¶å®ç´æ­å¼åç»éªã\n 12. çç»ä½¿ç¨linuxæä½ç³»ç»ï¼dockerï¼jenkinsç­cicdç¸å³å·¥å·ã\n 13. äºè§£httpä¸httpsåè®®åçï¼åºååä¸ååºåååçï¼rpcéä¿¡åçï¼çæåå¸å¼å¾®æå¡æ¶æï¼ææ¡åå¸å¼äºå¡è§£å³æ¹æ¡ã\n 14. çç»ä½¿ç¨jiraï¼asanaç­é¡¹ç®æµç¨ç®¡çå·¥å·ï¼çç»ä½¿ç¨markdownï¼wordï¼excelï¼pptç­å·¥å·ã\n\n----------------------------------------\n\n\n# å·¥ä½å±¥å\n\n 1. 2020.11-2022.06 å°ç±³æ°é¶å®ææ¯é¨\n 2. 2022.07- zoom asyncmq\n\n----------------------------------------\n\n\n# é¡¹ç®ç»éª\n\n 1. å°ç±³æ°é¶å®-é¶å®é\n 2. zoomæ¶æ¯éå-asyncmq\n\n----------------------------------------\n\n\n# æè²èæ¯\n\nå­¦æ ¡åç§°     ä¸ä¸         å°±è¯»æ¶é´        å­¦ä½\né½é½åå°å¤§å­¦   è®¡ç®æºç§å­¦ä¸ææ¯   2017~2021   æ¬ç§\n\n----------------------------------------",charsets:{cjk:!0},lastUpdated:"2023/11/04, 13:58:20",lastUpdatedTimestamp:16990775e5},{title:"About Me",frontmatter:{title:"About Me",date:"2021å¹´9æ11æ¥22:50:43",permalink:"/pages/26/",type:"ä¸ªäººç®å",tags:["ç®å","é¢è¯"],author:{name:"huidong.yin",link:"https://huidongyin.github.io"},categories:["AboutMe"]},regularPath:"/05.%E5%BE%AE%E6%9C%8D%E5%8A%A1%E6%9E%B6%E6%9E%84/02.%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/01.xxx.html",relativePath:"05.å¾®æå¡æ¶æ/02.è®¾è®¡æ¨¡å¼/01.xxx.md",key:"v-45c57d20",path:"/pages/26/",headers:[{level:3,title:"ä¸ä¸æè½",slug:"ä¸ä¸æè½",normalizedTitle:"ä¸ä¸æè½",charIndex:167},{level:3,title:"å·¥ä½å±¥å",slug:"å·¥ä½å±¥å",normalizedTitle:"å·¥ä½å±¥å",charIndex:952},{level:3,title:"é¡¹ç®ç»éª",slug:"é¡¹ç®ç»éª",normalizedTitle:"é¡¹ç®ç»éª",charIndex:1059},{level:3,title:"æè²èæ¯",slug:"æè²èæ¯",normalizedTitle:"æè²èæ¯",charIndex:1146}],headersStr:"ä¸ä¸æè½ å·¥ä½å±¥å é¡¹ç®ç»éª æè²èæ¯",content:"å§å    å·¥ä½å¹´é   åºçæ¥æ         æ§å«   TEL           é®ç®±\nå°¹ä¼ä¸   3å¹´     1998.11.16   ç·    13342969497   huidong.yin247203@gmail.com\n\n----------------------------------------\n\n\n# ä¸ä¸æè½\n\n 1.  çç»ææ¡Javaåºç¡ç¥è¯ï¼äºè§£åçæ¬ç¹æ§ï¼è¯»è¿å¹¶åç¼ç¨ï¼éåæ¡æ¶ï¼IOæµç­å¸¸ç¨APIåºå±æºç ã\n 2.  è½å¤å¨å¼åä¸­å©ç¨è®¾è®¡æ¨¡å¼æ½è±¡ä»£ç ï¼æ·±å¥çè§£é¢åé©±å¨è®¾è®¡ã\n 3.  è¯»è¿Springï¼SpringMVCï¼Mybatisï¼SpringBootï¼SpringCloud(Eureka,Nacos,Sentinel,OpenFeign,Ribbon,Gateway)æºç ã\n 4.  è¯»è¿Tomcatï¼Dubboï¼Zookeeperï¼Quartzæºç ã\n 5.  è¯»è¿Redisæºç ã\n 6.  äºè§£Nginxï¼ApiSixç­ç½å³ã\n 7.  è¯»è¿ãæ·±å¥çè§£Javaèææºãï¼æå¤æ¬¡JVMçº¿ä¸é®é¢ææ¥ä¸è°ä¼ç»éªï¼ç»åè¿å°ç±³618å¤§ä¿ç°åºè°ä¼ã\n 8.  ææ¡MySQLåºå±åçï¼SQLè°ä¼ç»éªä¸°å¯ï¼æå°ç±³æ°é¶å®æ°æ®å»ºæ¨¡å¼åç»éªã\n 9.  è¯»è¿RocketMQæºç ï¼ææ¡Kafkaæ ¸å¿åçï¼çç»ä½¿ç¨RabbitMQï¼ç®åè´è´£æ¶æ¯éåç¸å³å·¥ä½å¼åã\n 10. çç»ææ¡ElasticSearch APIï¼æ·±å¥çè§£ElasticSearchåºå±åçï¼äºè§£ElasticSearchéç¾¤è¿ç»´ï¼è¯»è¿é¨åElasticSearchæºç ã\n 11. è¯»è¿Nettyæºç ï¼äºè§£Nettyæ± ååå­ç®¡çï¼æå°ç±³æ°é¶å®ç´æ­å¼åç»éªã\n 12. çç»ä½¿ç¨Linuxæä½ç³»ç»ï¼Dockerï¼Jenkinsç­CICDç¸å³å·¥å·ã\n 13. äºè§£HTTPä¸HTTPSåè®®åçï¼åºååä¸ååºåååçï¼RPCéä¿¡åçï¼çæåå¸å¼å¾®æå¡æ¶æï¼ææ¡åå¸å¼äºå¡è§£å³æ¹æ¡ã\n 14. çç»ä½¿ç¨JIRAï¼Asanaç­é¡¹ç®æµç¨ç®¡çå·¥å·ï¼çç»ä½¿ç¨Markdownï¼Wordï¼Excelï¼PPTç­å·¥å·ã\n\n----------------------------------------\n\n\n# å·¥ä½å±¥å\n\n 1. 2020.11-2022.06 å°ç±³æ°é¶å®ææ¯é¨\n 2. 2022.07- ZOOM AsyncMQ\n\n----------------------------------------\n\n\n# é¡¹ç®ç»éª\n\n 1. å°ç±³æ°é¶å®-é¶å®é\n 2. ZOOMæ¶æ¯éå-AsyncMQ\n\n----------------------------------------\n\n\n# æè²èæ¯\n\nå­¦æ ¡åç§°     ä¸ä¸         å°±è¯»æ¶é´        å­¦ä½\né½é½åå°å¤§å­¦   è®¡ç®æºç§å­¦ä¸ææ¯   2017~2021   æ¬ç§\n\n----------------------------------------",normalizedContent:"å§å    å·¥ä½å¹´é   åºçæ¥æ         æ§å«   tel           é®ç®±\nå°¹ä¼ä¸   3å¹´     1998.11.16   ç·    13342969497   huidong.yin247203@gmail.com\n\n----------------------------------------\n\n\n# ä¸ä¸æè½\n\n 1.  çç»ææ¡javaåºç¡ç¥è¯ï¼äºè§£åçæ¬ç¹æ§ï¼è¯»è¿å¹¶åç¼ç¨ï¼éåæ¡æ¶ï¼ioæµç­å¸¸ç¨apiåºå±æºç ã\n 2.  è½å¤å¨å¼åä¸­å©ç¨è®¾è®¡æ¨¡å¼æ½è±¡ä»£ç ï¼æ·±å¥çè§£é¢åé©±å¨è®¾è®¡ã\n 3.  è¯»è¿springï¼springmvcï¼mybatisï¼springbootï¼springcloud(eureka,nacos,sentinel,openfeign,ribbon,gateway)æºç ã\n 4.  è¯»è¿tomcatï¼dubboï¼zookeeperï¼quartzæºç ã\n 5.  è¯»è¿redisæºç ã\n 6.  äºè§£nginxï¼apisixç­ç½å³ã\n 7.  è¯»è¿ãæ·±å¥çè§£javaèææºãï¼æå¤æ¬¡jvmçº¿ä¸é®é¢ææ¥ä¸è°ä¼ç»éªï¼ç»åè¿å°ç±³618å¤§ä¿ç°åºè°ä¼ã\n 8.  ææ¡mysqlåºå±åçï¼sqlè°ä¼ç»éªä¸°å¯ï¼æå°ç±³æ°é¶å®æ°æ®å»ºæ¨¡å¼åç»éªã\n 9.  è¯»è¿rocketmqæºç ï¼ææ¡kafkaæ ¸å¿åçï¼çç»ä½¿ç¨rabbitmqï¼ç®åè´è´£æ¶æ¯éåç¸å³å·¥ä½å¼åã\n 10. çç»ææ¡elasticsearch apiï¼æ·±å¥çè§£elasticsearchåºå±åçï¼äºè§£elasticsearchéç¾¤è¿ç»´ï¼è¯»è¿é¨åelasticsearchæºç ã\n 11. è¯»è¿nettyæºç ï¼äºè§£nettyæ± ååå­ç®¡çï¼æå°ç±³æ°é¶å®ç´æ­å¼åç»éªã\n 12. çç»ä½¿ç¨linuxæä½ç³»ç»ï¼dockerï¼jenkinsç­cicdç¸å³å·¥å·ã\n 13. äºè§£httpä¸httpsåè®®åçï¼åºååä¸ååºåååçï¼rpcéä¿¡åçï¼çæåå¸å¼å¾®æå¡æ¶æï¼ææ¡åå¸å¼äºå¡è§£å³æ¹æ¡ã\n 14. çç»ä½¿ç¨jiraï¼asanaç­é¡¹ç®æµç¨ç®¡çå·¥å·ï¼çç»ä½¿ç¨markdownï¼wordï¼excelï¼pptç­å·¥å·ã\n\n----------------------------------------\n\n\n# å·¥ä½å±¥å\n\n 1. 2020.11-2022.06 å°ç±³æ°é¶å®ææ¯é¨\n 2. 2022.07- zoom asyncmq\n\n----------------------------------------\n\n\n# é¡¹ç®ç»éª\n\n 1. å°ç±³æ°é¶å®-é¶å®é\n 2. zoomæ¶æ¯éå-asyncmq\n\n----------------------------------------\n\n\n# æè²èæ¯\n\nå­¦æ ¡åç§°     ä¸ä¸         å°±è¯»æ¶é´        å­¦ä½\né½é½åå°å¤§å­¦   è®¡ç®æºç§å­¦ä¸ææ¯   2017~2021   æ¬ç§\n\n----------------------------------------",charsets:{cjk:!0},lastUpdated:"2023/11/04, 13:58:20",lastUpdatedTimestamp:16990775e5},{title:"About Me",frontmatter:{title:"About Me",date:"2021å¹´9æ11æ¥22:50:43",permalink:"/pages/27/",type:"ä¸ªäººç®å",tags:["ç®å","é¢è¯"],author:{name:"huidong.yin",link:"https://huidongyin.github.io"},categories:["AboutMe"]},regularPath:"/05.%E5%BE%AE%E6%9C%8D%E5%8A%A1%E6%9E%B6%E6%9E%84/03.%E9%A2%86%E5%9F%9F%E9%A9%B1%E5%8A%A8%E8%AE%BE%E8%AE%A1/01.xxx.html",relativePath:"05.å¾®æå¡æ¶æ/03.é¢åé©±å¨è®¾è®¡/01.xxx.md",key:"v-4d97f68d",path:"/pages/27/",headers:[{level:3,title:"ä¸ä¸æè½",slug:"ä¸ä¸æè½",normalizedTitle:"ä¸ä¸æè½",charIndex:167},{level:3,title:"å·¥ä½å±¥å",slug:"å·¥ä½å±¥å",normalizedTitle:"å·¥ä½å±¥å",charIndex:952},{level:3,title:"é¡¹ç®ç»éª",slug:"é¡¹ç®ç»éª",normalizedTitle:"é¡¹ç®ç»éª",charIndex:1059},{level:3,title:"æè²èæ¯",slug:"æè²èæ¯",normalizedTitle:"æè²èæ¯",charIndex:1146}],headersStr:"ä¸ä¸æè½ å·¥ä½å±¥å é¡¹ç®ç»éª æè²èæ¯",content:"å§å    å·¥ä½å¹´é   åºçæ¥æ         æ§å«   TEL           é®ç®±\nå°¹ä¼ä¸   3å¹´     1998.11.16   ç·    13342969497   huidong.yin247203@gmail.com\n\n----------------------------------------\n\n\n# ä¸ä¸æè½\n\n 1.  çç»ææ¡Javaåºç¡ç¥è¯ï¼äºè§£åçæ¬ç¹æ§ï¼è¯»è¿å¹¶åç¼ç¨ï¼éåæ¡æ¶ï¼IOæµç­å¸¸ç¨APIåºå±æºç ã\n 2.  è½å¤å¨å¼åä¸­å©ç¨è®¾è®¡æ¨¡å¼æ½è±¡ä»£ç ï¼æ·±å¥çè§£é¢åé©±å¨è®¾è®¡ã\n 3.  è¯»è¿Springï¼SpringMVCï¼Mybatisï¼SpringBootï¼SpringCloud(Eureka,Nacos,Sentinel,OpenFeign,Ribbon,Gateway)æºç ã\n 4.  è¯»è¿Tomcatï¼Dubboï¼Zookeeperï¼Quartzæºç ã\n 5.  è¯»è¿Redisæºç ã\n 6.  äºè§£Nginxï¼ApiSixç­ç½å³ã\n 7.  è¯»è¿ãæ·±å¥çè§£Javaèææºãï¼æå¤æ¬¡JVMçº¿ä¸é®é¢ææ¥ä¸è°ä¼ç»éªï¼ç»åè¿å°ç±³618å¤§ä¿ç°åºè°ä¼ã\n 8.  ææ¡MySQLåºå±åçï¼SQLè°ä¼ç»éªä¸°å¯ï¼æå°ç±³æ°é¶å®æ°æ®å»ºæ¨¡å¼åç»éªã\n 9.  è¯»è¿RocketMQæºç ï¼ææ¡Kafkaæ ¸å¿åçï¼çç»ä½¿ç¨RabbitMQï¼ç®åè´è´£æ¶æ¯éåç¸å³å·¥ä½å¼åã\n 10. çç»ææ¡ElasticSearch APIï¼æ·±å¥çè§£ElasticSearchåºå±åçï¼äºè§£ElasticSearchéç¾¤è¿ç»´ï¼è¯»è¿é¨åElasticSearchæºç ã\n 11. è¯»è¿Nettyæºç ï¼äºè§£Nettyæ± ååå­ç®¡çï¼æå°ç±³æ°é¶å®ç´æ­å¼åç»éªã\n 12. çç»ä½¿ç¨Linuxæä½ç³»ç»ï¼Dockerï¼Jenkinsç­CICDç¸å³å·¥å·ã\n 13. äºè§£HTTPä¸HTTPSåè®®åçï¼åºååä¸ååºåååçï¼RPCéä¿¡åçï¼çæåå¸å¼å¾®æå¡æ¶æï¼ææ¡åå¸å¼äºå¡è§£å³æ¹æ¡ã\n 14. çç»ä½¿ç¨JIRAï¼Asanaç­é¡¹ç®æµç¨ç®¡çå·¥å·ï¼çç»ä½¿ç¨Markdownï¼Wordï¼Excelï¼PPTç­å·¥å·ã\n\n----------------------------------------\n\n\n# å·¥ä½å±¥å\n\n 1. 2020.11-2022.06 å°ç±³æ°é¶å®ææ¯é¨\n 2. 2022.07- ZOOM AsyncMQ\n\n----------------------------------------\n\n\n# é¡¹ç®ç»éª\n\n 1. å°ç±³æ°é¶å®-é¶å®é\n 2. ZOOMæ¶æ¯éå-AsyncMQ\n\n----------------------------------------\n\n\n# æè²èæ¯\n\nå­¦æ ¡åç§°     ä¸ä¸         å°±è¯»æ¶é´        å­¦ä½\né½é½åå°å¤§å­¦   è®¡ç®æºç§å­¦ä¸ææ¯   2017~2021   æ¬ç§\n\n----------------------------------------",normalizedContent:"å§å    å·¥ä½å¹´é   åºçæ¥æ         æ§å«   tel           é®ç®±\nå°¹ä¼ä¸   3å¹´     1998.11.16   ç·    13342969497   huidong.yin247203@gmail.com\n\n----------------------------------------\n\n\n# ä¸ä¸æè½\n\n 1.  çç»ææ¡javaåºç¡ç¥è¯ï¼äºè§£åçæ¬ç¹æ§ï¼è¯»è¿å¹¶åç¼ç¨ï¼éåæ¡æ¶ï¼ioæµç­å¸¸ç¨apiåºå±æºç ã\n 2.  è½å¤å¨å¼åä¸­å©ç¨è®¾è®¡æ¨¡å¼æ½è±¡ä»£ç ï¼æ·±å¥çè§£é¢åé©±å¨è®¾è®¡ã\n 3.  è¯»è¿springï¼springmvcï¼mybatisï¼springbootï¼springcloud(eureka,nacos,sentinel,openfeign,ribbon,gateway)æºç ã\n 4.  è¯»è¿tomcatï¼dubboï¼zookeeperï¼quartzæºç ã\n 5.  è¯»è¿redisæºç ã\n 6.  äºè§£nginxï¼apisixç­ç½å³ã\n 7.  è¯»è¿ãæ·±å¥çè§£javaèææºãï¼æå¤æ¬¡jvmçº¿ä¸é®é¢ææ¥ä¸è°ä¼ç»éªï¼ç»åè¿å°ç±³618å¤§ä¿ç°åºè°ä¼ã\n 8.  ææ¡mysqlåºå±åçï¼sqlè°ä¼ç»éªä¸°å¯ï¼æå°ç±³æ°é¶å®æ°æ®å»ºæ¨¡å¼åç»éªã\n 9.  è¯»è¿rocketmqæºç ï¼ææ¡kafkaæ ¸å¿åçï¼çç»ä½¿ç¨rabbitmqï¼ç®åè´è´£æ¶æ¯éåç¸å³å·¥ä½å¼åã\n 10. çç»ææ¡elasticsearch apiï¼æ·±å¥çè§£elasticsearchåºå±åçï¼äºè§£elasticsearchéç¾¤è¿ç»´ï¼è¯»è¿é¨åelasticsearchæºç ã\n 11. è¯»è¿nettyæºç ï¼äºè§£nettyæ± ååå­ç®¡çï¼æå°ç±³æ°é¶å®ç´æ­å¼åç»éªã\n 12. çç»ä½¿ç¨linuxæä½ç³»ç»ï¼dockerï¼jenkinsç­cicdç¸å³å·¥å·ã\n 13. äºè§£httpä¸httpsåè®®åçï¼åºååä¸ååºåååçï¼rpcéä¿¡åçï¼çæåå¸å¼å¾®æå¡æ¶æï¼ææ¡åå¸å¼äºå¡è§£å³æ¹æ¡ã\n 14. çç»ä½¿ç¨jiraï¼asanaç­é¡¹ç®æµç¨ç®¡çå·¥å·ï¼çç»ä½¿ç¨markdownï¼wordï¼excelï¼pptç­å·¥å·ã\n\n----------------------------------------\n\n\n# å·¥ä½å±¥å\n\n 1. 2020.11-2022.06 å°ç±³æ°é¶å®ææ¯é¨\n 2. 2022.07- zoom asyncmq\n\n----------------------------------------\n\n\n# é¡¹ç®ç»éª\n\n 1. å°ç±³æ°é¶å®-é¶å®é\n 2. zoomæ¶æ¯éå-asyncmq\n\n----------------------------------------\n\n\n# æè²èæ¯\n\nå­¦æ ¡åç§°     ä¸ä¸         å°±è¯»æ¶é´        å­¦ä½\né½é½åå°å¤§å­¦   è®¡ç®æºç§å­¦ä¸ææ¯   2017~2021   æ¬ç§\n\n----------------------------------------",charsets:{cjk:!0},lastUpdated:"2023/11/04, 13:58:20",lastUpdatedTimestamp:16990775e5},{title:"About Me",frontmatter:{title:"About Me",date:"2021å¹´9æ11æ¥22:50:43",permalink:"/pages/28/",type:"ä¸ªäººç®å",tags:["ç®å","é¢è¯"],author:{name:"huidong.yin",link:"https://huidongyin.github.io"},categories:["AboutMe"]},regularPath:"/06.%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E/00.ElasticSearch/01.xxx.html",relativePath:"06.æç´¢å¼æ/00.ElasticSearch/01.xxx.md",key:"v-112a6e78",path:"/pages/28/",headers:[{level:3,title:"ä¸ä¸æè½",slug:"ä¸ä¸æè½",normalizedTitle:"ä¸ä¸æè½",charIndex:167},{level:3,title:"å·¥ä½å±¥å",slug:"å·¥ä½å±¥å",normalizedTitle:"å·¥ä½å±¥å",charIndex:952},{level:3,title:"é¡¹ç®ç»éª",slug:"é¡¹ç®ç»éª",normalizedTitle:"é¡¹ç®ç»éª",charIndex:1059},{level:3,title:"æè²èæ¯",slug:"æè²èæ¯",normalizedTitle:"æè²èæ¯",charIndex:1146}],headersStr:"ä¸ä¸æè½ å·¥ä½å±¥å é¡¹ç®ç»éª æè²èæ¯",content:"å§å    å·¥ä½å¹´é   åºçæ¥æ         æ§å«   TEL           é®ç®±\nå°¹ä¼ä¸   3å¹´     1998.11.16   ç·    13342969497   huidong.yin247203@gmail.com\n\n----------------------------------------\n\n\n# ä¸ä¸æè½\n\n 1.  çç»ææ¡Javaåºç¡ç¥è¯ï¼äºè§£åçæ¬ç¹æ§ï¼è¯»è¿å¹¶åç¼ç¨ï¼éåæ¡æ¶ï¼IOæµç­å¸¸ç¨APIåºå±æºç ã\n 2.  è½å¤å¨å¼åä¸­å©ç¨è®¾è®¡æ¨¡å¼æ½è±¡ä»£ç ï¼æ·±å¥çè§£é¢åé©±å¨è®¾è®¡ã\n 3.  è¯»è¿Springï¼SpringMVCï¼Mybatisï¼SpringBootï¼SpringCloud(Eureka,Nacos,Sentinel,OpenFeign,Ribbon,Gateway)æºç ã\n 4.  è¯»è¿Tomcatï¼Dubboï¼Zookeeperï¼Quartzæºç ã\n 5.  è¯»è¿Redisæºç ã\n 6.  äºè§£Nginxï¼ApiSixç­ç½å³ã\n 7.  è¯»è¿ãæ·±å¥çè§£Javaèææºãï¼æå¤æ¬¡JVMçº¿ä¸é®é¢ææ¥ä¸è°ä¼ç»éªï¼ç»åè¿å°ç±³618å¤§ä¿ç°åºè°ä¼ã\n 8.  ææ¡MySQLåºå±åçï¼SQLè°ä¼ç»éªä¸°å¯ï¼æå°ç±³æ°é¶å®æ°æ®å»ºæ¨¡å¼åç»éªã\n 9.  è¯»è¿RocketMQæºç ï¼ææ¡Kafkaæ ¸å¿åçï¼çç»ä½¿ç¨RabbitMQï¼ç®åè´è´£æ¶æ¯éåç¸å³å·¥ä½å¼åã\n 10. çç»ææ¡ElasticSearch APIï¼æ·±å¥çè§£ElasticSearchåºå±åçï¼äºè§£ElasticSearchéç¾¤è¿ç»´ï¼è¯»è¿é¨åElasticSearchæºç ã\n 11. è¯»è¿Nettyæºç ï¼äºè§£Nettyæ± ååå­ç®¡çï¼æå°ç±³æ°é¶å®ç´æ­å¼åç»éªã\n 12. çç»ä½¿ç¨Linuxæä½ç³»ç»ï¼Dockerï¼Jenkinsç­CICDç¸å³å·¥å·ã\n 13. äºè§£HTTPä¸HTTPSåè®®åçï¼åºååä¸ååºåååçï¼RPCéä¿¡åçï¼çæåå¸å¼å¾®æå¡æ¶æï¼ææ¡åå¸å¼äºå¡è§£å³æ¹æ¡ã\n 14. çç»ä½¿ç¨JIRAï¼Asanaç­é¡¹ç®æµç¨ç®¡çå·¥å·ï¼çç»ä½¿ç¨Markdownï¼Wordï¼Excelï¼PPTç­å·¥å·ã\n\n----------------------------------------\n\n\n# å·¥ä½å±¥å\n\n 1. 2020.11-2022.06 å°ç±³æ°é¶å®ææ¯é¨\n 2. 2022.07- ZOOM AsyncMQ\n\n----------------------------------------\n\n\n# é¡¹ç®ç»éª\n\n 1. å°ç±³æ°é¶å®-é¶å®é\n 2. ZOOMæ¶æ¯éå-AsyncMQ\n\n----------------------------------------\n\n\n# æè²èæ¯\n\nå­¦æ ¡åç§°     ä¸ä¸         å°±è¯»æ¶é´        å­¦ä½\né½é½åå°å¤§å­¦   è®¡ç®æºç§å­¦ä¸ææ¯   2017~2021   æ¬ç§\n\n----------------------------------------",normalizedContent:"å§å    å·¥ä½å¹´é   åºçæ¥æ         æ§å«   tel           é®ç®±\nå°¹ä¼ä¸   3å¹´     1998.11.16   ç·    13342969497   huidong.yin247203@gmail.com\n\n----------------------------------------\n\n\n# ä¸ä¸æè½\n\n 1.  çç»ææ¡javaåºç¡ç¥è¯ï¼äºè§£åçæ¬ç¹æ§ï¼è¯»è¿å¹¶åç¼ç¨ï¼éåæ¡æ¶ï¼ioæµç­å¸¸ç¨apiåºå±æºç ã\n 2.  è½å¤å¨å¼åä¸­å©ç¨è®¾è®¡æ¨¡å¼æ½è±¡ä»£ç ï¼æ·±å¥çè§£é¢åé©±å¨è®¾è®¡ã\n 3.  è¯»è¿springï¼springmvcï¼mybatisï¼springbootï¼springcloud(eureka,nacos,sentinel,openfeign,ribbon,gateway)æºç ã\n 4.  è¯»è¿tomcatï¼dubboï¼zookeeperï¼quartzæºç ã\n 5.  è¯»è¿redisæºç ã\n 6.  äºè§£nginxï¼apisixç­ç½å³ã\n 7.  è¯»è¿ãæ·±å¥çè§£javaèææºãï¼æå¤æ¬¡jvmçº¿ä¸é®é¢ææ¥ä¸è°ä¼ç»éªï¼ç»åè¿å°ç±³618å¤§ä¿ç°åºè°ä¼ã\n 8.  ææ¡mysqlåºå±åçï¼sqlè°ä¼ç»éªä¸°å¯ï¼æå°ç±³æ°é¶å®æ°æ®å»ºæ¨¡å¼åç»éªã\n 9.  è¯»è¿rocketmqæºç ï¼ææ¡kafkaæ ¸å¿åçï¼çç»ä½¿ç¨rabbitmqï¼ç®åè´è´£æ¶æ¯éåç¸å³å·¥ä½å¼åã\n 10. çç»ææ¡elasticsearch apiï¼æ·±å¥çè§£elasticsearchåºå±åçï¼äºè§£elasticsearchéç¾¤è¿ç»´ï¼è¯»è¿é¨åelasticsearchæºç ã\n 11. è¯»è¿nettyæºç ï¼äºè§£nettyæ± ååå­ç®¡çï¼æå°ç±³æ°é¶å®ç´æ­å¼åç»éªã\n 12. çç»ä½¿ç¨linuxæä½ç³»ç»ï¼dockerï¼jenkinsç­cicdç¸å³å·¥å·ã\n 13. äºè§£httpä¸httpsåè®®åçï¼åºååä¸ååºåååçï¼rpcéä¿¡åçï¼çæåå¸å¼å¾®æå¡æ¶æï¼ææ¡åå¸å¼äºå¡è§£å³æ¹æ¡ã\n 14. çç»ä½¿ç¨jiraï¼asanaç­é¡¹ç®æµç¨ç®¡çå·¥å·ï¼çç»ä½¿ç¨markdownï¼wordï¼excelï¼pptç­å·¥å·ã\n\n----------------------------------------\n\n\n# å·¥ä½å±¥å\n\n 1. 2020.11-2022.06 å°ç±³æ°é¶å®ææ¯é¨\n 2. 2022.07- zoom asyncmq\n\n----------------------------------------\n\n\n# é¡¹ç®ç»éª\n\n 1. å°ç±³æ°é¶å®-é¶å®é\n 2. zoomæ¶æ¯éå-asyncmq\n\n----------------------------------------\n\n\n# æè²èæ¯\n\nå­¦æ ¡åç§°     ä¸ä¸         å°±è¯»æ¶é´        å­¦ä½\né½é½åå°å¤§å­¦   è®¡ç®æºç§å­¦ä¸ææ¯   2017~2021   æ¬ç§\n\n----------------------------------------",charsets:{cjk:!0},lastUpdated:"2023/11/04, 13:58:20",lastUpdatedTimestamp:16990775e5},{title:"About Me",frontmatter:{title:"About Me",date:"2021å¹´9æ11æ¥22:50:43",permalink:"/pages/29/",type:"ä¸ªäººç®å",tags:["ç®å","é¢è¯"],author:{name:"huidong.yin",link:"https://huidongyin.github.io"},categories:["AboutMe"]},regularPath:"/07.JVM/01.xxx.html",relativePath:"07.JVM/01.xxx.md",key:"v-01bbe51f",path:"/pages/29/",headers:[{level:3,title:"ä¸ä¸æè½",slug:"ä¸ä¸æè½",normalizedTitle:"ä¸ä¸æè½",charIndex:167},{level:3,title:"å·¥ä½å±¥å",slug:"å·¥ä½å±¥å",normalizedTitle:"å·¥ä½å±¥å",charIndex:952},{level:3,title:"é¡¹ç®ç»éª",slug:"é¡¹ç®ç»éª",normalizedTitle:"é¡¹ç®ç»éª",charIndex:1059},{level:3,title:"æè²èæ¯",slug:"æè²èæ¯",normalizedTitle:"æè²èæ¯",charIndex:1146}],headersStr:"ä¸ä¸æè½ å·¥ä½å±¥å é¡¹ç®ç»éª æè²èæ¯",content:"å§å    å·¥ä½å¹´é   åºçæ¥æ         æ§å«   TEL           é®ç®±\nå°¹ä¼ä¸   3å¹´     1998.11.16   ç·    13342969497   huidong.yin247203@gmail.com\n\n----------------------------------------\n\n\n# ä¸ä¸æè½\n\n 1.  çç»ææ¡Javaåºç¡ç¥è¯ï¼äºè§£åçæ¬ç¹æ§ï¼è¯»è¿å¹¶åç¼ç¨ï¼éåæ¡æ¶ï¼IOæµç­å¸¸ç¨APIåºå±æºç ã\n 2.  è½å¤å¨å¼åä¸­å©ç¨è®¾è®¡æ¨¡å¼æ½è±¡ä»£ç ï¼æ·±å¥çè§£é¢åé©±å¨è®¾è®¡ã\n 3.  è¯»è¿Springï¼SpringMVCï¼Mybatisï¼SpringBootï¼SpringCloud(Eureka,Nacos,Sentinel,OpenFeign,Ribbon,Gateway)æºç ã\n 4.  è¯»è¿Tomcatï¼Dubboï¼Zookeeperï¼Quartzæºç ã\n 5.  è¯»è¿Redisæºç ã\n 6.  äºè§£Nginxï¼ApiSixç­ç½å³ã\n 7.  è¯»è¿ãæ·±å¥çè§£Javaèææºãï¼æå¤æ¬¡JVMçº¿ä¸é®é¢ææ¥ä¸è°ä¼ç»éªï¼ç»åè¿å°ç±³618å¤§ä¿ç°åºè°ä¼ã\n 8.  ææ¡MySQLåºå±åçï¼SQLè°ä¼ç»éªä¸°å¯ï¼æå°ç±³æ°é¶å®æ°æ®å»ºæ¨¡å¼åç»éªã\n 9.  è¯»è¿RocketMQæºç ï¼ææ¡Kafkaæ ¸å¿åçï¼çç»ä½¿ç¨RabbitMQï¼ç®åè´è´£æ¶æ¯éåç¸å³å·¥ä½å¼åã\n 10. çç»ææ¡ElasticSearch APIï¼æ·±å¥çè§£ElasticSearchåºå±åçï¼äºè§£ElasticSearchéç¾¤è¿ç»´ï¼è¯»è¿é¨åElasticSearchæºç ã\n 11. è¯»è¿Nettyæºç ï¼äºè§£Nettyæ± ååå­ç®¡çï¼æå°ç±³æ°é¶å®ç´æ­å¼åç»éªã\n 12. çç»ä½¿ç¨Linuxæä½ç³»ç»ï¼Dockerï¼Jenkinsç­CICDç¸å³å·¥å·ã\n 13. äºè§£HTTPä¸HTTPSåè®®åçï¼åºååä¸ååºåååçï¼RPCéä¿¡åçï¼çæåå¸å¼å¾®æå¡æ¶æï¼ææ¡åå¸å¼äºå¡è§£å³æ¹æ¡ã\n 14. çç»ä½¿ç¨JIRAï¼Asanaç­é¡¹ç®æµç¨ç®¡çå·¥å·ï¼çç»ä½¿ç¨Markdownï¼Wordï¼Excelï¼PPTç­å·¥å·ã\n\n----------------------------------------\n\n\n# å·¥ä½å±¥å\n\n 1. 2020.11-2022.06 å°ç±³æ°é¶å®ææ¯é¨\n 2. 2022.07- ZOOM AsyncMQ\n\n----------------------------------------\n\n\n# é¡¹ç®ç»éª\n\n 1. å°ç±³æ°é¶å®-é¶å®é\n 2. ZOOMæ¶æ¯éå-AsyncMQ\n\n----------------------------------------\n\n\n# æè²èæ¯\n\nå­¦æ ¡åç§°     ä¸ä¸         å°±è¯»æ¶é´        å­¦ä½\né½é½åå°å¤§å­¦   è®¡ç®æºç§å­¦ä¸ææ¯   2017~2021   æ¬ç§\n\n----------------------------------------",normalizedContent:"å§å    å·¥ä½å¹´é   åºçæ¥æ         æ§å«   tel           é®ç®±\nå°¹ä¼ä¸   3å¹´     1998.11.16   ç·    13342969497   huidong.yin247203@gmail.com\n\n----------------------------------------\n\n\n# ä¸ä¸æè½\n\n 1.  çç»ææ¡javaåºç¡ç¥è¯ï¼äºè§£åçæ¬ç¹æ§ï¼è¯»è¿å¹¶åç¼ç¨ï¼éåæ¡æ¶ï¼ioæµç­å¸¸ç¨apiåºå±æºç ã\n 2.  è½å¤å¨å¼åä¸­å©ç¨è®¾è®¡æ¨¡å¼æ½è±¡ä»£ç ï¼æ·±å¥çè§£é¢åé©±å¨è®¾è®¡ã\n 3.  è¯»è¿springï¼springmvcï¼mybatisï¼springbootï¼springcloud(eureka,nacos,sentinel,openfeign,ribbon,gateway)æºç ã\n 4.  è¯»è¿tomcatï¼dubboï¼zookeeperï¼quartzæºç ã\n 5.  è¯»è¿redisæºç ã\n 6.  äºè§£nginxï¼apisixç­ç½å³ã\n 7.  è¯»è¿ãæ·±å¥çè§£javaèææºãï¼æå¤æ¬¡jvmçº¿ä¸é®é¢ææ¥ä¸è°ä¼ç»éªï¼ç»åè¿å°ç±³618å¤§ä¿ç°åºè°ä¼ã\n 8.  ææ¡mysqlåºå±åçï¼sqlè°ä¼ç»éªä¸°å¯ï¼æå°ç±³æ°é¶å®æ°æ®å»ºæ¨¡å¼åç»éªã\n 9.  è¯»è¿rocketmqæºç ï¼ææ¡kafkaæ ¸å¿åçï¼çç»ä½¿ç¨rabbitmqï¼ç®åè´è´£æ¶æ¯éåç¸å³å·¥ä½å¼åã\n 10. çç»ææ¡elasticsearch apiï¼æ·±å¥çè§£elasticsearchåºå±åçï¼äºè§£elasticsearchéç¾¤è¿ç»´ï¼è¯»è¿é¨åelasticsearchæºç ã\n 11. è¯»è¿nettyæºç ï¼äºè§£nettyæ± ååå­ç®¡çï¼æå°ç±³æ°é¶å®ç´æ­å¼åç»éªã\n 12. çç»ä½¿ç¨linuxæä½ç³»ç»ï¼dockerï¼jenkinsç­cicdç¸å³å·¥å·ã\n 13. äºè§£httpä¸httpsåè®®åçï¼åºååä¸ååºåååçï¼rpcéä¿¡åçï¼çæåå¸å¼å¾®æå¡æ¶æï¼ææ¡åå¸å¼äºå¡è§£å³æ¹æ¡ã\n 14. çç»ä½¿ç¨jiraï¼asanaç­é¡¹ç®æµç¨ç®¡çå·¥å·ï¼çç»ä½¿ç¨markdownï¼wordï¼excelï¼pptç­å·¥å·ã\n\n----------------------------------------\n\n\n# å·¥ä½å±¥å\n\n 1. 2020.11-2022.06 å°ç±³æ°é¶å®ææ¯é¨\n 2. 2022.07- zoom asyncmq\n\n----------------------------------------\n\n\n# é¡¹ç®ç»éª\n\n 1. å°ç±³æ°é¶å®-é¶å®é\n 2. zoomæ¶æ¯éå-asyncmq\n\n----------------------------------------\n\n\n# æè²èæ¯\n\nå­¦æ ¡åç§°     ä¸ä¸         å°±è¯»æ¶é´        å­¦ä½\né½é½åå°å¤§å­¦   è®¡ç®æºç§å­¦ä¸ææ¯   2017~2021   æ¬ç§\n\n----------------------------------------",charsets:{cjk:!0},lastUpdated:"2023/11/04, 13:58:20",lastUpdatedTimestamp:16990775e5},{title:"About Me",frontmatter:{title:"About Me",date:"2021å¹´9æ11æ¥22:50:43",permalink:"/pages/30/",type:"ä¸ªäººç®å",tags:["ç®å","é¢è¯"],author:{name:"huidong.yin",link:"https://huidongyin.github.io"},categories:["AboutMe"]},regularPath:"/08.%E4%BA%91%E8%AE%A1%E7%AE%97/00.Docker/01.xxx.html",relativePath:"08.äºè®¡ç®/00.Docker/01.xxx.md",key:"v-787e3e12",path:"/pages/30/",headers:[{level:3,title:"ä¸ä¸æè½",slug:"ä¸ä¸æè½",normalizedTitle:"ä¸ä¸æè½",charIndex:167},{level:3,title:"å·¥ä½å±¥å",slug:"å·¥ä½å±¥å",normalizedTitle:"å·¥ä½å±¥å",charIndex:952},{level:3,title:"é¡¹ç®ç»éª",slug:"é¡¹ç®ç»éª",normalizedTitle:"é¡¹ç®ç»éª",charIndex:1059},{level:3,title:"æè²èæ¯",slug:"æè²èæ¯",normalizedTitle:"æè²èæ¯",charIndex:1146}],headersStr:"ä¸ä¸æè½ å·¥ä½å±¥å é¡¹ç®ç»éª æè²èæ¯",content:"å§å    å·¥ä½å¹´é   åºçæ¥æ         æ§å«   TEL           é®ç®±\nå°¹ä¼ä¸   3å¹´     1998.11.16   ç·    13342969497   huidong.yin247203@gmail.com\n\n----------------------------------------\n\n\n# ä¸ä¸æè½\n\n 1.  çç»ææ¡Javaåºç¡ç¥è¯ï¼äºè§£åçæ¬ç¹æ§ï¼è¯»è¿å¹¶åç¼ç¨ï¼éåæ¡æ¶ï¼IOæµç­å¸¸ç¨APIåºå±æºç ã\n 2.  è½å¤å¨å¼åä¸­å©ç¨è®¾è®¡æ¨¡å¼æ½è±¡ä»£ç ï¼æ·±å¥çè§£é¢åé©±å¨è®¾è®¡ã\n 3.  è¯»è¿Springï¼SpringMVCï¼Mybatisï¼SpringBootï¼SpringCloud(Eureka,Nacos,Sentinel,OpenFeign,Ribbon,Gateway)æºç ã\n 4.  è¯»è¿Tomcatï¼Dubboï¼Zookeeperï¼Quartzæºç ã\n 5.  è¯»è¿Redisæºç ã\n 6.  äºè§£Nginxï¼ApiSixç­ç½å³ã\n 7.  è¯»è¿ãæ·±å¥çè§£Javaèææºãï¼æå¤æ¬¡JVMçº¿ä¸é®é¢ææ¥ä¸è°ä¼ç»éªï¼ç»åè¿å°ç±³618å¤§ä¿ç°åºè°ä¼ã\n 8.  ææ¡MySQLåºå±åçï¼SQLè°ä¼ç»éªä¸°å¯ï¼æå°ç±³æ°é¶å®æ°æ®å»ºæ¨¡å¼åç»éªã\n 9.  è¯»è¿RocketMQæºç ï¼ææ¡Kafkaæ ¸å¿åçï¼çç»ä½¿ç¨RabbitMQï¼ç®åè´è´£æ¶æ¯éåç¸å³å·¥ä½å¼åã\n 10. çç»ææ¡ElasticSearch APIï¼æ·±å¥çè§£ElasticSearchåºå±åçï¼äºè§£ElasticSearchéç¾¤è¿ç»´ï¼è¯»è¿é¨åElasticSearchæºç ã\n 11. è¯»è¿Nettyæºç ï¼äºè§£Nettyæ± ååå­ç®¡çï¼æå°ç±³æ°é¶å®ç´æ­å¼åç»éªã\n 12. çç»ä½¿ç¨Linuxæä½ç³»ç»ï¼Dockerï¼Jenkinsç­CICDç¸å³å·¥å·ã\n 13. äºè§£HTTPä¸HTTPSåè®®åçï¼åºååä¸ååºåååçï¼RPCéä¿¡åçï¼çæåå¸å¼å¾®æå¡æ¶æï¼ææ¡åå¸å¼äºå¡è§£å³æ¹æ¡ã\n 14. çç»ä½¿ç¨JIRAï¼Asanaç­é¡¹ç®æµç¨ç®¡çå·¥å·ï¼çç»ä½¿ç¨Markdownï¼Wordï¼Excelï¼PPTç­å·¥å·ã\n\n----------------------------------------\n\n\n# å·¥ä½å±¥å\n\n 1. 2020.11-2022.06 å°ç±³æ°é¶å®ææ¯é¨\n 2. 2022.07- ZOOM AsyncMQ\n\n----------------------------------------\n\n\n# é¡¹ç®ç»éª\n\n 1. å°ç±³æ°é¶å®-é¶å®é\n 2. ZOOMæ¶æ¯éå-AsyncMQ\n\n----------------------------------------\n\n\n# æè²èæ¯\n\nå­¦æ ¡åç§°     ä¸ä¸         å°±è¯»æ¶é´        å­¦ä½\né½é½åå°å¤§å­¦   è®¡ç®æºç§å­¦ä¸ææ¯   2017~2021   æ¬ç§\n\n----------------------------------------",normalizedContent:"å§å    å·¥ä½å¹´é   åºçæ¥æ         æ§å«   tel           é®ç®±\nå°¹ä¼ä¸   3å¹´     1998.11.16   ç·    13342969497   huidong.yin247203@gmail.com\n\n----------------------------------------\n\n\n# ä¸ä¸æè½\n\n 1.  çç»ææ¡javaåºç¡ç¥è¯ï¼äºè§£åçæ¬ç¹æ§ï¼è¯»è¿å¹¶åç¼ç¨ï¼éåæ¡æ¶ï¼ioæµç­å¸¸ç¨apiåºå±æºç ã\n 2.  è½å¤å¨å¼åä¸­å©ç¨è®¾è®¡æ¨¡å¼æ½è±¡ä»£ç ï¼æ·±å¥çè§£é¢åé©±å¨è®¾è®¡ã\n 3.  è¯»è¿springï¼springmvcï¼mybatisï¼springbootï¼springcloud(eureka,nacos,sentinel,openfeign,ribbon,gateway)æºç ã\n 4.  è¯»è¿tomcatï¼dubboï¼zookeeperï¼quartzæºç ã\n 5.  è¯»è¿redisæºç ã\n 6.  äºè§£nginxï¼apisixç­ç½å³ã\n 7.  è¯»è¿ãæ·±å¥çè§£javaèææºãï¼æå¤æ¬¡jvmçº¿ä¸é®é¢ææ¥ä¸è°ä¼ç»éªï¼ç»åè¿å°ç±³618å¤§ä¿ç°åºè°ä¼ã\n 8.  ææ¡mysqlåºå±åçï¼sqlè°ä¼ç»éªä¸°å¯ï¼æå°ç±³æ°é¶å®æ°æ®å»ºæ¨¡å¼åç»éªã\n 9.  è¯»è¿rocketmqæºç ï¼ææ¡kafkaæ ¸å¿åçï¼çç»ä½¿ç¨rabbitmqï¼ç®åè´è´£æ¶æ¯éåç¸å³å·¥ä½å¼åã\n 10. çç»ææ¡elasticsearch apiï¼æ·±å¥çè§£elasticsearchåºå±åçï¼äºè§£elasticsearchéç¾¤è¿ç»´ï¼è¯»è¿é¨åelasticsearchæºç ã\n 11. è¯»è¿nettyæºç ï¼äºè§£nettyæ± ååå­ç®¡çï¼æå°ç±³æ°é¶å®ç´æ­å¼åç»éªã\n 12. çç»ä½¿ç¨linuxæä½ç³»ç»ï¼dockerï¼jenkinsç­cicdç¸å³å·¥å·ã\n 13. äºè§£httpä¸httpsåè®®åçï¼åºååä¸ååºåååçï¼rpcéä¿¡åçï¼çæåå¸å¼å¾®æå¡æ¶æï¼ææ¡åå¸å¼äºå¡è§£å³æ¹æ¡ã\n 14. çç»ä½¿ç¨jiraï¼asanaç­é¡¹ç®æµç¨ç®¡çå·¥å·ï¼çç»ä½¿ç¨markdownï¼wordï¼excelï¼pptç­å·¥å·ã\n\n----------------------------------------\n\n\n# å·¥ä½å±¥å\n\n 1. 2020.11-2022.06 å°ç±³æ°é¶å®ææ¯é¨\n 2. 2022.07- zoom asyncmq\n\n----------------------------------------\n\n\n# é¡¹ç®ç»éª\n\n 1. å°ç±³æ°é¶å®-é¶å®é\n 2. zoomæ¶æ¯éå-asyncmq\n\n----------------------------------------\n\n\n# æè²èæ¯\n\nå­¦æ ¡åç§°     ä¸ä¸         å°±è¯»æ¶é´        å­¦ä½\né½é½åå°å¤§å­¦   è®¡ç®æºç§å­¦ä¸ææ¯   2017~2021   æ¬ç§\n\n----------------------------------------",charsets:{cjk:!0},lastUpdated:"2023/11/04, 13:58:20",lastUpdatedTimestamp:16990775e5},{title:"SublimeText3",frontmatter:{title:"SublimeText3",date:"2023-01-01T00:00:00.000Z",tags:["Mac","æ¥å¸¸å¼å"],categories:["Mac"],description:"SublimeText3",toc_number:!1,author:{name:"huidong.yin",link:"https://huidongyin.github.io"},permalink:"/pages/1c1021ad-9e46-3426-be54-98f2d02a1fa5/"},regularPath:"/09.%E6%97%A5%E5%B8%B8%E5%BC%80%E5%8F%91/00.Mac%E6%97%A5%E5%B8%B8%E4%BD%BF%E7%94%A8/00.SublimeText3%E9%9A%8F%E6%89%8B%E8%AE%B0.html",relativePath:"09.æ¥å¸¸å¼å/00.Macæ¥å¸¸ä½¿ç¨/00.SublimeText3éæè®°.md",key:"v-c41b9cfa",path:"/pages/1c1021ad-9e46-3426-be54-98f2d02a1fa5/",headers:[{level:2,title:"1.å®è£éç½®",slug:"_1-å®è£éç½®",normalizedTitle:"1.å®è£éç½®",charIndex:112},{level:3,title:"1.1 è®¾ç½®æ¾ç¤ºä¾§è¾¹æ ",slug:"_1-1-è®¾ç½®æ¾ç¤ºä¾§è¾¹æ ",normalizedTitle:"1.1 è®¾ç½®æ¾ç¤ºä¾§è¾¹æ ",charIndex:153},{level:2,title:"![](/images/Mac/SublimeText3éæè®°/01.png)",slug:"images-mac-sublimetext3éæè®°-01-png",normalizedTitle:'<img src="/images/mac/sublimetext3%e9%9a%8f%e6%89%8b%e8%ae%b0/01.png" alt="">',charIndex:null},{level:3,title:"1.2 æ¾ç¤ºä¸è¾¹æ ",slug:"_1-2-æ¾ç¤ºä¸è¾¹æ ",normalizedTitle:"1.2 æ¾ç¤ºä¸è¾¹æ ",charIndex:173},{level:3,title:"1.3 å­ä½åç§°åå¤§å°",slug:"_1-3-å­ä½åç§°åå¤§å°",normalizedTitle:"1.3 å­ä½åç§°åå¤§å°",charIndex:231},{level:2,title:"2.æä»¶éç½®",slug:"_2-æä»¶éç½®",normalizedTitle:"2.æä»¶éç½®",charIndex:291},{level:3,title:"2.1 å®è£Package Control",slug:"_2-1-å®è£package-control",normalizedTitle:"2.1 å®è£package control",charIndex:302},{level:3,title:"2.1 å³ä¾§è¾¹æ æä»¶",slug:"_2-1-å³ä¾§è¾¹æ æä»¶",normalizedTitle:"2.1 å³ä¾§è¾¹æ æä»¶",charIndex:372},{level:3,title:"2.3 å®è£Theme-Soda æä»¶",slug:"_2-3-å®è£theme-soda-æä»¶",normalizedTitle:"2.3 å®è£theme-soda æä»¶",charIndex:431}],headersStr:"1.å®è£éç½® 1.1 è®¾ç½®æ¾ç¤ºä¾§è¾¹æ  ![](/images/Mac/SublimeText3éæè®°/01.png) 1.2 æ¾ç¤ºä¸è¾¹æ  1.3 å­ä½åç§°åå¤§å° 2.æä»¶éç½® 2.1 å®è£Package Control 2.1 å³ä¾§è¾¹æ æä»¶ 2.3 å®è£Theme-Soda æä»¶",content:"Sublime Text 3 ,ç±»ä¼¼äºWindowsè®°äºæ¬ï¼å®ç½å°å:https://www.sublimetext.com/3ã\n\n----------------------------------------\n\n\n# 1.å®è£éç½®\n\nå®è£è¿ç¨åºæ¬æ èå¹²å°±è¡ï¼ä¸»è¦è®°å½ä¸å®è£å®ä¹åçä¸äºéç½®ã\n\n\n# 1.1 è®¾ç½®æ¾ç¤ºä¾§è¾¹æ \n\n\n#\n\n\n# 1.2 æ¾ç¤ºä¸è¾¹æ \n\n\n\n----------------------------------------\n\n\n# 1.3 å­ä½åç§°åå¤§å°\n\n\n\n----------------------------------------\n\n\n# 2.æä»¶éç½®\n\n\n# 2.1 å®è£Package Control\n\n\n\n----------------------------------------\n\n\n# 2.1 å³ä¾§è¾¹æ æä»¶\n\n\n\n----------------------------------------\n\n\n# 2.3 å®è£Theme-Soda æä»¶\n\n\n\n----------------------------------------",normalizedContent:"sublime text 3 ,ç±»ä¼¼äºwindowsè®°äºæ¬ï¼å®ç½å°å:https://www.sublimetext.com/3ã\n\n----------------------------------------\n\n\n# 1.å®è£éç½®\n\nå®è£è¿ç¨åºæ¬æ èå¹²å°±è¡ï¼ä¸»è¦è®°å½ä¸å®è£å®ä¹åçä¸äºéç½®ã\n\n\n# 1.1 è®¾ç½®æ¾ç¤ºä¾§è¾¹æ \n\n\n#\n\n\n# 1.2 æ¾ç¤ºä¸è¾¹æ \n\n\n\n----------------------------------------\n\n\n# 1.3 å­ä½åç§°åå¤§å°\n\n\n\n----------------------------------------\n\n\n# 2.æä»¶éç½®\n\n\n# 2.1 å®è£package control\n\n\n\n----------------------------------------\n\n\n# 2.1 å³ä¾§è¾¹æ æä»¶\n\n\n\n----------------------------------------\n\n\n# 2.3 å®è£theme-soda æä»¶\n\n\n\n----------------------------------------",charsets:{cjk:!0},lastUpdated:"2023/11/04, 13:58:20",lastUpdatedTimestamp:16990775e5},{title:"å»é¤æ¡é¢çç¡¬çå¾æ ",frontmatter:{title:"å»é¤æ¡é¢çç¡¬çå¾æ ",date:"2023-01-01T00:00:00.000Z",tags:["Mac","æ¥å¸¸å¼å"],categories:["Mac"],description:"å»é¤æ¡é¢çç¡¬çå¾æ ",toc_number:!1,author:{name:"huidong.yin",link:"https://huidongyin.github.io"},permalink:"/pages/6b6ad1f6-ccb5-397f-8ca8-29b053ff97e2/"},regularPath:"/09.%E6%97%A5%E5%B8%B8%E5%BC%80%E5%8F%91/00.Mac%E6%97%A5%E5%B8%B8%E4%BD%BF%E7%94%A8/01.%E5%8E%BB%E9%99%A4%E6%A1%8C%E9%9D%A2%E7%9A%84%E7%A1%AC%E7%9B%98%E5%9B%BE%E6%A0%87.html",relativePath:"09.æ¥å¸¸å¼å/00.Macæ¥å¸¸ä½¿ç¨/01.å»é¤æ¡é¢çç¡¬çå¾æ .md",key:"v-3c49f337",path:"/pages/6b6ad1f6-ccb5-397f-8ca8-29b053ff97e2/",headers:[{level:2,title:"æ¹æ³ä¸",slug:"æ¹æ³ä¸",normalizedTitle:"æ¹æ³ä¸",charIndex:2},{level:2,title:"æ¹æ³äº",slug:"æ¹æ³äº",normalizedTitle:"æ¹æ³äº",charIndex:71}],headersStr:"æ¹æ³ä¸ æ¹æ³äº",content:"# æ¹æ³ä¸\n\nè¿å¥è®¿è¾¾è®¾ç½®ï¼æç§ä¸é¢çå¾çè®¾ç½®ã\n\n----------------------------------------\n\n\n# æ¹æ³äº\n\nç»ç«¯å½ä»¤\n\ndefaultswritecom.apple.finderCreateDesktop-boolfalse\n\nkillallFinder\n\n\n1\n2\n3\n\n\næ³åæ¬¡æ¾ç¤ºåæ¥ï¼\n\ndefaultswritecom.apple.finderCreateDesktop-booltrue\n\nkillallFinder\n\n\n1\n2\n3\n",normalizedContent:"# æ¹æ³ä¸\n\nè¿å¥è®¿è¾¾è®¾ç½®ï¼æç§ä¸é¢çå¾çè®¾ç½®ã\n\n----------------------------------------\n\n\n# æ¹æ³äº\n\nç»ç«¯å½ä»¤\n\ndefaultswritecom.apple.findercreatedesktop-boolfalse\n\nkillallfinder\n\n\n1\n2\n3\n\n\næ³åæ¬¡æ¾ç¤ºåæ¥ï¼\n\ndefaultswritecom.apple.findercreatedesktop-booltrue\n\nkillallfinder\n\n\n1\n2\n3\n",charsets:{cjk:!0},lastUpdated:"2023/11/04, 13:58:20",lastUpdatedTimestamp:16990775e5},{title:"å®è£JProfiler",frontmatter:{title:"å®è£JProfiler",date:"2023-01-01T00:00:00.000Z",tags:["Mac","æ¥å¸¸å¼å"],categories:["Mac"],description:"å®è£JProfiler",toc_number:!1,author:{name:"huidong.yin",link:"https://huidongyin.github.io"},permalink:"/pages/b719f0b3-c7e1-303b-ae66-cbd44c17c1c5/"},regularPath:"/09.%E6%97%A5%E5%B8%B8%E5%BC%80%E5%8F%91/00.Mac%E6%97%A5%E5%B8%B8%E4%BD%BF%E7%94%A8/02.%E5%AE%89%E8%A3%85Jprofiler.html",relativePath:"09.æ¥å¸¸å¼å/00.Macæ¥å¸¸ä½¿ç¨/02.å®è£Jprofiler.md",key:"v-0b1d5734",path:"/pages/b719f0b3-c7e1-303b-ae66-cbd44c17c1c5/",headersStr:null,content:"ä¸è½½å°å\n\næ¿æ´»ç Followå¤å¿å½ã",normalizedContent:"ä¸è½½å°å\n\næ¿æ´»ç followå¤å¿å½ã",charsets:{cjk:!0},lastUpdated:"2023/11/04, 13:58:20",lastUpdatedTimestamp:16990775e5},{title:"æä»¶å¤¹æ¾ç¤ºéèæä»¶",frontmatter:{title:"æä»¶å¤¹æ¾ç¤ºéèæä»¶",date:"2023-01-01T00:00:00.000Z",tags:["Mac","æ¥å¸¸å¼å"],categories:["Mac"],description:"æä»¶å¤¹æ¾ç¤ºéèæä»¶",toc_number:!1,author:{name:"huidong.yin",link:"https://huidongyin.github.io"},permalink:"/pages/77b8e011-088b-3337-bc78-1694d12258e7/"},regularPath:"/09.%E6%97%A5%E5%B8%B8%E5%BC%80%E5%8F%91/00.Mac%E6%97%A5%E5%B8%B8%E4%BD%BF%E7%94%A8/03.%E6%96%87%E4%BB%B6%E5%A4%B9%E6%98%BE%E7%A4%BA%E9%9A%90%E8%97%8F%E6%96%87%E4%BB%B6.html",relativePath:"09.æ¥å¸¸å¼å/00.Macæ¥å¸¸ä½¿ç¨/03.æä»¶å¤¹æ¾ç¤ºéèæä»¶.md",key:"v-535a8cba",path:"/pages/77b8e011-088b-3337-bc78-1694d12258e7/",headersStr:null,content:"command + shifté® + .",normalizedContent:"command + shifté® + .",charsets:{cjk:!0},lastUpdated:"2023/11/04, 13:58:20",lastUpdatedTimestamp:16990775e5},{title:"è§£å³é¼ æ æ»è½®ä¸ä¸ç¿»è½¬",frontmatter:{title:"è§£å³é¼ æ æ»è½®ä¸ä¸ç¿»è½¬",date:"2023-01-01T00:00:00.000Z",tags:["Mac","æ¥å¸¸å¼å"],categories:["Mac"],description:"è§£å³é¼ æ æ»è½®ä¸ä¸ç¿»è½¬",toc_number:!1,author:{name:"huidong.yin",link:"https://huidongyin.github.io"},permalink:"/pages/64b132ef-4cde-3692-9a03-b3f0e7841561/"},regularPath:"/09.%E6%97%A5%E5%B8%B8%E5%BC%80%E5%8F%91/00.Mac%E6%97%A5%E5%B8%B8%E4%BD%BF%E7%94%A8/04.%E8%A7%A3%E5%86%B3%E9%BC%A0%E6%A0%87%E6%BB%9A%E8%BD%AE%E4%B8%8A%E4%B8%8B%E7%BF%BB%E8%BD%AC.html",relativePath:"09.æ¥å¸¸å¼å/00.Macæ¥å¸¸ä½¿ç¨/04.è§£å³é¼ æ æ»è½®ä¸ä¸ç¿»è½¬.md",key:"v-0e63a70b",path:"/pages/64b132ef-4cde-3692-9a03-b3f0e7841561/",headersStr:null,content:"ä¸è½½è½¯ä»¶ Scroll reverser",normalizedContent:"ä¸è½½è½¯ä»¶ scroll reverser",charsets:{cjk:!0},lastUpdated:"2023/11/04, 13:58:20",lastUpdatedTimestamp:16990775e5},{title:"éç½®ZSH",frontmatter:{title:"éç½®ZSH",date:"2023-01-01T00:00:00.000Z",tags:["Mac","æ¥å¸¸å¼å"],categories:["Mac"],description:"éç½®ZSH",toc_number:!1,author:{name:"huidong.yin",link:"https://huidongyin.github.io"},permalink:"/pages/723e2b0a-de27-32e9-9704-f57ba9e27c73/"},regularPath:"/09.%E6%97%A5%E5%B8%B8%E5%BC%80%E5%8F%91/00.Mac%E6%97%A5%E5%B8%B8%E4%BD%BF%E7%94%A8/05.%E9%85%8D%E7%BD%AEZSH.html",relativePath:"09.æ¥å¸¸å¼å/00.Macæ¥å¸¸ä½¿ç¨/05.éç½®ZSH.md",key:"v-2a6c0621",path:"/pages/723e2b0a-de27-32e9-9704-f57ba9e27c73/",headers:[{level:2,title:"1.zshå®è£",slug:"_1-zshå®è£",normalizedTitle:"1.zshå®è£",charIndex:2},{level:2,title:"2.oh-my-zsh",slug:"_2-oh-my-zsh",normalizedTitle:"2.oh-my-zsh",charIndex:556},{level:3,title:"2.1 å®è£",slug:"_2-1-å®è£",normalizedTitle:"2.1 å®è£",charIndex:572},{level:3,title:"2.2 ç®åä½¿ç¨",slug:"_2-2-ç®åä½¿ç¨",normalizedTitle:"2.2 ç®åä½¿ç¨",charIndex:1900},{level:2,title:"3.ç»ç«¯æç¤ºæä»¶åé«äº®æä»¶",slug:"_3-ç»ç«¯æç¤ºæä»¶åé«äº®æä»¶",normalizedTitle:"3.ç»ç«¯æç¤ºæä»¶åé«äº®æä»¶",charIndex:2131},{level:3,title:"3.1 ç»ç«¯æç¤ºæä»¶",slug:"_3-1-ç»ç«¯æç¤ºæä»¶",normalizedTitle:"3.1 ç»ç«¯æç¤ºæä»¶",charIndex:2149},{level:3,title:"3.2 ç»ç«¯é«äº®æä»¶",slug:"_3-2-ç»ç«¯é«äº®æä»¶",normalizedTitle:"3.2 ç»ç«¯é«äº®æä»¶",charIndex:2570},{level:3,title:"3.3 èªå®ä¹ç»ç«¯å¿«æ·å½ä»¤",slug:"_3-3-èªå®ä¹ç»ç«¯å¿«æ·å½ä»¤",normalizedTitle:"3.3 èªå®ä¹ç»ç«¯å¿«æ·å½ä»¤",charIndex:2789},{level:3,title:"3.4 è®¾ç½®å½ä»¤è¾å¥è¡æ ·å¼",slug:"_3-4-è®¾ç½®å½ä»¤è¾å¥è¡æ ·å¼",normalizedTitle:"3.4 è®¾ç½®å½ä»¤è¾å¥è¡æ ·å¼",charIndex:2977}],headersStr:"1.zshå®è£ 2.oh-my-zsh 2.1 å®è£ 2.2 ç®åä½¿ç¨ 3.ç»ç«¯æç¤ºæä»¶åé«äº®æä»¶ 3.1 ç»ç«¯æç¤ºæä»¶ 3.2 ç»ç«¯é«äº®æä»¶ 3.3 èªå®ä¹ç»ç«¯å¿«æ·å½ä»¤ 3.4 è®¾ç½®å½ä»¤è¾å¥è¡æ ·å¼",content:'# 1.zshå®è£\n\nMacOSä¸è¬èªå¸¦äºZSHï¼ä½æ¯ä¸æ¯ææ°çæ¬ï¼å¦æéè¦ææ°çæ¬å¯ä»¥éè¿Homebrewæ¥å®è£ã\n\nbrew install zsh zsh-completions\n\n\n1\n\n\n> rpmåådebåæ¯ä¸¤ç§Linuxç³»ç»ä¸æå¸¸è§çå®è£åæ ¼å¼ãrpmåä¸»è¦åºç¨å¨RedHatç³»ååæ¬ Fedoraç­åè¡ççLinuxç³»ç»ä¸ï¼debåä¸»è¦åºç¨äºDebianç³»ååæ¬ç°å¨æ¯è¾æµè¡çUbuntuç­åè¡çä¸ã\n\n> \n\nyumå½ä»¤æ¯å¨FedoraåRedHatä»¥åSUSEä¸­åºäºrpmçè½¯ä»¶åç®¡çå¨ï¼å®å¯ä»¥ä½¿ç³»ç»ç®¡çäººåäº¤äºåèªå¨åå°æ´ç»ä¸ç®¡çRPMè½¯ä»¶åï¼è½å¤ä»æå®çæå¡å¨èªå¨ä¸è½½RPMåå¹¶ä¸å®è£ï¼å¯ä»¥èªå¨å¤çä¾èµæ§å³ç³»ï¼å¹¶ä¸ä¸æ¬¡å®è£ææä¾èµçè½¯ä½åï¼æ é¡»ç¹çå°ä¸æ¬¡æ¬¡ä¸è½½ãå®è£ã\n\n> apt-getå½ä»¤æ¯Debian Linuxåè¡çä¸­çAPTè½¯ä»¶åç®¡çå·¥å·ãææåºäºDebiançåè¡é½ä½¿ç¨è¿ä¸ªåç®¡çç³»ç»ãdebåå¯ä»¥æä¸ä¸ªåºç¨çæä»¶åå¨ä¸èµ·ï¼å¤§ä½å°±å¦åWindowsä¸çå®è£æä»¶ã(æ´å¤å³äºaptåapt-get )\n\nä¸äºä¹±ä¸å«ç³çè®¾ç½®ï¼ Follow the screenshot below\n\n----------------------------------------\n\n\n# 2.oh-my-zsh\n\n\n# 2.1 å®è£\n\nå®è£ oh my zsh ä¹åå¿é¡»å®è£zshï¼å¦åä¼æ¶å°å¦ä¸æç¤ºï¼Zsh is not installed! Please install zsh first!\n\n#æ¹æ³ä¸ï¼wgetæ¹å¼èªå¨åå®è£oh my zshï¼\n$ wget https://github.com/robbyrussell/oh-my-zsh/raw/master/tools/install.sh -O - | sh\n\n#æ¹æ³äºï¼\n$ curl -L https://raw.github.com/robbyrussell/oh-my-zsh/master/tools/install.sh | sh \n\n#å®ç½ä¸çå¦å¤ä¸ç§åæ³ \n$ sh -c "$(wget https://raw.github.com/robbyrussell/oh-my-zsh/master/tools/install.sh -O -)"\n$ sh -c "$(curl -fsSL https://raw.github.com/robbyrussell/oh-my-zsh/master/tools/install.sh)"\n\n#æ¹æ³ä¸ï¼å½ç¶ä¹å¯ä»¥éè¿gitä¸è½½ \n$ git clone git://github.com/robbyrussell/oh-my-zsh.git ~/.oh-my-zsh                       \n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\nwgetï¼Linuxå½ä»¤ï¼ç¨æ¥ä»æå®çURLä¸è½½æä»¶ãmacä½¿ç¨è¿ä¸ªå½ä»¤ï¼éè¦å®è£ï¼brew install wgetã\n\n * $ wget(éé¡¹)(åæ°)\n * $ wget url ä¸è½½ä¸ä¸ªæä»¶å°å½åç®å½\n * $ wget url -O - å¨ç»ç«¯å±ç¤ºæä»¶åå®¹\n\n> -O -å¨ç»ç«¯å±ç¤ºæä»¶åå®¹ Saving to: âSTDOUTâãstdout,æ åè¾åºï¼é»è®¤å°ä¿¡æ¯è¾åºå°ç»ç«¯ï¼å¨é»è®¤æåµä¸ï¼stdoutæ¯è¡ç¼å²çï¼ä»çè¾åºä¼æ¾å¨ä¸ä¸ªbufferéé¢ï¼åªæå°æ¢è¡çæ¶åï¼æä¼è¾åºå°å±å¹ã\n\n> curlï¼linuxå½ä»¤ï¼æ¯ä¸ç§å½ä»¤è¡å·¥å·ï¼ä½ç¨æ¯ååºç½ç»è¯·æ±ï¼ç¶åå¾å°åæåæ°æ®ï¼æ¾ç¤ºå¨"æ åè¾åº" ï¼stdoutï¼ä¸é¢ãå®è¢«å¹¿æ³åºç¨å¨Unixãå¤ç§Linuxåè¡çä¸­ï¼å¹¶ä¸æDOSåWin32ãWin64ä¸çç§»æ¤çæ¬,å·²ç»æ¯è¹ææºä¸åç½®çå½ä»¤è¡å·¥å·ä¹ä¸äºãwindowä¸çå®è£åä½¿ç¨åè æè¿éã\n\n> shå½ä»¤æ¯shellå½ä»¤è¯­è¨è§£éå¨ï¼æ§è¡å½ä»¤ä»æ åè¾å¥è¯»åæä»ä¸ä¸ªæä»¶ä¸­è¯»åãéè¿ç¨æ·è¾å¥å½ä»¤ï¼ååæ ¸è¿è¡æ²éï¼\n\n$ sh [options] [file]  -c string    //å½ä»¤ä»-cåçå­ç¬¦ä¸²è¯»åã\n\n\n1\n\n\nå¨æ§è¡èæ¬çæ¶åæ¯ç¨sh + èæ¬åçæ¹å¼æ¥æ§è¡ï¼å¶å®ï¼å¤§é¨åçæ¶åï¼ç®åèæ¬åªè¦æéè®¾ç½®æ­£ç¡®ï¼å¯ä»¥ç´æ¥æ§è¡ï¼ä¸éè¦shå½ä»¤çã\n\n| ,Linuxç®¡éç¬¦ï¼å©ç¨ç®¡éç¬¦å°ä¸¤ä¸ªå½ä»¤éå¼ï¼ç®¡éç¬¦å·¦è¾¹å½ä»¤çè¾åºå°±ä¼ä½ä¸ºç®¡éç¬¦å³è¾¹å½ä»¤çè¾å¥ã\n\n----------------------------------------\n\n\n# 2.2 ç®åä½¿ç¨\n\n 1. æ¥çä»ä¹ä¸»é¢å¯ä»¥ä½¿ç¨\n\nls ~/.oh-my-zsh/themes\n\n\n1\n\n 2. Oh-My-Zshçé»è®¤éç½®æä»¶å¨ï¼~/.zshrcãç¼è¾~/.zshrcä¿®æ¹ä¸»é¢ï¼é»è®¤æåµä¸ï¼ä½¿ç¨çæ¯robbyrussellä¸»é¢ã\n\n> éå¯ç»ç«¯åæææèä½¿ç¨source ~/.zshrcæ´æ°éç½®ã\n\nZSH_THEME="amuse"\n\n\n1\n\n\n----------------------------------------\n\n\n# 3.ç»ç«¯æç¤ºæä»¶åé«äº®æä»¶\n\n\n# 3.1 ç»ç«¯æç¤ºæä»¶\n\nFor Example: è¡¥å¨æç¤ºæé®ï¼->ã\n\n 1. æå¼ç»ç«¯ï¼å¤å¶ä¸é¢æä»¤ä¸è½½èªå¨æç¤ºæä»¶zsh-autosuggestions\n\ngit clone https://gitee.com/zsh-users/zsh-autosuggestions ${ZSH_CUSTOM:-~/.oh-my-zsh/custom}/plugins/zsh-autosuggestions\n\n\n1\n\n 2. è¿å¥.zshrcæä»¶çå¯ç¼è¾æ¨¡å¼\n\nvim ~/.zshrc\n\n\n1\n\n 3. æ¾å°plugins å¨åé¢è¿½å  éå·åå²ï¼éå·ååéè¦æé´è·\n\nplugins=(\n  git ,\n  zsh-autosuggestions\n)\n\n\n1\n2\n3\n4\n\n 4. éæ°å è½½~/.zshrc\n\nsource ~/.zshrc\n\n\n1\n\n\n----------------------------------------\n\n\n# 3.2 ç»ç«¯é«äº®æä»¶\n\n 1. å®è£é«äº®è¯­æ³æä»¶\n\ngit clone https://gitee.com/zsh-users/zsh-syntax-highlighting.git ${ZSH_CUSTOM:-~/.oh-my-zsh/custom}/plugins/zsh-syntax-highlighting\n\n\n1\n\n\nå¶ä½æ­¥éª¤åä¸ã\n\n----------------------------------------\n\n\n# 3.3 èªå®ä¹ç»ç«¯å¿«æ·å½ä»¤\n\nè¯­æ³æ ¼å¼ï¼\n\nalias aCommandAlias=\'xxxxxx\'\n\n# ä¾å¦æ°å»ºgit pushå¿«æ·å½ä»¤:\nalias gp=\'git push origin xxx\'\n\n\n1\n2\n3\n4\n\n\nç´æ¥å¨~/.zshrc æä»¶ä¸é¢æ·»å aliaså«åã\n\n----------------------------------------\n\n\n# 3.4 è®¾ç½®å½ä»¤è¾å¥è¡æ ·å¼\n\nFor Exampleï¼\n\n 1. æ¥çå½åå¼ï¼ç¶åå¤ä»½ã\n\necho $PROMPT\n\n\n1\n\n 2. ç¡®å®å¥½å½åä½¿ç¨çä¸»é¢ï¼ç¶åä¿®æ¹å¯¹åºä¸»é¢çéç½®æä»¶ã\n\ncd ~/.oh-my-zsh/themes\nvim amuse.zsh-theme\n\n\n1\n2\n\n 3. æ¿æ¢PROMPT\n\nPROMPT=\'ð¨ %{$fg_bold[green]%}%n%{$reset_color%} ð  %{$fg_bold[green]%}%~%{$reset_color%}$(git_prompt_info)$(virtualenv_prompt_info) â %{$fg_bold[red]%}%D %*%{$reset_color%}\n$ \'\n\n\n1\n2\n\n\n\n\n----------------------------------------',normalizedContent:'# 1.zshå®è£\n\nmacosä¸è¬èªå¸¦äºzshï¼ä½æ¯ä¸æ¯ææ°çæ¬ï¼å¦æéè¦ææ°çæ¬å¯ä»¥éè¿homebrewæ¥å®è£ã\n\nbrew install zsh zsh-completions\n\n\n1\n\n\n> rpmåådebåæ¯ä¸¤ç§linuxç³»ç»ä¸æå¸¸è§çå®è£åæ ¼å¼ãrpmåä¸»è¦åºç¨å¨redhatç³»ååæ¬ fedoraç­åè¡ççlinuxç³»ç»ä¸ï¼debåä¸»è¦åºç¨äºdebianç³»ååæ¬ç°å¨æ¯è¾æµè¡çubuntuç­åè¡çä¸ã\n\n> \n\nyumå½ä»¤æ¯å¨fedoraåredhatä»¥åsuseä¸­åºäºrpmçè½¯ä»¶åç®¡çå¨ï¼å®å¯ä»¥ä½¿ç³»ç»ç®¡çäººåäº¤äºåèªå¨åå°æ´ç»ä¸ç®¡çrpmè½¯ä»¶åï¼è½å¤ä»æå®çæå¡å¨èªå¨ä¸è½½rpmåå¹¶ä¸å®è£ï¼å¯ä»¥èªå¨å¤çä¾èµæ§å³ç³»ï¼å¹¶ä¸ä¸æ¬¡å®è£ææä¾èµçè½¯ä½åï¼æ é¡»ç¹çå°ä¸æ¬¡æ¬¡ä¸è½½ãå®è£ã\n\n> apt-getå½ä»¤æ¯debian linuxåè¡çä¸­çaptè½¯ä»¶åç®¡çå·¥å·ãææåºäºdebiançåè¡é½ä½¿ç¨è¿ä¸ªåç®¡çç³»ç»ãdebåå¯ä»¥æä¸ä¸ªåºç¨çæä»¶åå¨ä¸èµ·ï¼å¤§ä½å°±å¦åwindowsä¸çå®è£æä»¶ã(æ´å¤å³äºaptåapt-get )\n\nä¸äºä¹±ä¸å«ç³çè®¾ç½®ï¼ follow the screenshot below\n\n----------------------------------------\n\n\n# 2.oh-my-zsh\n\n\n# 2.1 å®è£\n\nå®è£ oh my zsh ä¹åå¿é¡»å®è£zshï¼å¦åä¼æ¶å°å¦ä¸æç¤ºï¼zsh is not installed! please install zsh first!\n\n#æ¹æ³ä¸ï¼wgetæ¹å¼èªå¨åå®è£oh my zshï¼\n$ wget https://github.com/robbyrussell/oh-my-zsh/raw/master/tools/install.sh -o - | sh\n\n#æ¹æ³äºï¼\n$ curl -l https://raw.github.com/robbyrussell/oh-my-zsh/master/tools/install.sh | sh \n\n#å®ç½ä¸çå¦å¤ä¸ç§åæ³ \n$ sh -c "$(wget https://raw.github.com/robbyrussell/oh-my-zsh/master/tools/install.sh -o -)"\n$ sh -c "$(curl -fssl https://raw.github.com/robbyrussell/oh-my-zsh/master/tools/install.sh)"\n\n#æ¹æ³ä¸ï¼å½ç¶ä¹å¯ä»¥éè¿gitä¸è½½ \n$ git clone git://github.com/robbyrussell/oh-my-zsh.git ~/.oh-my-zsh                       \n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\nwgetï¼linuxå½ä»¤ï¼ç¨æ¥ä»æå®çurlä¸è½½æä»¶ãmacä½¿ç¨è¿ä¸ªå½ä»¤ï¼éè¦å®è£ï¼brew install wgetã\n\n * $ wget(éé¡¹)(åæ°)\n * $ wget url ä¸è½½ä¸ä¸ªæä»¶å°å½åç®å½\n * $ wget url -o - å¨ç»ç«¯å±ç¤ºæä»¶åå®¹\n\n> -o -å¨ç»ç«¯å±ç¤ºæä»¶åå®¹ saving to: âstdoutâãstdout,æ åè¾åºï¼é»è®¤å°ä¿¡æ¯è¾åºå°ç»ç«¯ï¼å¨é»è®¤æåµä¸ï¼stdoutæ¯è¡ç¼å²çï¼ä»çè¾åºä¼æ¾å¨ä¸ä¸ªbufferéé¢ï¼åªæå°æ¢è¡çæ¶åï¼æä¼è¾åºå°å±å¹ã\n\n> curlï¼linuxå½ä»¤ï¼æ¯ä¸ç§å½ä»¤è¡å·¥å·ï¼ä½ç¨æ¯ååºç½ç»è¯·æ±ï¼ç¶åå¾å°åæåæ°æ®ï¼æ¾ç¤ºå¨"æ åè¾åº" ï¼stdoutï¼ä¸é¢ãå®è¢«å¹¿æ³åºç¨å¨unixãå¤ç§linuxåè¡çä¸­ï¼å¹¶ä¸ædosåwin32ãwin64ä¸çç§»æ¤çæ¬,å·²ç»æ¯è¹ææºä¸åç½®çå½ä»¤è¡å·¥å·ä¹ä¸äºãwindowä¸çå®è£åä½¿ç¨åè æè¿éã\n\n> shå½ä»¤æ¯shellå½ä»¤è¯­è¨è§£éå¨ï¼æ§è¡å½ä»¤ä»æ åè¾å¥è¯»åæä»ä¸ä¸ªæä»¶ä¸­è¯»åãéè¿ç¨æ·è¾å¥å½ä»¤ï¼ååæ ¸è¿è¡æ²éï¼\n\n$ sh [options] [file]  -c string    //å½ä»¤ä»-cåçå­ç¬¦ä¸²è¯»åã\n\n\n1\n\n\nå¨æ§è¡èæ¬çæ¶åæ¯ç¨sh + èæ¬åçæ¹å¼æ¥æ§è¡ï¼å¶å®ï¼å¤§é¨åçæ¶åï¼ç®åèæ¬åªè¦æéè®¾ç½®æ­£ç¡®ï¼å¯ä»¥ç´æ¥æ§è¡ï¼ä¸éè¦shå½ä»¤çã\n\n| ,linuxç®¡éç¬¦ï¼å©ç¨ç®¡éç¬¦å°ä¸¤ä¸ªå½ä»¤éå¼ï¼ç®¡éç¬¦å·¦è¾¹å½ä»¤çè¾åºå°±ä¼ä½ä¸ºç®¡éç¬¦å³è¾¹å½ä»¤çè¾å¥ã\n\n----------------------------------------\n\n\n# 2.2 ç®åä½¿ç¨\n\n 1. æ¥çä»ä¹ä¸»é¢å¯ä»¥ä½¿ç¨\n\nls ~/.oh-my-zsh/themes\n\n\n1\n\n 2. oh-my-zshçé»è®¤éç½®æä»¶å¨ï¼~/.zshrcãç¼è¾~/.zshrcä¿®æ¹ä¸»é¢ï¼é»è®¤æåµä¸ï¼ä½¿ç¨çæ¯robbyrussellä¸»é¢ã\n\n> éå¯ç»ç«¯åæææèä½¿ç¨source ~/.zshrcæ´æ°éç½®ã\n\nzsh_theme="amuse"\n\n\n1\n\n\n----------------------------------------\n\n\n# 3.ç»ç«¯æç¤ºæä»¶åé«äº®æä»¶\n\n\n# 3.1 ç»ç«¯æç¤ºæä»¶\n\nfor example: è¡¥å¨æç¤ºæé®ï¼->ã\n\n 1. æå¼ç»ç«¯ï¼å¤å¶ä¸é¢æä»¤ä¸è½½èªå¨æç¤ºæä»¶zsh-autosuggestions\n\ngit clone https://gitee.com/zsh-users/zsh-autosuggestions ${zsh_custom:-~/.oh-my-zsh/custom}/plugins/zsh-autosuggestions\n\n\n1\n\n 2. è¿å¥.zshrcæä»¶çå¯ç¼è¾æ¨¡å¼\n\nvim ~/.zshrc\n\n\n1\n\n 3. æ¾å°plugins å¨åé¢è¿½å  éå·åå²ï¼éå·ååéè¦æé´è·\n\nplugins=(\n  git ,\n  zsh-autosuggestions\n)\n\n\n1\n2\n3\n4\n\n 4. éæ°å è½½~/.zshrc\n\nsource ~/.zshrc\n\n\n1\n\n\n----------------------------------------\n\n\n# 3.2 ç»ç«¯é«äº®æä»¶\n\n 1. å®è£é«äº®è¯­æ³æä»¶\n\ngit clone https://gitee.com/zsh-users/zsh-syntax-highlighting.git ${zsh_custom:-~/.oh-my-zsh/custom}/plugins/zsh-syntax-highlighting\n\n\n1\n\n\nå¶ä½æ­¥éª¤åä¸ã\n\n----------------------------------------\n\n\n# 3.3 èªå®ä¹ç»ç«¯å¿«æ·å½ä»¤\n\nè¯­æ³æ ¼å¼ï¼\n\nalias acommandalias=\'xxxxxx\'\n\n# ä¾å¦æ°å»ºgit pushå¿«æ·å½ä»¤:\nalias gp=\'git push origin xxx\'\n\n\n1\n2\n3\n4\n\n\nç´æ¥å¨~/.zshrc æä»¶ä¸é¢æ·»å aliaså«åã\n\n----------------------------------------\n\n\n# 3.4 è®¾ç½®å½ä»¤è¾å¥è¡æ ·å¼\n\nfor exampleï¼\n\n 1. æ¥çå½åå¼ï¼ç¶åå¤ä»½ã\n\necho $prompt\n\n\n1\n\n 2. ç¡®å®å¥½å½åä½¿ç¨çä¸»é¢ï¼ç¶åä¿®æ¹å¯¹åºä¸»é¢çéç½®æä»¶ã\n\ncd ~/.oh-my-zsh/themes\nvim amuse.zsh-theme\n\n\n1\n2\n\n 3. æ¿æ¢prompt\n\nprompt=\'ð¨ %{$fg_bold[green]%}%n%{$reset_color%} ð  %{$fg_bold[green]%}%~%{$reset_color%}$(git_prompt_info)$(virtualenv_prompt_info) â %{$fg_bold[red]%}%d %*%{$reset_color%}\n$ \'\n\n\n1\n2\n\n\n\n\n----------------------------------------',charsets:{cjk:!0},lastUpdated:"2023/11/04, 13:58:20",lastUpdatedTimestamp:16990775e5},{title:"è®¿è¾¾éèæä»¶æ¾ç¤º",frontmatter:{title:"è®¿è¾¾éèæä»¶æ¾ç¤º",date:"2023-01-01T00:00:00.000Z",tags:["Mac","æ¥å¸¸å¼å"],categories:["Mac"],description:"è®¿è¾¾éèæä»¶æ¾ç¤º",toc_number:!1,author:{name:"huidong.yin",link:"https://huidongyin.github.io"},permalink:"/pages/xxxxxxxxxx/"},regularPath:"/09.%E6%97%A5%E5%B8%B8%E5%BC%80%E5%8F%91/00.Mac%E6%97%A5%E5%B8%B8%E4%BD%BF%E7%94%A8/06.%E8%AE%BF%E8%BE%BE%E9%9A%90%E8%97%8F%E6%96%87%E4%BB%B6%E6%98%BE%E7%A4%BA.html",relativePath:"09.æ¥å¸¸å¼å/00.Macæ¥å¸¸ä½¿ç¨/06.è®¿è¾¾éèæä»¶æ¾ç¤º.md",key:"v-5fa503ff",path:"/pages/xxxxxxxxxx/",headersStr:null,content:"åèä¸å¾ï¼\n\n",normalizedContent:"åèä¸å¾ï¼\n\n",charsets:{cjk:!0},lastUpdated:"2023/11/04, 13:58:20",lastUpdatedTimestamp:16990775e5},{title:"æ ç­¾",frontmatter:{tagsPage:!0,title:"æ ç­¾",permalink:"/tags/",article:!1},regularPath:"/@pages/tagsPage.html",relativePath:"@pages/tagsPage.md",key:"v-240b277f",path:"/tags/",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2022/07/15, 14:28:18",lastUpdatedTimestamp:1657866498e3},{title:"ä¸æ ",frontmatter:{categoriesPage:!0,title:"ä¸æ ",permalink:"/categories/",article:!1},regularPath:"/@pages/categoriesPage.html",relativePath:"@pages/categoriesPage.md",key:"v-46ec5342",path:"/categories/",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2023/11/04, 10:52:44",lastUpdatedTimestamp:1699066364e3},{title:"Home",frontmatter:{home:!0,actionText:"å¼å§ â",actionLink:"/archives/",heroText:"Java essay",tagline:"æå¤§çèµæ¬ä¸æ¯ç»éªä¸°å¯ãè¸ææç«¹ï¼èæ¯æ¢äºåæ¢¦ãåäºè¯éã",features:[{title:"Javaä¸»æµææ¯çæå",details:"Javaåºç¡ãSpringå¨å®¶æ¡¶ï¼SpringBootï¼Mybatisï¼é¢è¯å«è¡æç­"},{title:"åå¸å¼å¾®æå¡æ¶æ",details:"SpringCloudï¼CloudAlibabaï¼Dubboç­ä¸»æµå¾®æå¡æ¡æ¶ï¼è®¾è®¡é«å¹¶åé«å¯ç¨æ¶æã"},{title:"ææ¯äººæé¿è¿é¶è·¯çº¿",details:"ä»¥ææ¯ä¸ºåºç³ï¼æç»´åçº§ï¼æé«ææ¯ä¿®å»ï¼è¿é¶æ¶æï¼é¡¹ç®ç®¡çã",footer:"Copyright Â© Mr.Fire"}]},regularPath:"/",relativePath:"README.md",key:"v-1bb1d17c",path:"/",headersStr:null,content:"â¨â¨â¨\n\nå­¦ä¹ ä¸é¨æ²\n\næ¯å½æä»¬æ¥è§¦ä¸ä¸ªæ°çææ¯æ¶ï¼æä»¬é½åºè¯¥å»æèçä¸ä¸ªé®é¢ï¼æ¯ä»ä¹ï¼æä¹ç¨ï¼ä¸ºä»ä¹è¿æ ·è®¾è®¡ï¼å³whatï¼howï¼whyãä»è¿ä¸æ¹é¢å¥æï¼å½å®ææåä¸æ­¥æ¶ï¼ä½ å·²ç»å¯¹ä»éå¸¸çæäºã\n\næ¥èª Mr.Fire",normalizedContent:"â¨â¨â¨\n\nå­¦ä¹ ä¸é¨æ²\n\næ¯å½æä»¬æ¥è§¦ä¸ä¸ªæ°çææ¯æ¶ï¼æä»¬é½åºè¯¥å»æèçä¸ä¸ªé®é¢ï¼æ¯ä»ä¹ï¼æä¹ç¨ï¼ä¸ºä»ä¹è¿æ ·è®¾è®¡ï¼å³whatï¼howï¼whyãä»è¿ä¸æ¹é¢å¥æï¼å½å®ææåä¸æ­¥æ¶ï¼ä½ å·²ç»å¯¹ä»éå¸¸çæäºã\n\næ¥èª mr.fire",charsets:{cjk:!0},lastUpdated:"2023/03/01, 22:17:09",lastUpdatedTimestamp:1677680229e3},{title:"å½æ¡£",frontmatter:{archivesPage:!0,title:"å½æ¡£",permalink:"/archives/",article:!1},regularPath:"/@pages/archivesPage.html",relativePath:"@pages/archivesPage.md",key:"v-66aca7ff",path:"/archives/",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2022/07/15, 14:28:18",lastUpdatedTimestamp:1657866498e3}],themeConfig:{logo:"/img/code.gif",lastUpdated:"lastUpdateTime",smoothScroll:!0,sidebarDepth:2,nav:[{text:"Javaåºç¡",items:[{text:"JavaSE",link:"/pages/aboutme/"},{text:"å¹¶åç¼ç¨",link:"/pages/aboutme/"},{text:"JavaWeb",link:"/pages/aboutme/"},{text:"çæ¬æ°ç¹æ§",link:"/pages/aboutme/"}]},{text:"Springå¨å®¶æ¡¶",items:[{text:"Spring",link:"/pages/aboutme/"},{text:"SpringMvc",link:"/pages/aboutme/"},{text:"Mybatis",link:"/pages/aboutme/"},{text:"SpringBoot",link:"/pages/aboutme/"},{text:"SpringCloud",link:"/pages/aboutme/"},{text:"Dubbo",link:"/pages/aboutme/"},{text:"Zookeeper",link:"/pages/aboutme/"},{text:"Netty",link:"/pages/aboutme/"},{text:"Tomcat",link:"/pages/aboutme/"}]},{text:"æ¶æ¯éå",items:[{text:"Kafka",link:"/pages/c8412896-0c96-3cef-8d32-94dcb1852140/"},{text:"RocketMQ",link:"/pages/aboutme"},{text:"RabbitMQ",link:"/pages/aboutme"}]},{text:"æ°æ®åº",items:[{text:"MySQL",link:"/pages/aboutme"},{text:"Redis",link:"/pages/aboutme"}]},{text:"å¾®æå¡æ¶æ",items:[{text:"æ¶ææ¼è¿",link:"/pages/aboutme"},{text:"åå¸å¼äºå¡",link:"/pages/aboutme"},{text:"è®¾è®¡æ¨¡å¼",link:"/pages/aboutme"},{text:"é¢åé©±å¨è®¾è®¡",link:"/pages/aboutme"}]},{text:"æç´¢å¼æ",items:[{text:"ElasticSearch",link:"/pages/aboutme"}]},{text:"JVM",link:"/"},{text:"äºè®¡ç®",items:[{text:"Docker",link:"/pages/aboutme"}]},{text:"AboutMe",items:[{text:"ä¸ªäººç®å",link:"/pages/aboutme/"},{text:"é¡¹ç®ç»éª",link:"/pages/a2a9d5e6-b580-3ee0-b2c2-5b1557852fd5/"}]}],searchMaxSuggestions:10,editLinks:!1,editLinkText:"edit",sidebar:{"/00.AboutMe/":[["01.ä¸ªäººç®å.md","About Me","/pages/aboutme/"],{title:"é¡¹ç®ç»éª",collapsable:!0,children:[["02.é¡¹ç®ç»éª/00.å°ç±³æ°é¶å®BIæ°æ®é¢åå»ºè®¾æèä¸æ²æ·.md","å°ç±³æ°é¶å®BIæ°æ®é¢åå»ºè®¾æèä¸æ²æ·","/pages/a2a9d5e6-b580-3ee0-b2c2-5b1557852fd5/"]]}],catalogue:{},"/01.Javaåºç¡/":[{title:"JavaSE",collapsable:!0,children:[["00.JavaSE/01.xxx.md","About Me","/pages/1/"]]},{title:"å¹¶åç¼ç¨",collapsable:!0,children:[["01.å¹¶åç¼ç¨/01.xxx.md","About Me","/pages/2/"]]},{title:"JavaWeb",collapsable:!0,children:[["02.JavaWeb/01.xxx.md","About Me","/pages/3/"]]},{title:"çæ¬æ°ç¹æ§",collapsable:!0,children:[["03.çæ¬æ°ç¹æ§/01.xxx.md","About Me","/pages/4/"]]}],"/02.Springå¨å®¶æ¡¶/":[{title:"Spring",collapsable:!0,children:[["00.Spring/01.xxx.md","About Me","/pages/11/"]]},{title:"SpringMvc",collapsable:!0,children:[["01.SpringMvc/01.xxx.md","About Me","/pages/12/"]]},{title:"Mybatis",collapsable:!0,children:[["02.Mybatis/01.xxx.md","About Me","/pages/13/"]]},{title:"SpringBoot",collapsable:!0,children:[["03.SpringBoot/01.xxx.md","About Me","/pages/14/"]]},{title:"SpringCloud",collapsable:!0,children:[["04.SpringCloud/01.xxx.md","About Me","/pages/15/"]]},{title:"Dubbo",collapsable:!0,children:[["05.Dubbo/01.xxx.md","About Me","/pages/16/"]]},{title:"Zookeeper",collapsable:!0,children:[["06.Zookeeper/01.xxx.md","About Me","/pages/17/"]]},{title:"Netty",collapsable:!0,children:[["07.Netty/01.xxx.md","About Me","/pages/18/"]]},{title:"Tomcat",collapsable:!0,children:[["08.Tomcat/01.xxx.md","About Me","/pages/19/"]]}],"/03.æ¶æ¯éå/":[{title:"Kafka",collapsable:!0,children:[["00.Kafka/1.Kafkaå¥é¨.md","Kafkaå¥é¨","/pages/c8412896-0c96-3cef-8d32-94dcb1852140/"],["00.Kafka/2.çäº§è-å®¢æ·ç«¯å¼å.md","çäº§è-å®¢æ·ç«¯å¼å","/pages/00e44d72-3af4-33ec-95aa-573c4e2603b1/"],["00.Kafka/3.çäº§è-åçåæ.md","çäº§è-åçåæ","/pages/517a0a21-c440-3dd1-9e5e-a00d7a7fc18a/"],["00.Kafka/4.æ¶è´¹è-æ¶è´¹è&æ¶è´¹èç».md","æ¶è´¹è-æ¶è´¹è&æ¶è´¹èç»","/pages/c4ec1b4a-45f6-3fd7-8faf-7af762dfb0ed/"],["00.Kafka/5.æ¶è´¹è-å®¢æ·ç«¯å¼å-æ¶è´¹é»è¾.md","æ¶è´¹è-å®¢æ·ç«¯å¼å-æ¶è´¹é»è¾","/pages/6a99e6af-7333-3944-94f1-6a8a3a84a946/"],["00.Kafka/6.æ¶è´¹è-å®¢æ·ç«¯å¼å-ä½ç¹æäº¤.md","æ¶è´¹è-å®¢æ·ç«¯å¼å-ä½ç¹æäº¤","/pages/0768d08c-72ff-34e7-aada-50c4eecb08b5/"],["00.Kafka/7.æ¶è´¹è-å®¢æ·ç«¯å¼å-æå®ä½ç¹æ¶è´¹.md","æ¶è´¹è-å®¢æ·ç«¯å¼å-æå®æ¶è´¹ä½ç¹","/pages/5ab26239-f80c-3f5e-affc-fc2c33f5178f/"],["00.Kafka/8.æ¶è´¹è-å®¢æ·ç«¯å¼å-Rebalance.md","æ¶è´¹è-å®¢æ·ç«¯å¼å-Rebalance","/pages/2b4b8b25-552c-374f-9419-12d2c51dbeb1/"],["00.Kafka/9.æ¶è´¹è-å®¢æ·ç«¯å¼å-æ¦æªå¨.md","æ¶è´¹è-å®¢æ·ç«¯å¼å-æ¦æªå¨","/pages/40f82a04-0969-342d-8b82-bb27281bb7e0/"],["00.Kafka/10.æ¶è´¹è-å®¢æ·ç«¯å¼å-å¤çº¿ç¨å®ç°.md","æ¶è´¹è-å®¢æ·ç«¯å¼å-å¤çº¿ç¨å®ç°","/pages/278cdef6-836b-3904-aa7f-a51df28ee2da/"],["00.Kafka/11.æ¶è´¹è-å®¢æ·ç«¯å¼å-åæ°è¯´æ.md","æ¶è´¹è-å®¢æ·ç«¯å¼å-åæ°è¯´æ","/pages/7ece0102-a50f-3e0c-be18-9f58eb0723e1/"],["00.Kafka/12.ä¸»é¢-ä¸»é¢ç®¡ç.md","ä¸»é¢-ä¸»é¢ç®¡ç","/pages/dbe6fcd9-6490-3b92-804a-ea7117ef815d/"],["00.Kafka/13.ä¸»é¢-KafkaAdminClient.md","ä¸»é¢-kafkaAdminClient","/pages/b94bdb82-9532-3582-8bb7-19f2bc7e5c4f/"],["00.Kafka/14.ååº-ååºç®¡ç.md","ååº-ååºç®¡ç","/pages/14a08dc7-2466-3341-b742-a0ba9b8b26c3/"],["00.Kafka/15.ååº-å¦ä½éæ©åéçååºæ°.md","ååº-å¦ä½éæ©åéçååºæ°","/pages/bd36a2fb-82ce-3f34-bf5a-91f5703e12a6/"]]},{title:"RocketMQ",collapsable:!0,children:[["01.RocketMQ/01.xxx.md","About Me","/pages/20/"]]},{title:"RabbitMQ",collapsable:!0,children:[["02.RabbitMQ/01.xxx.md","About Me","/pages/21/"]]}],"/04.æ°æ®åº/":[{title:"MySQL",collapsable:!0,children:[["00.MySQL/01.xxx.md","About Me","/pages/22/"]]},{title:"Redis",collapsable:!0,children:[["01.Redis/01.xxx.md","About Me","/pages/23/"]]}],"/05.å¾®æå¡æ¶æ/":[{title:"æ¶ææ¼è¿",collapsable:!0,children:[["00.æ¶ææ¼è¿/01.xxx.md","About Me","/pages/24/"]]},{title:"åå¸å¼äºå¡",collapsable:!0,children:[["01.åå¸å¼äºå¡/01.xxx.md","About Me","/pages/25/"]]},{title:"è®¾è®¡æ¨¡å¼",collapsable:!0,children:[["02.è®¾è®¡æ¨¡å¼/01.xxx.md","About Me","/pages/26/"]]},{title:"é¢åé©±å¨è®¾è®¡",collapsable:!0,children:[["03.é¢åé©±å¨è®¾è®¡/01.xxx.md","About Me","/pages/27/"]]}],"/06.æç´¢å¼æ/":[{title:"ElasticSearch",collapsable:!0,children:[["00.ElasticSearch/01.xxx.md","About Me","/pages/28/"]]}],"/07.JVM/":[["01.xxx.md","About Me","/pages/29/"]],"/08.äºè®¡ç®/":[{title:"Docker",collapsable:!0,children:[["00.Docker/01.xxx.md","About Me","/pages/30/"]]}],"/09.æ¥å¸¸å¼å/":[{title:"Macæ¥å¸¸ä½¿ç¨",collapsable:!0,children:[["00.Macæ¥å¸¸ä½¿ç¨/00.SublimeText3éæè®°.md","SublimeText3","/pages/1c1021ad-9e46-3426-be54-98f2d02a1fa5/"],["00.Macæ¥å¸¸ä½¿ç¨/01.å»é¤æ¡é¢çç¡¬çå¾æ .md","å»é¤æ¡é¢çç¡¬çå¾æ ","/pages/6b6ad1f6-ccb5-397f-8ca8-29b053ff97e2/"],["00.Macæ¥å¸¸ä½¿ç¨/02.å®è£Jprofiler.md","å®è£JProfiler","/pages/b719f0b3-c7e1-303b-ae66-cbd44c17c1c5/"],["00.Macæ¥å¸¸ä½¿ç¨/03.æä»¶å¤¹æ¾ç¤ºéèæä»¶.md","æä»¶å¤¹æ¾ç¤ºéèæä»¶","/pages/77b8e011-088b-3337-bc78-1694d12258e7/"],["00.Macæ¥å¸¸ä½¿ç¨/04.è§£å³é¼ æ æ»è½®ä¸ä¸ç¿»è½¬.md","è§£å³é¼ æ æ»è½®ä¸ä¸ç¿»è½¬","/pages/64b132ef-4cde-3692-9a03-b3f0e7841561/"],["00.Macæ¥å¸¸ä½¿ç¨/05.éç½®ZSH.md","éç½®ZSH","/pages/723e2b0a-de27-32e9-9704-f57ba9e27c73/"],["00.Macæ¥å¸¸ä½¿ç¨/06.è®¿è¾¾éèæä»¶æ¾ç¤º.md","è®¿è¾¾éèæä»¶æ¾ç¤º","/pages/xxxxxxxxxx/"]]}]},author:{name:"huidong.yin",link:"https://huidongyin.github.io"},blogger:{avatar:"/img/code.gif",name:"huidong.yin",slogan:"æä¸æ¯å¤§ä½¬"},categoryText:"éç¬",social:{icons:[{iconClass:"icon-youjian",title:"åé®ä»¶",link:"mailto:huidong.yin247203@gamil.com"},{iconClass:"icon-github",title:"GitHub",link:"https://github.com/huidongyin/"},{iconClass:"icon-gitee",title:"Gitee",link:"https://gitee.com/yin_huidong/"},{iconClass:"icon-erji",title:"å¬é³ä¹",link:"https://music.163.com/#/playlist?id=755597173"}]},footer:{createYear:2023,copyrightInfo:'huidong.yin | <a href="https://huidongyin.github.io" target="_blank">MIT License</a>'},extendFrontmatter:{author:{name:"huidong.yin",link:"https://huidongyin.github.io"}},htmlModules:{}},locales:{"/":{lang:"zh-CN",title:"Huidong Blogs",description:"è±è±ä¸çè¿·äººç¼ï¼æ²¡æå®åå«èµè¸ã",path:"/"}}};var dc=t(97),fc=t(98),mc=t(11);var hc={computed:{$filterPosts(){return this.$site.pages.filter(n=>{const{frontmatter:{pageComponent:e,article:t,home:r}}=n;return!(e||!1===t||!0===r)})},$sortPosts(){return(n=this.$filterPosts).sort((n,e)=>{const t=n.frontmatter.sticky,r=e.frontmatter.sticky;return t&&r?t==r?Object(mc.a)(n,e):t-r:t&&!r?-1:!t&&r?1:Object(mc.a)(n,e)}),n;var n},$sortPostsByDate(){return(n=this.$filterPosts).sort((n,e)=>Object(mc.a)(n,e)),n;var n},$groupPosts(){return function(n){const e={},t={};for(let r=0,o=n.length;r<o;r++){const{frontmatter:{categories:o,tags:i}}=n[r];"array"===Object(mc.n)(o)&&o.forEach(t=>{t&&(e[t]||(e[t]=[]),e[t].push(n[r]))}),"array"===Object(mc.n)(i)&&i.forEach(e=>{e&&(t[e]||(t[e]=[]),t[e].push(n[r]))})}return{categories:e,tags:t}}(this.$sortPosts)},$categoriesAndTags(){return function(n){const e=[],t=[];for(let t in n.categories)e.push({key:t,length:n.categories[t].length});for(let e in n.tags)t.push({key:e,length:n.tags[e].length});return{categories:e,tags:t}}(this.$groupPosts)}}};Jt.component(dc.default),Jt.component(fc.default);function gc(n){return n.toString().padStart(2,"0")}t(246);Jt.component("Badge",()=>Promise.all([t.e(0),t.e(6)]).then(t.bind(null,382))),Jt.component("CodeBlock",()=>Promise.resolve().then(t.bind(null,97))),Jt.component("CodeGroup",()=>Promise.resolve().then(t.bind(null,98)));t(247),t(248);function kc(n){const e=document.documentElement.getBoundingClientRect(),t=n.getBoundingClientRect();return{x:t.left-e.left,y:t.top-e.top}}t(249);var bc=t(96),vc=t.n(bc),yc=t(27);let xc,_c;var Sc;"valine"===(Sc="valine")?t.e(92).then(t.t.bind(null,374,7)).then(n=>_c=n.default):"gitalk"===Sc&&Promise.all([t.e(0),t.e(91)]).then(t.t.bind(null,375,7)).then(()=>t.e(90).then(t.t.bind(null,376,7))).then(n=>xc=n.default);function Ec(n,e){const t={};return Reflect.ownKeys(n).forEach(r=>{if("string"==typeof n[r])try{t[r]=vc.a.render(n[r],e)}catch(e){console.warn(`Comment config option error at key named "${r}"`),console.warn("More info: "+e.message),t[r]=n[r]}else t[r]=n[r]}),t}console.log(`How to use "valine" in ${yc.name}@v${yc.version}:`,yc.homepage);const wc={gitalk:{render(n,e){const t=document.createElement("div");t.id=e;document.querySelector("main.page").appendChild(t);new xc(Ec({el:"#valine-vuepress-comment",appId:"DTvjv5hjkPB9OWpEQtm275gw-gzGzoHsz",appKey:"yzMYgj5LDur92jlDvOSzcOql"},{frontmatter:n})).render(e)},clear(n){const e=document.querySelector("#"+n);return e&&e.remove(),!0}},valine:{render(n,e){const t=document.createElement("div");t.id=e;document.querySelector("main.page").appendChild(t),new _c({...Ec({el:"#valine-vuepress-comment",appId:"DTvjv5hjkPB9OWpEQtm275gw-gzGzoHsz",appKey:"yzMYgj5LDur92jlDvOSzcOql"},{frontmatter:n}),el:"#"+e})},clear(n){const e=document.querySelector("#"+n);return e&&e.remove(),!0}}};let Cc=null;function Tc(n){{let n="#valine-vuepress-comment";return n.startsWith("#")&&(n=n.slice(1)),console.log(n),wc.valine.clear(n)}}function zc(n){return!1!==n.comment&&!1!==n.comments}function Ac(n){clearTimeout(Cc);if(document.querySelector("main.page")){let e="#valine-vuepress-comment";return e.startsWith("#")&&(e=e.slice(1)),wc.valine.render(n,e)}Cc=setTimeout(()=>Ac(n),200)}var Pc={mounted(){Cc=setTimeout(()=>{const n={to:{},from:{},...this.$frontmatter};Tc()&&zc(n)&&Ac(n)},1e3),this.$router.afterEach((n,e)=>{if(n&&e&&n.path===e.path)return;const t={to:n,from:e,...this.$frontmatter};Tc()&&zc(t)&&Ac(t)})}},Oc=Object(cc.a)(Pc,(function(){return(0,this._self._c)("div")}),[],!1,null,null,null).exports,Ic=[({router:n})=>{n.beforeEach((n,e,t)=>{console.log("åæ¢è·¯ç±",n.fullPath,e.fullPath),"undefined"!=typeof _hmt&&n.path&&(_hmt.push(["_trackPageview",n.fullPath]),console.log("ä¸æ¥ç¾åº¦ç»è®¡",n.fullPath)),t()})},({Vue:n,options:e,router:t,siteData:r})=>{r.pages.map(n=>{const{frontmatter:{date:e,author:t}}=n;"string"==typeof e&&"Z"===e.charAt(e.length-1)&&(n.frontmatter.date=function(n){n instanceof Date||(n=new Date(n));return`${n.getUTCFullYear()}-${gc(n.getUTCMonth()+1)}-${gc(n.getUTCDate())} ${gc(n.getUTCHours())}:${gc(n.getUTCMinutes())}:${gc(n.getUTCSeconds())}`}(e)),t?n.author=t:r.themeConfig.author&&(n.author=r.themeConfig.author)}),n.mixin(hc)},{},({Vue:n})=>{n.mixin({computed:{$dataBlock(){return this.$options.__data__block__}}})},{},{},({Vue:n,router:e})=>{e.options.scrollBehavior=(e,t,r)=>{if(r)return window.scrollTo({top:r.y,behavior:"smooth"});if(e.hash){if(n.$vuepress.$get("disableScrollBehavior"))return!1;const t=document.querySelector(e.hash);return!!t&&window.scrollTo({top:kc(t).y,behavior:"smooth"})}return window.scrollTo({top:0,behavior:"smooth"})}},({Vue:n})=>{n.component("Comment",Oc)}],Rc=["Comment"];class Mc extends class{constructor(){this.store=new Jt({data:{state:{}}})}$get(n){return this.store.state[n]}$set(n,e){Jt.set(this.store.state,n,e)}$emit(...n){this.store.$emit(...n)}$on(...n){this.store.$on(...n)}}{}Object.assign(Mc.prototype,{getPageAsyncComponent:as,getLayoutAsyncComponent:ss,getAsyncComponent:cs,getVueComponent:ls});var jc={install(n){const e=new Mc;n.$vuepress=e,n.prototype.$vuepress=e}};function Lc(n,e){const t=e.toLowerCase();return n.options.routes.some(n=>n.path.toLowerCase()===t)}var Bc={props:{pageKey:String,slotKey:{type:String,default:"default"}},render(n){const e=this.pageKey||this.$parent.$page.key;return us("pageKey",e),Jt.component(e)||Jt.component(e,as(e)),Jt.component(e)?n(e):n("")}},Kc={functional:!0,props:{slotKey:String,required:!0},render:(n,{props:e,slots:t})=>n("div",{class:["content__"+e.slotKey]},t()[e.slotKey])},Nc={computed:{openInNewWindowTitle(){return this.$themeLocaleConfig.openNewWindowText||"(opens new window)"}}},Dc=(t(255),t(256),Object(cc.a)(Nc,(function(){var n=this._self._c;return n("span",[n("svg",{staticClass:"icon outbound",attrs:{xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false",x:"0px",y:"0px",viewBox:"0 0 100 100",width:"15",height:"15"}},[n("path",{attrs:{fill:"currentColor",d:"M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"}}),this._v(" "),n("polygon",{attrs:{fill:"currentColor",points:"45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"}})]),this._v(" "),n("span",{staticClass:"sr-only"},[this._v(this._s(this.openInNewWindowTitle))])])}),[],!1,null,null,null).exports),$c={functional:!0,render(n,{parent:e,children:t}){if(e._isMounted)return t;e.$once("hook:mounted",()=>{e.$forceUpdate()})}};Jt.config.productionTip=!1,Jt.use(Ua),Jt.use(jc),Jt.mixin(function(n,e,t=Jt){!function(n){n.locales&&Object.keys(n.locales).forEach(e=>{n.locales[e].path=e});Object.freeze(n)}(e),t.$vuepress.$set("siteData",e);const r=new(n(t.$vuepress.$get("siteData"))),o=Object.getOwnPropertyDescriptors(Object.getPrototypeOf(r)),i={};return Object.keys(o).reduce((n,e)=>(e.startsWith("$")&&(n[e]=o[e].get),n),i),{computed:i}}(n=>class{setPage(n){this.__page=n}get $site(){return n}get $themeConfig(){return this.$site.themeConfig}get $frontmatter(){return this.$page.frontmatter}get $localeConfig(){const{locales:n={}}=this.$site;let e,t;for(const r in n)"/"===r?t=n[r]:0===this.$page.path.indexOf(r)&&(e=n[r]);return e||t||{}}get $siteTitle(){return this.$localeConfig.title||this.$site.title||""}get $canonicalUrl(){const{canonicalUrl:n}=this.$page.frontmatter;return"string"==typeof n&&n}get $title(){const n=this.$page,{metaTitle:e}=this.$page.frontmatter;if("string"==typeof e)return e;const t=this.$siteTitle,r=n.frontmatter.home?null:n.frontmatter.title||n.title;return t?r?r+" | "+t:t:r||"VuePress"}get $description(){const n=function(n){if(n){const e=n.filter(n=>"description"===n.name)[0];if(e)return e.content}}(this.$page.frontmatter.meta);return n||(this.$page.frontmatter.description||this.$localeConfig.description||this.$site.description||"")}get $lang(){return this.$page.frontmatter.lang||this.$localeConfig.lang||"en-US"}get $localePath(){return this.$localeConfig.path||"/"}get $themeLocaleConfig(){return(this.$site.themeConfig.locales||{})[this.$localePath]||{}}get $page(){return this.__page?this.__page:function(n,e){for(let t=0;t<n.length;t++){const r=n[t];if(r.path.toLowerCase()===e.toLowerCase())return r}return{path:"",frontmatter:{}}}(this.$site.pages,this.$route.path)}},uc)),Jt.component("Content",Bc),Jt.component("ContentSlotsDistributor",Kc),Jt.component("OutboundLink",Dc),Jt.component("ClientOnly",$c),Jt.component("Layout",ss("Layout")),Jt.component("NotFound",ss("NotFound")),Jt.prototype.$withBase=function(n){const e=this.$site.base;return"/"===n.charAt(0)?e+n.slice(1):n},window.__VUEPRESS__={version:"1.9.10",hash:"f235d7a"},async function(n){const e="undefined"!=typeof window&&window.__VUEPRESS_ROUTER_BASE__?window.__VUEPRESS_ROUTER_BASE__:uc.routerBase||uc.base,t=new Ua({base:e,mode:"history",fallback:!1,routes:pc,scrollBehavior:(n,e,t)=>t||(n.hash?!Jt.$vuepress.$get("disableScrollBehavior")&&{selector:decodeURIComponent(n.hash)}:{x:0,y:0})});!function(n){n.beforeEach((e,t,r)=>{if(Lc(n,e.path))r();else if(/(\/|\.html)$/.test(e.path))if(/\/$/.test(e.path)){const t=e.path.replace(/\/$/,"")+".html";Lc(n,t)?r(t):r()}else r();else{const t=e.path+"/",o=e.path+".html";Lc(n,o)?r(o):Lc(n,t)?r(t):r()}})}(t);const r={};try{await Promise.all(Ic.filter(n=>"function"==typeof n).map(e=>e({Vue:Jt,options:r,router:t,siteData:uc,isServer:n})))}catch(n){console.error(n)}return{app:new Jt(Object.assign(r,{router:t,render:n=>n("div",{attrs:{id:"app"}},[n("RouterView",{ref:"layout"}),n("div",{class:"global-ui"},Rc.map(e=>n(e)))])})),router:t}}(!1).then(({app:n,router:e})=>{e.onReady(()=>{n.$mount("#app")})})}]);