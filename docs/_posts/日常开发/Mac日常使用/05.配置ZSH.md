---
title: é…ç½®ZSH
date: 2023-01-01 00:00:00
tags: 
  - Mac
  - æ—¥å¸¸å¼€å‘
categories: 
  - Mac
description: é…ç½®ZSH
toc_number: false
author: 
  name: huidong.yin
  link: https://huidongyin.github.io
permalink: /pages/723e2b0a-de27-32e9-9704-f57ba9e27c73/
sidebar: auto
---

## 1.zshå®‰è£…

MacOSä¸€èˆ¬è‡ªå¸¦äº†ZSHï¼Œä½†æ˜¯ä¸æ˜¯æœ€æ–°ç‰ˆæœ¬ï¼Œå¦‚æœéœ€è¦æœ€æ–°ç‰ˆæœ¬å¯ä»¥é€šè¿‡Homebrewæ¥å®‰è£…ã€‚

```bash
brew install zsh zsh-completions
```

> rpmåŒ…å’ŒdebåŒ…æ˜¯ä¸¤ç§Linuxç³»ç»Ÿä¸‹æœ€å¸¸è§çš„å®‰è£…åŒ…æ ¼å¼ã€‚rpmåŒ…ä¸»è¦åº”ç”¨åœ¨RedHatç³»åˆ—åŒ…æ‹¬
> Fedoraç­‰å‘è¡Œç‰ˆçš„Linuxç³»ç»Ÿä¸Šï¼ŒdebåŒ…ä¸»è¦åº”ç”¨äºDebianç³»åˆ—åŒ…æ‹¬ç°åœ¨æ¯”è¾ƒæµè¡Œçš„Ubuntuç­‰å‘è¡Œç‰ˆä¸Šã€‚


>
yumå‘½ä»¤æ˜¯åœ¨Fedoraå’ŒRedHatä»¥åŠSUSEä¸­åŸºäºrpmçš„è½¯ä»¶åŒ…ç®¡ç†å™¨ï¼Œå®ƒå¯ä»¥ä½¿ç³»ç»Ÿç®¡ç†äººå‘˜äº¤äº’å’Œè‡ªåŠ¨åŒ–åœ°æ›´ç»†ä¸ç®¡ç†RPMè½¯ä»¶åŒ…ï¼Œèƒ½å¤Ÿä»æŒ‡å®šçš„æœåŠ¡å™¨è‡ªåŠ¨ä¸‹è½½RPMåŒ…å¹¶ä¸”å®‰è£…ï¼Œå¯ä»¥è‡ªåŠ¨å¤„ç†ä¾èµ–æ€§å…³ç³»ï¼Œå¹¶ä¸”ä¸€æ¬¡å®‰è£…æ‰€æœ‰ä¾èµ–çš„è½¯ä½“åŒ…ï¼Œæ— é¡»ç¹çåœ°ä¸€æ¬¡æ¬¡ä¸‹è½½ã€å®‰è£…ã€‚


> apt-getå‘½ä»¤æ˜¯Debian
> Linuxå‘è¡Œç‰ˆä¸­çš„APTè½¯ä»¶åŒ…ç®¡ç†å·¥å…·ã€‚æ‰€æœ‰åŸºäºDebiançš„å‘è¡Œéƒ½ä½¿ç”¨è¿™ä¸ªåŒ…ç®¡ç†ç³»ç»Ÿã€‚debåŒ…å¯ä»¥æŠŠä¸€ä¸ªåº”ç”¨çš„æ–‡ä»¶åŒ…åœ¨ä¸€èµ·ï¼Œå¤§ä½“å°±å¦‚åŒWindowsä¸Šçš„å®‰è£…æ–‡ä»¶ã€‚([æ›´å¤šå…³äºaptå’Œapt-get](https://link.segmentfault.com/?enc=%2BRYMzFBSI7fosEYA7JiLuw%3D%3D.d12JNjNjdqg62KqHXqV2%2B0QmBNisC8QfNDWXdNkpxi1pAW%2Bq2jXaLTUVWpiAW6Xt) )


ä¸€äº›ä¹±ä¸ƒå…«ç³Ÿçš„è®¾ç½®ï¼š
![image.png](https://raw.githubusercontent.com/huidongyin/DrawingBed/main/kafka/202311042002246.png)
Follow the screenshot below
![image.png](https://raw.githubusercontent.com/huidongyin/DrawingBed/main/kafka/202311042002009.png)
![image.png](https://raw.githubusercontent.com/huidongyin/DrawingBed/main/kafka/202311042003459.png)
![image.png](https://raw.githubusercontent.com/huidongyin/DrawingBed/main/kafka/202311042003500.png)
![image.png](https://raw.githubusercontent.com/huidongyin/DrawingBed/main/kafka/202311042003680.png)
![image.png](https://raw.githubusercontent.com/huidongyin/DrawingBed/main/kafka/202311042003369.png)
![image.png](https://raw.githubusercontent.com/huidongyin/DrawingBed/main/kafka/202311042004095.png)

---

## 2.oh-my-zsh

### 2.1 å®‰è£…

å®‰è£… oh my zsh ä¹‹å‰å¿…é¡»å®‰è£…zshï¼Œå¦åˆ™ä¼šæ”¶åˆ°å¦‚ä¸‹æç¤ºï¼šZsh is not installed! Please install zsh first!

```bash
#æ–¹æ³•ä¸€ï¼šwgetæ–¹å¼è‡ªåŠ¨åŒ–å®‰è£…oh my zshï¼š
$ wget https://github.com/robbyrussell/oh-my-zsh/raw/master/tools/install.sh -O - | sh

#æ–¹æ³•äºŒï¼š
$ curl -L https://raw.github.com/robbyrussell/oh-my-zsh/master/tools/install.sh | sh 

#å®˜ç½‘ä¸Šçš„å¦å¤–ä¸€ç§å†™æ³• 
$ sh -c "$(wget https://raw.github.com/robbyrussell/oh-my-zsh/master/tools/install.sh -O -)"
$ sh -c "$(curl -fsSL https://raw.github.com/robbyrussell/oh-my-zsh/master/tools/install.sh)"

#æ–¹æ³•ä¸‰ï¼šå½“ç„¶ä¹Ÿå¯ä»¥é€šè¿‡gitä¸‹è½½ 
$ git clone git://github.com/robbyrussell/oh-my-zsh.git ~/.oh-my-zsh                       
```

wgetï¼ŒLinuxå‘½ä»¤ï¼Œç”¨æ¥ä»æŒ‡å®šçš„URLä¸‹è½½æ–‡ä»¶ã€‚macä½¿ç”¨è¿™ä¸ªå‘½ä»¤ï¼Œéœ€è¦å®‰è£…ï¼š`brew install wget`ã€‚

- $ wget(é€‰é¡¹)(å‚æ•°)
- $ wget url ä¸‹è½½ä¸€ä¸ªæ–‡ä»¶åˆ°å½“å‰ç›®å½•
- $ wget url -O - åœ¨ç»ˆç«¯å±•ç¤ºæ–‡ä»¶å†…å®¹

> -O -åœ¨ç»ˆç«¯å±•ç¤ºæ–‡ä»¶å†…å®¹
> Saving to: â€œSTDOUTâ€ã€‚stdout,æ ‡å‡†è¾“å‡ºï¼Œé»˜è®¤å°†ä¿¡æ¯è¾“å‡ºåˆ°ç»ˆç«¯ï¼Œåœ¨é»˜è®¤æƒ…å†µä¸‹ï¼Œstdoutæ˜¯è¡Œç¼“å†²çš„ï¼Œä»–çš„è¾“å‡ºä¼šæ”¾åœ¨ä¸€ä¸ªbufferé‡Œé¢ï¼Œåªæœ‰åˆ°æ¢è¡Œçš„æ—¶å€™ï¼Œæ‰ä¼šè¾“å‡ºåˆ°å±å¹•ã€‚


> curlï¼Œlinuxå‘½ä»¤ï¼Œæ˜¯ä¸€ç§å‘½ä»¤è¡Œå·¥å…·ï¼Œä½œç”¨æ˜¯å‘å‡ºç½‘ç»œè¯·æ±‚ï¼Œç„¶åå¾—åˆ°å’Œæå–æ•°æ®ï¼Œæ˜¾ç¤ºåœ¨"æ ‡å‡†è¾“å‡º"
> ï¼ˆstdoutï¼‰ä¸Šé¢ã€‚å®ƒè¢«å¹¿æ³›åº”ç”¨åœ¨Unixã€å¤šç§Linuxå‘è¡Œç‰ˆä¸­ï¼Œå¹¶ä¸”æœ‰DOSå’ŒWin32ã€Win64ä¸‹çš„ç§»æ¤ç‰ˆæœ¬,å·²ç»æ˜¯è‹¹æœæœºä¸Šå†…ç½®çš„å‘½ä»¤è¡Œå·¥å…·ä¹‹ä¸€äº†ã€‚windowä¸Šçš„å®‰è£…å’Œä½¿ç”¨[å‚è€ƒ](https://link.segmentfault.com/?enc=1PtQhKMYl%2Fg177DhVeRedw%3D%3D.Ij%2F750UJsemJb1jW4rITUmN4XjCmEai4U9SJLtqcHtvQOlCGATuHvtvuaquatW8r0yeAoZiglrY2UQSHwD5f4w%3D%3D)
> æˆ–[è¿™é‡Œ](https://link.segmentfault.com/?enc=O7A8yEnj09mTTwFmM3ajEQ%3D%3D.FxdukPZyjH6SB5NrDiJwbMzecoJl28%2FV0eEVPfaMobbN1tAH73cpvt8gsGnKeh5eaFYuWMmu0J6FbYKh56MrKBJq7eiG65mBvqMuQ6gPEprh%2FbXoSkgIrni0XNAfdYaE)ã€‚


> shå‘½ä»¤æ˜¯shellå‘½ä»¤è¯­è¨€è§£é‡Šå™¨ï¼Œæ‰§è¡Œå‘½ä»¤ä»æ ‡å‡†è¾“å…¥è¯»å–æˆ–ä»ä¸€ä¸ªæ–‡ä»¶ä¸­è¯»å–ã€‚é€šè¿‡ç”¨æˆ·è¾“å…¥å‘½ä»¤ï¼Œå’Œå†…æ ¸è¿›è¡Œæ²Ÿé€šï¼

```bash
$ sh [options] [file]  -c string    //å‘½ä»¤ä»-cåçš„å­—ç¬¦ä¸²è¯»å–ã€‚
```

åœ¨æ‰§è¡Œè„šæœ¬çš„æ—¶å€™æ˜¯ç”¨sh + è„šæœ¬åçš„æ–¹å¼æ¥æ‰§è¡Œï¼Œå…¶å®ï¼Œå¤§éƒ¨åˆ†çš„æ—¶å€™ï¼Œç®€å•è„šæœ¬åªè¦æƒé™è®¾ç½®æ­£ç¡®ï¼Œå¯ä»¥ç›´æ¥æ‰§è¡Œï¼Œä¸éœ€è¦shå‘½ä»¤çš„ã€‚

| ,Linuxç®¡é“ç¬¦ï¼Œåˆ©ç”¨ç®¡é“ç¬¦å°†ä¸¤ä¸ªå‘½ä»¤éš”å¼€ï¼Œç®¡é“ç¬¦å·¦è¾¹å‘½ä»¤çš„è¾“å‡ºå°±ä¼šä½œä¸ºç®¡é“ç¬¦å³è¾¹å‘½ä»¤çš„è¾“å…¥ã€‚

---

### 2.2 ç®€å•ä½¿ç”¨

1. æŸ¥çœ‹ä»€ä¹ˆä¸»é¢˜å¯ä»¥ä½¿ç”¨

```bash
ls ~/.oh-my-zsh/themes
```

2. Oh-My-Zshçš„é»˜è®¤é…ç½®æ–‡ä»¶åœ¨ï¼š~/.zshrcã€‚ç¼–è¾‘~/.zshrcä¿®æ”¹ä¸»é¢˜ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œä½¿ç”¨çš„æ˜¯robbyrussellä¸»é¢˜ã€‚

> é‡å¯ç»ˆç«¯åæœ‰æ•ˆæˆ–è€…ä½¿ç”¨`source ~/.zshrc`æ›´æ–°é…ç½®ã€‚

```bash
ZSH_THEME="amuse"
```

---

## 3.ç»ˆç«¯æç¤ºæ’ä»¶å’Œé«˜äº®æ’ä»¶

### 3.1 ç»ˆç«¯æç¤ºæ’ä»¶

For Example:
![image.png](https://raw.githubusercontent.com/huidongyin/DrawingBed/main/kafka/202311042004150.png)
è¡¥å…¨æç¤ºæŒ‰é”®ï¼š->ã€‚

1. æ‰“å¼€ç»ˆç«¯ï¼Œå¤åˆ¶ä¸‹é¢æŒ‡ä»¤ä¸‹è½½è‡ªåŠ¨æç¤ºæ’ä»¶zsh-autosuggestions

```bash
git clone https://gitee.com/zsh-users/zsh-autosuggestions ${ZSH_CUSTOM:-~/.oh-my-zsh/custom}/plugins/zsh-autosuggestions
```

2. è¿›å…¥.zshrcæ–‡ä»¶çš„å¯ç¼–è¾‘æ¨¡å¼

```bash
vim ~/.zshrc
```

3. æ‰¾åˆ°plugins åœ¨åé¢è¿½åŠ  é€—å·åˆ†å‰²ï¼Œé€—å·å‰åéœ€è¦æœ‰é—´è·

```bash
plugins=(
  git ,
  zsh-autosuggestions
)
```

4. é‡æ–°åŠ è½½~/.zshrc

```bash
source ~/.zshrc
```

---

### 3.2 ç»ˆç«¯é«˜äº®æ’ä»¶

1. å®‰è£…é«˜äº®è¯­æ³•æ’ä»¶

```bash
git clone https://gitee.com/zsh-users/zsh-syntax-highlighting.git ${ZSH_CUSTOM:-~/.oh-my-zsh/custom}/plugins/zsh-syntax-highlighting
```

å…¶ä½™æ­¥éª¤åŒä¸Šã€‚

---

### 3.3 è‡ªå®šä¹‰ç»ˆç«¯å¿«æ·å‘½ä»¤

è¯­æ³•æ ¼å¼ï¼š

```bash
alias aCommandAlias='xxxxxx'

# ä¾‹å¦‚æ–°å»ºgit pushå¿«æ·å‘½ä»¤:
alias gp='git push origin xxx'
```

ç›´æ¥åœ¨~/.zshrc æ–‡ä»¶ä¸‹é¢æ·»åŠ aliasåˆ«åã€‚
![image.png](https://raw.githubusercontent.com/huidongyin/DrawingBed/main/kafka/202311042004848.png)

---

### 3.4 è®¾ç½®å‘½ä»¤è¾“å…¥è¡Œæ ·å¼

For Exampleï¼š
![image.png](https://raw.githubusercontent.com/huidongyin/DrawingBed/main/kafka/202311042005010.png)

1. æŸ¥çœ‹å½“å‰å€¼ï¼Œç„¶åå¤‡ä»½ã€‚

```bash
echo $PROMPT
```

2. ç¡®å®šå¥½å½“å‰ä½¿ç”¨çš„ä¸»é¢˜ï¼Œç„¶åä¿®æ”¹å¯¹åº”ä¸»é¢˜çš„é…ç½®æ–‡ä»¶ã€‚

```bash
cd ~/.oh-my-zsh/themes
vim amuse.zsh-theme
```

3. æ›¿æ¢PROMPT

```bash
PROMPT='ğŸ‘¨ %{$fg_bold[green]%}%n%{$reset_color%} ğŸ“Œ  %{$fg_bold[green]%}%~%{$reset_color%}$(git_prompt_info)$(virtualenv_prompt_info) âŒš %{$fg_bold[red]%}%D %*%{$reset_color%}
$ '
```

![image.png](https://raw.githubusercontent.com/huidongyin/DrawingBed/main/kafka/202311042005130.png)

---


