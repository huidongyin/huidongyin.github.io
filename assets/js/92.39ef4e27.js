(window.webpackJsonp=window.webpackJsonp||[]).push([[92],{434:function(s,t,a){"use strict";a.r(t);var e=a(4),n=Object(e.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h2",{attrs:{id:"_1-常用注解"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-常用注解"}},[s._v("#")]),s._v(" 1.常用注解")]),s._v(" "),t("blockquote",[t("p",[s._v("@Insert:实现新增\n@Update:实现更新\n@Delete:实现删除\n@Select:实现查询\n@Result:实现结果集封装\n@Results:可以与@Result 一起使用，封装多个结果集\n@ResultMap:实现引用@Results 定义的封装\n@One:实现一对一结果集封装\n@Many:实现一对多结果集封装\n@SelectProvider: 实现动态 SQL 映射\n@CacheNamespace:实现注解二级缓存的使用")])]),s._v(" "),t("hr"),s._v(" "),t("h2",{attrs:{id:"_2-使用mybatis注解实现crud"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-使用mybatis注解实现crud"}},[s._v("#")]),s._v(" 2.使用Mybatis注解实现CRUD")]),s._v(" "),t("h3",{attrs:{id:"_2-1-复杂映射"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-复杂映射"}},[s._v("#")]),s._v(" 2.1 复杂映射")]),s._v(" "),t("p",[s._v("实现复杂关系映射之前我们可以在映射文件中通过配置"),t("resultMap",[s._v("来实现，在使用注解开发时我们需要借助@Results 注解，@Result 注解，@One 注解，@Many 注解。")])],1),s._v(" "),t("blockquote",[t("p",[s._v("@Results 注解\n代替的是标签"),t("resultMap",[s._v("\n该注解中可以使用单个@Result 注解，也可以使用@Result 集合\n@Results（{@Result（），@Result（）}）或@Results（@Result（））\n@Resutl 注解\n代替了 "),t("id",[s._v("标签和"),t("result",[s._v("标签\n@Result 中 属性介绍：\nid 是否是主键字段\ncolumn 数据库的列名\nproperty 需要装配的属性名\none 需要使用的@One 注解（@Result（one=@One）（）））\nmany 需要使用的@Many 注解（@Result（many=@many）（）））\n@One 注解（一对一）\n代替了"),t("assocation",[s._v('标签，是多表查询的关键，在注解中用来指定子查询返回单一对象。\n@One 注解属性介绍：\nselect 指定用来多表查询的 sqlmapper\nfetchType 会覆盖全局的配置参数 lazyLoadingEnabled。。\n使用格式：\n@Result(column=" ",property="",one=@One(select=""))\n@Many 注解（多对一）\n代替了'),t("Collection",[s._v('标签,是是多表查询的关键，在注解中用来指定子查询返回对象集合。\n注意：聚集元素用来处理“一对多”的关系。需要指定映射的 Java 实体类的属性，属性的 javaType\n（一般为 ArrayList）但是注解中可以不定义；\n使用格式：\n@Result(property="",column="",many=@Many(select=""))')])],1)],1)],1)],1)],1)]),s._v(" "),t("hr"),s._v(" "),t("h3",{attrs:{id:"_2-2-二级缓存"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-二级缓存"}},[s._v("#")]),s._v(" 2.2 二级缓存")]),s._v(" "),t("ol",[t("li",[s._v("主配置文件")])]),s._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v(" 配置二级缓存 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" \n"),t("span",{pre:!0,attrs:{class:"token generics"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("settings"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v(" 开启二级缓存的支持 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" \n    "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("setting name"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"cacheEnabled"')]),s._v(" value"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"true"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("settings"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("ol",{attrs:{start:"2"}},[t("li",[s._v("映射文件")])]),s._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@CacheNamespace")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("blocking"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//mybatis 基于注解方式实现配置二级缓存")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("interface")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("UserMapper")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    \n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("hr")])}),[],!1,null,null,null);t.default=n.exports}}]);